/*! For license information please see metaculus.js.LICENSE.txt */
!function(){var e={5659:function(e,t,n){"use strict";n.d(t,{Gd:function(){return f},cu:function(){return p}});var i=n(2844),r=n(1170),o=n(2343),a=n(1235),s=n(2176),l=n(350),u=n(9015);const c=100;class d{__init(){this._stack=[{}]}constructor(e,t=new l.s,n=4){this._version=n,d.prototype.__init.call(this),this.getStackTop().scope=t,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=l.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:(0,i.DM)(),r=new Error("Sentry syntheticException");return this._withClient(((i,o)=>{i.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},o)})),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:(0,i.DM)(),o=new Error(e);return this._withClient(((i,a)=>{i.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},a)})),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,i.DM)();return e.type||(this._lastEventId=n),this._withClient(((i,r)=>{i.captureEvent(e,{...t,event_id:n},r)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:i}=this.getStackTop();if(!n||!i)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:s=c}=i.getOptions&&i.getOptions()||{};if(s<=0)return;const l={timestamp:(0,r.yW)(),...e},u=a?(0,o.Cf)((()=>a(l,t))):l;null!==u&&n.addBreadcrumb(u,s)}setUser(e){const t=this.getScope();t&&t.setUser(e)}setTags(e){const t=this.getScope();t&&t.setTags(e)}setExtras(e){const t=this.getScope();t&&t.setExtras(e)}setTag(e,t){const n=this.getScope();n&&n.setTag(e,t)}setExtra(e,t){const n=this.getScope();n&&n.setExtra(e,t)}setContext(e,t){const n=this.getScope();n&&n.setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();t&&n&&e(t)}run(e){const t=h(this);try{e(this)}finally{h(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&(0,u.RJ)(n),this._sendSessionUpdate(),t&&t.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:i,environment:r}=n&&n.getOptions()||{},{userAgent:o}=a.n2.navigator||{},s=(0,u.Hv)({release:i,environment:r,...t&&{user:t.getUser()},...o&&{userAgent:o},...e});if(t){const e=t.getSession&&t.getSession();e&&"ok"===e.status&&(0,u.CT)(e,{status:"exited"}),this.endSession(),t.setSession(s)}return s}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop();if(!e)return;const n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=p().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function p(){return a.n2.__SENTRY__=a.n2.__SENTRY__||{extensions:{},hub:void 0},a.n2}function h(e){const t=p(),n=g(t);return v(t,e),n}function f(){const e=p();return m(e)&&!g(e).isOlderThan(4)||v(e,new d),(0,s.KV)()?function(e){try{const t=p().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return g(e);if(!m(n)||g(n).isOlderThan(4)){const t=g(e).getStackTop();v(n,new d(t.client,l.s.clone(t.scope)))}return g(n)}catch(t){return g(e)}}(e):g(e)}function m(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function g(e){return(0,a.YO)("hub",(()=>new d),e)}function v(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},350:function(e,t,n){"use strict";n.d(t,{c:function(){return p},s:function(){return c}});var i=n(7597),r=n(1170),o=n(6893),a=n(2343),s=n(2844),l=n(1235),u=n(9015);class c{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const t=new c;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&(0,u.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof c?t:this}return e instanceof c?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):(0,i.PO)(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const i={timestamp:(0,r.yW)(),...e};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...d(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,n,r=0){return new o.cW(((o,s)=>{const l=e[r];if(null===t||"function"!=typeof l)o(t);else{const u=l({...t},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.id&&null===u&&a.kg.log(`Event processor "${l.id}" dropped event`),(0,i.J8)(u)?u.then((t=>this._notifyEventProcessors(e,t,n,r+1).then(o))).then(null,s):this._notifyEventProcessors(e,u,n,r+1).then(o).then(null,s)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?(0,s.lE)(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function d(){return(0,l.YO)("globalEventProcessors",(()=>[]))}function p(e){d().push(e)}},9015:function(e,t,n){"use strict";n.d(t,{CT:function(){return s},Hv:function(){return a},RJ:function(){return l}});var i=n(1170),r=n(2844),o=n(535);function a(e){const t=(0,i.ph)(),n={sid:(0,r.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,o.Jr)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&s(n,e),n}function s(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,i.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,r.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function l(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),s(e,n)}},790:function(e,t,n){"use strict";n.d(t,{ro:function(){return g},lb:function(){return m}});var i=n(5659),r=n(2343),o=n(7597),a=n(2176),s=n(9732),l=n(3233);function u(){const e=(0,l.x1)();if(e){const t="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}var c=n(6458),d=n(3391);function p(){const e=this.getScope();if(e){const t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function h(e,t,n){if(!(0,l.zu)(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let i;return"function"==typeof t.tracesSampler?(i=t.tracesSampler(n),e.setMetadata({sampleRate:Number(i)})):void 0!==n.parentSampled?i=n.parentSampled:(i=t.tracesSampleRate,e.setMetadata({sampleRate:Number(i)})),a=i,((0,o.i2)(a)||"number"!=typeof a&&"boolean"!=typeof a?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`),0):!(a<0||a>1)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${a}.`),0))?i?(e.sampled=Math.random()<i,e.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),e)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e);var a}function f(e,t){const n=this.getClient(),i=n&&n.getOptions()||{},o=i.instrumenter||"sentry",a=e.instrumenter||"sentry";o!==a&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error(`A transaction was started with instrumenter=\`${a}\`, but the SDK is configured with the \`${o}\` instrumenter.\nThe transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let s=new d.Y(e,this);return s=h(s,i,{parentSampled:e.parentSampled,transactionContext:e,...t}),s.sampled&&s.initSpanRecorder(i._experiments&&i._experiments.maxSpans),s}function m(e,t,n,i,r,o,a){const s=e.getClient(),l=s&&s.getOptions()||{};let u=new c.io(t,e,n,i,a,r);return u=h(u,l,{parentSampled:t.parentSampled,transactionContext:t,...o}),u.sampled&&u.initSpanRecorder(l._experiments&&l._experiments.maxSpans),u}function g(){!function(){const e=(0,i.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=f),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=p))}(),(0,a.KV)()&&function(){const t=(0,i.cu)();if(!t.__SENTRY__)return;const n={mongodb:()=>new((0,a.l$)(e,"./integrations/node/mongo").Mongo),mongoose:()=>new((0,a.l$)(e,"./integrations/node/mongo").Mongo)({mongoose:!0}),mysql:()=>new((0,a.l$)(e,"./integrations/node/mysql").Mysql),pg:()=>new((0,a.l$)(e,"./integrations/node/postgres").Postgres)},r=Object.keys(n).filter((e=>!!(0,a.$y)(e))).map((e=>{try{return n[e]()}catch(e){return}})).filter((e=>e));r.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...r])}(),(0,s.o)("error",u),(0,s.o)("unhandledrejection",u)}e=n.hmd(e)},6458:function(e,t,n){"use strict";n.d(t,{hd:function(){return u},io:function(){return d},mg:function(){return l},nT:function(){return s}});var i=n(1170),r=n(2343),o=n(5334),a=n(3391);const s=1e3,l=3e4,u=5e3;class c extends o.gB{constructor(e,t,n,i){super(i),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){e.spanId!==this.transactionSpanId&&(e.finish=t=>{e.endTimestamp="number"==typeof t?t:(0,i._I)(),this._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),super.add(e)}}class d extends a.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(e,t,n=s,i=l,o=u,a=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=i,this._heartbeatInterval=o,this._onScope=a,d.prototype.__init.call(this),d.prototype.__init2.call(this),d.prototype.__init3.call(this),d.prototype.__init4.call(this),a&&(p(t),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),t.configureScope((e=>e.setSpan(this)))),this._startIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())}),this._finalTimeout)}finish(e=(0,i._I)()){if(this._finished=!0,this.activities={},this.spanRecorder){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(const t of this._beforeFinishCallbacks)t(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter((t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));const n=t.startTimestamp<e;return n||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&p(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new c(t,n,this.spanId,e),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(e){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||this.finish(e)}),this._idleTimeout)}_pushActivity(e){this._cancelIdleTimeout(),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] popActivity ${e}`),delete this.activities[e],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=(0,i._I)()+this._idleTimeout/1e3;this._startIdleTimeout(e)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function p(e){const t=e.getScope();t&&t.getTransaction()&&t.setSpan(void 0)}},5334:function(e,t,n){"use strict";n.d(t,{Dr:function(){return l},gB:function(){return s}});var i=n(2844),r=n(1170),o=n(2343),a=n(535);class s{__init(){this.spans=[]}constructor(e=1e3){s.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class l{__init2(){this.traceId=(0,i.DM)()}__init3(){this.spanId=(0,i.DM)().substring(16)}__init4(){this.startTimestamp=(0,r._I)()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(e){if(l.prototype.__init2.call(this),l.prototype.__init3.call(this),l.prototype.__init4.call(this),l.prototype.__init5.call(this),l.prototype.__init6.call(this),l.prototype.__init7.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp),e.instrumenter&&(this.instrumenter=e.instrumenter)}startChild(e){const t=new l({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.transaction){const n=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${t.transaction.name||"< unknown name >"}' (${t.transaction.spanId}).`;t.transaction.metadata.spanMetadata[t.spanId]={logMessage:n},o.kg.log(n)}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));const t=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(e);return"unknown_error"!==t&&this.setStatus(t),this}isSuccess(){return"ok"===this.status}finish(e){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:e}=this.transaction.metadata.spanMetadata[this.spanId];e&&o.kg.log(e.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof e?e:(0,r._I)()}toTraceparent(){let e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return(0,a.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}},3391:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var i=n(5659),r=n(1170),o=n(2343),a=n(535),s=n(5334);class l extends s.Dr{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(e,t){super(e),l.prototype.__init.call(this),l.prototype.__init2.call(this),l.prototype.__init3.call(this),this._hub=t||(0,i.Gd)(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{},changes:[],propagations:0},this._trimEnd=e.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}setName(e,t="custom"){e===this.name&&t===this.metadata.source||this.metadata.changes.push({source:this.metadata.source,timestamp:(0,r.ph)(),propagations:this.metadata.propagations}),this._name=e,this.metadata.source=t}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new s.gB(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(void 0!==this.endTimestamp)return;if(this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e),!0!==this.sampled){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");const e=this._hub.getClient();return void(e&&e.recordDroppedEvent("sample_rate","transaction"))}const t=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&e.endTimestamp)):[];this._trimEnd&&t.length>0&&(this.endTimestamp=t.reduce(((e,t)=>e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e)).endTimestamp);const n=this.metadata,i={contexts:{...this._contexts,trace:this.getTraceContext()},spans:t,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...n,dynamicSamplingContext:this.getDynamicSamplingContext()},...n.source&&{transaction_info:{source:n.source,changes:n.changes,propagations:n.propagations}}};return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(i)}toContext(){const e=super.toContext();return(0,a.Jr)({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||(0,i.Gd)(),t=e&&e.getClient();if(!t)return{};const{environment:n,release:r}=t.getOptions()||{},{publicKey:o}=t.getDsn()||{},s=this.metadata.sampleRate,l=void 0!==s?s.toString():void 0,u=e.getScope(),{segment:c}=u&&u.getUser()||{},d=this.metadata.source,p=d&&"url"!==d?this.name:void 0;return(0,a.Jr)({environment:n,release:r,transaction:p,user_segment:c,public_key:o,trace_id:this.traceId,sample_rate:l})}}},3233:function(e,t,n){"use strict";n.d(t,{XL:function(){return a},x1:function(){return o},zu:function(){return r}});var i=n(5659);function r(e){const t=(0,i.Gd)().getClient(),n=e||t&&t.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function o(e){const t=(e||(0,i.Gd)()).getScope();return t&&t.getTransaction()}function a(e){return e/1e3}},8464:function(e,t,n){"use strict";n.d(t,{Rt:function(){return o},l4:function(){return s},qT:function(){return l}});var i=n(7597);const r=(0,n(1235).Rf)();function o(e,t={}){try{let n=e;const i=5,r=[];let o=0,s=0;const l=" > ",u=l.length;let c;const d=Array.isArray(t)?t:t.keyAttrs,p=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&o++<i&&(c=a(n,d),!("html"===c||o>1&&s+r.length*u+c.length>=p));)r.push(c),s+=c.length,n=n.parentNode;return r.reverse().join(l)}catch(e){return"<unknown>"}}function a(e,t){const n=e,r=[];let o,a,s,l,u;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(c&&c.length)c.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&(0,i.HD)(o))for(a=o.split(/\s+/),u=0;u<a.length;u++)r.push(`.${a[u]}`);const d=["type","name","title","alt"];for(u=0;u<d.length;u++)s=d[u],l=n.getAttribute(s),l&&r.push(`[${s}="${l}"]`);return r.join("")}function s(){try{return r.document.location.href}catch(e){return""}}function l(e){return r.document&&r.document.querySelector?r.document.querySelector(e):null}},9732:function(e,t,n){"use strict";n.d(t,{o:function(){return d}});var i=n(7597),r=n(2343),o=n(535),a=n(360),s=n(8823);const l=(0,n(1235).Rf)(),u={},c={};function d(e,t){u[e]=u[e]||[],u[e].push(t),function(e){if(!c[e])switch(c[e]=!0,e){case"console":"console"in l&&r.RU.forEach((function(e){e in l.console&&(0,o.hl)(l.console,e,(function(t){return function(...n){p("console",{args:n,level:e}),t&&t.apply(l.console,n)}}))}));break;case"dom":!function(){if(!("document"in l))return;const e=p.bind(null,"dom"),t=y(e,!0);l.document.addEventListener("click",t,!1),l.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=l[t]&&l[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,o.hl)(n,"addEventListener",(function(t){return function(n,i,r){if("click"===n||"keypress"==n)try{const i=this,o=i.__sentry_instrumentation_handlers__=i.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){const i=y(e);a.handler=i,t.call(this,n,i,r)}a.refCount++}catch(e){}return t.call(this,n,i,r)}})),(0,o.hl)(n,"removeEventListener",(function(e){return function(t,n,i){if("click"===t||"keypress"==t)try{const n=this,r=n.__sentry_instrumentation_handlers__||{},o=r[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,i),o.handler=void 0,delete r[t]),0===Object.keys(r).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,i)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in l))return;const e=XMLHttpRequest.prototype;(0,o.hl)(e,"open",(function(e){return function(...t){const n=this,r=t[1],a=n.__sentry_xhr__={method:(0,i.HD)(t[0])?t[0].toUpperCase():t[0],url:t[1]};(0,i.HD)(r)&&"POST"===a.method&&r.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const s=function(){if(4===n.readyState){try{a.status_code=n.status}catch(e){}p("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?(0,o.hl)(n,"onreadystatechange",(function(e){return function(...t){return s(),e.apply(n,t)}})):n.addEventListener("readystatechange",s),e.apply(n,t)}})),(0,o.hl)(e,"send",(function(e){return function(...t){return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),p("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":(0,s.t$)()&&(0,o.hl)(l,"fetch",(function(e){return function(...t){const n={args:t,fetchData:{method:h(t),url:f(t)},startTimestamp:Date.now()};return p("fetch",{...n}),e.apply(l,t).then((e=>(p("fetch",{...n,endTimestamp:Date.now(),response:e}),e)),(e=>{throw p("fetch",{...n,endTimestamp:Date.now(),error:e}),e}))}}));break;case"history":!function(){if(!(0,s.Bf)())return;const e=l.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=m,t=String(n);m=t,p("history",{from:e,to:t})}return e.apply(this,t)}}l.onpopstate=function(...t){const n=l.location.href,i=m;if(m=n,p("history",{from:i,to:n}),e)try{return e.apply(this,t)}catch(e){}},(0,o.hl)(l.history,"pushState",t),(0,o.hl)(l.history,"replaceState",t)}();break;case"error":b=l.onerror,l.onerror=function(e,t,n,i,r){return p("error",{column:i,error:r,line:n,msg:e,url:t}),!!b&&b.apply(this,arguments)};break;case"unhandledrejection":w=l.onunhandledrejection,l.onunhandledrejection=function(e){return p("unhandledrejection",e),!w||w.apply(this,arguments)};break;default:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("unknown instrumentation type:",e)}}(e)}function p(e,t){if(e&&u[e])for(const n of u[e]||[])try{n(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,a.$P)(n)}\nError:`,t)}}function h(e=[]){return"Request"in l&&(0,i.V9)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function f(e=[]){return"string"==typeof e[0]?e[0]:"Request"in l&&(0,i.V9)(e[0],Request)?e[0].url:String(e[0])}let m,g,v;function y(e,t=!1){return n=>{if(!n||v===n)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n))return;const i="keypress"===n.type?"input":n.type;(void 0===g||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(v,n))&&(e({event:n,name:i,global:t}),v=n),clearTimeout(g),g=l.setTimeout((()=>{g=void 0}),1e3)}}let b=null,w=null},7597:function(e,t,n){"use strict";n.d(t,{Cy:function(){return g},HD:function(){return u},J8:function(){return m},Kj:function(){return f},PO:function(){return d},TX:function(){return s},V9:function(){return y},VW:function(){return a},VZ:function(){return r},cO:function(){return p},fm:function(){return l},i2:function(){return v},kK:function(){return h},pt:function(){return c}});const i=Object.prototype.toString;function r(e){switch(i.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function o(e,t){return i.call(e)===`[object ${t}]`}function a(e){return o(e,"ErrorEvent")}function s(e){return o(e,"DOMError")}function l(e){return o(e,"DOMException")}function u(e){return o(e,"String")}function c(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function d(e){return o(e,"Object")}function p(e){return"undefined"!=typeof Event&&y(e,Event)}function h(e){return"undefined"!=typeof Element&&y(e,Element)}function f(e){return o(e,"RegExp")}function m(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function g(e){return d(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e){return"number"==typeof e&&e!=e}function y(e,t){try{return e instanceof t}catch(e){return!1}}},2343:function(e,t,n){"use strict";n.d(t,{Cf:function(){return o},RU:function(){return r},kg:function(){return s}});var i=n(1235);const r=["debug","info","warn","error","log","assert","trace"];function o(e){if(!("console"in i.n2))return e();const t=i.n2.console,n={};r.forEach((e=>{const i=t[e]&&t[e].__sentry_original__;e in t&&i&&(n[e]=t[e],t[e]=i)}));try{return e()}finally{Object.keys(n).forEach((e=>{t[e]=n[e]}))}}function a(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?r.forEach((n=>{t[n]=(...t)=>{e&&o((()=>{i.n2.console[n](`Sentry Logger [${n}]:`,...t)}))}})):r.forEach((e=>{t[e]=()=>{}})),t}let s;s="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,i.YO)("logger",a):a()},2844:function(e,t,n){"use strict";n.d(t,{DM:function(){return o},Db:function(){return l},EG:function(){return u},YO:function(){return c},jH:function(){return s},lE:function(){return d}});var i=n(535),r=n(1235);function o(){const e=r.n2,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function a(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function s(e){const{message:t,event_id:n}=e;if(t)return t;const i=a(e);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||n||"<unknown>":n||"<unknown>"}function l(e,t,n){const i=e.exception=e.exception||{},r=i.values=i.values||[],o=r[0]=r[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function u(e,t){const n=a(e);if(!n)return;const i=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...i,...t},t&&"data"in t){const e={...i&&i.data,...t.data};n.mechanism.data=e}}function c(e){if(e&&e.__sentry_captured__)return!0;try{(0,i.xp)(e,"__sentry_captured__",!0)}catch(e){}return!1}function d(e){return Array.isArray(e)?e:[e]}},2176:function(e,t,n){"use strict";function i(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function r(e,t){return e.require(t)}function o(t){let n;try{n=r(e,t)}catch(e){}try{const{cwd:i}=r(e,"process");n=r(e,`${i()}/node_modules/${t}`)}catch(e){}return n}n.d(t,{l$:function(){return r},KV:function(){return i},$y:function(){return o}}),e=n.hmd(e)},535:function(e,t,n){"use strict";n.d(t,{$Q:function(){return l},HK:function(){return u},Jr:function(){return m},Sh:function(){return d},_j:function(){return c},hl:function(){return a},xp:function(){return s},zf:function(){return f}});var i=n(8464),r=n(7597),o=n(7321);function a(e,t,n){if(!(t in e))return;const i=e[t],r=n(i);if("function"==typeof r)try{l(r,i)}catch(e){}e[t]=r}function s(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function l(e,t){const n=t.prototype||{};e.prototype=t.prototype=n,s(e,"__sentry_original__",t)}function u(e){return e.__sentry_original__}function c(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}function d(e){if((0,r.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...h(e)};if((0,r.cO)(e)){const t={type:e.type,target:p(e.target),currentTarget:p(e.currentTarget),...h(e)};return"undefined"!=typeof CustomEvent&&(0,r.V9)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function p(e){try{return(0,r.kK)(e)?(0,i.Rt)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function h(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function f(e,t=40){const n=Object.keys(d(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,o.$G)(n[0],t);for(let e=n.length;e>0;e--){const i=n.slice(0,e).join(", ");if(!(i.length>t))return e===n.length?i:(0,o.$G)(i,t)}return""}function m(e){return g(e,new Map)}function g(e,t){if((0,r.PO)(e)){const n=t.get(e);if(void 0!==n)return n;const i={};t.set(e,i);for(const n of Object.keys(e))void 0!==e[n]&&(i[n]=g(e[n],t));return i}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const i=[];return t.set(e,i),e.forEach((e=>{i.push(g(e,t))})),i}return e}},360:function(e,t,n){"use strict";function i(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const i=[];for(const r of e.split("\n").slice(n)){if(r.length>1024)continue;const e=r.replace(/\(error: (.*)\)/,"$1");for(const n of t){const t=n(e);if(t){i.push(t);break}}}return function(e){if(!e.length)return[];let t=e;const n=t[0].function||"",i=t[t.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==i.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((e=>({...e,filename:e.filename||t[0].filename,function:e.function||"?"}))).reverse()}(i)}}function r(e){return Array.isArray(e)?i(...e):e}n.d(t,{$P:function(){return a},Sq:function(){return r},pE:function(){return i}});const o="<anonymous>";function a(e){try{return e&&"function"==typeof e&&e.name||o}catch(e){return o}}},7321:function(e,t,n){"use strict";n.d(t,{$G:function(){return r},U0:function(){return a},nK:function(){return o}});var i=n(7597);function r(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function o(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const i=e[t];try{n.push(String(i))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!(0,i.HD)(e)&&((0,i.Kj)(t)?t.test(e):!!(0,i.HD)(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}},8823:function(e,t,n){"use strict";n.d(t,{Ak:function(){return o},Bf:function(){return l},Du:function(){return a},t$:function(){return s}});var i=n(2343);const r=(0,n(1235).Rf)();function o(){if(!("fetch"in r))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function s(){if(!o())return!1;if(a(r.fetch))return!0;let e=!1;const t=r.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=a(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function l(){const e=r.chrome,t=e&&e.app&&e.app.runtime,n="history"in r&&!!r.history.pushState&&!!r.history.replaceState;return!t&&n}},6893:function(e,t,n){"use strict";n.d(t,{$2:function(){return a},WD:function(){return o},cW:function(){return s}});var i,r=n(7597);function o(e){return new s((t=>{t(e)}))}function a(e){return new s(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(i||(i={}));class s{__init(){this._state=i.PENDING}__init2(){this._handlers=[]}constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),s.prototype.__init5.call(this),s.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new s(((n,i)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){i(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){i(e)}else i(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new s(((t,n)=>{let i,r;return this.then((t=>{r=!1,i=t,e&&e()}),(t=>{r=!0,i=t,e&&e()})).then((()=>{r?n(i):t(i)}))}))}__init3(){this._resolve=e=>{this._setResult(i.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(i.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===i.PENDING&&((0,r.J8)(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===i.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===i.RESOLVED&&e[1](this._value),this._state===i.REJECTED&&e[2](this._value),e[0]=!0)}))}}}},1170:function(e,t,n){"use strict";n.d(t,{Z1:function(){return h},_I:function(){return d},ph:function(){return c},yW:function(){return u}});var i=n(2176),r=n(1235);e=n.hmd(e);const o=(0,r.Rf)(),a={nowSeconds:()=>Date.now()/1e3},s=(0,i.KV)()?function(){try{return(0,i.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=o;if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),l=void 0===s?a:{nowSeconds:()=>(s.timeOrigin+s.now())/1e3},u=a.nowSeconds.bind(a),c=l.nowSeconds.bind(l),d=c;let p;const h=(()=>{const{performance:e}=o;if(!e||!e.now)return void(p="none");const t=36e5,n=e.now(),i=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+n-i):t,a=r<t,s=e.timing&&e.timing.navigationStart,l="number"==typeof s?Math.abs(s+n-i):t;return a||l<t?r<=l?(p="timeOrigin",e.timeOrigin):(p="navigationStart",s):(p="dateNow",i)})()},1235:function(e,t,n){"use strict";function i(e){return e&&e.Math==Math?e:void 0}n.d(t,{Rf:function(){return o},YO:function(){return a},n2:function(){return r}});const r="object"==typeof globalThis&&i(globalThis)||"object"==typeof window&&i(window)||"object"==typeof self&&i(self)||"object"==typeof n.g&&i(n.g)||function(){return this}()||{};function o(){return r}function a(e,t,n){const i=n||r,o=i.__SENTRY__=i.__SENTRY__||{};return o[e]||(o[e]=t())}},1705:function(){!function(e,t){"use strict";var n,i,r,o,a="-add",s="-remove",l="ng-animate",u="$$ngAnimateChildren";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(n="WebkitTransition",i="webkitTransitionEnd transitionend"):(n="transition",i="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(r="WebkitAnimation",o="webkitAnimationEnd animationend"):(r="animation",o="animationend");var c="Duration",d="Property",p="Delay",h="TimingFunction",f=r+p,m=r+c,g=n+p,v=n+c,y=t.$$minErr("ng");function b(e,t,n){if(!e)throw y("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function w(e,t){return e||t?e?t?(W(e)&&(e=e.join(" ")),W(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function _(e,t,n){var i="";return e=W(e)?e:e&&X(e)&&e.length?e.split(/\s+/):[],Q(e,(function(e,r){e&&e.length>0&&(i+=r>0?" ":"",i+=n?t+e:e+t)})),i}function x(e){if(e instanceof te)switch(e.length){case 0:return e;case 1:if(1===e[0].nodeType)return e;break;default:return te(C(e))}if(1===e.nodeType)return te(e)}function C(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}function k(e){return function(t,n){n.addClass&&(function(e,t,n){Q(t,(function(t){e.addClass(t,n)}))}(e,t,n.addClass),n.addClass=null),n.removeClass&&(function(e,t,n){Q(t,(function(t){e.removeClass(t,n)}))}(e,t,n.removeClass),n.removeClass=null)}}function S(e){if(!(e=e||{}).$$prepared){var t=e.domOperation||ne;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=ne},e.$$prepared=!0}return e}function T(e,t){E(e,t),P(e,t)}function E(e,t){t.from&&(e.css(t.from),t.from=null)}function P(e,t){t.to&&(e.css(t.to),t.to=null)}function O(e,t,n){var i=t.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),l=(i.removeClass||"")+" "+(r.removeClass||""),u=function(e,t,n){var i={};e=o(e),t=o(t),Q(t,(function(e,t){i[t]=1})),n=o(n),Q(n,(function(e,t){i[t]=1===i[t]?null:-1}));var r={addClass:"",removeClass:""};function o(e){X(e)&&(e=e.split(" "));var t={};return Q(e,(function(e){e.length&&(t[e]=!0)})),t}return Q(i,(function(t,n){var i,o;1===t?(i="addClass",o=!e[n]||e[n+s]):-1===t&&(i="removeClass",o=e[n]||e[n+a]),o&&(r[i].length&&(r[i]+=" "),r[i]+=n)})),r}(e.attr("class"),o,l);r.preparationClasses&&(i.preparationClasses=L(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var c=i.domOperation!==ne?i.domOperation:null;return G(i,r),c&&(i.domOperation=c),u.addClass?i.addClass=u.addClass:i.addClass=null,u.removeClass?i.removeClass=u.removeClass:i.removeClass=null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function q(e){return e instanceof te?e[0]:e}function $(e,t){var n=t?"paused":"",i=r+"PlayState";return M(e,[i,n]),[i,n]}function M(e,t){var n=t[0],i=t[1];e.style[n]=i}function L(e,t){return e?t?e+" "+t:e:t}var j=function(e,t){var n=t?"-"+t+"s":"";return M(e,[g,n]),[g,n]},A=["$interpolate",function(e){return{link:function(t,n,i){var r=i.ngAnimateChildren;function o(e){e="on"===e||"true"===e,n.data(u,e)}X(r)&&0===r.length?n.data(u,!0):(o(e(r)(t)),i.$observe("ngAnimateChildren",o))}}}],D="$$animateCss",N=1e3,R={transitionDuration:v,transitionDelay:g,transitionProperty:n+d,animationDuration:m,animationDelay:f,animationIterationCount:r+"IterationCount"},I={transitionDuration:v,transitionDelay:g,animationDuration:m,animationDelay:f};function F(e,t){return[t?f:g,e+"s"]}function U(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return Q(n,(function(e,t){var n,o,a=r[e];if(a){var s=a.charAt(0);("-"===s||"+"===s||s>=0)&&(n=0,o=a.split(/\s*,\s*/),Q(o,(function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,n=n?Math.max(e,n):e})),a=n),0===a&&(a=null),i[t]=a}})),i}function B(e){return 0===e||null!=e}function H(e,t){var i=n,r=e+"s";return t?i+=c:r+=" linear all",[i,r]}function z(e,t,n){Q(n,(function(n){e[n]=Y(e[n])?e[n]:t.style.getPropertyValue(n)}))}var V,G,Q,W,Y,K,Z,J,X,ee,te,ne,ie=["$animateProvider",function(e){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,t,l,u,c,p,f,g,v){var y=k(t),b=[];function w(e){b.push(e),g.waitUntilQuiet((function(){c.flush();for(var e=p(),t=0;t<b.length;t++)b[t](e);b.length=0}))}function x(t,n,i,r){var o=function(t,n,i,r,o){var a=c.get(i);a||"infinite"===(a=U(e,t,o)).animationIterationCount&&(a.animationIterationCount=1);var s=r||a.transitionDuration>0||a.animationDuration>0;return c.put(i,a,s),a}(t,0,i,r,R),a=o.animationDelay,s=o.transitionDelay;return o.maxDelay=a&&s?Math.max(a,s):a||s,o.maxDuration=Math.max(o.animationDuration*o.animationIterationCount,o.transitionDuration),o}return function(p,g){var b=g||{};b.$$prepared||(b=S(V(b)));var C={},k=q(p);if(!k||!k.parentNode||!v.enabled())return Pe();var O,L,A,R,G,Y,K,Z,J,X,ee=[],te=(p.attr("class"),function(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}(b)),ie=[];if(0===b.duration||!f.animations&&!f.transitions)return Pe();var re=b.event&&W(b.event)?b.event.join(" "):b.event,oe=re&&b.structural,ae="",se="";oe?ae=_(re,"ng-",!0):re&&(ae=re),b.addClass&&(se+=_(b.addClass,a)),b.removeClass&&(se.length&&(se+=" "),se+=_(b.removeClass,s)),b.applyClassesEarly&&se.length&&y(p,b);var le=[ae,se].join(" ").trim(),ue=te.to&&Object.keys(te.to).length>0;if(!((b.keyframeStyle||"").length>0||ue||le))return Pe();var ce,de,pe=c.cacheKey(k,re,b.addClass,b.removeClass);if(c.containsCachedAnimationWithoutDuration(pe))return le=null,Pe();if(b.stagger>0){var he=parseFloat(b.stagger);ce={transitionDelay:he,animationDelay:he,transitionDuration:0,animationDuration:0}}else ce=function(n,i,r,o){var a,s="stagger-"+r;if(c.count(r)>0&&!(a=c.get(s))){var l=_(i,"-stagger");t.addClass(n,l),(a=U(e,n,o)).animationDuration=Math.max(a.animationDuration,0),a.transitionDuration=Math.max(a.transitionDuration,0),t.removeClass(n,l),c.put(s,a,!0)}return a||{}}(k,le,pe,I);if(b.$$skipPreparationClasses||t.addClass(p,le),b.transitionStyle){var fe=[n,b.transitionStyle];M(k,fe),ee.push(fe)}if(b.duration>=0){de=k.style[n].length>0;var me=H(b.duration,de);M(k,me),ee.push(me)}if(b.keyframeStyle){var ge=[r,b.keyframeStyle];M(k,ge),ee.push(ge)}var ve=ce?b.staggerIndex>=0?b.staggerIndex:c.count(pe):0,ye=0===ve;ye&&!b.skipBlocking&&j(k,9999);var be=x(k,0,pe,!oe),we=be.maxDelay;Y=Math.max(we,0),Z=be.maxDuration;var _e={};if(_e.hasTransitions=be.transitionDuration>0,_e.hasAnimations=be.animationDuration>0,_e.hasTransitionAll=_e.hasTransitions&&"all"===be.transitionProperty,_e.applyTransitionDuration=ue&&(_e.hasTransitions&&!_e.hasTransitionAll||_e.hasAnimations&&!_e.hasTransitions),_e.applyAnimationDuration=b.duration&&_e.hasAnimations,_e.applyTransitionDelay=B(b.delay)&&(_e.applyTransitionDuration||_e.hasTransitions),_e.applyAnimationDelay=B(b.delay)&&_e.hasAnimations,_e.recalculateTimingStyles=se.length>0,(_e.applyTransitionDuration||_e.applyAnimationDuration)&&(Z=b.duration?parseFloat(b.duration):Z,_e.applyTransitionDuration&&(_e.hasTransitions=!0,be.transitionDuration=Z,de=k.style[n+d].length>0,ee.push(H(Z,de))),_e.applyAnimationDuration&&(_e.hasAnimations=!0,be.animationDuration=Z,ee.push([m,Z+"s"]))),0===Z&&!_e.recalculateTimingStyles)return Pe();var xe,Ce=_(le,"-active");return null!=b.delay&&("boolean"!=typeof b.delay&&(xe=parseFloat(b.delay),Y=Math.max(xe,0)),_e.applyTransitionDelay&&ee.push(F(xe)),_e.applyAnimationDelay&&ee.push(F(xe,!0))),null==b.duration&&be.transitionDuration>0&&(_e.recalculateTimingStyles=_e.recalculateTimingStyles||ye),K=Y*N,J=Z*N,b.skipBlocking||(_e.blockTransition=be.transitionDuration>0,_e.blockKeyframeAnimation=be.animationDuration>0&&ce.animationDelay>0&&0===ce.animationDuration),b.from&&(b.cleanupStyles&&z(C,k,Object.keys(b.from)),E(p,b)),_e.blockTransition||_e.blockKeyframeAnimation?Ee(Z):b.skipBlocking||j(k,!1),{$$willAnimate:!0,end:ke,start:function(){if(!O)return R=new l(G={end:ke,cancel:Se,resume:null,pause:null}),w(qe),R}};function ke(){Te()}function Se(){Te(!0)}function Te(e){if(!(O||A&&L)){O=!0,L=!1,le&&!b.$$skipPreparationClasses&&t.removeClass(p,le),Ce&&t.removeClass(p,Ce),$(k,!1),j(k,!1),Q(ee,(function(e){k.style[e[0]]=""})),y(p,b),T(p,b),Object.keys(C).length&&Q(C,(function(e,t){e?k.style.setProperty(t,e):k.style.removeProperty(t)})),b.onDone&&b.onDone(),ie&&ie.length&&p.off(ie.join(" "),Oe);var n=p.data(D);n&&(u.cancel(n[0].timer),p.removeData(D)),R&&R.complete(!e)}}function Ee(e){_e.blockTransition&&j(k,e),_e.blockKeyframeAnimation&&$(k,!!e)}function Pe(){return R=new l({end:ke,cancel:Se}),w(ne),Te(),{$$willAnimate:!1,start:function(){return R},end:ke}}function Oe(e){e.stopPropagation();var t=e.originalEvent||e;if(t.target===k){var n=t.$manualTimeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(3));Math.max(n-X,0)>=K&&i>=Z&&(A=!0,Te())}}function qe(){if(!O)if(k.parentNode){var e=function(e){if(A)L&&e&&(L=!1,Te());else if(L=!e,be.animationDuration){var t=$(k,L);L?ee.push(t):(i=t,r=(n=ee).indexOf(i),i>=0&&n.splice(r,1))}var n,i,r},a=ve>0&&(be.transitionDuration&&0===ce.transitionDuration||be.animationDuration&&0===ce.animationDuration)&&Math.max(ce.animationDelay,ce.transitionDelay);a?u(s,Math.floor(a*ve*N),!1):s(),G.resume=function(){e(!0)},G.pause=function(){e(!1)}}else Te();function s(){if(!O){if(Ee(!1),Q(ee,(function(e){var t=e[0],n=e[1];k.style[t]=n})),y(p,b),t.addClass(p,Ce),_e.recalculateTimingStyles){if(k.getAttribute("class"),pe=c.cacheKey(k,re,b.addClass,b.removeClass),be=x(k,0,pe,!1),we=be.maxDelay,Y=Math.max(we,0),0===(Z=be.maxDuration))return void Te();_e.hasTransitions=be.transitionDuration>0,_e.hasAnimations=be.animationDuration>0}if(_e.applyAnimationDelay&&(we="boolean"!=typeof b.delay&&B(b.delay)?parseFloat(b.delay):we,Y=Math.max(we,0),be.animationDelay=we,xe=F(we,!0),ee.push(xe),k.style[xe[0]]=xe[1]),K=Y*N,J=Z*N,b.easing){var e,a=b.easing;_e.hasTransitions&&(e=n+h,ee.push([e,a]),k.style[e]=a),_e.hasAnimations&&(e=r+h,ee.push([e,a]),k.style[e]=a)}be.transitionDuration&&ie.push(i),be.animationDuration&&ie.push(o),X=Date.now();var s=K+1.5*J,d=X+s,f=p.data(D)||[],m=!0;if(f.length){var g=f[0];(m=d>g.expectedEndTime)?u.cancel(g.timer):f.push(Te)}if(m){var v=u(l,s,!1);f[0]={timer:v,expectedEndTime:d},f.push(Te),p.data(D,f)}ie.length&&p.on(ie.join(" "),Oe),b.to&&(b.cleanupStyles&&z(C,k,Object.keys(b.to)),P(p,b))}}function l(){var e=p.data(D);if(e){for(var t=1;t<e.length;t++)e[t]();p.removeData(D)}}}}}]}],re=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var t="ng-animate-shim";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,n,i,r,o,a,s){if(!o.animations&&!o.transitions)return ne;var l,u=s[0].body,c=q(r),d=te((l=c).parentNode&&11===l.parentNode.nodeType||u.contains(c)?c:u);return function(n){return n.from&&n.to?function(n,r,o,a){var s=f(n),l=f(r),c=[];if(Q(a,(function(n){var r=function(n,r,o){var a=te(q(r).cloneNode(!0)),s=p(g(a));r.addClass(t),o.addClass(t),a.addClass("ng-anchor"),d.append(a);var l,c=function(){var t=e(a,{addClass:"ng-anchor-out",delay:!0,from:m(r)});return t.$$willAnimate?t:null}();if(!c&&!(l=v()))return y();var f=c||l;return{start:function(){var e,t=f.start();return t.done((function(){if(t=null,!l&&(l=v()))return(t=l.start()).done((function(){t=null,y(),e.complete()})),t;y(),e.complete()})),e=new i({end:n,cancel:n});function n(){t&&t.end()}}};function m(e){var t={},n=q(e).getBoundingClientRect();return Q(["width","height","top","left"],(function(e){var i=n[e];switch(e){case"top":i+=u.scrollTop;break;case"left":i+=u.scrollLeft}t[e]=Math.floor(i)+"px"})),t}function g(e){return e.attr("class")||""}function v(){var t=p(g(o)),n=h(t,s),i=h(s,t),r=e(a,{to:m(o),addClass:"ng-anchor-in "+n,removeClass:"ng-anchor-out "+i,delay:!0});return r.$$willAnimate?r:null}function y(){a.remove(),r.removeClass(t),o.removeClass(t)}}(0,n.out,n.in);r&&c.push(r)})),s||l||0!==c.length)return{start:function(){var e=[];s&&e.push(s.start()),l&&e.push(l.start()),Q(c,(function(t){e.push(t.start())}));var t=new i({end:n,cancel:n});return i.all(e,(function(e){t.complete(e)})),t;function n(){Q(e,(function(e){e.end()}))}}}}(n.from,n.to,n.classes,n.anchors):f(n)};function p(e){return e.replace(/\bng-\S+\b/g,"")}function h(e,t){return X(e)&&(e=e.split(" ")),X(t)&&(t=t.split(" ")),e.filter((function(e){return-1===t.indexOf(e)})).join(" ")}function f(t){var n=t.element,i=t.options||{};t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=L(i.event,i.preparationClasses));var r=e(n,i);return r.$$willAnimate?r:null}}]}],oe=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){var r=k(i);return function(e,t,i,a){var s=!1;3===arguments.length&&J(i)&&(a=i,i=null),a=S(a),i||(i=e.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var l,u,c,d,p,h=a.addClass,f=a.removeClass,m=o(i);if(m.length&&("leave"===t?(d="leave",c="afterLeave"):(d="before"+t.charAt(0).toUpperCase()+t.substr(1),c=t),"enter"!==t&&"move"!==t&&(l=w(e,t,a,m,d)),u=w(e,t,a,m,c)),l||u)return{$$willAnimate:!0,end:function(){return p?p.end():(v(),(p=new n).complete(!0)),p},start:function(){if(p)return p;var e;p=new n;var t=[];return l&&t.push((function(t){e=l(t)})),t.length?t.push((function(e){g(),e(!0)})):g(),u&&t.push((function(t){e=u(t)})),p.setHost({end:function(){r()},cancel:function(){r(!0)}}),n.chain(t,i),p;function i(e){v(),p.complete(e)}function r(t){s||((e||ne)(t),i(t))}}};function g(){a.domOperation(),r(e,a)}function v(){s=!0,g(),T(e,a)}function y(e,t,i,r,o){var a;switch(i){case"animate":a=[t,r.from,r.to,o];break;case"setClass":a=[t,h,f,o];break;case"addClass":a=[t,h,o];break;case"removeClass":a=[t,f,o];break;default:a=[t,o]}a.push(r);var s=e.apply(e,a);if(s)if(Z(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(Z(s))return s;return ne}function b(e,t,i,r,o){var a=[];return Q(r,(function(r){var s=r[o];s&&a.push((function(){var r,o,a=!1,l=function(e){a||(a=!0,(o||ne)(e),r.complete(!e))};return r=new n({end:function(){l()},cancel:function(){l(!0)}}),o=y(s,e,t,i,(function(e){l(!1===e)})),r}))})),a}function w(e,t,i,r,o){var a,s,l=b(e,t,i,r,o);if(0===l.length&&("beforeSetClass"===o?(a=b(e,"removeClass",i,r,"beforeRemoveClass"),s=b(e,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(a=b(e,"removeClass",i,r,"removeClass"),s=b(e,"addClass",i,r,"addClass")),a&&(l=l.concat(a)),s&&(l=l.concat(s))),0!==l.length)return function(e){var t=[];return l.length&&Q(l,(function(e){t.push(e())})),t.length?n.all(t,e):e(),function(e){Q(t,(function(t){e?t.cancel():t.end()}))}}}};function o(n){n=W(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!r[a]&&(i.push(t.get(s)),r[a]=!0)}return i}}]}],ae=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){return function(e){if(e.from&&e.to){var i=n(e.from),r=n(e.to);if(!i&&!r)return;return{start:function(){var e=[];i&&e.push(i.start()),r&&e.push(r.start()),t.all(e,(function(e){n.complete(e)}));var n=new t({end:o(),cancel:o()});return n;function o(){return function(){Q(e,(function(e){e.end()}))}}}}}return n(e)};function n(t){var n=t.element,i=t.event,r=t.options,o=t.classes;return e(n,i,o,r)}}]}],se="data-ng-animate",le="$ngAnimatePin",ue=["$animateProvider",function(t){var n=this.rules={skip:[],cancel:[],join:[]};function i(e){return{addClass:e.addClass,removeClass:e.removeClass,from:e.from,to:e.to}}function r(e,t){if(e&&t){var n=function(e){if(!e)return null;var t=e.split(" "),n=Object.create(null);return Q(t,(function(e){n[e]=!0})),n}(t);return e.split(" ").some((function(e){return n[e]}))}}function o(e,t,i){return n[e].some((function(e){return e(t,i)}))}function l(e,t){var n=(e.addClass||"").length>0,i=(e.removeClass||"").length>0;return t?n&&i:n||i}n.join.push((function(e,t){return!e.structural&&l(e)})),n.skip.push((function(e,t){return!e.structural&&!l(e)})),n.skip.push((function(e,t){return"leave"===t.event&&e.structural})),n.skip.push((function(e,t){return t.structural&&2===t.state&&!e.structural})),n.cancel.push((function(e,t){return t.structural&&e.structural})),n.cancel.push((function(e,t){return 2===t.state&&e.structural})),n.cancel.push((function(e,t){if(t.structural)return!1;var n=e.addClass,i=e.removeClass,o=t.addClass,a=t.removeClass;return!(ee(n)&&ee(i)||ee(o)&&ee(a))&&(r(n,a)||r(i,o))})),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(n,r,c,d,p,h,f,m,g,v,y){var w=new p,E=new p,P=null;function $(e){E.delete(e.target)}var M=r.$watch((function(){return 0===m.totalPendingRequests}),(function(e){e&&(M(),r.$$postDigest((function(){r.$$postDigest((function(){null===P&&(P=!0)}))})))})),j=Object.create(null),A=t.customFilter(),D=t.classNameFilter(),N=function(){return!0},R=A||N,I=D?function(e,t){var n=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return D.test(n)}:N,F=k(g);function U(e,t){return O(e,t,{})}var B=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};function H(e,t,n){var i=C(t);return e.filter((function(e){return!(e.node===i&&(!n||e.callback===n))}))}function z(e,t){"close"!==e||t.parentNode||Z.off(t)}var Z={on:function(e,t,n){var i=C(t);j[e]=j[e]||[],j[e].push({node:i,callback:n}),te(t).on("$destroy",(function(){w.get(i)||Z.off(e,t,n)}))},off:function(e,t,n){if(1!==arguments.length||X(arguments[0])){var i=j[e];i&&(j[e]=1===arguments.length?null:H(i,t,n))}else for(var r in t=arguments[0],j)j[r]=H(j[r],t)},pin:function(e,t){b(K(e),"element","not an element"),b(K(t),"parentElement","not an element"),e.data(le,t)},push:function(e,t,p,m){return(p=p||{}).domOperation=m,function(e,t,p){var m=V(p),g=x(e),v=q(g),b=v&&v.parentNode;m=S(m);var C,k=new f,$=(C=!1,function(e){C?e():r.$$postDigest((function(){C=!0,e()}))});if(W(m.addClass)&&(m.addClass=m.addClass.join(" ")),m.addClass&&!X(m.addClass)&&(m.addClass=null),W(m.removeClass)&&(m.removeClass=m.removeClass.join(" ")),m.removeClass&&!X(m.removeClass)&&(m.removeClass=null),m.from&&!J(m.from)&&(m.from=null),m.to&&!J(m.to)&&(m.to=null),!(P&&v&&R(v,t,p)&&I(v,m)))return oe(),k;var M=["enter","move","leave"].indexOf(t)>=0,A=y(),D=A||E.get(v),N=!D&&w.get(v)||{},H=!!N.state;if(D||H&&1===N.state||(D=!function(e,t,n){var i,r=d[0].body,o=q(c),a=e===r||"HTML"===e.nodeName,s=e===o,l=!1,p=E.get(e),h=te.data(e,le);for(h&&(t=q(h));t&&(s||(s=t===o),1===t.nodeType);){var f=w.get(t)||{};if(!l){var m=E.get(t);if(!0===m&&!1!==p){p=!0;break}!1===m&&(p=!1),l=f.structural}if(ee(i)||!0===i){var g=te.data(t,u);Y(g)&&(i=g)}if(l&&!1===i)break;if(a||(a=t===r),a&&s)break;t=s||!(h=te.data(t,le))?t.parentNode:q(h)}return(!l||i)&&!0!==p&&s&&a}(v,b)),D)return A&&re(k,t,"start",i(m)),oe(),A&&re(k,t,"close",i(m)),k;M&&function(e){var t=e.querySelectorAll("[data-ng-animate]");Q(t,(function(e){var t=parseInt(e.getAttribute(se),10),n=w.get(e);if(n)switch(t){case 2:n.runner.end();case 1:w.delete(e)}}))}(v);var G={structural:M,element:g,event:t,addClass:m.addClass,removeClass:m.removeClass,close:oe,options:m,runner:k};if(H){if(o("skip",G,N))return 2===N.state?(oe(),k):(O(g,N,G),N.runner);if(o("cancel",G,N))if(2===N.state)N.runner.end();else{if(!N.structural)return O(g,N,G),N.runner;N.close()}else if(o("join",G,N)){if(2!==N.state)return function(e,t,n,i){var r="";n&&(r=_(n,"ng-",!0)),i.addClass&&(r=L(r,_(i.addClass,a))),i.removeClass&&(r=L(r,_(i.removeClass,s))),r.length&&(i.preparationClasses=r,t.addClass(r))}(0,g,M?t:null,m),t=G.event=N.event,m=O(g,N,G),N.runner;U(g,G)}}else U(g,G);var K=G.structural;if(K||(K="animate"===G.event&&Object.keys(G.options.to||{}).length>0||l(G)),!K)return oe(),ne(v),k;var Z=(N.counter||0)+1;return G.counter=Z,ie(v,1,G),r.$$postDigest((function(){g=x(e);var n=w.get(v),r=!n;n=n||{};var o=(g.parent()||[]).length>0&&("animate"===n.event||n.structural||l(n));if(r||n.counter!==Z||!o)return r&&(F(g,m),T(g,m)),(r||M&&n.event!==t)&&(m.domOperation(),k.end()),void(o||ne(v));t=!n.structural&&l(n,!0)?"setClass":n.event,ie(v,2);var a=h(g,t,n.options);k.setHost(a),re(k,t,"start",i(m)),a.done((function(e){oe(!e);var n=w.get(v);n&&n.counter===Z&&ne(v),re(k,t,"close",i(m))}))})),k;function re(e,t,i,r){$((function(){var e=function(e,t,n){var i=[],r=j[n];return r&&Q(r,(function(r){(B.call(r.node,t)||"leave"===n&&B.call(r.node,e))&&i.push(r.callback)})),i}(b,v,t);e.length?n((function(){Q(e,(function(e){e(g,i,r)})),z(i,v)})):z(i,v)})),e.progress(t,i,r)}function oe(e){!function(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}(g,m),F(g,m),T(g,m),m.domOperation(),k.complete(!e)}}(e,t,p)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!P;else{var i=K(e);if(i){var r=q(e);1===n?t=!E.get(r):(E.has(r)||te(e).on("$destroy",$),E.set(r,!t))}else t=P=!!e}return t}};return Z;function ne(e){e.removeAttribute(se),w.delete(e)}function ie(e,t,n){(n=n||{}).state=t,e.setAttribute(se,t);var i=w.get(e),r=i?G(i,n):n;w.set(e,r)}}]}],ce=["$animateProvider",function(e){var t="ng-animate-ref",n=this.drivers=[],i="$$animationRunner",r="$$animatePrepareClasses";function o(e){return e.data(i)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(e,a,s,u,c,d,p){var h=[],f=k(e);return function(m,g,v){v=S(v);var y=["enter","move","leave"].indexOf(g)>=0,b=new u({end:function(){E()},cancel:function(){E(!0)}});if(!n.length)return E(),b;var _=w(m.attr("class"),w(v.addClass,v.removeClass)),x=v.tempClasses;return x&&(_+=" "+x,v.tempClasses=null),y&&m.data(r,"ng-"+g+"-prepare"),function(e,t){e.data(i,t)}(m,b),h.push({element:m,classes:_,event:g,structural:y,options:v,beforeStart:function(){x=(x?x+" ":"")+l,e.addClass(m,x);var t=m.data(r);t&&(e.removeClass(m,t),t=null)},close:E}),m.on("$destroy",k),h.length>1||a.$$postDigest((function(){var i=[];Q(h,(function(e){o(e.element)?i.push(e):e.close()})),h.length=0;var a=function(e){var n=[],i={};Q(e,(function(e,r){var o=q(e.element),a=e.event,s=["enter","move"].indexOf(a)>=0,l=e.structural?function(e){var n=e.hasAttribute(t)?[e]:e.querySelectorAll("[ng-animate-ref]"),i=[];return Q(n,(function(e){var n=e.getAttribute(t);n&&n.length&&i.push(e)})),i}(o):[];if(l.length){var u=s?"to":"from";Q(l,(function(e){var n=e.getAttribute(t);i[n]=i[n]||{},i[n][u]={animationID:r,element:te(e)}}))}else n.push(e)}));var r={},o={};return Q(i,(function(t,i){var a=t.from,s=t.to;if(a&&s){var l=e[a.animationID],u=e[s.animationID],c=a.animationID.toString();if(!o[c]){var d=o[c]={structural:!0,beforeStart:function(){l.beforeStart(),u.beforeStart()},close:function(){l.close(),u.close()},classes:C(l.classes,u.classes),from:l,to:u,anchors:[]};d.classes.length?n.push(d):(n.push(l),n.push(u))}o[c].anchors.push({out:a.element,in:s.element})}else{var p=a?a.animationID:s.animationID,h=p.toString();r[h]||(r[h]=!0,n.push(e[p]))}})),n}(i),u=[];Q(a,(function(e){var t=e.from?e.from.element:e.element,i=v.addClass;i=(i?i+" ":"")+l;var r=p.cacheKey(t[0],e.event,i,v.removeClass);u.push({element:t,domNode:q(t),fn:function(){var t,i=e.close;if(p.containsCachedAnimationWithoutDuration(r))i();else{if(e.beforeStart(),o(e.anchors?e.from.element||e.to.element:e.element)){var a=function(e){for(var t=n.length-1;t>=0;t--){var i=n[t],r=s.get(i)(e);if(r)return r}}(e);a&&(t=a.start)}if(t){var l=t();l.done((function(e){i(!e)})),function(e,t){function n(e){var n=o(e);n&&n.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}(e,l)}else i()}}})}));for(var f=function(e){var t,n={children:[]},i=new c;for(t=0;t<e.length;t++){var r=e[t];i.set(r.domNode,e[t]={domNode:r.domNode,element:r.element,fn:r.fn,children:[]})}for(t=0;t<e.length;t++)o(e[t]);return function(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);var r=i.length,o=0,a=[];for(t=0;t<i.length;t++){var s=i[t];r<=0&&(r=o,o=0,n.push(a),a=[]),a.push(s),s.children.forEach((function(e){o++,i.push(e)})),r--}return a.length&&n.push(a),n}(n);function o(e){if(e.processed)return e;e.processed=!0;var t,r=e.domNode,a=r.parentNode;for(i.set(r,e);a;){if(t=i.get(a)){t.processed||(t=o(t));break}a=a.parentNode}return(t||n).children.push(e),e}}(u),m=0;m<f.length;m++)for(var g=f[m],y=0;y<g.length;y++){var b=g[y],w=b.element;if(f[m][y]=b.fn,0!==m){var _=w.data(r);_&&e.addClass(w,_)}else w.removeData(r)}d(f)})),b;function C(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}function k(){var e=o(m);!e||"leave"===g&&v.$$domOperationFired||e.end()}function E(t){m.off("$destroy",k),function(e){e.removeData(i)}(m),f(m,v),T(m,v),v.domOperation(),x&&e.removeClass(m,x),b.complete(!t)}}}]}];t.module("ngAnimate",[],(function(){ne=t.noop,V=t.copy,G=t.extend,te=t.element,Q=t.forEach,W=t.isArray,X=t.isString,J=t.isObject,ee=t.isUndefined,Y=t.isDefined,Z=t.isFunction,K=t.isElement})).info({angularVersion:"1.8.3"}).directive("ngAnimateSwap",["$animate",function(e){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(t,n,i,r,o){var a,s;t.$watchCollection(i.ngAnimateSwap||i.for,(function(t){a&&e.leave(a),s&&(s.$destroy(),s=null),(t||0===t)&&o((function(t,i){a=t,s=i,e.enter(t,null,n)}))}))}}}]).directive("ngAnimateChildren",A).factory("$$rAFScheduler",["$$rAF",function(e){var t,n;function i(e){t=t.concat(e),r()}return t=i.queue=[],i.waitUntilQuiet=function(t){n&&n(),n=e((function(){n=null,t(),r()}))},i;function r(){if(t.length){for(var i=t.shift(),o=0;o<i.length;o++)i[o]();n||e((function(){n||r()}))}}}]).provider("$$animateQueue",ue).provider("$$animateCache",(function(){var e="$$ngAnimateParentKey",t=0,n=Object.create(null);this.$get=[function(){return{cacheKey:function(n,i,r,o){var a=n.parentNode,s=[a[e]||(a[e]=++t),i,n.getAttribute("class")];return r&&s.push(r),o&&s.push(o),s.join(" ")},containsCachedAnimationWithoutDuration:function(e){var t=n[e];return t&&!t.isValid||!1},flush:function(){n=Object.create(null)},count:function(e){var t=n[e];return t?t.total:0},get:function(e){var t=n[e];return t&&t.value},put:function(e,t,i){n[e]?(n[e].total++,n[e].value=t):n[e]={total:1,value:t,isValid:i}}}}]})).provider("$$animation",ce).provider("$animateCss",ie).provider("$$animateCssDriver",re).provider("$$animateJs",oe).provider("$$animateJsDriver",ae)}(window,window.angular)},3234:function(e,t,n){n(1705),e.exports="ngAnimate"},4426:function(){!function(e){"use strict";var t={objectMaxDepth:5,urlErrorParamsEnabled:!0};function n(e){if(!I(e))return t;R(e.objectMaxDepth)&&(t.objectMaxDepth=i(e.objectMaxDepth)?e.objectMaxDepth:NaN),R(e.urlErrorParamsEnabled)&&K(e.urlErrorParamsEnabled)&&(t.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function i(e){return B(e)&&e>0}function r(e,n){n=n||Error;var i="https://errors.angularjs.org/1.8.3/",r=i.replace(".","\\.")+"[\\s\\S]*",o=new RegExp(r,"g");return function(){var r,a,s=arguments[0],l=arguments[1],u="["+(e?e+":":"")+s+"] ",c=de(arguments,2).map((function(e){return Be(e,t.objectMaxDepth)}));if(u+=l.replace(/\{\d+\}/g,(function(e){var t=+e.slice(1,-1);return t<c.length?c[t].replace(o,""):e})),u+="\n"+i+(e?e+"/":"")+s,t.urlErrorParamsEnabled)for(a=0,r="?";a<c.length;a++,r="&")u+=r+"p"+a+"="+encodeURIComponent(c[a]);return new n(u)}}var o,a,s,l,u=/^\/(.+)\/([a-z]*)$/,c=Object.prototype.hasOwnProperty,d=function(e){return U(e)?e.toLowerCase():e},p=function(e){return U(e)?e.toUpperCase():e},h=[].slice,f=[].splice,m=[].push,g=Object.prototype.toString,v=Object.getPrototypeOf,y=r("ng"),b=e.angular||(e.angular={}),w=0;function _(e){if(null==e||W(e))return!1;if(z(e)||U(e)||a&&e instanceof a)return!0;var t="length"in Object(e)&&e.length;return B(t)&&(t>=0&&t-1 in e||"function"==typeof e.item)}function x(e,t,n){var i,r;if(e)if(G(e))for(i in e)"prototype"!==i&&"length"!==i&&"name"!==i&&e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else if(z(e)||_(e)){var o="object"!=typeof e;for(i=0,r=e.length;i<r;i++)(o||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==x)e.forEach(t,n,e);else if(F(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)c.call(e,i)&&t.call(n,e[i],i,e);return e}function C(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function k(e){return function(t,n){e(n,t)}}function S(){return++w}function T(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function E(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(I(a)||G(a))for(var s=Object.keys(a),l=0,u=s.length;l<u;l++){var c=s[l],d=a[c];n&&I(d)?H(d)?e[c]=new Date(d.valueOf()):Q(d)?e[c]=new RegExp(d):d.nodeName?e[c]=d.cloneNode(!0):te(d)?e[c]=d.clone():"__proto__"!==c&&(I(e[c])||(e[c]=z(d)?[]:{}),E(e[c],[d],!0)):e[c]=d}}return T(e,i),e}function P(e){return E(e,h.call(arguments,1),!1)}function O(e){return E(e,h.call(arguments,1),!0)}function q(e){return parseInt(e,10)}o=e.document.documentMode;var $=Number.isNaN||function(e){return e!=e};function M(e,t){return P(Object.create(e),t)}function L(){}function j(e){return e}function A(e){return function(){return e}}function D(e){return G(e.toString)&&e.toString!==g}function N(e){return void 0===e}function R(e){return void 0!==e}function I(e){return null!==e&&"object"==typeof e}function F(e){return null!==e&&"object"==typeof e&&!v(e)}function U(e){return"string"==typeof e}function B(e){return"number"==typeof e}function H(e){return"[object Date]"===g.call(e)}function z(e){return Array.isArray(e)||e instanceof Array}function V(e){switch(g.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function G(e){return"function"==typeof e}function Q(e){return"[object RegExp]"===g.call(e)}function W(e){return e&&e.window===e}function Y(e){return e&&e.$evalAsync&&e.$watch}function K(e){return"boolean"==typeof e}function Z(e){return e&&G(e.then)}L.$inject=[],j.$inject=[];var J=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,X=function(e){return U(e)?e.trim():e},ee=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function te(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function ne(e){return d(e.nodeName||e[0]&&e[0].nodeName)}function ie(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function re(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function oe(e,t,n){var r,o,a=[],s=[];if(n=i(n)?n:NaN,t){if((o=t)&&B(o.length)&&J.test(g.call(o))||(r=t,"[object ArrayBuffer]"===g.call(r)))throw y("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw y("cpi","Can't copy! Source and destination are identical.");return z(t)?t.length=0:x(t,(function(e,n){"$$hashKey"!==n&&delete t[n]})),a.push(e),s.push(t),l(e,t,n)}return u(e,n);function l(e,t,n){if(--n<0)return"...";var i,r=t.$$hashKey;if(z(e))for(var o=0,a=e.length;o<a;o++)t.push(u(e[o],n));else if(F(e))for(i in e)t[i]=u(e[i],n);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=u(e[i],n));else for(i in e)c.call(e,i)&&(t[i]=u(e[i],n));return T(t,r),t}function u(e,t){if(!I(e))return e;var n=a.indexOf(e);if(-1!==n)return s[n];if(W(e)||Y(e))throw y("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=function(e){switch(g.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(u(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(G(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===r&&(r=z(e)?[]:Object.create(v(e)),i=!0),a.push(e),s.push(r),i?l(e,r,t):r}}function ae(e,t){return e===t||e!=e&&t!=t}function se(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,i,r,o=typeof e;if(o===typeof t&&"object"===o){if(!z(e)){if(H(e))return!!H(t)&&ae(e.getTime(),t.getTime());if(Q(e))return!!Q(t)&&e.toString()===t.toString();if(Y(e)||Y(t)||W(e)||W(t)||z(t)||H(t)||Q(t))return!1;for(i in r=Re(),e)if("$"!==i.charAt(0)&&!G(e[i])){if(!se(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&R(t[i])&&!G(t[i]))return!1;return!0}if(!z(t))return!1;if((n=e.length)===t.length){for(i=0;i<n;i++)if(!se(e[i],t[i]))return!1;return!0}}return!1}var le=function(){if(!R(le.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");le.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else le.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return le.rules},ue=function(){if(R(ue.name_))return ue.name_;var t,n,i,r,o=Se.length;for(n=0;n<o;++n)if(i=Se[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return ue.name_=r};function ce(e,t,n){return e.concat(h.call(t,n))}function de(e,t){return h.call(e,t||0)}function pe(e,t){var n=arguments.length>2?de(arguments,2):[];return!G(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,ce(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function he(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:W(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":Y(n)&&(i="$SCOPE"),i}function fe(e,t){if(!N(e))return B(t)||(t=t?2:null),JSON.stringify(e,he,t)}function me(e){return U(e)?JSON.parse(e):e}var ge=/:/g;function ve(e,t){e=e.replace(ge,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return $(n)?t:n}function ye(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function be(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return ye(e,n*(ve(t,i)-i))}function we(e){e=a(e).clone().empty();var t=a("<div></div>").append(e).html();try{return e[0].nodeType===Fe?d(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,(function(e,t){return"<"+d(t)}))}catch(e){return d(t)}}function _e(e){try{return decodeURIComponent(e)}catch(e){}}function xe(e){var t={};return x((e||"").split("&"),(function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(i=e.substring(0,n),r=e.substring(n+1)),R(i=_e(i))&&(r=!R(r)||_e(r),c.call(t,i)?z(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))})),t}function Ce(e){return ke(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ke(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var Se=["ng-","data-ng-","ng:","x-ng-"],Te=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var i=n.attributes;return[i.getNamedItem("src"),i.getNamedItem("href"),i.getNamedItem("xlink:href")].every((function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(e.document);function Ee(t,n,i){I(i)||(i={}),i=P({strictDi:!1},i);var r=function(){if((t=a(t)).injector()){var r=t[0]===e.document?"document":we(t);throw y("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=Kt(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply((function(){t.data("$injector",i),n(t)(e)}))}]),o},o=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!s.test(e.name))return r();e.name=e.name.replace(s,""),b.resumeBootstrap=function(e){return x(e,(function(e){n.push(e)})),r()},G(b.resumeDeferredBootstrap)&&b.resumeDeferredBootstrap()}function Pe(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function Oe(e){var t=b.element(e).injector();if(!t)throw y("test","no injector found for element argument to getTestability");return t.get("$$testability")}var qe=/[A-Z]/g;function $e(e,t){return t=t||"_",e.replace(qe,(function(e,n){return(n?t:"")+e.toLowerCase()}))}var Me=!1;function Le(){dt.legacyXHTMLReplacement=!0}function je(e,t,n){if(!e)throw y("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function Ae(e,t,n){return n&&z(e)&&(e=e[e.length-1]),je(G(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function De(e,t){if("hasOwnProperty"===e)throw y("badname","hasOwnProperty is not a valid {0} name",t)}function Ne(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=a(h.call(e,0,r))),t.push(n));return t||e}function Re(){return Object.create(null)}function Ie(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!D(e)||z(e)||H(e)?fe(e):e.toString()}return e}var Fe=3;function Ue(e,t){if(z(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(I(e))for(var r in t=t||{},e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r]);return t||e}function Be(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):N(e)?"undefined":"string"!=typeof e?function(e,t){var n=[];return i(t)&&(e=b.copy(e,null,t)),JSON.stringify(e,(function(e,t){if(I(t=he(e,t))){if(n.indexOf(t)>=0)return"...";n.push(t)}return t}))}(e,t):e}var He={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};dt.expando="ng339";var ze=dt.cache={},Ve=1;dt._data=function(e){return this.cache[e[this.expando]]||{}};var Ge=/-([a-z])/g,Qe=/^-ms-/,We={mouseleave:"mouseout",mouseenter:"mouseover"},Ye=r("jqLite");function Ke(e,t){return t.toUpperCase()}function Ze(e){return e.replace(Ge,Ke)}var Je=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Xe=/<|&#?\w+;/,et=/<([\w:-]+)/,tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,nt={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};nt.tbody=nt.tfoot=nt.colgroup=nt.caption=nt.thead,nt.th=nt.td;var it={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var rt in nt){var ot=nt[rt],at=ot.slice().reverse();it[rt]=[at.length,"<"+at.join("><")+">","</"+ot.join("></")+">"]}function st(e){return!Xe.test(e)}function lt(e){var t=e.nodeType;return 1===t||!t||9===t}function ut(t,n){var i,r,a,s,l,u=n.createDocumentFragment(),c=[];if(st(t))c.push(n.createTextNode(t));else{if(i=u.appendChild(n.createElement("div")),r=(et.exec(t)||["",""])[1].toLowerCase(),s=dt.legacyXHTMLReplacement?t.replace(tt,"<$1></$2>"):t,o<10)for(a=it[r]||it._default,i.innerHTML=a[1]+s+a[2],l=a[0];l--;)i=i.firstChild;else{for(l=(a=nt[r]||[]).length;--l>-1;)i.appendChild(e.document.createElement(a[l])),i=i.firstChild;i.innerHTML=s}c=ce(c,i.childNodes),(i=u.firstChild).textContent=""}return u.textContent="",u.innerHTML="",x(c,(function(e){u.appendChild(e)})),u}it.optgroup=it.option;var ct=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function dt(t){if(t instanceof dt)return t;var n,i,r,o;if(U(t)&&(t=X(t),n=!0),!(this instanceof dt)){if(n&&"<"!==t.charAt(0))throw Ye("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new dt(t)}n?Ct(this,(i=t,r=r||e.document,(o=Je.exec(i))?[r.createElement(o[1])]:(o=ut(i,r))?o.childNodes:[])):G(t)?Pt(t):Ct(this,t)}function pt(e){return e.cloneNode(!0)}function ht(e,t){!t&&lt(e)&&a.cleanData([e]),e.querySelectorAll&&a.cleanData(e.querySelectorAll("*"))}function ft(e){var t;for(t in e)return!1;return!0}function mt(e){var t=e.ng339,n=t&&ze[t],i=n&&n.events,r=n&&n.data;r&&!ft(r)||i&&!ft(i)||(delete ze[t],e.ng339=void 0)}function gt(e,t,n,i){if(R(i))throw Ye("offargs","jqLite#off() does not support the `selector` argument");var r=yt(e),o=r&&r.events,a=r&&r.handle;if(a){if(t){var s=function(t){var i=o[t];R(n)&&re(i||[],n),R(n)&&i&&i.length>0||(e.removeEventListener(t,a),delete o[t])};x(t.split(" "),(function(e){s(e),We[e]&&s(We[e])}))}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,a),delete o[t];mt(e)}}function vt(e,t){var n=e.ng339,i=n&&ze[n];i&&(t?delete i.data[t]:i.data={},mt(e))}function yt(e,t){var n=e.ng339,i=n&&ze[n];return t&&!i&&(e.ng339=n=++Ve,i=ze[n]={events:{},data:{},handle:void 0}),i}function bt(e,t,n){if(lt(e)){var i,r=R(n),o=!r&&t&&!I(t),a=!t,s=yt(e,!o),l=s&&s.data;if(r)l[Ze(t)]=n;else{if(a)return l;if(o)return l&&l[Ze(t)];for(i in t)l[Ze(i)]=t[i]}}}function wt(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function _t(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;x(t.split(" "),(function(e){e=X(e),i=i.replace(" "+e+" "," ")})),i!==n&&e.setAttribute("class",X(i))}}function xt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;x(t.split(" "),(function(e){e=X(e),-1===i.indexOf(" "+e+" ")&&(i+=e+" ")})),i!==n&&e.setAttribute("class",X(i))}}function Ct(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function kt(e,t){return St(e,"$"+(t||"ngController")+"Controller")}function St(e,t,n){9===e.nodeType&&(e=e.documentElement);for(var i=z(t)?t:[t];e;){for(var r=0,o=i.length;r<o;r++)if(R(n=a.data(e,i[r])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Tt(e){for(ht(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Et(e,t){t||ht(e);var n=e.parentNode;n&&n.removeChild(e)}function Pt(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}var Ot=dt.prototype={ready:Pt,toString:function(){var e=[];return x(this,(function(t){e.push(""+t)})),"["+e.join(", ")+"]"},eq:function(e){return a(e>=0?this[e]:this[this.length+e])},length:0,push:m,sort:[].sort,splice:[].splice},qt={};x("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(e){qt[d(e)]=e}));var $t={};x("input,select,option,textarea,button,form,details".split(","),(function(e){$t[e]=!0}));var Mt={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Lt(e,t){var n=qt[t.toLowerCase()];return n&&$t[ne(e)]&&n}function jt(e,t,n){n.call(e,t)}function At(e,t,n){var i=t.relatedTarget;i&&(i===e||ct.call(e,i))||n.call(e,t)}function Dt(){this.$get=function(){return P(dt,{hasClass:function(e,t){return e.attr&&(e=e[0]),wt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),xt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),_t(e,t)}})}}function Nt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return"function"===i||"object"===i&&null!==e?e.$$hashKey=i+":"+(t||S)():i+":"+e}x({data:bt,removeData:vt,hasData:function(e){for(var t in ze[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)vt(e[t]),gt(e[t])}},(function(e,t){dt[t]=e})),x({data:bt,inheritedData:St,scope:function(e){return a.data(e,"$scope")||St(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return a.data(e,"$isolateScope")||a.data(e,"$isolateScopeNoTemplate")},controller:kt,injector:function(e){return St(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:wt,css:function(e,t,n){if(t=function(e){return Ze(e.replace(Qe,"ms-"))}(t),!R(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var i,r=e.nodeType;if(r!==Fe&&2!==r&&8!==r&&e.getAttribute){var o=d(t),a=qt[o];if(!R(n))return i=e.getAttribute(t),a&&null!==i&&(i=o),null===i?void 0:i;null===n||!1===n&&a?e.removeAttribute(t):e.setAttribute(t,a?o:n)}},prop:function(e,t,n){if(!R(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(N(t)){var n=e.nodeType;return 1===n||n===Fe?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(N(t)){if(e.multiple&&"select"===ne(e)){var n=[];return x(e.options,(function(e){e.selected&&n.push(e.value||e.text)})),n}return e.value}e.value=t},html:function(e,t){if(N(t))return e.innerHTML;ht(e,!0),e.innerHTML=t},empty:Tt},(function(e,t){dt.prototype[t]=function(t,n){var i,r,o=this.length;if(e!==Tt&&N(2===e.length&&e!==wt&&e!==kt?t:n)){if(I(t)){for(i=0;i<o;i++)if(e===bt)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var a=e.$dv,s=N(a)?Math.min(o,1):o,l=0;l<s;l++){var u=e(this[l],t,n);a=a?a+u:u}return a}for(i=0;i<o;i++)e(this[i],t,n);return this}})),x({removeData:vt,on:function(e,t,n,i){if(R(i))throw Ye("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(lt(e)){var r=yt(e,!0),o=r.events,a=r.handle;a||(a=r.handle=function(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(N(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||jt;o>1&&(r=Ue(r));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,u=function(t,i,r){var s=o[t];s||((s=o[t]=[]).specialHandlerWrapper=i,"$destroy"===t||r||e.addEventListener(t,a)),s.push(n)};l--;)t=s[l],We[t]?(u(We[t],At),u(t,void 0,!0)):u(t)}},off:gt,one:function(e,t,n){(e=a(e)).on(t,(function i(){e.off(t,n),e.off(t,i)})),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;ht(e),x(new dt(t),(function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t}))},children:function(e){var t=[];return x(e.childNodes,(function(e){1===e.nodeType&&t.push(e)})),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n)for(var i=0,r=(t=new dt(t)).length;i<r;i++){var o=t[i];e.appendChild(o)}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;x(new dt(t),(function(t){e.insertBefore(t,n)}))}},wrap:function(e,t){var n,i,r;n=e,i=a(t).eq(0).clone()[0],(r=n.parentNode)&&r.replaceChild(i,n),i.appendChild(n)},remove:Et,detach:function(e){Et(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i)for(var r=0,o=(t=new dt(t)).length;r<o;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:xt,removeClass:_t,toggleClass:function(e,t,n){t&&x(t.split(" "),(function(t){var i=n;N(i)&&(i=!wt(e,t)),(i?xt:_t)(e,t)}))},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:pt,triggerHandler:function(e,t,n){var i,r,o,a=t.type||t,s=yt(e),l=s&&s.events,u=l&&l[a];u&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:L,type:a,target:e},t.type&&(i=P(i,t)),r=Ue(u),o=n?[i].concat(n):[i],x(r,(function(t){i.isImmediatePropagationStopped()||t.apply(e,o)})))}},(function(e,t){dt.prototype[t]=function(t,n,i){for(var r,o=0,s=this.length;o<s;o++)N(r)?R(r=e(this[o],t,n,i))&&(r=a(r)):Ct(r,e(this[o],t,n,i));return R(r)?r:this}})),dt.prototype.bind=dt.prototype.on,dt.prototype.unbind=dt.prototype.off;var Rt=Object.create(null);function It(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}It.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return $(e)?Rt:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Ft=It,Ut=[function(){this.$get=[function(){return Ft}]}],Bt=/^([^(]+?)=>/,Ht=/^[^(]*\(\s*([^)]*)\)/m,zt=/,/,Vt=/^\s*(_?)(\S+?)\1\s*$/,Gt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Qt=r("$injector");function Wt(e){return Function.prototype.toString.call(e)}function Yt(e){var t=Wt(e).replace(Gt,"");return t.match(Bt)||t.match(Ht)}function Kt(e,t){t=!0===t;var n={},i="Provider",r=[],a=new Ft,s={$provide:{provider:f(m),factory:f(v),service:f((function(e,t){return v(e,["$injector",function(e){return e.instantiate(t)}])})),value:f((function(e,t){return v(e,A(t),!1)})),constant:f((function(e,t){De(e,"constant"),s[e]=t,c[e]=t})),decorator:function(e,t){var n=u.get(e+i),r=n.$get;n.$get=function(){var e=p.invoke(r,n);return p.invoke(t,null,{$delegate:e})}}}},u=s.$injector=w(s,(function(e,t){throw b.isString(t)&&r.push(t),Qt("unpr","Unknown provider: {0}",r.join(" <- "))})),c={},d=w(c,(function(e,t){var n=u.get(e+i,t);return p.invoke(n.$get,n,void 0,e)})),p=d;s.$injectorProvider={$get:A(d)},p.modules=u.modules=Re();var h=y(e);return(p=d.get("$injector")).strictDi=t,x(h,(function(e){e&&p.invoke(e)})),p.loadNewModules=function(e){x(y(e),(function(e){e&&p.invoke(e)}))},p;function f(e){return function(t,n){if(!I(t))return e(t,n);x(t,k(e))}}function m(e,t){if(De(e,"service"),(G(t)||z(t))&&(t=u.instantiate(t)),!t.$get)throw Qt("pget","Provider '{0}' must define $get factory method.",e);return s[e+i]=t}function g(e,t){return function(){var n=p.invoke(t,this);if(N(n))throw Qt("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function v(e,t,n){return m(e,{$get:!1!==n?g(e,t):t})}function y(e){je(N(e)||z(e),"modulesToLoad","not an array");var t,n=[];return x(e,(function(e){if(!a.get(e)){a.set(e,!0);try{U(e)?(t=l(e),p.modules[e]=t,n=n.concat(y(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):G(e)||z(e)?n.push(u.invoke(e)):Ae(e,"module")}catch(t){throw z(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Qt("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=u.get(i[0]);r[i[1]].apply(r,i[2])}}})),n}function w(e,a){function l(t,i){if(e.hasOwnProperty(t)){if(e[t]===n)throw Qt("cdep","Circular dependency found: {0}",t+" <- "+r.join(" <- "));return e[t]}try{return r.unshift(t),e[t]=n,e[t]=a(t,i),e[t]}catch(i){throw e[t]===n&&delete e[t],i}finally{r.shift()}}function u(e,n,i){for(var r=[],o=Kt.$$annotate(e,t,i),a=0,s=o.length;a<s;a++){var u=o[a];if("string"!=typeof u)throw Qt("itkn","Incorrect injection token! Expected service name as string, got {0}",u);r.push(n&&n.hasOwnProperty(u)?n[u]:l(u,i))}return r}return{invoke:function(e,t,n,i){"string"==typeof n&&(i=n,n=null);var r=u(e,n,i);return z(e)&&(e=e[e.length-1]),function(e){if(o||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return K(t)||(t=e.$$ngIsClass=/^class\b/.test(Wt(e))),t}(e)?(r.unshift(null),new(Function.prototype.bind.apply(e,r))):e.apply(t,r)},instantiate:function(e,t,n){var i=z(e)?e[e.length-1]:e,r=u(e,t,n);return r.unshift(null),new(Function.prototype.bind.apply(i,r))},get:l,annotate:Kt.$$annotate,has:function(t){return s.hasOwnProperty(t+i)||e.hasOwnProperty(t)}}}}function Zt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,i,r){var o=n.document;function s(e){if(e){e.scrollIntoView();var t=function(){var e=l.yOffset;if(G(e))e=e();else if(te(e)){var t=e[0];e="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else B(e)||(e=0);return e}();if(t){var i=e.getBoundingClientRect().top;n.scrollBy(0,i-t)}}else n.scrollTo(0,0)}function l(e){var t,n,r;(e=U(e)?e:B(e)?e.toString():i.hash())?(t=o.getElementById(e))?s(t):(n=o.getElementsByName(e),r=null,Array.prototype.some.call(n,(function(e){if("a"===ne(e))return r=e,!0})),(t=r)?s(t):"top"===e&&s(null)):s(null)}return t&&r.$watch((function(){return i.hash()}),(function(t,n){var i,o;t===n&&""===t||(i=function(){r.$evalAsync(l)},"complete"===(o=o||e).document.readyState?o.setTimeout(i):a(o).on("load",i))})),l}]}Kt.$$annotate=function(e,t,n){var i,r;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw U(n)&&n||(n=e.name||function(e){var t=Yt(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),Qt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);x(Yt(e)[1].split(zt),(function(e){e.replace(Vt,(function(e,t,n){i.push(n)}))}))}e.$inject=i}}else z(e)?(Ae(e[r=e.length-1],"fn"),i=e.slice(0,r)):Ae(e,"fn",!0);return i};var Jt=r("$animate"),Xt="ng-animate";function en(e,t){return e||t?e?t?(z(e)&&(e=e.join(" ")),z(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function tn(e){return I(e)?e:{}}var nn=function(){this.$get=L},rn=function(){var e=new Ft,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){return{enabled:L,on:L,off:L,pin:L,push:function(a,s,l,u){u&&u(),(l=l||{}).from&&a.css(l.from),l.to&&a.css(l.to),(l.addClass||l.removeClass)&&function(n,a,s){var l=e.get(n)||{},u=r(l,a,!0),c=r(l,s,!1);(u||c)&&(e.set(n,l),t.push(n),1===t.length&&i.$$postDigest(o))}(a,l.addClass,l.removeClass);var c=new n;return c.complete(),c}};function r(e,t,n){var i=!1;return t&&x(t=U(t)?t.split(" "):z(t)?t:[],(function(t){t&&(i=!0,e[t]=n)})),i}function o(){x(t,(function(t){var n=e.get(t);if(n){var i=function(e){U(e)&&(e=e.split(" "));var t=Re();return x(e,(function(e){e.length&&(t[e]=!0)})),t}(t.attr("class")),r="",o="";x(n,(function(e,t){e!==!!i[t]&&(e?r+=(r.length?" ":"")+t:o+=(o.length?" ":"")+t)})),x(t,(function(e){r&&xt(e,r),o&&_t(e,o)})),e.delete(t)}})),t.length=0}}]},on=["$provide",function(e){var t=this,n=null,i=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Jt("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.customFilter=function(e){return 1===arguments.length&&(i=G(e)?e:null),i},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)){var t=new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]");if(t.test(n.toString()))throw n=null,Jt("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Xt)}return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(n,i,r,o){return i=i&&a(i),r=r&&a(r),t(n,i=i||r.parent(),r),e.push(n,"enter",tn(o))},move:function(n,i,r,o){return i=i&&a(i),r=r&&a(r),t(n,i=i||r.parent(),r),e.push(n,"move",tn(o))},leave:function(t,n){return e.push(t,"leave",tn(n),(function(){t.remove()}))},addClass:function(t,n,i){return(i=tn(i)).addClass=en(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return(i=tn(i)).removeClass=en(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return(r=tn(r)).addClass=en(r.addClass,n),r.removeClass=en(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return(o=tn(o)).from=o.from?P(o.from,n):n,o.to=o.to?P(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=en(o.tempClasses,r),e.push(t,"animate",o)}}}]}],an=function(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n),t.length>1||e((function(){for(var e=0;e<t.length;e++)t[e]();t=[]}))}return function(){var e=!1;return n((function(){e=!0})),function(t){e?t():n(t)}}}]},sn=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,i,r){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){i()?function(e){r(e,0,!1)}(e):t(e)},this._state=0}return o.chain=function(e,t){var n=0;!function i(){n!==e.length?e[n]((function(e){!1!==e?(n++,i()):t(!1)})):t(!0)}()},o.all=function(e,t){var n=0,i=!0;function r(r){i=i&&r,++n===e.length&&t(i)}x(e,(function(e){e.done(r)}))},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:L,getPromise:function(){if(!this.promise){var t=this;this.promise=e((function(e,n){t.done((function(t){!1===t?n():e()}))}))}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick((function(){t._resolve(e)})))},_resolve:function(e){2!==this._state&&(x(this._doneCallbacks,(function(t){t(e)})),this._doneCallbacks.length=0,this._state=2)}},o}]},ln=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){var r=i||{};r.$$prepared||(r=oe(r)),r.cleanupStyles&&(r.from=r.to=null),r.from&&(t.css(r.from),r.from=null);var o,a=new n;return{start:s,end:s};function s(){return e((function(){r.addClass&&(t.addClass(r.addClass),r.addClass=null),r.removeClass&&(t.removeClass(r.removeClass),r.removeClass=null),r.to&&(t.css(r.to),r.to=null),o||a.complete(),o=!0})),a}}}]};function un(e,t,n,i,r){var o=this,s=e.location,l=e.history,u=e.setTimeout,c=e.clearTimeout,d={},p=r(n);o.isMock=!1,o.$$completeOutstandingRequest=p.completeTask,o.$$incOutstandingRequestCount=p.incTaskCount,o.notifyWhenNoOutstandingRequests=p.notifyWhenNoPendingTasks;var h,f,m=s.href,g=t.find("base"),v=null,y=i.history?function(){try{return l.state}catch(e){}}:L;k(),o.url=function(t,n,r){if(N(r)&&(r=null),s!==e.location&&(s=e.location),l!==e.history&&(l=e.history),t){var a=f===r;if(t=sr(t).href,m===t&&(!i.history||a))return o;var u=m&&ai(m)===ai(t);return m=t,f=r,!i.history||u&&a?(u||(v=t),n?s.replace(t):u?s.hash=function(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}(t):s.href=t,s.href!==t&&(v=t)):(l[n?"replaceState":"pushState"](r,"",t),k()),v&&(v=t),o}return function(e){return e.replace(/#$/,"")}(v||s.href)},o.state=function(){return h};var b=[],w=!1;function _(){v=null,S()}var C=null;function k(){se(h=N(h=y())?null:h,C)&&(h=C),C=h,f=h}function S(){var e=f;k(),m===o.url()&&e===h||(m=o.url(),f=h,x(b,(function(e){e(o.url(),h)})))}o.onUrlChange=function(t){return w||(i.history&&a(e).on("popstate",_),a(e).on("hashchange",_),w=!0),b.push(t),t},o.$$applicationDestroyed=function(){a(e).off("hashchange popstate",_)},o.$$checkUrlChange=S,o.baseHref=function(){var e=g.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},o.defer=function(e,t,n){var i;return t=t||0,n=n||p.DEFAULT_TASK_TYPE,p.incTaskCount(n),i=u((function(){delete d[i],p.completeTask(e,n)}),t),d[i]=n,i},o.defer.cancel=function(e){if(d.hasOwnProperty(e)){var t=d[e];return delete d[e],c(e),p.completeTask(L,t),!0}return!1}}function cn(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,n,i,r){return new un(e,i,t,n,r)}]}function dn(){this.$get=function(){var e={};function t(t,n){if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var i=0,o=P({},n,{id:t}),a=Re(),s=n&&n.capacity||Number.MAX_VALUE,l=Re(),u=null,c=null;return e[t]={put:function(e,t){if(!N(t))return s<Number.MAX_VALUE&&d(l[e]||(l[e]={key:e})),e in a||i++,a[e]=t,i>s&&this.remove(c.key),t},get:function(e){if(s<Number.MAX_VALUE){var t=l[e];if(!t)return;d(t)}return a[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=l[e];if(!t)return;t===u&&(u=t.p),t===c&&(c=t.n),p(t.n,t.p),delete l[e]}e in a&&(delete a[e],i--)},removeAll:function(){a=Re(),i=0,l=Re(),u=c=null},destroy:function(){a=null,o=null,l=null,delete e[t]},info:function(){return P({},o,{size:i})}};function d(e){e!==u&&(c?c===e&&(c=e.n):c=e,p(e.n,e.p),p(e,u),(u=e).n=null)}function p(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return x(e,(function(e,n){t[n]=e.info()})),t},t.get=function(t){return e[t]},t}}function pn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var hn=r("$compile"),fn=new function(){};function mn(t,n){var i={},r="Directive",s=/^\s*directive:\s*([\w-]+)\s+(.*)$/,l=/(([\w-]+)(?::([^;]+))?;?)/,u=function(e){var t,n={},i="ngSrc,ngSrcset,src,srcset".split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}(),p=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,h=/^(on[a-z]+|formaction)$/,f=Re();function m(e,t,n){var i=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,r=Re();return x(e,(function(e,o){if((e=e.trim())in f)r[o]=f[e];else{var a=e.match(i);if(!a)throw hn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");r[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(f[e]=r[o])}})),r}function v(e,t){var n={isolateScope:null,bindToController:null};if(I(e.scope)&&(!0===e.bindToController?(n.bindToController=m(e.scope,t,!0),n.isolateScope={}):n.isolateScope=m(e.scope,t,!1)),I(e.bindToController)&&(n.bindToController=m(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw hn("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}this.directive=function e(n,o){return je(n,"name"),De(n,"directive"),U(n)?(function(e){var t=e.charAt(0);if(!t||t!==d(t))throw hn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw hn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(n),je(o,"directiveFactory"),i.hasOwnProperty(n)||(i[n]=[],t.factory(n+r,["$injector","$exceptionHandler",function(e,t){var r=[];return x(i[n],(function(i,o){try{var a=e.invoke(i);G(a)?a={compile:A(a)}:!a.compile&&a.link&&(a.compile=A(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=function(e){var t=e.require||e.controller&&e.name;return!z(t)&&I(t)&&x(t,(function(e,n){var i=e.match(p);e.substring(i[0].length)||(t[n]=i[0]+n)})),t}(a),a.restrict=function(e,t){if(e&&(!U(e)||!/[EACM]/.test(e)))throw hn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}(a.restrict,n),a.$$moduleName=i.$$moduleName,r.push(a)}catch(e){t(e)}})),r}])),i[n].push(o)):x(n,k(e)),this},this.component=function e(t,n){if(!U(t))return x(t,k(pe(this,e))),this;var i=n.controller||function(){};function r(e){function t(t){return G(t)||z(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var r=n.template||n.templateUrl?n.template:"",o={controller:i,controllerAs:kn(n.controller)||n.controllerAs||"$ctrl",template:t(r),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return x(n,(function(e,t){"$"===t.charAt(0)&&(o[t]=e)})),o}return x(n,(function(e,t){"$"===t.charAt(0)&&(r[t]=e,G(i)&&(i[t]=e))})),r.$inject=["$injector"],this.directive(t,r)},this.aHrefSanitizationTrustedUrlList=function(e){return R(e)?(n.aHrefSanitizationTrustedUrlList(e),this):n.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(e){this.aHrefSanitizationTrustedUrlList=e}}),this.imgSrcSanitizationTrustedUrlList=function(e){return R(e)?(n.imgSrcSanitizationTrustedUrlList(e),this):n.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(e){this.imgSrcSanitizationTrustedUrlList=e}});var y=!0;this.debugInfoEnabled=function(e){return R(e)?(y=e,this):y};var b=!1;this.strictComponentBindingsEnabled=function(e){return R(e)?(b=e,this):b};var w=10;this.onChangesTtl=function(e){return arguments.length?(w=e,this):w};var _=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(_=e,this):_};var C=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(C=e,this):C};var S=Re();this.addPropertySecurityContext=function(e,t,n){var i=e.toLowerCase()+"|"+t.toLowerCase();if(i in S&&S[i]!==n)throw hn("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",e,t,S[i],n);return S[i]=n,this},function(){function e(e,t){x(t,(function(t){S[t.toLowerCase()]=e}))}e(Hi.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(Hi.CSS,["*|style"]),e(Hi.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),e(Hi.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),e(Hi.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(t,n,f,m,k,T,E,O,q){var $,A=/^\w/,D=e.document.createElement("div"),R=_,F=C,B=w;function H(){try{if(!--B)throw $=void 0,hn("infchng","{0} $onChanges() iterations reached. Aborting!\n",w);E.$apply((function(){for(var e=0,t=$.length;e<t;++e)try{$[e]()}catch(e){f(e)}$=void 0}))}finally{B++}}function Q(e,t){if(!e)return e;if(!U(e))throw hn("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',t,e.toString());for(var n="",i=X(e),r=/\s/.test(i)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,o=i.split(r),a=Math.floor(o.length/2),s=0;s<a;s++){var l=2*s;n+=O.getTrustedMediaUrl(X(o[l])),n+=" "+X(o[l+1])}var u=X(o[2*s]).split(/\s/);return n+=O.getTrustedMediaUrl(X(u[0])),2===u.length&&(n+=" "+X(u[1])),n}function W(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)this[r=o[n]]=t[r]}else this.$attr={};this.$$element=e}function Z(e,t){try{e.addClass(t)}catch(e){}}W.prototype={$normalize:bn,$addClass:function(e){e&&e.length>0&&q.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&q.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=wn(e,t);n&&n.length&&q.addClass(this.$$element,n);var i=wn(t,e);i&&i.length&&q.removeClass(this.$$element,i)},$set:function(e,t,n,i){var r=Lt(this.$$element[0],e),o=Mt[e],a=e;r?(this.$$element.prop(e,t),i=r):o&&(this[o]=t,a=o),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=$e(e,"-")),"img"===ne(this.$$element)&&"srcset"===e&&(this[e]=t=Q(t,"$set('srcset', value)")),!1!==n&&(null===t||N(t)?this.$$element.removeAttr(i):A.test(i)?r&&!1===t?this.$$element.removeAttr(i):this.$$element.attr(i,t):function(e,t,n){D.innerHTML="<span "+t+">";var i=D.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}(this.$$element[0],i,t));var s=this.$$observers;s&&x(s[a],(function(e){try{e(t)}catch(e){f(e)}}))},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=Re()),r=i[e]||(i[e]=[]);return r.push(t),E.$evalAsync((function(){r.$$inter||!n.hasOwnProperty(e)||N(n[e])||t(n[e])})),function(){re(r,t)}}};var J=n.startSymbol(),ee=n.endSymbol(),te="{{"===J&&"}}"===ee?j:function(e){return e.replace(/\{\{/g,J).replace(/}}/g,ee)},ie=/^ng(Attr|Prop|On)([A-Z].*)$/,oe=/^(.+)Start$/;return le.$$addBindingInfo=y?function(e,t){var n=e.data("$binding")||[];z(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:L,le.$$addBindingClass=y?function(e){Z(e,"ng-binding")}:L,le.$$addScopeInfo=y?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:L,le.$$addScopeClass=y?function(e,t){Z(e,t?"ng-isolate-scope":"ng-scope")}:L,le.$$createComment=function(t,n){var i="";return y&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},le;function le(e,t,n,i,r){e instanceof a||(e=a(e));var o=ue(e,t,e,n,i,r);le.$$addScopeClass(e);var s=null;return function(t,n,i){if(!e)throw hn("multilink","This element has already been linked.");je(t,"scope"),r&&r.needsNewScope&&(t=t.$parent.$new());var l,u,c,d=(i=i||{}).parentBoundTranscludeFn,p=i.transcludeControllers,h=i.futureParentElement;if(d&&d.$$boundTransclude&&(d=d.$$boundTransclude),s||(u=(l=h)&&l[0],s=u&&"foreignobject"!==ne(u)&&g.call(u).match(/SVG/)?"svg":"html"),c="html"!==s?a(Pe(s,a("<div></div>").append(e).html())):n?Ot.clone.call(e):e,p)for(var f in p)c.data("$"+f+"Controller",p[f].instance);return le.$$addScopeInfo(c,t),n&&n(c,t),o&&o(t,c,c,d),n||(e=o=null),c}}function ue(e,t,n,i,r,s){for(var l,u,c,d,p,h,f,m=[],g=z(e)||e instanceof a,v=0;v<e.length;v++)l=new W,11===o&&ce(e,v,g),(c=(u=fe(e[v],[],l,0===v?i:void 0,r)).length?ye(u,e[v],l,t,n,null,[],[],s):null)&&c.scope&&le.$$addScopeClass(l.$$element),p=c&&c.terminal||!(d=e[v].childNodes)||!d.length?null:ue(d,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||p)&&(m.push(v,c,p),h=!0,f=f||c),s=null;return h?function(e,n,i,r){var o,s,l,u,c,d,p,h;if(f){var g=n.length;for(h=new Array(g),c=0;c<m.length;c+=3)h[p=m[c]]=n[p]}else h=n;for(c=0,d=m.length;c<d;)l=h[m[c++]],o=m[c++],s=m[c++],o?(o.scope?(u=e.$new(),le.$$addScopeInfo(a(l),u)):u=e,o(s,u,l,i,o.transcludeOnThisElement?he(e,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&t?he(e,t):null)):s&&s(e,l.childNodes,void 0,r)}:null}function ce(e,t,n){var i,r=e[t],o=r.parentNode;if(r.nodeType===Fe)for(;(i=o?r.nextSibling:e[t+1])&&i.nodeType===Fe;)r.nodeValue=r.nodeValue+i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===e[t+1]&&e.splice(t+1,1)}function he(e,t,n){function i(i,r,o,a,s){return i||((i=e.$new(!1,s)).$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=Re();for(var o in t.$$slots)t.$$slots[o]?r[o]=he(e,t.$$slots[o],n):r[o]=null;return i}function fe(e,t,i,r,o){var a,u,c,d=e.nodeType,p=i.$attr;switch(d){case 1:xe(t,bn(u=ne(e)),"E",r,o);for(var h,f,m,g,v,y=e.attributes,b=0,w=y&&y.length;b<w;b++){var _,x=!1,C=!1,k=!1,S=!1,T=!1;f=(h=y[b]).name,g=h.value,(v=(m=bn(f.toLowerCase())).match(ie))?(k="Attr"===v[1],S="Prop"===v[1],T="On"===v[1],f=f.replace(vn,"").toLowerCase().substr(4+v[1].length).replace(/_(.)/g,(function(e,t){return t.toUpperCase()}))):(_=m.match(oe))&&Ce(_[1])&&(x=f,C=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),S||T?(i[m]=g,p[m]=h.name,S?qe(e,t,m,f):Me(t,m,f)):(p[m=bn(f.toLowerCase())]=f,!k&&i.hasOwnProperty(m)||(i[m]=g,Lt(e,m)&&(i[m]=!0)),Le(e,t,g,m,k),xe(t,m,"A",r,o,x,C))}if("input"===u&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!F)break;if(I(c=e.className)&&(c=c.animVal),U(c)&&""!==c)for(;a=l.exec(c);)xe(t,m=bn(a[2]),"C",r,o)&&(i[m]=X(a[3])),c=c.substr(a.index+a[0].length);break;case Fe:!function(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&le.$$addBindingClass(t),function(e,t){var r=t.parent();n||le.$$addBindingClass(r),le.$$addBindingInfo(r,i.expressions),e.$watch(i,(function(e){t[0].nodeValue=e}))}}})}(t,e.nodeValue);break;case 8:if(!R)break;!function(e,t,n,i,r){try{var o=s.exec(e.nodeValue);if(o){var a=bn(o[1]);xe(t,a,"M",i,r)&&(n[a]=X(o[2]))}}catch(e){}}(e,t,i,r,o)}return t.sort(Te),t}function me(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw hn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1===e.nodeType&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0);else i.push(e);return a(i)}function ge(e,t,n){return function(i,r,o,a,s){return r=me(r[0],t,n),e(i,r,o,a,s)}}function ve(e,t,n,i,r,o){var a;return e?le(t,n,i,r,o):function(){return a||(a=le(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function ye(t,n,i,r,o,s,l,u,c){c=c||{};for(var d,p,h,m,g,v=-Number.MAX_VALUE,y=c.newScopeDirective,b=c.controllerDirectives,w=c.newIsolateScopeDirective,_=c.templateDirective,C=c.nonTlbTranscludeDirective,k=!1,S=!1,E=c.hasElementTranscludeDirective,O=i.$$element=a(n),q=s,$=r,M=!1,L=!1,j=0,A=t.length;j<A;j++){var D=(d=t[j]).$$start,R=d.$$end;if(D&&(O=me(n,D,R)),h=void 0,v>d.priority)break;if((g=d.scope)&&(d.templateUrl||(I(g)?(Ee("new/isolated scope",w||y,d,O),w=d):Ee("new/isolated scope",w,d,O)),y=y||d),p=d.name,!M&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(var F,U=j+1;F=t[U++];)if(F.transclude&&!F.$$tlb||F.replace&&(F.templateUrl||F.template)){L=!0;break}M=!0}if(!d.templateUrl&&d.controller&&(b=b||Re(),Ee("'"+p+"' controller",b[p],d,O),b[p]=d),g=d.transclude)if(k=!0,d.$$tlb||(Ee("transclusion",C,d,O),C=d),"element"===g)E=!0,v=d.priority,h=O,O=i.$$element=a(le.$$createComment(p,i[p])),n=O[0],Ae(o,de(h),n),$=ve(L,h,r,v,q&&q.name,{nonTlbTranscludeDirective:C});else{var B=Re();if(I(g)){h=e.document.createDocumentFragment();var H=Re(),V=Re();for(var Q in x(g,(function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,H[e]=t,B[t]=null,V[t]=n})),x(O.contents(),(function(t){var n=H[bn(ne(t))];n?(V[n]=!0,B[n]=B[n]||e.document.createDocumentFragment(),B[n].appendChild(t)):h.appendChild(t)})),x(V,(function(e,t){if(!e)throw hn("reqslot","Required transclusion slot `{0}` was not filled.",t)})),B)if(B[Q]){var K=a(B[Q].childNodes);B[Q]=ve(L,K,r)}h=a(h.childNodes)}else h=a(pt(n)).contents();O.empty(),($=ve(L,h,r,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope})).$$slots=B}if(d.template)if(S=!0,Ee("template",_,d,O),_=d,g=G(d.template)?d.template(O,i):d.template,g=te(g),d.replace){if(q=d,h=st(g)?[]:_n(Pe(d.templateNamespace,X(g))),n=h[0],1!==h.length||1!==n.nodeType)throw hn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");Ae(o,O,n);var Z={$attr:{}},J=fe(n,[],Z),ee=t.splice(j+1,t.length-(j+1));(w||y)&&_e(J,w,y),t=t.concat(J).concat(ee),ke(i,Z),A=t.length}else O.html(g);if(d.templateUrl)S=!0,Ee("template",_,d,O),_=d,d.replace&&(q=d),oe=Se(t.splice(j,t.length-j),O,i,o,k&&$,l,u,{controllerDirectives:b,newScopeDirective:y!==d&&y,newIsolateScopeDirective:w,templateDirective:_,nonTlbTranscludeDirective:C}),A=t.length;else if(d.compile)try{m=d.compile(O,i,$);var ie=d.$$originalDirective||d;G(m)?re(null,pe(ie,m),D,R):m&&re(pe(ie,m.pre),pe(ie,m.post),D,R)}catch(e){f(e,we(O))}d.terminal&&(oe.terminal=!0,v=Math.max(v,d.priority))}return oe.scope=y&&!0===y.scope,oe.transcludeOnThisElement=k,oe.templateOnThisElement=S,oe.transclude=$,c.hasElementTranscludeDirective=E,oe;function re(e,t,n,i){e&&(n&&(e=ge(e,n,i)),e.require=d.require,e.directiveName=p,(w===d||d.$$isolateScope)&&(e=De(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=ge(t,n,i)),t.require=d.require,t.directiveName=p,(w===d||d.$$isolateScope)&&(t=De(t,{isolateScope:!0})),u.push(t))}function oe(e,t,r,o,s){var c,d,p,h,m,g,v,C,k,S;for(var O in n===r?(k=i,C=i.$$element):k=new W(C=a(r),i),m=t,w?h=t.$new(!0):y&&(m=t.$parent),s&&(v=function(e,t,n,i){var r;if(Y(e)||(i=n,n=t,t=e,e=void 0),E&&(r=g),n||(n=E?C.parent():C),!i)return s(e,t,r,n,L);var o=s.$$slots[i];if(o)return o(e,t,r,n,L);if(N(o))throw hn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,we(C))},v.$$boundTransclude=s,v.isSlotFilled=function(e){return!!s.$$slots[e]}),b&&(g=function(e,t,n,i,r,o,a){var s=Re();for(var l in i){var u=i[l],c={$scope:u===a||u.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},d=u.controller;"@"===d&&(d=t[u.name]);var p=T(d,c,!0,u.controllerAs);s[u.name]=p,e.data("$"+u.name+"Controller",p.instance)}return s}(C,k,v,b,h,t,w)),w&&(le.$$addScopeInfo(C,h,!0,!(_&&(_===w||_===w.$$originalDirective))),le.$$addScopeClass(C,!0),h.$$isolateBindings=w.$$isolateBindings,(S=Ue(t,k,h,h.$$isolateBindings,w)).removeWatches&&h.$on("$destroy",S.removeWatches)),g){var q=b[O],$=g[O],M=q.$$bindings.bindToController;$.instance=$(),C.data("$"+q.name+"Controller",$.instance),$.bindingInfo=Ue(m,k,$.instance,M,q)}for(x(b,(function(e,t){var n=e.require;e.bindToController&&!z(n)&&I(n)&&P(g[t].instance,be(t,n,C,g))})),x(g,(function(e){var t=e.instance;if(G(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){f(e)}if(G(t.$onInit))try{t.$onInit()}catch(e){f(e)}G(t.$doCheck)&&(m.$watch((function(){t.$doCheck()})),t.$doCheck()),G(t.$onDestroy)&&m.$on("$destroy",(function(){t.$onDestroy()}))})),c=0,d=l.length;c<d;c++)Ne(p=l[c],p.isolateScope?h:t,C,k,p.require&&be(p.directiveName,p.require,C,g),v);var L=t;for(w&&(w.template||null===w.templateUrl)&&(L=h),e&&e(L,r.childNodes,void 0,s),c=u.length-1;c>=0;c--)Ne(p=u[c],p.isolateScope?h:t,C,k,p.require&&be(p.directiveName,p.require,C,g),v);x(g,(function(e){var t=e.instance;G(t.$postLink)&&t.$postLink()}))}}function be(e,t,n,i){var r;if(U(t)){var o=t.match(p),a=t.substring(o[0].length),s=o[1]||o[3],l="?"===o[2];if("^^"===s?n=n.parent():r=(r=i&&i[a])&&r.instance,!r){var u="$"+a+"Controller";r="^^"===s&&n[0]&&9===n[0].nodeType?null:s?n.inheritedData(u):n.data(u)}if(!r&&!l)throw hn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(z(t)){r=[];for(var c=0,d=t.length;c<d;c++)r[c]=be(e,t[c],n,i)}else I(t)&&(r={},x(t,(function(t,o){r[o]=be(e,t,n,i)})));return r||null}function _e(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=M(e[i],{$$isolateScope:t,$$newScope:n})}function xe(e,n,o,a,s,l,u){if(n===s)return null;var c=null;if(i.hasOwnProperty(n))for(var d,p=t.get(n+r),h=0,f=p.length;h<f;h++)if(d=p[h],(N(a)||a>d.priority)&&-1!==d.restrict.indexOf(o)){if(l&&(d=M(d,{$$start:l,$$end:u})),!d.$$bindings){var m=d.$$bindings=v(d,d.name);I(m.isolateScope)&&(d.$$isolateBindings=m.isolateScope)}e.push(d),c=d}return c}function Ce(e){if(i.hasOwnProperty(e))for(var n=t.get(e+r),o=0,a=n.length;o<a;o++)if(n[o].multiElement)return!0;return!1}function ke(e,t){var n=t.$attr,i=e.$attr;x(e,(function(i,r){"$"!==r.charAt(0)&&(t[r]&&t[r]!==i&&(i.length?i+=("style"===r?";":" ")+t[r]:i=t[r]),e.$set(r,i,!0,n[r]))})),x(t,(function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))}))}function Se(e,t,n,i,r,o,s,l){var u,c,d=[],p=t[0],h=e.shift(),g=M(h,{templateUrl:null,transclude:null,replace:null,$$originalDirective:h}),v=G(h.templateUrl)?h.templateUrl(t,n):h.templateUrl,y=h.templateNamespace;return t.empty(),m(v).then((function(f){var m,b,w,_;if(f=te(f),h.replace){if(w=st(f)?[]:_n(Pe(y,X(f))),m=w[0],1!==w.length||1!==m.nodeType)throw hn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h.name,v);b={$attr:{}},Ae(i,t,m);var C=fe(m,[],b);I(h.scope)&&_e(C,!0),e=C.concat(e),ke(n,b)}else m=p,t.html(f);for(e.unshift(g),u=ye(e,m,n,r,t,h,o,s,l),x(i,(function(e,n){e===m&&(i[n]=t[0])})),c=ue(t[0].childNodes,r);d.length;){var k=d.shift(),S=d.shift(),T=d.shift(),E=d.shift(),P=t[0];if(!k.$$destroyed){if(S!==p){var O=S.className;l.hasElementTranscludeDirective&&h.replace||(P=pt(m)),Ae(T,a(S),P),Z(a(P),O)}_=u.transcludeOnThisElement?he(k,u.transclude,E):E,u(c,k,P,i,_)}}d=null})).catch((function(e){V(e)&&f(e)})),function(e,t,n,i,r){var o=r;t.$$destroyed||(d?d.push(t,n,i,o):(u.transcludeOnThisElement&&(o=he(t,u.transclude,r)),u(c,t,n,i,o)))}}function Te(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Ee(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw hn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,we(i))}function Pe(t,n){switch(t=d(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function Oe(e){return Q(O.valueOf(e),"ng-prop-srcset")}function qe(e,t,n,i){if(h.test(i))throw hn("nodomevents","Property bindings for HTML DOM event properties are disallowed");var r=ne(e),o=function(e,t){var n=t.toLowerCase();return S[e+"|"+n]||S["*|"+n]}(r,i),a=j;"srcset"!==i||"img"!==r&&"source"!==r?o&&(a=O.getTrusted.bind(O,o)):a=Oe,t.push({priority:100,compile:function(e,t){var r=k(t[n]),o=k(t[n],(function(e){return O.valueOf(e)}));return{pre:function(e,t){function n(){var n=r(e);t[0][i]=a(n)}n(),e.$watch(o,n)}}}})}function Me(e,t,n){e.push(Lo(k,E,f,t,n,!1))}function Le(e,t,i,r,o){var a=ne(e),s=function(e,t){return"srcdoc"===t?O.HTML:"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?O.RESOURCE_URL:O.MEDIA_URL:"xlinkHref"===t?"image"===e?O.MEDIA_URL:"a"===e?O.URL:O.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?O.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:O.URL}(a,r),l=!o,c=u[r]||o,d=n(i,l,s,c);if(d){if("multiple"===r&&"select"===a)throw hn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",we(e));if(h.test(r))throw hn("nodomevents","Interpolations for HTML DOM event attributes are disallowed");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var a=o.$$observers||(o.$$observers=Re()),l=o[r];l!==i&&(d=l&&n(l,!0,s,c),i=l),d&&(o[r]=d(e),(a[r]||(a[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||e).$watch(d,(function(e,t){"class"===r&&e!==t?o.$updateClass(e,t):o.$set(r,e)})))}}}})}}function Ae(t,n,i){var r,o,s=n[0],l=n.length,u=s.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]===s){t[r++]=i;for(var c=r,d=c+l-1,p=t.length;c<p;c++,d++)d<p?t[c]=t[d]:delete t[c];t.length-=l-1,t.context===s&&(t.context=i);break}u&&u.replaceChild(i,s);var h=e.document.createDocumentFragment();for(r=0;r<l;r++)h.appendChild(n[r]);for(a.hasData(s)&&(a.data(i,a.data(s)),a(s).off("$destroy")),a.cleanData(h.querySelectorAll("*")),r=1;r<l;r++)delete n[r];n[0]=i,n.length=1}function De(e,t){return P((function(){return e.apply(null,arguments)}),e,t)}function Ne(e,t,n,i,r,o){try{e(t,n,i,r,o)}catch(e){f(e,we(n))}}function Ie(e,t){if(b)throw hn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function Ue(e,t,i,r,o){var a,s=[],l={};function u(t,n,r){G(i.$onChanges)&&!ae(n,r)&&($||(e.$$postDigest(H),$=[]),a||(a={},$.push(d)),a[t]&&(r=a[t].previousValue),a[t]=new gn(r,n))}function d(){i.$onChanges(a),a=void 0}return x(r,(function(r,a){var d,p,h,f,m,g=r.attrName,v=r.optional;switch(r.mode){case"@":v||c.call(t,g)||(Ie(g,o.name),i[a]=t[g]=void 0),m=t.$observe(g,(function(e){if(U(e)||K(e)){var t=i[a];u(a,e,t),i[a]=e}})),t.$$observers[g].$$scope=e,U(d=t[g])?i[a]=n(d)(e):K(d)&&(i[a]=d),l[a]=new gn(fn,i[a]),s.push(m);break;case"=":if(!c.call(t,g)){if(v)break;Ie(g,o.name),t[g]=void 0}if(v&&!t[g])break;p=k(t[g]),f=p.literal?se:ae,h=p.assign||function(){throw d=i[a]=p(e),hn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[g],g,o.name)},d=i[a]=p(e);var y=function(t){return f(t,i[a])||(f(t,d)?h(e,t=i[a]):i[a]=t),d=t};y.$stateful=!0,m=r.collection?e.$watchCollection(t[g],y):e.$watch(k(t[g],y),null,p.literal),s.push(m);break;case"<":if(!c.call(t,g)){if(v)break;Ie(g,o.name),t[g]=void 0}if(v&&!t[g])break;var b=(p=k(t[g])).literal,w=i[a]=p(e);l[a]=new gn(fn,i[a]),m=e[r.collection?"$watchCollection":"$watch"](p,(function(e,t){if(t===e){if(t===w||b&&se(t,w))return;t=w}u(a,e,t),i[a]=e})),s.push(m);break;case"&":if(v||c.call(t,g)||Ie(g,o.name),(p=t.hasOwnProperty(g)?k(t[g]):L)===L&&v)break;i[a]=function(t){return p(e,t)}}})),{initialChanges:l,removeWatches:s.length&&function(){for(var e=0,t=s.length;e<t;++e)s[e]()}}}}]}function gn(e,t){this.previousValue=e,this.currentValue=t}mn.$inject=["$provide","$$sanitizeUriProvider"],gn.prototype.isFirstChange=function(){return this.previousValue===fn};var vn=/^((?:x|data)[:\-_])/i,yn=/[:\-_]+(.)/g;function bn(e){return e.replace(vn,"").replace(yn,(function(e,t,n){return n?t.toUpperCase():t}))}function wn(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue e;n+=(n.length>0?" ":"")+a}return n}function _n(e){var t=(e=a(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(8===n.nodeType||n.nodeType===Fe&&""===n.nodeValue.trim())&&f.call(e,t,1)}return e}var xn=r("$controller"),Cn=/^(\S+)(\s+as\s+([\w$]+))?$/;function kn(e,t){if(t&&U(t))return t;if(U(e)){var n=Cn.exec(e);if(n)return n[3]}}function Sn(){var e={};this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){De(t,"controller"),I(t)?P(e,t):e[t]=n},this.$get=["$injector",function(t){return function(i,r,o,a){var s,l,u,c;if(o=!0===o,a&&U(a)&&(c=a),U(i)){if(!(l=i.match(Cn)))throw xn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);if(u=l[1],c=c||l[3],i=e.hasOwnProperty(u)?e[u]:function(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=r.length,a=0;a<o;a++)i=r[a],e&&(e=e[i]);return e}(r.$scope,u),!i)throw xn("ctrlreg","The controller with the name '{0}' is not registered.",u);Ae(i,u,!0)}if(o){var d=(z(i)?i[i.length-1]:i).prototype;return s=Object.create(d||null),c&&n(r,c,s,u||i.name),P((function(){var e=t.invoke(i,s,r,u);return e!==s&&(I(e)||G(e))&&(s=e,c&&n(r,c,s,u||i.name)),s}),{instance:s,identifier:c})}return s=t.instantiate(i,r,u),c&&n(r,c,s,u||i.name),s};function n(e,t,n,i){if(!e||!I(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}}]}function Tn(){this.$get=["$window",function(e){return a(e.document)}]}function En(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],i=n&&n.hidden;function r(){i=n.hidden}return e.on("visibilitychange",r),t.$on("$destroy",(function(){e.off("visibilitychange",r)})),function(){return i}}]}function Pn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var On=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof a&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},qn={"Content-Type":"application/json;charset=utf-8"},$n=/^\[|^\{(?!\{)/,Mn={"[":/]$/,"{":/}$/},Ln=/^\)]\}',?\n/,jn=r("$http");function An(e){return I(e)?H(e)?e.toISOString():fe(e):e}function Dn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return C(e,(function(e,n){null===e||N(e)||G(e)||(z(e)?x(e,(function(e){t.push(ke(n)+"="+ke(An(e)))})):t.push(ke(n)+"="+ke(An(e))))})),t.join("&")}}}function Nn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,i,r){z(n)?x(n,(function(t,n){e(t,i+"["+(I(t)?n:"")+"]")})):I(n)&&!H(n)?C(n,(function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))})):(G(n)&&(n=n()),t.push(ke(i)+"="+(null==n?"":ke(An(n)))))}(e,"",!0),t.join("&")}}}function Rn(e,t){if(U(e)){var n=e.replace(Ln,"").trim();if(n){var i=t("Content-Type"),r=i&&0===i.indexOf("application/json");if(r||(a=(o=n).match($n))&&Mn[a[0]].test(o))try{e=me(n)}catch(t){if(!r)return e;throw jn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}var o,a;return e}function In(e){var t,n=Re();function i(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return U(e)?x(e.split("\n"),(function(e){t=e.indexOf(":"),i(d(X(e.substr(0,t))),X(e.substr(t+1)))})):I(e)&&x(e,(function(e,t){i(d(t),X(e))})),n}function Fn(e){var t;return function(n){if(t||(t=In(e)),n){var i=t[d(n)];return void 0===i&&(i=null),i}return t}}function Un(e,t,n,i){return G(i)?i(e,t,n):(x(i,(function(i){e=i(e,t,n)})),e)}function Bn(e){return 200<=e&&e<300}function Hn(){var e=this.defaults={transformResponse:[Rn],transformRequest:[function(e){return!I(e)||(t=e,"[object File]"===g.call(t))||function(e){return"[object Blob]"===g.call(e)}(e)||function(e){return"[object FormData]"===g.call(e)}(e)?e:fe(e);var t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Ue(qn),put:Ue(qn),patch:Ue(qn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return R(e)?(t=!!e,this):t};var n=this.interceptors=[],i=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(e){this.xsrfTrustedOrigins=e}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(o,a,s,l,u,c,h,f){var m=l("$http");e.paramSerializer=U(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var g=[];x(n,(function(e){g.unshift(U(e)?h.get(e):h.invoke(e))}));var v,y=(v=[or].concat(i.map(sr)),function(e){var t=sr(e);return v.some(lr.bind(null,t))});function b(n){if(!I(n))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!U(f.valueOf(n.url)))throw r("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var i=P({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},n);i.headers=function(t){var n,i,r,o=e.headers,a=P({},t.headers);o=P({},o.common,o[d(t.method)]);e:for(n in o){for(r in i=d(n),a)if(d(r)===i)continue e;a[n]=o[n]}return function(e,t){var n,i={};return x(e,(function(e,r){G(e)?null!=(n=e(t))&&(i[r]=n):i[r]=e})),i}(a,Ue(t))}(n),i.method=p(i.method),i.paramSerializer=U(i.paramSerializer)?h.get(i.paramSerializer):i.paramSerializer,o.$$incOutstandingRequestCount("$http");var l=[],v=[],w=c.resolve(i);return x(g,(function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&v.push(e.response,e.responseError)})),w=(w=_(w,l)).then((function(n){var i=n.headers,r=Un(n.data,Fn(i),void 0,n.transformRequest);return N(r)&&x(i,(function(e,t){"content-type"===d(t)&&delete i[t]})),N(n.withCredentials)&&!N(e.withCredentials)&&(n.withCredentials=e.withCredentials),function(n,i){var r,o,l=c.defer(),p=l.promise,h=n.headers,g="jsonp"===d(n.method),v=n.url;if(g?v=f.getTrustedResourceUrl(v):U(v)||(v=f.valueOf(v)),v=function(e,t){return t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}(v,n.paramSerializer(n.params)),g&&(v=function(e,t){var n=e.split("?");if(n.length>2)throw jn("badjsonp",'Illegal use more than one "?", in url, "{1}"',e);return x(xe(n[1]),(function(n,i){if("JSON_CALLBACK"===n)throw jn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(i===t)throw jn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e)})),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}(v,n.jsonpCallbackParam)),b.pendingRequests.push(n),p.then(S,S),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(r=I(n.cache)?n.cache:I(e.cache)?e.cache:m),r&&(R(o=r.get(v))?Z(o)?o.then(k,k):z(o)?C(o[1],o[0],Ue(o[2]),o[3],o[4]):C(o,200,{},"OK","complete"):r.put(v,p)),N(o)){var w=y(n.url)?s()[n.xsrfCookieName||e.xsrfCookieName]:void 0;w&&(h[n.xsrfHeaderName||e.xsrfHeaderName]=w),a(n.method,v,i,(function(e,n,i,o,a){function s(){C(n,e,i,o,a)}r&&(Bn(e)?r.put(v,[e,n,In(i),o,a]):r.remove(v)),t?u.$applyAsync(s):(s(),u.$$phase||u.$apply())}),h,n.timeout,n.withCredentials,n.responseType,_(n.eventHandlers),_(n.uploadEventHandlers))}return p;function _(e){if(e){var n={};return x(e,(function(e,i){n[i]=function(n){function i(){e(n)}t?u.$applyAsync(i):u.$$phase?i():u.$apply(i)}})),n}}function C(e,t,i,r,o){(Bn(t=t>=-1?t:0)?l.resolve:l.reject)({data:e,status:t,headers:Fn(i),config:n,statusText:r,xhrStatus:o})}function k(e){C(e.data,e.status,Ue(e.headers()),e.statusText,e.xhrStatus)}function S(){var e=b.pendingRequests.indexOf(n);-1!==e&&b.pendingRequests.splice(e,1)}}(n,r).then(C,C)})),(w=_(w,v)).finally((function(){o.$$completeOutstandingRequest(L,"$http")}));function _(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],o=t[n++];e=e.then(r,o)}return t.length=0,e}function C(e){var t=P({},e);return t.data=Un(e.data,e.headers,e.status,i.transformResponse),Bn(e.status)?t:c.reject(t)}}return b.pendingRequests=[],function(e){x(arguments,(function(e){b[e]=function(t,n){return b(P({},n||{},{method:e,url:t}))}}))}("get","delete","head","jsonp"),function(e){x(arguments,(function(e){b[e]=function(t,n,i){return b(P({},i||{},{method:e,url:t,data:n}))}}))}("post","put","patch"),b.defaults=e,b}]}function zn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Vn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return function(e,t,n,i,r){return function(o,a,s,l,u,c,p,h,f,m){if(a=a||e.url(),"jsonp"===d(o))var g=i.createCallback(a),v=function(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=r.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a),o.removeEventListener("error",a),r.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},o.addEventListener("load",a),o.addEventListener("error",a),r.body.appendChild(o),a}(a,g,(function(e,t){var n=200===e&&i.getResponse(g);C(l,e,n,"",t,"complete"),i.removeCallback(g)}));else{var y=t(o,a),b=!1;y.open(o,a,!0),x(u,(function(e,t){R(e)&&y.setRequestHeader(t,e)})),y.onload=function(){var e=y.statusText||"",t="response"in y?y.response:y.responseText,n=1223===y.status?204:y.status;0===n&&(n=t?200:"file"===sr(a).protocol?404:0),C(l,n,t,y.getAllResponseHeaders(),e,"complete")};if(y.onerror=function(){C(l,-1,null,null,"","error")},y.ontimeout=function(){C(l,-1,null,null,"","timeout")},y.onabort=function(){C(l,-1,null,null,"",b?"timeout":"abort")},x(f,(function(e,t){y.addEventListener(t,e)})),x(m,(function(e,t){y.upload.addEventListener(t,e)})),p&&(y.withCredentials=!0),h)try{y.responseType=h}catch(e){if("json"!==h)throw e}y.send(N(s)?null:s)}if(c>0)var w=n((function(){_("timeout")}),c);else Z(c)&&c.then((function(){_(R(c.$$timeoutId)?"timeout":"abort")}));function _(e){b="timeout"===e,v&&v(),y&&y.abort()}function C(e,t,i,r,o,a){R(w)&&n.cancel(w),v=y=null,e(t,i,r,o,a)}}}(e,i,e.defer,t,n[0])}]}var Gn=b.$interpolateMinErr=r("$interpolate");function Qn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){var o=e.length,a=t.length,s=new RegExp(e.replace(/./g,u),"g"),l=new RegExp(t.replace(/./g,u),"g");function u(e){return"\\\\\\"+e}function c(n){return n.replace(s,e).replace(l,t)}function d(e,t,n,i){var r=e.$watch((function(e){return r(),i(e)}),t,n);return r}function p(s,l,u,p){var h=u===r.URL||u===r.MEDIA_URL;if(!s.length||-1===s.indexOf(e)){if(l)return;var f=c(s);h&&(f=r.getTrusted(u,f));var m=A(f);return m.exp=s,m.expressions=[],m.$$watchDelegate=d,m}p=!!p;for(var g,v,y,b,w,_=0,x=[],C=s.length,k=[],S=[];_<C;){if(-1===(g=s.indexOf(e,_))||-1===(v=s.indexOf(t,g+o))){_!==C&&k.push(c(s.substring(_)));break}_!==g&&k.push(c(s.substring(_,g))),b=s.substring(g+o,v),x.push(b),_=v+a,S.push(k.length),k.push("")}w=1===k.length&&1===S.length;var T=h&&w?void 0:function(e){try{return e=u&&!h?r.getTrusted(u,e):r.valueOf(e),p&&!R(e)?e:Ie(e)}catch(e){i(Gn.interr(s,e))}};if(y=x.map((function(e){return n(e,T)})),!l||x.length){var E=function(e){for(var t=0,n=x.length;t<n;t++){if(p&&N(e[t]))return;k[S[t]]=e[t]}return h?r.getTrusted(u,w?k[0]:k.join("")):(u&&k.length>1&&Gn.throwNoconcat(s),k.join(""))};return P((function(e){var t=0,n=x.length,r=new Array(n);try{for(;t<n;t++)r[t]=y[t](e);return E(r)}catch(e){i(Gn.interr(s,e))}}),{exp:s,expressions:x,$$watchDelegate:function(e,t){var n;return e.$watchGroup(y,(function(i,r){var o=E(i);t.call(this,o,i!==r?n:o,e),n=o}))}})}}return p.startSymbol=function(){return e},p.endSymbol=function(){return t},p}]}Gn.throwNoconcat=function(e){throw Gn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Gn.interr=function(e,t){return Gn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Wn=r("$interval");function Yn(){this.$get=["$$intervalFactory","$window",function(e,t){var n={},i=function(e){t.clearInterval(e),delete n[e]},r=e((function(e,i,r){var o=t.setInterval(e,i);return n[o]=r,o}),i);return r.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw Wn("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!n.hasOwnProperty(e.$$intervalId))return!1;var t=e.$$intervalId,r=n[t];return Ri(r.promise),r.reject("canceled"),i(t),!0},r}]}function Kn(){this.$get=["$browser","$q","$$q","$rootScope",function(e,t,n,i){return function(r,o){return function(a,s,l,u){var c=arguments.length>4,d=c?de(arguments,4):[],p=0,h=R(u)&&!u,f=(h?n:t).defer(),m=f.promise;function g(){c?a.apply(null,d):a(p)}function v(){h?e.defer(g):i.$evalAsync(g),f.notify(p++),l>0&&p>=l&&(f.resolve(p),o(m.$$intervalId)),h||i.$apply()}return l=R(l)?l:0,m.$$intervalId=r(v,s,f,h),m}}}]}var Zn=function(){this.$get=function(){var e=b.callbacks,t={};return{createCallback:function(n){var i="_"+(e.$$counter++).toString(36),r="angular.callbacks."+i,o=function(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}(i);return t[r]=e[i]=o,r},wasCalled:function(e){return t[e].called},getResponse:function(e){return t[e].data},removeCallback:function(n){var i=t[n];delete e[i.id],delete t[n]}}}},Jn=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Xn={http:80,https:443,ftp:21},ei=r("$location");function ti(e,t){var n=sr(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=q(n.port)||Xn[n.protocol]||null}var ni=/^\s*[\\/]{2,}/;function ii(e,t,n){if(ni.test(e))throw ei("badpath",'Invalid url "{0}".',e);var i="/"!==e.charAt(0);i&&(e="/"+e);var r=sr(e),o=i&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname;t.$$path=function(e,t){for(var n=e.split("/"),i=n.length;i--;)n[i]=decodeURIComponent(n[i]),t&&(n[i]=n[i].replace(/\//g,"%2F"));return n.join("/")}(o,n),t.$$search=xe(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function ri(e,t){return e.slice(0,t.length)===t}function oi(e,t){if(ri(t,e))return t.substr(e.length)}function ai(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function si(e,t,n){this.$$html5=!0,n=n||"",ti(e,this),this.$$parse=function(e){var n=oi(t,e);if(!U(n))throw ei("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);ii(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return t+e.substr(1)},this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(R(o=oi(e,i))?(a=o,s=n&&R(o=oi(n,o))?t+(oi("/",o)||o):e+a):R(o=oi(t,i))?s=t+o:t===i+"/"&&(s=t),s&&this.$$parse(s),!!s);var o,a,s}}function li(e,t,n){ti(e,this),this.$$parse=function(i){var r,o=oi(e,i)||oi(t,i);N(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",N(o)&&(e=i,this.replace())):N(r=oi(n,o))&&(r=o),ii(r,this,!1),this.$$path=function(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return ri(t,n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e))?i[1]:e}(this.$$path,r,e),this.$$compose()},this.$$normalizeUrl=function(t){return e+(t?n+t:"")},this.$$parseLinkUrl=function(t,n){return ai(e)===ai(t)&&(this.$$parse(t),!0)}}function ui(e,t,n){this.$$html5=!0,li.apply(this,arguments),this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(e===ai(i)?o=i:(a=oi(t,i))?o=e+n+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o);var o,a},this.$$normalizeUrl=function(t){return e+n+t}}var ci={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){var e,t,n,i,r,o;this.$$url=(e=this.$$path,t=this.$$search,n=this.$$hash,i=[],x(t,(function(e,t){z(e)?x(e,(function(e){i.push(ke(t,!0)+(!0===e?"":"="+ke(e,!0)))})):i.push(ke(t,!0)+(!0===e?"":"="+ke(e,!0)))})),r=i.length?i.join("&"):"",o=n?"#"+Ce(n):"",function(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Ce(t[n].replace(/%2F/g,"/"));return t.join("/")}(e)+(r?"?"+r:"")+o),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:di("$$absUrl"),url:function(e){if(N(e))return this.$$url;var t=Jn.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:di("$$protocol"),host:di("$$host"),port:di("$$port"),path:pi("$$path",(function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e})),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(U(e)||B(e))e=e.toString(),this.$$search=xe(e);else{if(!I(e))throw ei("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");x(e=oe(e,{}),(function(t,n){null==t&&delete e[n]})),this.$$search=e}break;default:N(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:pi("$$hash",(function(e){return null!==e?e.toString():""})),replace:function(){return this.$$replace=!0,this}};function di(e){return function(){return this[e]}}function pi(e,t){return function(n){return N(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function hi(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return R(t)?(e=t,this):e},this.html5Mode=function(e){return K(e)?(t.enabled=e,this):I(e)?(K(e.enabled)&&(t.enabled=e.enabled),K(e.requireBase)&&(t.requireBase=e.requireBase),(K(e.rewriteLinks)||U(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){var l,u,c,d,p=i.baseHref(),h=i.url();if(t.enabled){if(!p&&t.requireBase)throw ei("nobase","$location in HTML5 mode requires a <base> tag to be present!");c=(d=h).substring(0,d.indexOf("/",d.indexOf("//")+2))+(p||"/"),u=r.history?si:ui}else c=ai(h),u=li;var f=function(e){return e.substr(0,ai(e).lastIndexOf("/")+1)}(c);(l=new u(c,f,"#"+e)).$$parseLinkUrl(h,h),l.$$state=i.state();var m=/^\s*(javascript|mailto):/i;function g(e,t,n){var r=l.url(),o=l.$$state;try{i.url(e,t,n),l.$$state=i.state()}catch(e){throw l.url(r),l.$$state=o,e}}o.on("click",(function(e){var r=t.rewriteLinks;if(r&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var s=a(e.target);"a"!==ne(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!U(r)||!N(s.attr(r))){var u=s.prop("href"),c=s.attr("href")||s.attr("xlink:href");I(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=sr(u.animVal).href),m.test(u)||!u||s.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(u,c)&&(e.preventDefault(),l.absUrl()!==i.url()&&n.$apply())}}})),l.absUrl()!==h&&i.url(l.absUrl(),!0);var v=!0;return i.onUrlChange((function(e,t){ri(e,f)?(n.$evalAsync((function(){var i,r=l.absUrl(),o=l.$$state;l.$$parse(e),l.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,l.absUrl()===e&&(i?(l.$$parse(r),l.$$state=o,g(r,!1,o)):(v=!1,y(r,o)))})),n.$$phase||n.$digest()):s.location.href=e})),n.$watch((function(){if(v||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var e=i.url(),t=l.absUrl(),o=i.state(),a=l.$$replace,s=!((u=e)===(c=t)||sr(u).href===sr(c).href)||l.$$html5&&r.history&&o!==l.$$state;(v||s)&&(v=!1,n.$evalAsync((function(){var t=l.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(i?(l.$$parse(e),l.$$state=o):(s&&g(t,a,o===l.$$state?null:l.$$state),y(e,o)))})))}var u,c;l.$$replace=!1})),l;function y(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}}]}function fi(){var e=!0,t=this;this.debugEnabled=function(t){return R(t)?(e=t,this):e},this.$get=["$window",function(n){var i,r=o||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:s("log"),info:s("info"),warn:s("warn"),error:s("error"),debug:(i=s("debug"),function(){e&&i.apply(t,arguments)})};function a(e){return V(e)&&(e.stack&&r?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function s(e){var t=n.console||{},i=t[e]||t.log||L;return function(){var e=[];return x(arguments,(function(t){e.push(a(t))})),Function.prototype.apply.call(i,t,e)}}}]}x([ui,li,si],(function(e){e.prototype=Object.create(ci),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==si||!this.$$html5)throw ei("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=N(t)?null:t,this.$$urlUpdatedByLocation=!0,this}}));var mi=r("$parse"),gi={}.constructor.prototype.valueOf;function vi(e){return e+""}var yi=Re();x("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(e){yi[e]=!0}));var bi={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},wi=function(e){this.options=e};wi.prototype={constructor:wi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=yi[t],o=yi[n],a=yi[i];if(r||o||a){var s=a?i:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=R(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw mi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=d(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else n+=bi[o]||o;r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var _i=function(e,t){this.lexer=e,this.options=t};function xi(e,t){return void 0!==e?e:t}function Ci(e,t){return void 0===e?t:void 0===t?e:e+t}function ki(e,t,n){var i,r,o,a=e.isPure=function(e,t){switch(e.type){case _i.MemberExpression:if(e.computed)return!1;break;case _i.UnaryExpression:return 1;case _i.BinaryExpression:return"+"!==e.operator&&1;case _i.CallExpression:return!1}return void 0===t?2:t}(e,n);switch(e.type){case _i.Program:i=!0,x(e.body,(function(e){ki(e.expression,t,a),i=i&&e.expression.constant})),e.constant=i;break;case _i.Literal:e.constant=!0,e.toWatch=[];break;case _i.UnaryExpression:ki(e.argument,t,a),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case _i.BinaryExpression:ki(e.left,t,a),ki(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case _i.LogicalExpression:ki(e.left,t,a),ki(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case _i.ConditionalExpression:ki(e.test,t,a),ki(e.alternate,t,a),ki(e.consequent,t,a),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case _i.Identifier:e.constant=!1,e.toWatch=[e];break;case _i.MemberExpression:ki(e.object,t,a),e.computed&&ki(e.property,t,a),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case _i.CallExpression:o=!!e.filter&&function(e,t){return!e(t).$stateful}(t,e.callee.name),i=o,r=[],x(e.arguments,(function(e){ki(e,t,a),i=i&&e.constant,r.push.apply(r,e.toWatch)})),e.constant=i,e.toWatch=o?r:[e];break;case _i.AssignmentExpression:ki(e.left,t,a),ki(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case _i.ArrayExpression:i=!0,r=[],x(e.elements,(function(e){ki(e,t,a),i=i&&e.constant,r.push.apply(r,e.toWatch)})),e.constant=i,e.toWatch=r;break;case _i.ObjectExpression:i=!0,r=[],x(e.properties,(function(e){ki(e.value,t,a),i=i&&e.value.constant,r.push.apply(r,e.value.toWatch),e.computed&&(ki(e.key,t,!1),i=i&&e.key.constant,r.push.apply(r,e.key.toWatch))})),e.constant=i,e.toWatch=r;break;case _i.ThisExpression:case _i.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Si(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length||n[0]!==t?n:void 0}}function Ti(e){return e.type===_i.Identifier||e.type===_i.MemberExpression}function Ei(e){if(1===e.body.length&&Ti(e.body[0].expression))return{type:_i.AssignmentExpression,left:e.body[0].expression,right:{type:_i.NGValueParameter},operator:"="}}function Pi(e){this.$filter=e}function Oi(e){this.$filter=e}function qi(e,t,n){this.ast=new _i(e,n),this.astCompiler=n.csp?new Oi(t):new Pi(t)}function $i(e){return G(e.valueOf)?e.valueOf():gi.call(e)}function Mi(){var e,t,n=Re(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(r){var o={csp:le().noUnsafeEval,literals:oe(i),isIdentifierStart:G(e)&&e,isIdentifierContinue:G(t)&&t};return a.$$getAst=function(e){return new qi(new wi(o),r,o).getAst(e).ast},a;function a(e,t){var i,a;switch(typeof e){case"string":return e=e.trim(),(i=n[a=e])||(i=new qi(new wi(o),r,o).parse(e),n[a]=p(i)),h(i,t);case"function":return h(e,t);default:return h(L,t)}}function s(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=$i(e))&&!n)&&(e===t||e!=e&&t!=t)}function l(e,t,n,i,r){var o,a=i.inputs;if(1===a.length){var l=s;return a=a[0],e.$watch((function(e){var t=a(e);return s(t,l,a.isPure)||(o=i(e,void 0,void 0,[t]),l=t&&$i(t)),o}),t,n,r)}for(var u=[],c=[],d=0,p=a.length;d<p;d++)u[d]=s,c[d]=null;return e.$watch((function(e){for(var t=!1,n=0,r=a.length;n<r;n++){var l=a[n](e);(t||(t=!s(l,u[n],a[n].isPure)))&&(c[n]=l,u[n]=l&&$i(l))}return t&&(o=i(e,void 0,void 0,c)),o}),t,n,r)}function u(e,t,n,i,r){var o,a,s=i.literal?c:R,l=i.$$intercepted||i,u=i.$$interceptor||j,d=i.inputs&&!l.inputs;return f.literal=i.literal,f.constant=i.constant,f.inputs=i.inputs,p(f),o=e.$watch(f,t,n,r);function h(){s(a)&&o()}function f(e,t,n,i){return a=d&&i?i[0]:l(e,t,n,i),s(a)&&e.$$postDigest(h),u(a)}}function c(e){var t=!0;return x(e,(function(e){R(e)||(t=!1)})),t}function d(e,t,n,i){var r=e.$watch((function(e){return r(),i(e)}),t,n);return r}function p(e){return e.constant?e.$$watchDelegate=d:e.oneTime?e.$$watchDelegate=u:e.inputs&&(e.$$watchDelegate=l),e}function h(e,t){if(!t)return e;e.$$interceptor&&(t=function(e,t){function n(n){return t(e(n))}return n.$stateful=e.$stateful||t.$stateful,n.$$pure=e.$$pure&&t.$$pure,n}(e.$$interceptor,t),e=e.$$intercepted);var n=!1,i=function(i,r,o,a){var s=n&&a?a[0]:e(i,r,o,a);return t(s)};return i.$$intercepted=e,i.$$interceptor=t,i.literal=e.literal,i.oneTime=e.oneTime,i.constant=e.constant,t.$stateful||(n=!e.inputs,i.inputs=e.inputs?e.inputs:[e],t.$$pure||(i.inputs=i.inputs.map((function(e){return 2===e.isPure?function(t){return e(t)}:e})))),p(i)}}]}function Li(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Ai((function(e){t.$evalAsync(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return R(t)?(e=t,this):e}}function ji(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Ai((function(e){t.defer(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return R(t)?(e=t,this):e}}function Ai(e,t,n){var i=r("$q",TypeError),o=0,a=[];function s(){return new l}function l(){var e=this.promise=new u;this.resolve=function(t){p(e,t)},this.reject=function(t){f(e,t)},this.notify=function(t){g(e,t)}}function u(){this.$$state={status:0}}function c(){for(;!o&&a.length;){var e=a.shift();if(!Di(e)){Ni(e);var n="Possibly unhandled rejection: "+Be(e.value);V(e.value)?t(e.value,n):t(n)}}}function d(i){!n||i.pending||2!==i.status||Di(i)||(0===o&&0===a.length&&e(c),a.push(i)),!i.processScheduled&&i.pending&&(i.processScheduled=!0,++o,e((function(){!function(i){var r,a,s;s=i.pending,i.processScheduled=!1,i.pending=void 0;try{for(var l=0,u=s.length;l<u;++l){Ni(i),a=s[l][0],r=s[l][i.status];try{G(r)?p(a,r(i.value)):1===i.status?p(a,i.value):f(a,i.value)}catch(e){f(a,e),e&&!0===e.$$passToExceptionHandler&&t(e)}}}finally{--o,n&&0===o&&e(c)}}(i)})))}function p(e,t){e.$$state.status||(t===e?m(e,i("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):h(e,t))}function h(e,t){var n,i=!1;try{(I(t)||G(t))&&(n=t.then),G(n)?(e.$$state.status=-1,n.call(t,(function(t){i||(i=!0,h(e,t))}),r,(function(t){g(e,t)}))):(e.$$state.value=t,e.$$state.status=1,d(e.$$state))}catch(e){r(e)}function r(t){i||(i=!0,m(e,t))}}function f(e,t){e.$$state.status||m(e,t)}function m(e,t){e.$$state.value=t,e.$$state.status=2,d(e.$$state)}function g(n,i){var r=n.$$state.pending;n.$$state.status<=0&&r&&r.length&&e((function(){for(var e,n,o=0,a=r.length;o<a;o++){n=r[o][0],e=r[o][3];try{g(n,G(e)?e(i):i)}catch(e){t(e)}}}))}function v(e){var t=new u;return f(t,e),t}function y(e,t,n){var i=null;try{G(n)&&(i=n())}catch(e){return v(e)}return Z(i)?i.then((function(){return t(e)}),v):t(e)}function b(e,t,n,i){var r=new u;return p(r,e),r.then(t,n,i)}P(u.prototype,{then:function(e,t,n){if(N(e)&&N(t)&&N(n))return this;var i=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&d(this.$$state),i},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then((function(t){return y(t,w,e)}),(function(t){return y(t,v,e)}),t)}});var w=b;function _(e){if(!G(e))throw i("norslvr","Expected resolverFn, got '{0}'",e);var t=new u;return e((function(e){p(t,e)}),(function(e){f(t,e)})),t}return _.prototype=u.prototype,_.defer=s,_.reject=v,_.when=b,_.resolve=w,_.all=function(e){var t=new u,n=0,i=z(e)?[]:{};return x(e,(function(e,r){n++,b(e).then((function(e){i[r]=e,--n||p(t,i)}),(function(e){f(t,e)}))})),0===n&&p(t,i),t},_.race=function(e){var t=s();return x(e,(function(e){b(e).then(t.resolve,t.reject)})),t.promise},_}function Di(e){return!!e.pur}function Ni(e){e.pur=!0}function Ri(e){e.$$state&&Ni(e.$$state)}function Ii(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function Fi(){var e=10,t=r("$rootScope"),n=null,i=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(r,a,s){function l(e){e.currentScope.$$destroyed=!0}function u(e){9===o&&(e.$$childHead&&u(e.$$childHead),e.$$nextSibling&&u(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function d(){this.$id=S(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}d.prototype={constructor:d,$new:function(e,t){var n;return t=t||this,e?(n=new d).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=S(),this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",l),n},$watch:function(e,t,i,r){var o=a(e),s=G(t)?t:L;if(o.$$watchDelegate)return o.$$watchDelegate(this,s,i,o,e);var l=this,u=l.$$watchers,c={fn:s,last:C,get:o,exp:r||e,eq:!!i};return n=null,u||((u=l.$$watchers=[]).$$digestWatchIndex=-1),u.unshift(c),u.$$digestWatchIndex++,b(this,1),function(){var e=re(u,c);e>=0&&(b(l,-1),e<u.$$digestWatchIndex&&u.$$digestWatchIndex--),n=null}},$watchGroup:function(e,t){var n=new Array(e.length),i=new Array(e.length),r=[],o=this,a=!1,s=!0;if(!e.length){var l=!0;return o.$evalAsync((function(){l&&t(i,i,o)})),function(){l=!1}}if(1===e.length)return this.$watch(e[0],(function(e,r,o){i[0]=e,n[0]=r,t(i,e===r?i:n,o)}));function u(){a=!1;try{s?(s=!1,t(i,i,o)):t(i,n,o)}finally{for(var r=0;r<e.length;r++)n[r]=i[r]}}return x(e,(function(e,t){var n=o.$watch(e,(function(e){i[t]=e,a||(a=!0,o.$evalAsync(u))}));r.push(n)})),function(){for(;r.length;)r.shift()()}},$watchCollection:function(e,t){m.$$pure=a(e).literal,m.$stateful=!m.$$pure;var n,i,r,o=this,s=t.length>1,l=0,u=a(e,m),d=[],p={},h=!0,f=0;function m(e){var t,r,o,a;if(!N(n=e)){if(I(n))if(_(n)){i!==d&&(f=(i=d).length=0,l++),t=n.length,f!==t&&(l++,i.length=f=t);for(var s=0;s<t;s++)a=i[s],o=n[s],a!=a&&o!=o||a===o||(l++,i[s]=o)}else{for(r in i!==p&&(i=p={},f=0,l++),t=0,n)c.call(n,r)&&(t++,o=n[r],a=i[r],r in i?a!=a&&o!=o||a===o||(l++,i[r]=o):(f++,i[r]=o,l++));if(f>t)for(r in l++,i)c.call(n,r)||(f--,delete i[r])}else i!==n&&(i=n,l++);return l}}return this.$watch(u,(function(){if(h?(h=!1,t(n,n,o)):t(n,r,o),s)if(I(n))if(_(n)){r=new Array(n.length);for(var e=0;e<n.length;e++)r[e]=n[e]}else for(var i in r={},n)c.call(n,i)&&(r[i]=n[i]);else r=n}))},$digest:function(){var o,a,l,u,c,d,m,b,w,_=e,x=h.length?p:this,S=[];v("$digest"),s.$$checkUrlChange(),this===p&&null!==i&&(s.defer.cancel(i),k()),n=null;do{c=!1,m=x;for(var T=0;T<h.length;T++){try{(0,(w=h[T]).fn)(w.scope,w.locals)}catch(e){r(e)}n=null}h.length=0;e:do{if(u=!m.$$suspended&&m.$$watchers)for(u.$$digestWatchIndex=u.length;u.$$digestWatchIndex--;)try{if(o=u[u.$$digestWatchIndex])if((a=(0,o.get)(m))===(l=o.last)||(o.eq?se(a,l):$(a)&&$(l))){if(o===n){c=!1;break e}}else c=!0,n=o,o.last=o.eq?oe(a,null):a,(0,o.fn)(a,l===C?a:l,m),_<5&&(S[b=4-_]||(S[b]=[]),S[b].push({msg:G(o.exp)?"fn: "+(o.exp.name||o.exp.toString()):o.exp,newVal:a,oldVal:l}))}catch(e){r(e)}if(!(d=!m.$$suspended&&m.$$watchersCount&&m.$$childHead||m!==x&&m.$$nextSibling))for(;m!==x&&!(d=m.$$nextSibling);)m=m.$parent}while(m=d);if((c||h.length)&&!_--)throw y(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,S)}while(c||h.length);for(y();g<f.length;)try{f[g++]()}catch(e){r(e)}f.length=g=0,s.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===p&&s.$$applicationDestroyed(),b(this,-this.$$watchersCount),this.$$listenerCount)w(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=L,this.$on=this.$watch=this.$watchGroup=function(){return L},this.$$listeners={},this.$$nextSibling=null,u(this)}},$eval:function(e,t){return a(e)(this,t)},$evalAsync:function(e,t){p.$$phase||h.length||s.defer((function(){h.length&&p.$digest()}),null,"$evalAsync"),h.push({scope:this,fn:a(e),locals:t})},$$postDigest:function(e){f.push(e)},$apply:function(e){try{v("$apply");try{return this.$eval(e)}finally{y()}}catch(e){r(e)}finally{try{p.$digest()}catch(e){throw r(e),e}}},$applyAsync:function(e){var t=this;e&&m.push((function(){t.$eval(e)})),e=a(e),null===i&&(i=s.defer((function(){p.$apply(k)}),null,"$applyAsync"))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do{i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++}while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(delete n[i],w(r,1,e))}},$emit:function(e,t){var n,i,o,a=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=ce([u],arguments,1);do{for(n=s.$$listeners[e]||a,u.currentScope=s,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,c)}catch(e){r(e)}else n.splice(i,1),i--,o--;if(l)break;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,t){var n=this,i=n,o=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var s,l,u,c=ce([a],arguments,1);i=o;){for(a.currentScope=i,l=0,u=(s=i.$$listeners[e]||[]).length;l<u;l++)if(s[l])try{s[l].apply(null,c)}catch(e){r(e)}else s.splice(l,1),l--,u--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var p=new d,h=p.$$asyncQueue=[],f=p.$$postDigestQueue=[],m=p.$$applyAsyncQueue=[],g=0;return p;function v(e){if(p.$$phase)throw t("inprog","{0} already in progress",p.$$phase);p.$$phase=e}function y(){p.$$phase=null}function b(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function w(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function C(){}function k(){for(;m.length;)try{m.shift()()}catch(e){r(e)}i=null}}]}function Ui(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(t){return R(t)?(e=t,this):e},this.imgSrcSanitizationTrustedUrlList=function(e){return R(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r=i?t:e,o=sr(n&&n.trim()).href;return""===o||o.match(r)?n:"unsafe:"+o}}}_i.Program="Program",_i.ExpressionStatement="ExpressionStatement",_i.AssignmentExpression="AssignmentExpression",_i.ConditionalExpression="ConditionalExpression",_i.LogicalExpression="LogicalExpression",_i.BinaryExpression="BinaryExpression",_i.UnaryExpression="UnaryExpression",_i.CallExpression="CallExpression",_i.MemberExpression="MemberExpression",_i.Identifier="Identifier",_i.Literal="Literal",_i.ArrayExpression="ArrayExpression",_i.Property="Property",_i.ObjectExpression="ObjectExpression",_i.ThisExpression="ThisExpression",_i.LocalsExpression="LocalsExpression",_i.NGValueParameter="NGValueParameter",_i.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:_i.Program,body:e}},expressionStatement:function(){return{type:_i.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!Ti(e))throw mi("lval","Trying to assign a value to a non l-value");e={type:_i.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:_i.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:_i.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:_i.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:_i.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:_i.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:_i.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:_i.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:_i.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=oe(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:_i.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:_i.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:_i.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:_i.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:_i.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:_i.Identifier,name:e.text}},constant:function(){return{type:_i.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:_i.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:_i.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:_i.ObjectExpression,properties:t}},throwError:function(e,t){throw mi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw mi("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw mi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===i||a===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:_i.ThisExpression},$locals:{type:_i.LocalsExpression}}},Pi.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},ki(e,t.$filter);var n,i="";if(this.stage="assign",n=Ei(e)){this.state.computing="assign";var r=this.nextId();this.recurse(n,r),this.return_(r),i="fn.assign="+this.generateFunction("assign","s,v,l")}var o=Si(e.body);t.stage="inputs",x(o,(function(e,n){var i="fn"+n;t.state[i]={vars:[],body:[],own:{}},t.state.computing=i;var r=t.nextId();t.recurse(e,r),t.return_(r),t.state.inputs.push({name:i,isPure:e.isPure}),e.watchId=n})),this.state.computing="fn",this.stage="main",this.recurse(e);var a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",s=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,vi,xi,Ci);return this.state=this.stage=void 0,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return x(t,(function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")})),t.length&&e.push("fn.inputs=["+t.map((function(e){return e.name})).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return x(this.state.filters,(function(n,i){e.push(n+"=$filter("+t.escape(i)+")")})),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,r,o){var a,s,l,u,c,d=this;if(i=i||L,!o&&R(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,r,!0));switch(e.type){case _i.Program:x(e.body,(function(t,n){d.recurse(t.expression,void 0,void 0,(function(e){s=e})),n!==e.body.length-1?d.current().body.push(s,";"):d.return_(s)}));break;case _i.Literal:u=this.escape(e.value),this.assign(t,u),i(t||u);break;case _i.UnaryExpression:this.recurse(e.argument,void 0,void 0,(function(e){s=e})),u=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,u),i(u);break;case _i.BinaryExpression:this.recurse(e.left,void 0,void 0,(function(e){a=e})),this.recurse(e.right,void 0,void 0,(function(e){s=e})),u="+"===e.operator?this.plus(a,s):"-"===e.operator?this.ifDefined(a,0)+e.operator+this.ifDefined(s,0):"("+a+")"+e.operator+"("+s+")",this.assign(t,u),i(u);break;case _i.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),i(t);break;case _i.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),i(t);break;case _i.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),(function(){d.if_("inputs"===d.stage||"s",(function(){r&&1!==r&&d.if_(d.isNull(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))}))}),t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),i(t);break;case _i.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,a,void 0,(function(){d.if_(d.notNull(a),(function(){e.computed?(s=d.nextId(),d.recurse(e.property,s),d.getStringValue(s),r&&1!==r&&d.if_(d.not(d.computedMember(a,s)),d.lazyAssign(d.computedMember(a,s),"{}")),u=d.computedMember(a,s),d.assign(t,u),n&&(n.computed=!0,n.name=s)):(r&&1!==r&&d.if_(d.isNull(d.nonComputedMember(a,e.property.name)),d.lazyAssign(d.nonComputedMember(a,e.property.name),"{}")),u=d.nonComputedMember(a,e.property.name),d.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))}),(function(){d.assign(t,"undefined")})),i(t)}),!!r);break;case _i.CallExpression:t=t||this.nextId(),e.filter?(s=d.filter(e.callee.name),l=[],x(e.arguments,(function(e){var t=d.nextId();d.recurse(e,t),l.push(t)})),u=s+"("+l.join(",")+")",d.assign(t,u),i(t)):(s=d.nextId(),a={},l=[],d.recurse(e.callee,s,a,(function(){d.if_(d.notNull(s),(function(){x(e.arguments,(function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,(function(e){l.push(e)}))})),u=a.name?d.member(a.context,a.name,a.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",d.assign(t,u)}),(function(){d.assign(t,"undefined")})),i(t)})));break;case _i.AssignmentExpression:s=this.nextId(),a={},this.recurse(e.left,void 0,a,(function(){d.if_(d.notNull(a.context),(function(){d.recurse(e.right,s),u=d.member(a.context,a.name,a.computed)+e.operator+s,d.assign(t,u),i(t||u)}))}),1);break;case _i.ArrayExpression:l=[],x(e.elements,(function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,(function(e){l.push(e)}))})),u="["+l.join(",")+"]",this.assign(t,u),i(t||u);break;case _i.ObjectExpression:l=[],c=!1,x(e.properties,(function(e){e.computed&&(c=!0)})),c?(t=t||this.nextId(),this.assign(t,"{}"),x(e.properties,(function(e){e.computed?(a=d.nextId(),d.recurse(e.key,a)):a=e.key.type===_i.Identifier?e.key.name:""+e.key.value,s=d.nextId(),d.recurse(e.value,s),d.assign(d.member(t,a,e.computed),s)}))):(x(e.properties,(function(t){d.recurse(t.value,e.constant?void 0:d.nextId(),void 0,(function(e){l.push(d.escape(t.key.type===_i.Identifier?t.key.name:""+t.key.value)+":"+e)}))})),u="{"+l.join(",")+"}",this.assign(t,u)),i(t||u);break;case _i.ThisExpression:this.assign(t,"s"),i(t||"s");break;case _i.LocalsExpression:this.assign(t,"l"),i(t||"l");break;case _i.NGValueParameter:this.assign(t,"v"),i(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(U(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(B(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw mi("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Oi.prototype={compile:function(e){var t,n,i=this;ki(e,i.$filter),(t=Ei(e))&&(n=this.recurse(t));var r,o=Si(e.body);o&&(r=[],x(o,(function(e,t){var n=i.recurse(e);n.isPure=e.isPure,e.input=n,r.push(n),e.watchId=t})));var a=[];x(e.body,(function(e){a.push(i.recurse(e.expression))}));var s=0===e.body.length?L:1===e.body.length?a[0]:function(e,t){var n;return x(a,(function(i){n=i(e,t)})),n};return n&&(s.assign=function(e,t,i){return n(e,i,t)}),r&&(s.inputs=r),s},recurse:function(e,t,n){var i,r,o,a=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case _i.Literal:return this.value(e.value,t);case _i.UnaryExpression:return r=this.recurse(e.argument),this["unary"+e.operator](r,t);case _i.BinaryExpression:case _i.LogicalExpression:return i=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](i,r,t);case _i.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case _i.Identifier:return a.identifier(e.name,t,n);case _i.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(r=e.property.name),e.computed&&(r=this.recurse(e.property)),e.computed?this.computedMember(i,r,t,n):this.nonComputedMember(i,r,t,n);case _i.CallExpression:return o=[],x(e.arguments,(function(e){o.push(a.recurse(e))})),e.filter&&(r=this.$filter(e.callee.name)),e.filter||(r=this.recurse(e.callee,!0)),e.filter?function(e,n,i,a){for(var s=[],l=0;l<o.length;++l)s.push(o[l](e,n,i,a));var u=r.apply(void 0,s,a);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,i,a){var s,l=r(e,n,i,a);if(null!=l.value){for(var u=[],c=0;c<o.length;++c)u.push(o[c](e,n,i,a));s=l.value.apply(l.context,u)}return t?{value:s}:s};case _i.AssignmentExpression:return i=this.recurse(e.left,!0,1),r=this.recurse(e.right),function(e,n,o,a){var s=i(e,n,o,a),l=r(e,n,o,a);return s.context[s.name]=l,t?{value:l}:l};case _i.ArrayExpression:return o=[],x(e.elements,(function(e){o.push(a.recurse(e))})),function(e,n,i,r){for(var a=[],s=0;s<o.length;++s)a.push(o[s](e,n,i,r));return t?{value:a}:a};case _i.ObjectExpression:return o=[],x(e.properties,(function(e){e.computed?o.push({key:a.recurse(e.key),computed:!0,value:a.recurse(e.value)}):o.push({key:e.key.type===_i.Identifier?e.key.name:""+e.key.value,computed:!1,value:a.recurse(e.value)})})),function(e,n,i,r){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(e,n,i,r)]=o[s].value(e,n,i,r):a[o[s].key]=o[s].value(e,n,i,r);return t?{value:a}:a};case _i.ThisExpression:return function(e){return t?{value:e}:e};case _i.LocalsExpression:return function(e,n){return t?{value:n}:n};case _i.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=R(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=R(a)?-a:-0,t?{value:a}:a}},"unary!":function(e,t){return function(n,i,r,o){var a=!e(n,i,r,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(i,r,o,a){var s=Ci(e(i,r,o,a),t(i,r,o,a));return n?{value:s}:s}},"binary-":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),l=t(i,r,o,a),u=(R(s)?s:0)-(R(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)*t(i,r,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)/t(i,r,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)%t(i,r,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)===t(i,r,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!==t(i,r,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)==t(i,r,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!=t(i,r,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<t(i,r,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>t(i,r,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<=t(i,r,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>=t(i,r,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)&&t(i,r,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)||t(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(r,o,a,s){var l=e(r,o,a,s)?t(r,o,a,s):n(r,o,a,s);return i?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(i,r,o,a){var s=r&&e in r?r:i;n&&1!==n&&s&&null==s[e]&&(s[e]={});var l=s?s[e]:void 0;return t?{context:s,name:e,value:l}:l}},computedMember:function(e,t,n,i){return function(r,o,a,s){var l,u,c=e(r,o,a,s);return null!=c&&(l=vi(l=t(r,o,a,s)),i&&1!==i&&c&&!c[l]&&(c[l]={}),u=c[l]),n?{context:c,name:l,value:u}:u}},nonComputedMember:function(e,t,n,i){return function(r,o,a,s){var l=e(r,o,a,s);i&&1!==i&&l&&null==l[t]&&(l[t]={});var u=null!=l?l[t]:void 0;return n?{context:l,name:t,value:u}:u}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}},qi.prototype={constructor:qi,parse:function(e){var t=this.getAst(e),n=this.astCompiler.compile(t.ast);return n.literal=function(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===_i.Literal||e.body[0].expression.type===_i.ArrayExpression||e.body[0].expression.type===_i.ObjectExpression)}(t.ast),n.constant=function(e){return e.constant}(t.ast),n.oneTime=t.oneTime,n},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Bi=r("$sce"),Hi={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},zi=/_([a-z])/g;function Vi(e){return e.replace(zi,Ke)}function Gi(e){var t=[];return R(e)&&x(e,(function(e){t.push(function(e){if("self"===e)return e;if(U(e)){if(e.indexOf("***")>-1)throw Bi("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=ee(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(Q(e))return new RegExp("^"+e.source+"$");throw Bi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))})),t}function Qi(){this.SCE_CONTEXTS=Hi;var t=["self"],n=[];this.trustedResourceUrlList=function(e){return arguments.length&&(t=Gi(e)),t},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(e){this.trustedResourceUrlList=e}}),this.bannedResourceUrlList=function(e){return arguments.length&&(n=Gi(e)),n},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(e){this.bannedResourceUrlList=e}}),this.$get=["$injector","$$sanitizeUri",function(i,r){var o=function(e){throw Bi("unsafe","Attempting to use an unsafe value in a safe context.")};function a(t,n){return"self"===t?lr(n,or)||lr(n,e.document.baseURI?e.document.baseURI:(ir||((ir=e.document.createElement("a")).href=".",ir=ir.cloneNode(!1)),ir.href)):!!t.exec(n.href)}function s(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}i.has("$sanitize")&&(o=i.get("$sanitize"));var l=s(),u={};return u[Hi.HTML]=s(l),u[Hi.CSS]=s(l),u[Hi.MEDIA_URL]=s(l),u[Hi.URL]=s(u[Hi.MEDIA_URL]),u[Hi.JS]=s(l),u[Hi.RESOURCE_URL]=s(u[Hi.URL]),{trustAs:function(e,t){var n=u.hasOwnProperty(e)?u[e]:null;if(!n)throw Bi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||N(t)||""===t)return t;if("string"!=typeof t)throw Bi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,i){if(null===i||N(i)||""===i)return i;var s=u.hasOwnProperty(e)?u[e]:null;if(s&&i instanceof s)return i.$$unwrapTrustedValue();if(G(i.$$unwrapTrustedValue)&&(i=i.$$unwrapTrustedValue()),e===Hi.MEDIA_URL||e===Hi.URL)return r(i.toString(),e===Hi.MEDIA_URL);if(e===Hi.RESOURCE_URL){if(function(e){var i,r,o=sr(e.toString()),s=!1;for(i=0,r=t.length;i<r;i++)if(a(t[i],o)){s=!0;break}if(s)for(i=0,r=n.length;i<r;i++)if(a(n[i],o)){s=!1;break}return s}(i))return i;throw Bi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",i.toString())}if(e===Hi.HTML)return o(i);throw Bi("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof l?e.$$unwrapTrustedValue():e}}}]}function Wi(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&o<8)throw Bi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=Ue(Hi);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=j),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,(function(t){return i.getTrusted(e,t)}))};var r=i.parseAs,a=i.getTrusted,s=i.trustAs;return x(Hi,(function(e,t){var n=d(t);i[Vi("parse_as_"+n)]=function(t){return r(e,t)},i[Vi("get_trusted_"+n)]=function(t){return a(e,t)},i[Vi("trust_as_"+n)]=function(t){return s(e,t)}})),i}]}function Yi(){this.$get=["$window","$document",function(e,t){var n={},i=!((!e.nw||!e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,r=q((/android (\d+)/.exec(d((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=s.body&&s.body.style,u=!1,c=!1;return l&&(u=!(!("transition"in l)&&!("webkitTransition"in l)),c=!(!("animation"in l)&&!("webkitAnimation"in l))),{history:!(!i||r<4||a),hasEvent:function(e){if("input"===e&&o)return!1;if(N(n[e])){var t=s.createElement("div");n[e]="on"+e in t}return n[e]},csp:le(),transitions:u,animations:c,android:r}}]}function Ki(){this.$get=A((function(e){return new Zi(e)}))}function Zi(e){var t=this,n={},i=[],r=t.ALL_TASKS_TYPE="$$all$$",o=t.DEFAULT_TASK_TYPE="$$default$$";function a(){var e=i.pop();return e&&e.cb}function s(e){for(var t=i.length-1;t>=0;--t){var n=i[t];if(n.type===e)return i.splice(t,1),n.cb}}t.completeTask=function(t,i){i=i||o;try{t()}finally{!function(e){n[e=e||o]&&(n[e]--,n[r]--)}(i);var l=n[i],u=n[r];if(!u||!l)for(var c,d=u?s:a;c=d(i);)try{c()}catch(t){e.error(t)}}},t.incTaskCount=function(e){n[e=e||o]=(n[e]||0)+1,n[r]=(n[r]||0)+1},t.notifyWhenNoPendingTasks=function(e,t){n[t=t||r]?i.push({type:t,cb:e}):e()}}var Ji=r("$templateRequest");function Xi(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,i,r,o){function a(s,l){a.totalPendingRequests++,U(s)&&!N(n.get(s))||(s=o.getTrustedResourceUrl(s));var u=i.defaults&&i.defaults.transformResponse;return z(u)?u=u.filter((function(e){return e!==Rn})):u===Rn&&(u=null),i.get(s,P({cache:n,transformResponse:u},e)).finally((function(){a.totalPendingRequests--})).then((function(e){return n.put(s,e.data)}),(function(e){return l||(e=Ji("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText),t(e)),r.reject(e)}))}return a.totalPendingRequests=0,a}]}function er(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){var i=e.getElementsByClassName("ng-binding"),r=[];return x(i,(function(e){var i=b.element(e).data("$binding");i&&x(i,(function(i){n?new RegExp("(^|\\s)"+ee(t)+"(\\s|\\||$)").test(i)&&r.push(e):-1!==i.indexOf(t)&&r.push(e)}))})),r},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o="["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]',a=e.querySelectorAll(o);if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}var tr=r("$timeout");function nr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){var o={};function a(a,s,l){G(a)||(l=s,s=a,a=L);var u,c=de(arguments,3),d=R(l)&&!l,p=(d?i:n).defer(),h=p.promise;return u=t.defer((function(){try{p.resolve(a.apply(null,c))}catch(e){p.reject(e),r(e)}finally{delete o[h.$$timeoutId]}d||e.$apply()}),s,"$timeout"),h.$$timeoutId=u,o[u]=p,h}return a.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw tr("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!o.hasOwnProperty(e.$$timeoutId))return!1;var n=e.$$timeoutId,i=o[n];return Ri(i.promise),i.reject("canceled"),delete o[n],t.defer.cancel(n)},a}]}var ir,rr=e.document.createElement("a"),or=sr(e.location.href);rr.href="http://[::1]";var ar="[::1]"===rr.hostname;function sr(e){if(!U(e))return e;var t=e;o&&(rr.setAttribute("href",t),t=rr.href),rr.setAttribute("href",t);var n=rr.hostname;return!ar&&n.indexOf(":")>-1&&(n="["+n+"]"),{href:rr.href,protocol:rr.protocol?rr.protocol.replace(/:$/,""):"",host:rr.host,search:rr.search?rr.search.replace(/^\?/,""):"",hash:rr.hash?rr.hash.replace(/^#/,""):"",hostname:n,port:rr.port,pathname:"/"===rr.pathname.charAt(0)?rr.pathname:"/"+rr.pathname}}function lr(e,t){return e=sr(e),t=sr(t),e.protocol===t.protocol&&e.host===t.host}function ur(){this.$get=A(e)}function cr(e){var t=e[0]||{},n={},i="";function r(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,o,a,s,l,u=function(e){try{return e.cookie||""}catch(e){return""}}(t);if(u!==i)for(e=(i=u).split("; "),n={},a=0;a<e.length;a++)(s=(o=e[a]).indexOf("="))>0&&(l=r(o.substring(0,s)),N(n[l])&&(n[l]=r(o.substring(s+1))));return n}}function dr(){this.$get=cr}function pr(e){var t="Filter";function n(i,r){if(I(i)){var o={};return x(i,(function(e,t){o[t]=n(t,e)})),o}return e.factory(i+t,r)}this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",gr),n("date",Pr),n("filter",hr),n("json",Or),n("limitTo",Mr),n("lowercase",qr),n("number",vr),n("orderBy",jr),n("uppercase",$r)}function hr(){return function(e,t,n,i){if(!_(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}var o,a;switch(i=i||"$",mr(t)){case"function":o=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=function(e,t,n,i){var r=I(e)&&n in e;return!0===t?t=se:G(t)||(t=function(e,t){return!(N(e)||(null===e||null===t?e!==t:I(t)||I(e)&&!D(e)||(e=d(""+e),t=d(""+t),-1===e.indexOf(t))))}),function(o){return r&&!I(o)?fr(o,e[n],t,n,!1):fr(o,e,t,n,i)}}(t,n,i,a);break;default:return e}return Array.prototype.filter.call(e,o)}}function fr(e,t,n,i,r,o){var a=mr(e),s=mr(t);if("string"===s&&"!"===t.charAt(0))return!fr(e,t.substring(1),n,i,r);if(z(e))return e.some((function(e){return fr(e,t,n,i,r)}));switch(a){case"object":var l;if(r){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&fr(e[l],t,n,i,!0))return!0;return!o&&fr(e,t,n,i,!1)}if("object"===s){for(l in t){var u=t[l];if(!G(u)&&!N(u)){var c=l===i;if(!fr(c?e:e[l],u,n,i,c,c))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function mr(e){return null===e?"null":typeof e}function gr(e){var t=e.NUMBER_FORMATS;return function(e,n,i){N(n)&&(n=t.CURRENCY_SYM),N(i)&&(i=t.PATTERNS[1].maxFrac);var r=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:yr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(r,n)}}function vr(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:yr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function yr(e,t,n,i,r){if(!U(e)&&!B(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",u="";if(a)u="∞";else{o=function(e){var t,n,i,r,o,a=0;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;"0"===e.charAt(i);i++);if(i===(o=e.length))t=[0],n=1;else{for(o--;"0"===e.charAt(o);)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=+e.charAt(i)}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{d:t,e:a,i:n}}(l),function(e,t,n,i){var r=e.d,o=r.length-e.i,a=(t=N(t)?Math.min(Math.max(n,o),i):+t)+e.i,s=r[a];if(a>0){r.splice(Math.max(e.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),e.i=1,r.length=Math.max(1,a=t+1),r[0]=0;for(var u=1;u<a;u++)r[u]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[a-1]++;for(;o<Math.max(0,t);o++)r.push(0);var d=r.reduceRight((function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)}),0);d&&(r.unshift(d),e.i++)}(o,r,t.minFrac,t.maxFrac);var c=o.d,d=o.i,p=o.e,h=[];for(s=c.reduce((function(e,t){return e&&!t}),!0);d<0;)c.unshift(0),d++;d>0?h=c.splice(d,c.length):(h=c,c=[0]);var f=[];for(c.length>=t.lgSize&&f.unshift(c.splice(-t.lgSize,c.length).join(""));c.length>t.gSize;)f.unshift(c.splice(-t.gSize,c.length).join(""));c.length&&f.unshift(c.join("")),u=f.join(n),h.length&&(u+=i+h.join("")),p&&(u+="e+"+p)}return e<0&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function br(e,t,n,i){var r="";for((e<0||i&&e<=0)&&(i?e=1-e:(e=-e,r="-")),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function wr(e,t,n,i,r){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),br(a,t,i,r)}}function _r(e,t,n){return function(i,r){var o=i["get"+e]();return r[p((n?"STANDALONE":"")+(t?"SHORT":"")+e)][o]}}function xr(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Cr(e){return function(t){var n,i=xr(t.getFullYear()),r=(n=t,+new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))-+i);return br(1+Math.round(r/6048e5),e)}}function kr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}cr.$inject=["$document"],pr.$inject=["$provide"],gr.$inject=["$locale"],vr.$inject=["$locale"];var Sr={yyyy:wr("FullYear",4,0,!1,!0),yy:wr("FullYear",2,0,!0,!0),y:wr("FullYear",1,0,!1,!0),MMMM:_r("Month"),MMM:_r("Month",!0),MM:wr("Month",2,1),M:wr("Month",1,1),LLLL:_r("Month",!1,!0),dd:wr("Date",2),d:wr("Date",1),HH:wr("Hours",2),H:wr("Hours",1),hh:wr("Hours",2,-12),h:wr("Hours",1,-12),mm:wr("Minutes",2),m:wr("Minutes",1),ss:wr("Seconds",2),s:wr("Seconds",1),sss:wr("Milliseconds",3),EEEE:_r("Day"),EEE:_r("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var i=-1*n;return(i>=0?"+":"")+(br(Math[i>0?"floor":"ceil"](i/60),2)+br(Math.abs(i%60),2))},ww:Cr(2),w:Cr(1),G:kr,GG:kr,GGG:kr,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Tr=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Er=/^-?\d+$/;function Pr(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var o,a,s="",l=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,U(n)&&(n=Er.test(n)?q(n):function(e){var n;if(n=e.match(t)){var i=new Date(0),r=0,o=0,a=n[8]?i.setUTCFullYear:i.setFullYear,s=n[8]?i.setUTCHours:i.setHours;n[9]&&(r=q(n[9]+n[10]),o=q(n[9]+n[11])),a.call(i,q(n[1]),q(n[2])-1,q(n[3]));var l=q(n[4]||0)-r,u=q(n[5]||0)-o,c=q(n[6]||0),d=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(i,l,u,c,d),i}return e}(n)),B(n)&&(n=new Date(n)),!H(n)||!isFinite(n.getTime()))return n;for(;i;)(a=Tr.exec(i))?i=(l=ce(l,a,1)).pop():(l.push(i),i=null);var u=n.getTimezoneOffset();return r&&(u=ve(r,u),n=be(n,r,!0)),x(l,(function(t){s+=(o=Sr[t])?o(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),s}}function Or(){return function(e,t){return N(t)&&(t=2),fe(e,t)}}Pr.$inject=["$locale"];var qr=A(d),$r=A(p);function Mr(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):q(t),$(t)?e:(B(e)&&(e=e.toString()),_(e)?(n=(n=!n||isNaN(n)?0:q(n))<0?Math.max(0,e.length+n):n,t>=0?Lr(e,n,n+t):0===n?Lr(e,t,e.length):Lr(e,Math.max(0,n+t),n)):e)}}function Lr(e,t,n){return U(e)?e.slice(t,n):h.call(e,t,n)}function jr(e){return function(i,o,a,s){if(null==i)return i;if(!_(i))throw r("orderBy")("notarray","Expected array but received: {0}",i);z(o)||(o=[o]),0===o.length&&(o=["+"]);var l=o.map((function(t){var n=1,i=j;if(G(t))i=t;else if(U(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t)).constant)){var r=i();i=function(e){return e[r]}}return{get:i,descending:n}})),u=a?-1:1,c=G(s)?s:n,d=Array.prototype.map.call(i,(function(e,n){return{value:e,tieBreaker:{value:n,type:"number",index:n},predicateValues:l.map((function(i){return function(e,n){var i=typeof e;return null===e?i="null":"object"===i&&(e=function(e){return G(e.valueOf)&&t(e=e.valueOf())||D(e)&&t(e=e.toString()),e}(e)),{value:e,type:i,index:n}}(i.get(e),n)}))}}));return d.sort((function(e,t){for(var i=0,r=l.length;i<r;i++){var o=c(e.predicateValues[i],t.predicateValues[i]);if(o)return o*l[i].descending*u}return(c(e.tieBreaker,t.tieBreaker)||n(e.tieBreaker,t.tieBreaker))*u})),d.map((function(e){return e.value}))};function t(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){var n=0,i=e.type,r=t.type;if(i===r){var o=e.value,a=t.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(I(o)&&(o=e.index),I(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n="undefined"===i?1:"undefined"===r?-1:"null"===i?1:"null"===r||i<r?-1:1;return n}}function Ar(e){return G(e)&&(e={link:e}),e.restrict=e.restrict||"AC",A(e)}jr.$inject=["$parse"];var Dr=A({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===g.call(t.prop("href"))?"xlink:href":"href";t.on("click",(function(e){t.attr(n)||e.preventDefault()}))}}}}),Nr={};x(qt,(function(e,t){if("multiple"!==e){var n=bn("ng-"+t),i=r;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[n]&&r(e,0,i)}),Nr[n]=function(){return{restrict:"A",priority:100,link:i}}}function r(e,i,r){e.$watch(r[n],(function(e){r.$set(t,!!e)}))}})),x(Mt,(function(e,t){Nr[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"===i.ngPattern.charAt(0)){var r=i.ngPattern.match(u);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(i[t],(function(e){i.$set(t,e)}))}}}})),x(["src","srcset","href"],(function(e){var t=bn("ng-"+e);Nr[t]=["$sce",function(n){return{priority:99,link:function(i,r,a){var s=e,l=e;"href"===e&&"[object SVGAnimatedString]"===g.call(r.prop("href"))&&(l="xlinkHref",a.$attr[l]="xlink:href",s=null),a.$set(t,n.getTrustedMediaUrl(a[t])),a.$observe(t,(function(t){t?(a.$set(l,t),o&&s&&r.prop(s,a[l])):"href"===e&&a.$set(l,null)}))}}}]}));var Rr={$addControl:L,$getControls:A([]),$$renameControl:function(e,t){e.$name=t},$removeControl:L,$setValidity:L,$setDirty:L,$setPristine:L,$setSubmitted:L,$$setSubmitted:L},Ir="ng-pending",Fr="ng-submitted";function Ur(e,t,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Rr,this.$$element=e,this.$$animate=i,Vr(this)}Ur.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Ur.prototype={$rollbackViewValue:function(){x(this.$$controls,(function(e){e.$rollbackViewValue()}))},$commitViewValue:function(){x(this.$$controls,(function(e){e.$commitViewValue()}))},$addControl:function(e){De(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return Ue(this.$$controls)},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],x(this.$pending,(function(t,n){this.$setValidity(n,null,e)}),this),x(this.$error,(function(t,n){this.$setValidity(n,null,e)}),this),x(this.$$success,(function(t,n){this.$setValidity(n,null,e)}),this),re(this.$$controls,e),e.$$parentForm=Rr},$setDirty:function(){this.$$animate.removeClass(this.$$element,Uo),this.$$animate.addClass(this.$$element,Bo),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Uo,Bo+" "+Fr),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,x(this.$$controls,(function(e){e.$setPristine()}))},$setUntouched:function(){x(this.$$controls,(function(e){e.$setUntouched()}))},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Rr;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Fr),this.$submitted=!0,x(this.$$controls,(function(e){e.$$setSubmitted&&e.$$setSubmitted()}))}},Gr({clazz:Ur,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(re(i,n),0===i.length&&delete e[t])}});var Br=function(e){return["$timeout","$parse",function(t,n){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Ur,compile:function(n,r){n.addClass(Uo).addClass(Io);var o=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,n,r,a){var s=a[0];if(!("action"in r)){var l=function(t){e.$apply((function(){s.$commitViewValue(),s.$setSubmitted()})),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",(function(){t((function(){n[0].removeEventListener("submit",l)}),0,!1)}))}(a[1]||s.$$parentForm).$addControl(s);var u=o?i(s.$name):L;o&&(u(e,s),r.$observe(o,(function(t){s.$name!==t&&(u(e,void 0),s.$$parentForm.$$renameControl(s,t),(u=i(s.$name))(e,s))}))),n.on("$destroy",(function(){s.$$parentForm.$removeControl(s),u(e,void 0),P(s,Rr)}))}}}};function i(e){return""===e?n('this[""]').assign:n(e).assign||L}}]},Hr=Br(),zr=Br(!0);function Vr(e){e.$$classCache={},e.$$classCache[Fo]=!(e.$$classCache[Io]=e.$$element.hasClass(Io))}function Gr(e){var t=e.clazz,n=e.set,i=e.unset;function r(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function o(e,t,n){t=t?"-"+$e(t,"-"):"",r(e,Io+t,!0===n),r(e,Fo+t,!1===n)}t.prototype.$setValidity=function(e,t,a){var s;N(t)?function(e,t,i,r){e[t]||(e[t]={}),n(e[t],i,r)}(this,"$pending",e,a):function(e,t,n,r){e[t]&&i(e[t],n,r),Qr(e[t])&&(e[t]=void 0)}(this,"$pending",e,a),K(t)?t?(i(this.$error,e,a),n(this.$$success,e,a)):(n(this.$error,e,a),i(this.$$success,e,a)):(i(this.$error,e,a),i(this.$$success,e,a)),this.$pending?(r(this,Ir,!0),this.$valid=this.$invalid=void 0,o(this,"",null)):(r(this,Ir,!1),this.$valid=Qr(this.$error),this.$invalid=!this.$valid,o(this,"",this.$valid)),o(this,e,s=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,s,this)}}function Qr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Wr=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Yr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Kr=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Zr=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Jr=/^(\d{4,})-(\d{2})-(\d{2})$/,Xr=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,eo=/^(\d{4,})-W(\d\d)$/,to=/^(\d{4,})-(\d\d)$/,no=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,io=Re();x("date,datetime-local,month,time,week".split(","),(function(e){io[e]=!0}));var ro={text:function(e,t,n,i,r,o){ao(0,t,n,i,r,o),oo(i)},date:lo("date",Jr,so(Jr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":lo("datetimelocal",Xr,so(Xr,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:lo("time",no,so(no,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:lo("week",eo,(function(e,t){if(H(e))return e;if(U(e)){eo.lastIndex=0;var n=eo.exec(e);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,l=0,u=xr(i),c=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(i,0,u.getDate()+c,o,a,s,l)}}return NaN}),"yyyy-Www"),month:lo("month",to,so(to,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,i,r,o,a,s){var l;if(uo(0,t,0,i,"number"),co(i),ao(0,t,n,i,r,o),R(n.min)||n.ngMin){var u=n.min||s(n.ngMin)(e);l=po(u),i.$validators.min=function(e,t){return i.$isEmpty(t)||N(l)||t>=l},n.$observe("min",(function(e){e!==u&&(l=po(e),u=e,i.$validate())}))}if(R(n.max)||n.ngMax){var c=n.max||s(n.ngMax)(e),d=po(c);i.$validators.max=function(e,t){return i.$isEmpty(t)||N(d)||t<=d},n.$observe("max",(function(e){e!==c&&(d=po(e),c=e,i.$validate())}))}if(R(n.step)||n.ngStep){var p=n.step||s(n.ngStep)(e),h=po(p);i.$validators.step=function(e,t){return i.$isEmpty(t)||N(h)||mo(t,l||0,h)},n.$observe("step",(function(e){e!==p&&(h=po(e),p=e,i.$validate())}))}},url:function(e,t,n,i,r,o){ao(0,t,n,i,r,o),oo(i),i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||Yr.test(n)}},email:function(e,t,n,i,r,o){ao(0,t,n,i,r,o),oo(i),i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Kr.test(n)}},radio:function(e,t,n,i){var r=!n.ngTrim||"false"!==X(n.ngTrim);N(n.name)&&t.attr("name",S()),t.on("change",(function(e){var o;t[0].checked&&(o=n.value,r&&(o=X(o)),i.$setViewValue(o,e&&e.type))})),i.$render=function(){var e=n.value;r&&(e=X(e)),t[0].checked=e===i.$viewValue},n.$observe("value",i.$render)},range:function(e,t,n,i,r,o){uo(0,t,0,i,"range"),co(i),ao(0,t,n,i,r,o);var a=i.$$hasNativeValidators&&"range"===t[0].type,s=a?0:void 0,l=a?100:void 0,u=a?1:void 0,c=t[0].validity,d=R(n.min),p=R(n.max),h=R(n.step),f=i.$render;function m(e,i){t.attr(e,n[e]);var r=n[e];n.$observe(e,(function(e){e!==r&&(r=e,i(e))}))}i.$render=a&&R(c.rangeUnderflow)&&R(c.rangeOverflow)?function(){f(),i.$setViewValue(t.val())}:f,d&&(s=po(n.min),i.$validators.min=a?function(){return!0}:function(e,t){return i.$isEmpty(t)||N(s)||t>=s},m("min",(function(e){if(s=po(e),!$(i.$modelValue))if(a){var n=t.val();s>n&&(n=s,t.val(n)),i.$setViewValue(n)}else i.$validate()}))),p&&(l=po(n.max),i.$validators.max=a?function(){return!0}:function(e,t){return i.$isEmpty(t)||N(l)||t<=l},m("max",(function(e){if(l=po(e),!$(i.$modelValue))if(a){var n=t.val();l<n&&(t.val(l),n=l<s?s:l),i.$setViewValue(n)}else i.$validate()}))),h&&(u=po(n.step),i.$validators.step=a?function(){return!c.stepMismatch}:function(e,t){return i.$isEmpty(t)||N(u)||mo(t,s||0,u)},m("step",(function(e){u=po(e),$(i.$modelValue)||(a?i.$viewValue!==t.val()&&i.$setViewValue(t.val()):i.$validate())})))},checkbox:function(e,t,n,i,r,o,a,s){var l=go(s,e,"ngTrueValue",n.ngTrueValue,!0),u=go(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("change",(function(e){i.$setViewValue(t[0].checked,e&&e.type)})),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push((function(e){return se(e,l)})),i.$parsers.push((function(e){return e?l:u}))},hidden:L,button:L,submit:L,reset:L,file:L};function oo(e){e.$formatters.push((function(t){return e.$isEmpty(t)?t:t.toString()}))}function ao(e,t,n,i,r,o){var a,s=d(t[0].type);if(!r.android){var l=!1;t.on("compositionstart",(function(){l=!0})),t.on("compositionupdate",(function(e){(N(e.data)||""===e.data)&&(l=!1)})),t.on("compositionend",(function(){l=!1,u()}))}var u=function(e){if(a&&(o.defer.cancel(a),a=null),!l){var r=t.val(),u=e&&e.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=X(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,u)}};if(r.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){a||(a=o.defer((function(){a=null,t&&t.value===n||u(e)})))};t.on("keydown",(function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||c(e,this,this.value)})),r.hasEvent("paste")&&t.on("paste cut drop",c)}t.on("change",u),io[s]&&i.$$hasNativeValidators&&s===n.type&&t.on("keydown wheel mousedown",(function(e){if(!a){var t=this.validity,n=t.badInput,i=t.typeMismatch;a=o.defer((function(){a=null,t.badInput===n&&t.typeMismatch===i||u(e)}))}})),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function so(e,t){return function(n,i){var r,o;if(H(n))return n;if(U(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Wr.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n)){r.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},x(r,(function(e,n){n<t.length&&(o[t[n]]=+e)}));var a=new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0);return o.yyyy<100&&a.setFullYear(o.yyyy),a}}return NaN}}function lo(e,t,n,i){return function(r,o,a,s,l,u,c,d){uo(0,o,0,s,e),ao(0,o,a,s,l,u);var p,h,f="time"===e||"datetimelocal"===e;if(s.$parsers.push((function(n){return s.$isEmpty(n)?null:t.test(n)?_(n,p):void(s.$$parserName=e)})),s.$formatters.push((function(e){if(e&&!H(e))throw Qo("datefmt","Expected `{0}` to be a date",e);if(b(e)){p=e;var t=s.$options.getOption("timezone");return t&&(h=t,p=be(p,t,!0)),function(e,t){var n=i;f&&U(s.$options.getOption("timeSecondsFormat"))&&(n=i.replace("ss.sss",s.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var r=c("date")(e,n,t);return f&&s.$options.getOption("timeStripZeroSeconds")&&(r=r.replace(/(?::00)?(?:\.000)?$/,"")),r}(e,t)}return p=null,h=null,""})),R(a.min)||a.ngMin){var m=a.min||d(a.ngMin)(r),g=w(m);s.$validators.min=function(e){return!b(e)||N(g)||n(e)>=g},a.$observe("min",(function(e){e!==m&&(g=w(e),m=e,s.$validate())}))}if(R(a.max)||a.ngMax){var v=a.max||d(a.ngMax)(r),y=w(v);s.$validators.max=function(e){return!b(e)||N(y)||n(e)<=y},a.$observe("max",(function(e){e!==v&&(y=w(e),v=e,s.$validate())}))}function b(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function w(e){return R(e)&&!H(e)?_(e)||void 0:e}function _(e,t){var i=s.$options.getOption("timezone");h&&h!==i&&(t=ye(t,ve(h)));var r=n(e,t);return!isNaN(r)&&i&&(r=be(r,i)),r}}}function uo(e,t,n,i,r){var o=t[0];(i.$$hasNativeValidators=I(o.validity))&&i.$parsers.push((function(e){var n=t.prop("validity")||{};if(!n.badInput&&!n.typeMismatch)return e;i.$$parserName=r}))}function co(e){e.$parsers.push((function(t){return e.$isEmpty(t)?null:Zr.test(t)?parseFloat(t):void(e.$$parserName="number")})),e.$formatters.push((function(t){if(!e.$isEmpty(t)){if(!B(t))throw Qo("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}))}function po(e){return R(e)&&!B(e)&&(e=parseFloat(e)),$(e)?void 0:e}function ho(e){return(0|e)===e}function fo(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var i=/e-(\d+)$/.exec(t);if(i)return Number(i[1])}return 0}return t.length-n-1}function mo(e,t,n){var i=Number(e),r=!ho(i),o=!ho(t),a=!ho(n);if(r||o||a){var s=r?fo(i):0,l=o?fo(t):0,u=a?fo(n):0,c=Math.max(s,l,u),d=Math.pow(10,c);i*=d,t*=d,n*=d,r&&(i=Math.round(i)),o&&(t=Math.round(t)),a&&(n=Math.round(n))}return(i-t)%n==0}function go(e,t,n,i,r){var o;if(R(i)){if(!(o=e(i)).constant)throw Qo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return r}var vo=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(ro[d(a.type)]||ro.text)(r,o,a,s[0],t,e,n,i)}}}}],yo=function(){var e={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(t,n){if("hidden"===d(n.type))return{pre:function(t,n,i,r){var o=n[0];o.parentNode&&o.parentNode.insertBefore(o,o.nextSibling),Object.defineProperty&&Object.defineProperty(o,"value",e)}}}}},bo=/^(true|false|\d+)$/,wo=function(){function e(e,t,n){var i=R(n)?n:9===o?"":null;e.prop("value",i),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return bo.test(n.ngValue)?function(t,n,i){e(n,i,t.$eval(i.ngValue))}:function(t,n,i){t.$watch(i.ngValue,(function(t){e(n,i,t)}))}}}},_o=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,(function(e){n.textContent=Ie(e)}))}}}}],xo=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){var o=e(i.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",(function(e){i.textContent=N(e)?"":e}))}}}}],Co=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,(function(t){return e.valueOf(t)}));return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,(function(){var n=o(t);i.html(e.getTrustedHtml(n)||"")}))}}}}],ko=A({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push((function(){e.$eval(n.ngChange)}))}});function So(e,t){var n;return e="ngClass"+e,["$parse",function(a){return{restrict:"AC",link:function(s,l,u){var c,d=l.data("$classCounts"),p=!0;function h(e,t){var n=[];return x(e,(function(e){(t>0||d[e])&&(d[e]=(d[e]||0)+t,d[e]===+(t>0)&&n.push(e))})),n.join(" ")}d||(d=Re(),l.data("$classCounts",d)),"ngClass"!==e&&(n||(n=a("$index",(function(e){return 1&e}))),s.$watch(n,(function(e){var n;e===t?(n=h(r(n=c),1),u.$addClass(n)):function(e){e=h(r(e),-1),u.$removeClass(e)}(c),p=e}))),s.$watch(a(u[e],o),(function(e){p===t&&function(e,t){var n=r(e),o=r(t),a=i(n,o),s=i(o,n),l=h(a,-1),c=h(s,1);u.$addClass(c),u.$removeClass(l)}(c,e),c=e}))}}}];function i(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r===t[o])continue e;n.push(r)}return n}function r(e){return e&&e.split(" ")}function o(e){if(!e)return e;var t=e;return z(e)?t=e.map(o).join(" "):I(e)?t=Object.keys(e).filter((function(t){return e[t]})).join(" "):U(e)||(t=e+""),t}}var To=So("",!0),Eo=So("Odd",0),Po=So("Even",1),Oo=Ar({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),qo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],$o={},Mo={blur:!0,focus:!0};function Lo(e,t,n,i,r,o){return{restrict:"A",compile:function(a,s){var l=e(s[i]);return function(e,i){i.on(r,(function(i){var r=function(){l(e,{$event:i})};if(t.$$phase)if(o)e.$evalAsync(r);else try{r()}catch(e){n(e)}else e.$apply(r)}))}}}}x("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(e){var t=bn("ng-"+e);$o[t]=["$parse","$rootScope","$exceptionHandler",function(n,i,r){return Lo(n,i,r,t,e,Mo[e])}]}));var jo=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,u;n.$watch(r.ngIf,(function(n){n?l||a((function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)})):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=Ne(s.clone),e.leave(u).done((function(e){!1!==e&&(u=null)})),s=null))}))}}}],Ao=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:b.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,u,c){var d,p,h,f=0,m=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),h&&(n.leave(h).done((function(e){!1!==e&&(p=null)})),p=h,h=null)};i.$watch(o,(function(o){var l=function(e){!1===e||!R(s)||s&&!i.$eval(s)||t()},p=++f;o?(e(o,!0).then((function(e){if(!i.$$destroyed&&p===f){var t=i.$new();u.template=e;var s=c(t,(function(e){m(),n.enter(e,null,r).done(l)}));h=s,(d=t).$emit("$includeContentLoaded",o),i.$eval(a)}}),(function(){i.$$destroyed||p===f&&(m(),i.$emit("$includeContentError",o))})),i.$emit("$includeContentRequested",o)):(m(),u.template=null)}))}}}}],Do=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){if(g.call(i[0]).match(/SVG/))return i.empty(),void t(ut(o.template,e.document).childNodes)(n,(function(e){i.append(e)}),{futureParentElement:i});i.html(o.template),t(i.contents())(n)}}}],No=Ar({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ro=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var r=n.ngList||", ",o="false"!==n.ngTrim,a=o?X(r):r;i.$parsers.push((function(e){if(!N(e)){var t=[];return e&&x(e.split(a),(function(e){e&&t.push(o?X(e):e)})),t}})),i.$formatters.push((function(e){if(z(e))return e.join(r)})),i.$isEmpty=function(e){return!e||!e.length}}}},Io="ng-valid",Fo="ng-invalid",Uo="ng-pristine",Bo="ng-dirty",Ho="ng-untouched",zo="ng-touched",Vo="ng-empty",Go="ng-not-empty",Qo=r("ngModel");function Wo(e,t,n,i,r,o,a,s,l){var u;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Rr,this.$options=Yo,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=a,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=t,Vr(this),(u=this).$$scope.$watch((function(e){var t=u.$$ngModelGet(e);return t===u.$modelValue||u.$modelValue!=u.$modelValue&&t!=t||u.$$setModelValue(t),t}))}Wo.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Wo.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return G(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){G(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Qo("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,we(this.$$element))},$render:L,$isEmpty:function(e){return N(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,Go),this.$$animate.addClass(this.$$element,Vo)):(this.$$animate.removeClass(this.$$element,Vo),this.$$animate.addClass(this.$$element,Go))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Bo),this.$$animate.addClass(this.$$element,Uo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Uo),this.$$animate.addClass(this.$$element,Bo),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Ho,zo)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,zo,Ho)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!$(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,(function(e){r||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==i&&o.$$writeModelToScope())}))}},$$runValidators:function(e,t,n){this.$$currentValidationRunId++;var i,r,o,a,s=this.$$currentValidationRunId,l=this;function u(e,t){s===l.$$currentValidationRunId&&l.$setValidity(e,t)}function c(e){s===l.$$currentValidationRunId&&n(e)}a=l.$$parserName,(N(l.$$parserValid)?(u(a,null),1):(l.$$parserValid||(x(l.$validators,(function(e,t){u(t,null)})),x(l.$asyncValidators,(function(e,t){u(t,null)}))),u(a,l.$$parserValid),l.$$parserValid))?(o=!0,x(l.$validators,(function(n,i){var r=Boolean(n(e,t));o=o&&r,u(i,r)})),!o&&(x(l.$asyncValidators,(function(e,t){u(t,null)})),1)?c(!1):(i=[],r=!0,x(l.$asyncValidators,(function(n,o){var a=n(e,t);if(!Z(a))throw Qo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);u(o,void 0),i.push(a.then((function(){u(o,!0)}),(function(){r=!1,u(o,!1)})))})),i.length?l.$$q.all(i).then((function(){c(r)}),L):c(!0))):c(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!N(e)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var n=0;n<this.$parsers.length;n++)if(N(e=this.$parsers[n](e))){this.$$parserValid=!1;break}$(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,r=this.$options.getOption("allowInvalid");function o(){t.$modelValue!==i&&t.$$writeModelToScope()}this.$$rawModelValue=e,r&&(this.$modelValue=e,o()),this.$$runValidators(e,this.$$lastCommittedViewValue,(function(n){r||(t.$modelValue=n?e:void 0,o())}))},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),x(this.$viewChangeListeners,(function(e){try{e()}catch(e){this.$$exceptionHandler(e)}}),this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");B(t[e])?t=t[e]:B(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:B(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout((function(){n.$commitViewValue()}),t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply((function(){n.$commitViewValue()}))},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,L))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},Gr({clazz:Wo,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var Yo,Ko=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Wo,priority:1,compile:function(t){return t.addClass(Uo).addClass(Ho).addClass(Io),{pre:function(e,t,n,i){var r=i[0],o=i[1]||r.$$parentForm,a=i[2];a&&(r.$options=a.$options),r.$$initGetterSetters(),o.$addControl(r),n.$observe("name",(function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)})),e.$on("$destroy",(function(){r.$$parentForm.$removeControl(r)}))},post:function(t,n,i,r){var o=r[0];function a(){o.$setTouched()}o.$$setUpdateOnEvents(),n.on("blur",(function(){o.$touched||(e.$$phase?t.$evalAsync(a):t.$apply(a))}))}}}}}],Zo=/(\s+|^)default(\s+|$)/;function Jo(e){this.$$options=e}Jo.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return x(e=P({},e),(function(n,i){"$inherit"===n?"*"===i?t=!0:(e[i]=this.$$options[i],"updateOn"===i&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(e.updateOnDefault=!1,e[i]=X(n.replace(Zo,(function(){return e.updateOnDefault=!0," "}))))}),this),t&&(delete e["*"],ea(e,this.$$options)),ea(e,Yo.$$options),new Jo(e)}},Yo=new Jo({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Xo=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:Yo,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}};function ea(e,t){x(t,(function(t,n){R(e[n])||(e[n]=t)}))}var ta=Ar({terminal:!0,priority:1e3}),na=r("ngOptions"),ia=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ra=["$compile","$document","$parse",function(t,n,i){var r=e.document.createElement("option"),o=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=L},post:function(e,s,l,u){for(var c=u[0],d=u[1],p=l.multiple,h=0,f=s.children(),m=f.length;h<m;h++)if(""===f[h].value){c.hasEmptyOption=!0,c.emptyOption=f.eq(h);break}s.empty();var g,v=!!c.emptyOption;a(r.cloneNode(!1)).val("?");var y=function(e,t,n){var r=e.match(ia);if(!r)throw na("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,we(t));var o=r[5]||r[7],a=r[6],s=/ as /.test(r[0])&&r[1],l=r[9],u=i(r[2]?r[1]:o),c=s&&i(s)||u,d=l&&i(l),p=l?function(e,t){return d(n,t)}:function(e){return Nt(e)},h=function(e,t){return p(e,b(e,t))},f=i(r[2]||r[1]),m=i(r[3]||""),g=i(r[4]||""),v=i(r[8]),y={},b=a?function(e,t){return y[a]=t,y[o]=e,y}:function(e){return y[o]=e,y};function w(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function x(e){var t;if(!a&&_(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:l,getTrackByValue:h,getWatchables:i(v,(function(e){for(var t=[],i=x(e=e||[]),o=i.length,a=0;a<o;a++){var s=e===i?a:i[a],l=e[s],u=b(l,s),c=p(l,u);if(t.push(c),r[2]||r[1]){var d=f(n,u);t.push(d)}if(r[4]){var h=g(n,u);t.push(h)}}return t})),getOptions:function(){for(var e=[],t={},i=v(n)||[],r=x(i),o=r.length,a=0;a<o;a++){var s=i===r?a:r[a],u=i[s],d=b(u,s),y=c(n,d),_=p(y,d),C=new w(_,y,f(n,d),m(n,d),g(n,d));e.push(C),t[_]=C}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[h(e)]},getViewValueFromOption:function(e){return l?oe(e.viewValue):e.viewValue}}}}}(l.ngOptions,s,e),b=n[0].createDocumentFragment();function w(e,t){var n=r.cloneNode(!1);t.appendChild(n),function(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}(e,n)}function C(e){var t=g.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}c.generateUnknownOptionValue=function(e){return"?"},p?(c.writeValue=function(e){if(g){var t=e&&e.map(C)||[];g.items.forEach((function(e){e.element.selected&&!ie(t,e)&&(e.element.selected=!1)}))}},c.readValue=function(){var e=s.val()||[],t=[];return x(e,(function(e){var n=g.selectValueMap[e];n&&!n.disabled&&t.push(g.getViewValueFromOption(n))})),t},y.trackBy&&e.$watchCollection((function(){if(z(d.$viewValue))return d.$viewValue.map((function(e){return y.getTrackByValue(e)}))}),(function(){d.$render()}))):(c.writeValue=function(e){if(g){var t=s[0].options[s[0].selectedIndex],n=g.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(s[0].value!==n.selectValue&&(c.removeUnknownOption(),s[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):c.selectUnknownOrEmptyOption(e)}},c.readValue=function(){var e=g.selectValueMap[s.val()];return e&&!e.disabled?(c.unselectEmptyOption(),c.removeUnknownOption(),g.getViewValueFromOption(e)):null},y.trackBy&&e.$watch((function(){return y.getTrackByValue(d.$viewValue)}),(function(){d.$render()}))),v&&(t(c.emptyOption)(e),s.prepend(c.emptyOption),8===c.emptyOption[0].nodeType?(c.hasEmptyOption=!1,c.registerOption=function(e,t){""===t.val()&&(c.hasEmptyOption=!0,c.emptyOption=t,c.emptyOption.removeClass("ng-scope"),d.$render(),t.on("$destroy",(function(){var e=c.$isEmptyOptionSelected();c.hasEmptyOption=!1,c.emptyOption=void 0,e&&d.$render()})))}):c.emptyOption.removeClass("ng-scope")),e.$watchCollection(y.getWatchables,(function(){var e=g&&c.readValue();if(g)for(var t=g.items.length-1;t>=0;t--){var n=g.items[t];R(n.group)?Et(n.element.parentNode):Et(n.element)}g=y.getOptions();var i={};if(g.items.forEach((function(e){var t;R(e.group)?((t=i[e.group])||(t=o.cloneNode(!1),b.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),w(e,t)):w(e,b)})),s[0].appendChild(b),d.$render(),!d.$isEmpty(e)){var r=c.readValue();(y.trackBy||p?se(e,r):e===r)||(d.$setViewValue(r),d.$render())}}))}}}}],oa=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(o,a,s){var l,u=s.count,c=s.$attr.when&&a.attr(s.$attr.when),p=s.offset||0,h=o.$eval(c)||{},f={},m=t.startSymbol(),g=t.endSymbol(),v=m+u+"-"+p+g,y=b.noop;function w(e){a.text(e||"")}x(s,(function(e,t){var n=r.exec(t);if(n){var i=(n[1]?"-":"")+d(n[2]);h[i]=a.attr(s.$attr[t])}})),x(h,(function(e,n){f[n]=t(e.replace(i,v))})),o.$watch(u,(function(t){var i=parseFloat(t),r=$(i);if(r||i in h||(i=e.pluralCat(i-p)),!(i===l||r&&$(l))){y();var a=f[i];N(a)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+c),y=L,w()):y=o.$watch(a,w),l=i}}))}}}],aa=r("ngRef"),sa=["$parse",function(e){return{priority:-1,restrict:"A",compile:function(t,n){var i=bn(ne(t)),r=e(n.ngRef),o=r.assign||function(){throw aa("nonassign",'Expression in ngRef="{0}" is non-assignable!',n.ngRef)};return function(e,t,a){var s;if(a.hasOwnProperty("ngRefRead")){if("$element"===a.ngRefRead)s=t;else if(!(s=t.data("$"+a.ngRefRead+"Controller")))throw aa("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',a.ngRefRead,n.ngRef)}else s=t.data("$"+i+"Controller");o(e,s=s||t),t.on("$destroy",(function(){r(e)===s&&o(e,null)}))}}}}],la=["$parse","$animate","$compile",function(e,t,n){var i="$$NG_REMOVED",o=r("ngRepeat"),a=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},s=function(e){return e.clone[0]},l=function(e){return e.clone[e.clone.length-1]},u=function(e,t,n){return Nt(n)},d=function(e,t){return t};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,p){var h=p.ngRepeat,f=n.$$createComment("end ngRepeat",h),m=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw o("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var g=m[1],v=m[2],y=m[3],b=m[4];if(!(m=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw o("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var w,C=m[3]||m[1],k=m[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw o("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);if(b){var S={$id:Nt},T=e(b);w=function(e,t,n,i){return k&&(S[k]=t),S[C]=n,S.$index=i,T(e,S)}}return function(e,n,r,p,m){var g=Re();e.$watchCollection(v,(function(r){var p,v,b,T,E,P,O,q,$,M,L,j,A=n[0],D=Re();if(y&&(e[y]=r),_(r))$=r,q=w||u;else for(var N in q=w||d,$=[],r)c.call(r,N)&&"$"!==N.charAt(0)&&$.push(N);for(T=$.length,L=new Array(T),p=0;p<T;p++)if(E=r===$?p:$[p],P=r[E],O=q(e,E,P,p),g[O])M=g[O],delete g[O],D[O]=M,L[p]=M;else{if(D[O])throw x(L,(function(e){e&&e.scope&&(g[e.id]=e)})),o("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,O,P);L[p]={id:O,scope:void 0,clone:void 0},D[O]=!0}for(var R in S&&(S[C]=void 0),g){if(j=Ne((M=g[R]).clone),t.leave(j),j[0].parentNode)for(p=0,v=j.length;p<v;p++)j[p][i]=!0;M.scope.$destroy()}for(p=0;p<T;p++)if(E=r===$?p:$[p],P=r[E],(M=L[p]).scope){b=A;do{b=b.nextSibling}while(b&&b[i]);s(M)!==b&&t.move(Ne(M.clone),null,A),A=l(M),a(M.scope,p,C,P,k,E,T)}else m((function(e,n){M.scope=n;var i=f.cloneNode(!1);e[e.length++]=i,t.enter(e,null,A),A=i,M.clone=e,D[M.id]=M,a(M.scope,p,C,P,k,E,T)}));g=D}))}}}}],ua="ng-hide",ca="ng-hide-animate",da=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,(function(t){e[t?"removeClass":"addClass"](n,ua,{tempClasses:ca})}))}}}],pa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,(function(t){e[t?"addClass":"removeClass"](n,ua,{tempClasses:ca})}))}}}],ha=Ar((function(e,t,n){e.$watchCollection(n.ngStyle,(function(e,n){n&&e!==n&&x(n,(function(e,n){t.css(n,"")})),e&&t.css(e)}))})),fa=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,o){var a=r.ngSwitch||r.on,s=[],l=[],u=[],c=[],d=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(a,(function(n){for(var i,r;u.length;)e.cancel(u.pop());for(i=0,r=c.length;i<r;++i){var a=Ne(l[i].clone);c[i].$destroy(),(u[i]=e.leave(a)).done(d(u,i))}l.length=0,c.length=0,(s=o.cases["!"+n]||o.cases["?"])&&x(s,(function(n){n.transclude((function(i,r){c.push(r);var o=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:i};l.push(a),e.enter(i,o.parent(),o)}))}))}))}}}],ma=Ar({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){var o=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter((function(e,t,n){return n[t-1]!==e}));x(o,(function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:r,element:t})}))}}),ga=Ar({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),va=r("ngTransclude"),ya=["$compile",function(e){return{restrict:"EAC",compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,i,r,o){if(!o)throw va("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",we(t));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var a=i.ngTransclude||i.ngTranscludeSlot;function s(){n(e,(function(e){t.append(e)}))}o((function(e,n){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i.nodeType!==Fe||i.nodeValue.trim())return!0}}(e)?t.append(e):(s(),n.$destroy())}),null,a),a&&!o.isSlotFilled(a)&&s()}}}}],ba=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],wa={$setViewValue:L,$render:L};function _a(e,t){e.prop("selected",t),e.attr("selected",t)}var xa=["$element","$scope",function(t,n){var i=this,r=new Ft;i.selectValueMap={},i.ngModelCtrl=wa,i.multiple=!1,i.unknownOption=a(e.document.createElement("option")),i.hasEmptyOption=!1,i.emptyOption=void 0,i.renderUnknownOption=function(e){var n=i.generateUnknownOptionValue(e);i.unknownOption.val(n),t.prepend(i.unknownOption),_a(i.unknownOption,!0),t.val(n)},i.updateUnknownOption=function(e){var n=i.generateUnknownOptionValue(e);i.unknownOption.val(n),_a(i.unknownOption,!0),t.val(n)},i.generateUnknownOptionValue=function(e){return"? "+Nt(e)+" ?"},i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.selectEmptyOption=function(){i.emptyOption&&(t.val(""),_a(i.emptyOption,!0))},i.unselectEmptyOption=function(){i.hasEmptyOption&&_a(i.emptyOption,!1)},n.$on("$destroy",(function(){i.renderUnknownOption=L})),i.readValue=function(){var e=t.val(),n=e in i.selectValueMap?i.selectValueMap[e]:e;return i.hasOption(n)?n:null},i.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&_a(a(n),!1),i.hasOption(e)){i.removeUnknownOption();var r=Nt(e);t.val(r in i.selectValueMap?r:e);var o=t[0].options[t[0].selectedIndex];_a(a(o),!0)}else i.selectUnknownOrEmptyOption(e)},i.addOption=function(e,t){if(8!==t[0].nodeType){De(e,'"option value"'),""===e&&(i.hasEmptyOption=!0,i.emptyOption=t);var n=r.get(e)||0;r.set(e,n+1),s()}},i.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.delete(e),""===e&&(i.hasEmptyOption=!1,i.emptyOption=void 0)):r.set(e,t-1))},i.hasOption=function(e){return!!r.get(e)},i.$hasEmptyOption=function(){return i.hasEmptyOption},i.$isUnknownOptionSelected=function(){return t[0].options[0]===i.unknownOption[0]},i.$isEmptyOptionSelected=function(){return i.hasEmptyOption&&t[0].options[t[0].selectedIndex]===i.emptyOption[0]},i.selectUnknownOrEmptyOption=function(e){null==e&&i.emptyOption?(i.removeUnknownOption(),i.selectEmptyOption()):i.unknownOption.parent().length?i.updateUnknownOption(e):i.renderUnknownOption(e)};var o=!1;function s(){o||(o=!0,n.$$postDigest((function(){o=!1,i.ngModelCtrl.$render()})))}var l=!1;function u(e){l||(l=!0,n.$$postDigest((function(){n.$$destroyed||(l=!1,i.ngModelCtrl.$setViewValue(i.readValue()),e&&i.ngModelCtrl.$render())})))}i.registerOption=function(e,t,n,r,o){var a,l;n.$attr.ngValue?n.$observe("value",(function(e){var n,r=t.prop("selected");R(l)&&(i.removeOption(a),delete i.selectValueMap[l],n=!0),l=Nt(e),a=e,i.selectValueMap[l]=e,i.addOption(e,t),t.attr("value",l),n&&r&&u()})):r?n.$observe("value",(function(e){var n;i.readValue();var r=t.prop("selected");R(a)&&(i.removeOption(a),n=!0),a=e,i.addOption(e,t),n&&r&&u()})):o?e.$watch(o,(function(e,r){n.$set("value",e);var o=t.prop("selected");r!==e&&i.removeOption(r),i.addOption(e,t),r&&o&&u()})):i.addOption(n.value,t),n.$observe("disabled",(function(e){("true"===e||e&&t.prop("selected"))&&(i.multiple?u(!0):(i.ngModelCtrl.$setViewValue(null),i.ngModelCtrl.$render()))})),t.on("$destroy",(function(){var e=i.readValue(),t=n.value;i.removeOption(t),s(),(i.multiple&&e&&-1!==e.indexOf(t)||e===t)&&u(!0)}))}}],Ca=function(){return{restrict:"E",require:["select","?ngModel"],controller:xa,priority:1,link:{pre:function(e,t,n,i){var r=i[0],o=i[1];if(o){if(r.ngModelCtrl=o,t.on("change",(function(){r.removeUnknownOption(),e.$apply((function(){o.$setViewValue(r.readValue())}))})),n.multiple){r.multiple=!0,r.readValue=function(){var e=[];return x(t.find("option"),(function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in r.selectValueMap?r.selectValueMap[n]:n)}})),e},r.writeValue=function(e){x(t.find("option"),(function(t){var n=!!e&&(ie(e,t.value)||ie(e,r.selectValueMap[t.value]));n!==t.selected&&_a(a(t),n)}))};var s,l=NaN;e.$watch((function(){l!==o.$viewValue||se(s,o.$viewValue)||(s=Ue(o.$viewValue),o.$render()),l=o.$viewValue})),o.$isEmpty=function(e){return!e||0===e.length}}}else r.registerOption=L},post:function(e,t,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}}},ka=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var i,r;return R(n.ngValue)||(R(n.value)?i=e(n.value,!0):(r=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,i,r)}}}}],Sa=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o=i.hasOwnProperty("required")||e(i.ngRequired)(t);i.ngRequired||(i.required=!0),r.$validators.required=function(e,t){return!o||!r.$isEmpty(t)},i.$observe("required",(function(e){o!==e&&(o=e,r.$validate())}))}}}}],Ta=["$parse",function(e){return{restrict:"A",require:"?ngModel",compile:function(t,n){var i,r;return n.ngPattern&&(i=n.ngPattern,r="/"===n.ngPattern.charAt(0)&&u.test(n.ngPattern)?function(){return n.ngPattern}:e(n.ngPattern)),function(e,t,n,o){if(o){var a=n.pattern;n.ngPattern?a=r(e):i=n.pattern;var s=Oa(a,i,t);n.$observe("pattern",(function(e){var n=s;s=Oa(e,i,t),(n&&n.toString())!==(s&&s.toString())&&o.$validate()})),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||N(s)||s.test(t)}}}}}}],Ea=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o=i.maxlength||e(i.ngMaxlength)(t),a=qa(o);i.$observe("maxlength",(function(e){o!==e&&(a=qa(e),o=e,r.$validate())})),r.$validators.maxlength=function(e,t){return a<0||r.$isEmpty(t)||t.length<=a}}}}}],Pa=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o=i.minlength||e(i.ngMinlength)(t),a=qa(o)||-1;i.$observe("minlength",(function(e){o!==e&&(a=qa(e)||-1,o=e,r.$validate())})),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=a}}}}}];function Oa(e,t,n){if(e){if(U(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",t,e,we(n));return e}}function qa(e){var t=q(e);return $(t)?-1:t}e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load AngularJS more than once."):(function(){var t;if(!Me){var n=ue();(s=N(n)?e.jQuery:n?e[n]:void 0)&&s.fn.on?(a=s,P(s.fn,{scope:Ot.scope,isolateScope:Ot.isolateScope,controller:Ot.controller,injector:Ot.injector,inheritedData:Ot.inheritedData})):a=dt,t=a.cleanData,a.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)(n=(a._data(i)||{}).events)&&n.$destroy&&a(i).triggerHandler("$destroy");t(e)},b.element=a,Me=!0}}(),function(t){P(t,{errorHandlingConfig:n,bootstrap:Ee,copy:oe,extend:P,merge:O,equals:se,element:a,forEach:x,injector:Kt,noop:L,bind:pe,toJson:fe,fromJson:me,identity:j,isUndefined:N,isDefined:R,isString:U,isFunction:G,isObject:I,isNumber:B,isElement:te,isArray:z,version:He,isDate:H,callbacks:{$$counter:0},getTestability:Oe,reloadWithDebugInfo:Pe,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Le,$$minErr:r,$$csp:le,$$encodeUriSegment:Ce,$$encodeUriQuery:ke,$$lowercase:d,$$stringify:Ie,$$uppercase:p}),l=function(e){var t=r("$injector"),n=r("ng");function i(e,t,n){return e[t]||(e[t]=n())}var o=i(e,"angular",Object);return o.$$minErr=o.$$minErr||r,i(o,"module",(function(){var e={};return function(r,o,a){var s={};return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name","module")}(r),o&&e.hasOwnProperty(r)&&(e[r]=null),i(e,r,(function(){if(!o)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],i=[],l=[],u=d("$injector","invoke","push",i),c={_invokeQueue:e,_configBlocks:i,_runBlocks:l,info:function(e){if(R(e)){if(!I(e))throw n("aobj","Argument '{0}' must be an object","value");return s=e,this}return s},requires:o,name:r,provider:p("$provide","provider"),factory:p("$provide","factory"),service:p("$provide","service"),value:d("$provide","value"),constant:d("$provide","constant","unshift"),decorator:p("$provide","decorator",i),animation:p("$animateProvider","register"),filter:p("$filterProvider","register"),controller:p("$controllerProvider","register"),directive:p("$compileProvider","directive"),component:p("$compileProvider","component"),config:u,run:function(e){return l.push(e),this}};return a&&u(a),c;function d(t,n,i,r){return r||(r=e),function(){return r[i||"push"]([t,n,arguments]),c}}function p(t,n,i){return i||(i=e),function(e,o){return o&&G(o)&&(o.$$moduleName=r),i.push([t,n,arguments]),c}}}))}}))}(e),l("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Ui}),e.provider("$compile",mn).directive({a:Dr,input:vo,textarea:vo,form:Hr,script:ba,select:Ca,option:ka,ngBind:_o,ngBindHtml:Co,ngBindTemplate:xo,ngClass:To,ngClassEven:Po,ngClassOdd:Eo,ngCloak:Oo,ngController:qo,ngForm:zr,ngHide:pa,ngIf:jo,ngInclude:Ao,ngInit:No,ngNonBindable:ta,ngPluralize:oa,ngRef:sa,ngRepeat:la,ngShow:da,ngStyle:ha,ngSwitch:fa,ngSwitchWhen:ma,ngSwitchDefault:ga,ngOptions:ra,ngTransclude:ya,ngModel:Ko,ngList:Ro,ngChange:ko,pattern:Ta,ngPattern:Ta,required:Sa,ngRequired:Sa,minlength:Pa,ngMinlength:Pa,maxlength:Ea,ngMaxlength:Ea,ngValue:wo,ngModelOptions:Xo}).directive({ngInclude:Do,input:yo}).directive(Nr).directive($o),e.provider({$anchorScroll:Zt,$animate:on,$animateCss:ln,$$animateJs:nn,$$animateQueue:rn,$$AnimateRunner:sn,$$animateAsyncRun:an,$browser:cn,$cacheFactory:dn,$controller:Sn,$document:Tn,$$isDocumentHidden:En,$exceptionHandler:Pn,$filter:pr,$$forceReflow:On,$interpolate:Qn,$interval:Yn,$$intervalFactory:Kn,$http:Hn,$httpParamSerializer:Dn,$httpParamSerializerJQLike:Nn,$httpBackend:Vn,$xhrFactory:zn,$jsonpCallbacks:Zn,$location:hi,$log:fi,$parse:Mi,$rootScope:Fi,$q:Li,$$q:ji,$sce:Wi,$sceDelegate:Qi,$sniffer:Yi,$$taskTrackerFactory:Ki,$templateCache:pn,$templateRequest:Xi,$$testability:er,$timeout:nr,$window:ur,$$rAF:Ii,$$jqLite:Dt,$$Map:Ut,$$cookieReader:dr})}]).info({angularVersion:"1.8.3"})}(b),b.module("ngLocale",[],["$provide",function(e){e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var n=0|e,i=function(e,t){var n=t;void 0===n&&(n=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var i=Math.pow(10,n);return{v:n,f:(e*i|0)%i}}(e,t);return 1==n&&0==i.v?"one":"other"}})}]),a((function(){!function(t,n){var i,r,o={};if(x(Se,(function(e){var n=e+"app";!i&&t.hasAttribute&&t.hasAttribute(n)&&(i=t,r=t.getAttribute(n))})),x(Se,(function(e){var n,o=e+"app";!i&&(n=t.querySelector("["+o.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(o))})),i){if(!Te)return void e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==function(e,t){var n,i,r=Se.length;for(i=0;i<r;++i)if(n=Se[i]+"strict-di",U(n=e.getAttribute(n)))return n;return null}(i),n(i,r?[r]:[],o)}}(e.document,Ee)})))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'))},6695:function(e,t,n){n(4426),e.exports=angular},7338:function(e){e.exports=function(){"use strict";return function(e){var t,n,i=document,r=e.container||i.createElement("div"),o=r.style,a=navigator.userAgent,s=~a.indexOf("Firefox")&&~a.indexOf("Mobile"),l=e.debounceWaitMs||0,u=e.preventSubmit||!1,c=e.disableAutoSelect||!1,d=s?"input":"keyup",p=[],h="",f=2,m=e.showOnFocus,g=0;if(void 0!==e.minLength&&(f=e.minLength),!e.input)throw new Error("input undefined");var v=e.input;function y(){n&&window.clearTimeout(n)}function b(){return!!r.parentNode}function w(){var e;g++,p=[],h="",t=void 0,(e=r.parentNode)&&e.removeChild(r)}function _(){for(;r.firstChild;)r.removeChild(r.firstChild);var n=function(e,t){var n=i.createElement("div");return n.textContent=e.label||"",n};e.render&&(n=e.render);var a=function(e,t){var n=i.createElement("div");return n.textContent=e,n};e.renderGroup&&(a=e.renderGroup);var s=i.createDocumentFragment(),l="#9?$";if(p.forEach((function(i){if(i.group&&i.group!==l){l=i.group;var r=a(i.group,h);r&&(r.className+=" group",s.appendChild(r))}var o=n(i,h);o&&(o.addEventListener("click",(function(t){e.onSelect(i,v),w(),t.preventDefault(),t.stopPropagation()})),i===t&&(o.className+=" selected"),s.appendChild(o))})),r.appendChild(s),p.length<1){if(!e.emptyMsg)return void w();var u=i.createElement("div");u.className="empty",u.textContent=e.emptyMsg,r.appendChild(u)}r.parentNode||i.body.appendChild(r),function(){if(b()){o.height="auto",o.width=v.offsetWidth+"px";var t,n=0;a(),a(),e.customize&&t&&e.customize(v,t,r,n)}function a(){var e=i.documentElement,r=e.clientTop||i.body.clientTop||0,a=e.clientLeft||i.body.clientLeft||0,s=window.pageYOffset||e.scrollTop,l=window.pageXOffset||e.scrollLeft,u=(t=v.getBoundingClientRect()).top+v.offsetHeight+s-r,c=t.left+l-a;o.top=u+"px",o.left=c+"px",(n=window.innerHeight-(t.top+v.offsetHeight))<0&&(n=0),o.top=u+"px",o.bottom="",o.left=c+"px",o.maxHeight=n+"px"}}(),function(){var e=r.getElementsByClassName("selected");if(e.length>0){var t=e[0],n=t.previousElementSibling;if(n&&-1!==n.className.indexOf("group")&&!n.previousElementSibling&&(t=n),t.offsetTop<r.scrollTop)r.scrollTop=t.offsetTop;else{var i=t.offsetTop+t.offsetHeight,o=r.scrollTop+r.offsetHeight;i>o&&(r.scrollTop+=i-o)}}}()}function x(){b()&&_()}function C(){x()}function k(e){e.target!==r?x():e.preventDefault()}function S(t){for(var n=t.which||t.keyCode||0,i=0,r=e.keysToIgnore||[38,13,27,39,37,16,17,18,20,91,9];i<r.length;i++)if(n===r[i])return;n>=112&&n<=123&&!e.keysToIgnore||40===n&&b()||P(0)}function T(n){var i=n.which||n.keyCode||0;if(38===i||40===i||27===i){var r=b();if(27===i)w();else{if(!r||p.length<1)return;38===i?function(){if(p.length<1)t=void 0;else if(t===p[0])t=p[p.length-1];else for(var e=p.length-1;e>0;e--)if(t===p[e]||1===e){t=p[e-1];break}}():function(){if(p.length<1&&(t=void 0),t&&t!==p[p.length-1]){for(var e=0;e<p.length-1;e++)if(t===p[e]){t=p[e+1];break}}else t=p[0]}(),_()}return n.preventDefault(),void(r&&n.stopPropagation())}13===i&&(t&&(e.onSelect(t,v),w()),u&&n.preventDefault())}function E(){m&&P(1)}function P(i){var r=++g,o=v.value,a=v.selectionStart||0;o.length>=f||1===i?(y(),n=window.setTimeout((function(){e.fetch(o,(function(e){g===r&&e&&(h=o,t=(p=e).length<1||c?void 0:p[0],_())}),i,a)}),0===i?l:0)):w()}function O(){setTimeout((function(){i.activeElement!==v&&w()}),200)}return r.className="autocomplete "+(e.className||""),o.position="absolute",r.addEventListener("mousedown",(function(e){e.stopPropagation(),e.preventDefault()})),r.addEventListener("focus",(function(){return v.focus()})),v.addEventListener("keydown",T),v.addEventListener(d,S),v.addEventListener("blur",O),v.addEventListener("focus",E),window.addEventListener("resize",C),i.addEventListener("scroll",k,!0),{destroy:function(){v.removeEventListener("focus",E),v.removeEventListener("keydown",T),v.removeEventListener(d,S),v.removeEventListener("blur",O),window.removeEventListener("resize",C),i.removeEventListener("scroll",k,!0),y(),w()}}}}()},5623:function(e){"use strict";function t(e,t,r){e instanceof RegExp&&(e=n(e,r)),t instanceof RegExp&&(t=n(t,r));var o=i(e,t,r);return o&&{start:o[0],end:o[1],pre:r.slice(0,o[0]),body:r.slice(o[0]+e.length,o[1]),post:r.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function i(e,t,n){var i,r,o,a,s,l=n.indexOf(e),u=n.indexOf(t,l+1),c=l;if(l>=0&&u>0){if(e===t)return[l,u];for(i=[],o=n.length;c>=0&&!s;)c==l?(i.push(c),l=n.indexOf(e,c+1)):1==i.length?s=[i.pop(),u]:((r=i.pop())<o&&(o=r,a=u),u=n.indexOf(t,c+1)),c=l<u&&l>=0?l:u;i.length&&(s=[o,a])}return s}e.exports=t,t.range=i},4184:function(e,t){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=r.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)i.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},9662:function(e,t,n){var i=n(614),r=n(6330),o=TypeError;e.exports=function(e){if(i(e))return e;throw o(r(e)+" is not a function")}},9483:function(e,t,n){var i=n(4411),r=n(6330),o=TypeError;e.exports=function(e){if(i(e))return e;throw o(r(e)+" is not a constructor")}},6077:function(e,t,n){var i=n(614),r=String,o=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+r(e)+" as a prototype")}},1223:function(e,t,n){var i=n(5112),r=n(30),o=n(3070).f,a=i("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,{configurable:!0,value:r(null)}),e.exports=function(e){s[a][e]=!0}},1530:function(e,t,n){"use strict";var i=n(8710).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},5787:function(e,t,n){var i=n(7976),r=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw r("Incorrect invocation")}},9670:function(e,t,n){var i=n(111),r=String,o=TypeError;e.exports=function(e){if(i(e))return e;throw o(r(e)+" is not an object")}},8457:function(e,t,n){"use strict";var i=n(9974),r=n(6916),o=n(7908),a=n(3411),s=n(7659),l=n(4411),u=n(6244),c=n(6135),d=n(8554),p=n(1246),h=Array;e.exports=function(e){var t=o(e),n=l(this),f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m;g&&(m=i(m,f>2?arguments[2]:void 0));var v,y,b,w,_,x,C=p(t),k=0;if(!C||this===h&&s(C))for(v=u(t),y=n?new this(v):h(v);v>k;k++)x=g?m(t[k],k):t[k],c(y,k,x);else for(_=(w=d(t,C)).next,y=n?new this:[];!(b=r(_,w)).done;k++)x=g?a(w,m,[b.value,k],!0):b.value,c(y,k,x);return y.length=k,y}},1318:function(e,t,n){var i=n(5656),r=n(1400),o=n(6244),a=function(e){return function(t,n,a){var s,l=i(t),u=o(l),c=r(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},1589:function(e,t,n){var i=n(1400),r=n(6244),o=n(6135),a=Array,s=Math.max;e.exports=function(e,t,n){for(var l=r(e),u=i(t,l),c=i(void 0===n?l:n,l),d=a(s(c-u,0)),p=0;u<c;u++,p++)o(d,p,e[u]);return d.length=p,d}},4362:function(e,t,n){var i=n(1589),r=Math.floor,o=function(e,t){var n=e.length,l=r(n/2);return n<8?a(e,t):s(e,o(i(e,0,l),t),o(i(e,l),t),t)},a=function(e,t){for(var n,i,r=e.length,o=1;o<r;){for(i=o,n=e[o];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==o++&&(e[i]=n)}return e},s=function(e,t,n,i){for(var r=t.length,o=n.length,a=0,s=0;a<r||s<o;)e[a+s]=a<r&&s<o?i(t[a],n[s])<=0?t[a++]:n[s++]:a<r?t[a++]:n[s++];return e};e.exports=o},3411:function(e,t,n){var i=n(9670),r=n(9212);e.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},4326:function(e,t,n){var i=n(1702),r=i({}.toString),o=i("".slice);e.exports=function(e){return o(r(e),8,-1)}},648:function(e,t,n){var i=n(1694),r=n(614),o=n(4326),a=n(5112)("toStringTag"),s=Object,l="Arguments"==o(function(){return arguments}());e.exports=i?o:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:l?o(t):"Object"==(i=o(t))&&r(t.callee)?"Arguments":i}},7741:function(e,t,n){var i=n(1702),r=Error,o=i("".replace),a=String(r("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(a);e.exports=function(e,t){if(l&&"string"==typeof e&&!r.prepareStackTrace)for(;t--;)e=o(e,s,"");return e}},9920:function(e,t,n){var i=n(2597),r=n(3887),o=n(1236),a=n(3070);e.exports=function(e,t,n){for(var s=r(t),l=a.f,u=o.f,c=0;c<s.length;c++){var d=s[c];i(e,d)||n&&i(n,d)||l(e,d,u(t,d))}}},8544:function(e,t,n){var i=n(7293);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:function(e,t,n){"use strict";var i=n(3383).IteratorPrototype,r=n(30),o=n(9114),a=n(8003),s=n(7497),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=r(i,{next:o(+!u,n)}),a(e,c,!1,!0),s[c]=l,e}},8880:function(e,t,n){var i=n(9781),r=n(3070),o=n(9114);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:function(e,t,n){"use strict";var i=n(4948),r=n(3070),o=n(9114);e.exports=function(e,t,n){var a=i(t);a in e?r.f(e,a,o(0,n)):e[a]=n}},7045:function(e,t,n){var i=n(6339),r=n(3070);e.exports=function(e,t,n){return n.get&&i(n.get,t,{getter:!0}),n.set&&i(n.set,t,{setter:!0}),r.f(e,t,n)}},8052:function(e,t,n){var i=n(614),r=n(3070),o=n(6339),a=n(3072);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:t;if(i(n)&&o(n,u,s),s.global)l?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},9190:function(e,t,n){var i=n(8052);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},3072:function(e,t,n){var i=n(7854),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},654:function(e,t,n){"use strict";var i=n(2109),r=n(6916),o=n(1913),a=n(6530),s=n(614),l=n(4994),u=n(9518),c=n(7674),d=n(8003),p=n(8880),h=n(8052),f=n(5112),m=n(7497),g=n(3383),v=a.PROPER,y=a.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,_=f("iterator"),x="keys",C="values",k="entries",S=function(){return this};e.exports=function(e,t,n,a,f,g,T){l(n,t,a);var E,P,O,q=function(e){if(e===f&&A)return A;if(!w&&e in L)return L[e];switch(e){case x:case C:case k:return function(){return new n(this,e)}}return function(){return new n(this)}},$=t+" Iterator",M=!1,L=e.prototype,j=L[_]||L["@@iterator"]||f&&L[f],A=!w&&j||q(f),D="Array"==t&&L.entries||j;if(D&&(E=u(D.call(new e)))!==Object.prototype&&E.next&&(o||u(E)===b||(c?c(E,b):s(E[_])||h(E,_,S)),d(E,$,!0,!0),o&&(m[$]=S)),v&&f==C&&j&&j.name!==C&&(!o&&y?p(L,"name",C):(M=!0,A=function(){return r(j,this)})),f)if(P={values:q(C),keys:g?A:q(x),entries:q(k)},T)for(O in P)(w||M||!(O in L))&&h(L,O,P[O]);else i({target:t,proto:!0,forced:w||M},P);return o&&!T||L[_]===A||h(L,_,A,{name:f}),m[t]=A,P}},9781:function(e,t,n){var i=n(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var i=n(7854),r=n(111),o=i.document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8324:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(e,t,n){var i=n(317)("span").classList,r=i&&i.constructor&&i.constructor.prototype;e.exports=r===Object.prototype?void 0:r},7871:function(e,t,n){var i=n(3823),r=n(5268);e.exports=!i&&!r&&"object"==typeof window&&"object"==typeof document},3823:function(e){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},5268:function(e,t,n){var i=n(4326),r=n(7854);e.exports="process"==i(r.process)},8113:function(e,t,n){var i=n(5005);e.exports=i("navigator","userAgent")||""},7392:function(e,t,n){var i,r,o=n(7854),a=n(8113),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(r=(i=c.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(e,t,n){var i=n(7293),r=n(9114);e.exports=!i((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},2109:function(e,t,n){var i=n(7854),r=n(1236).f,o=n(8880),a=n(8052),s=n(3072),l=n(9920),u=n(4705);e.exports=function(e,t){var n,c,d,p,h,f=e.target,m=e.global,g=e.stat;if(n=m?i:g?i[f]||s(f,{}):(i[f]||{}).prototype)for(c in t){if(p=t[c],d=e.dontCallGetSet?(h=r(n,c))&&h.value:n[c],!u(m?c:f+(g?".":"#")+c,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),a(n,c,p,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:function(e,t,n){"use strict";n(4916);var i=n(1702),r=n(8052),o=n(2261),a=n(7293),s=n(5112),l=n(8880),u=s("species"),c=RegExp.prototype;e.exports=function(e,t,n,d){var p=s(e),h=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),f=h&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!h||!f||n){var m=i(/./[p]),g=t(p,""[e],(function(e,t,n,r,a){var s=i(e),l=t.exec;return l===o||l===c.exec?h&&!a?{done:!0,value:m(t,n,r)}:{done:!0,value:s(n,t,r)}:{done:!1}}));r(String.prototype,e,g[0]),r(c,p,g[1])}d&&l(c[p],"sham",!0)}},2104:function(e,t,n){var i=n(4374),r=Function.prototype,o=r.apply,a=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?a.bind(o):function(){return a.apply(o,arguments)})},9974:function(e,t,n){var i=n(1702),r=n(9662),o=n(4374),a=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,n){var i=n(7293);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var i=n(4374),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},6530:function(e,t,n){var i=n(9781),r=n(2597),o=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,s=r(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!i||i&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},1702:function(e,t,n){var i=n(4374),r=Function.prototype,o=r.bind,a=r.call,s=i&&o.bind(a,a);e.exports=i?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},5005:function(e,t,n){var i=n(7854),r=n(614),o=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e]):i[e]&&i[e][t]}},1246:function(e,t,n){var i=n(648),r=n(8173),o=n(7497),a=n(5112)("iterator");e.exports=function(e){if(null!=e)return r(e,a)||r(e,"@@iterator")||o[i(e)]}},8554:function(e,t,n){var i=n(6916),r=n(9662),o=n(9670),a=n(6330),s=n(1246),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(r(n))return o(i(n,e));throw l(a(e)+" is not iterable")}},8173:function(e,t,n){var i=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:i(n)}},647:function(e,t,n){var i=n(1702),r=n(7908),o=Math.floor,a=i("".charAt),s=i("".replace),l=i("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,i,d,p){var h=n+e.length,f=i.length,m=c;return void 0!==d&&(d=r(d),m=u),s(p,m,(function(r,s){var u;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,h);case"<":u=d[l(s,1,-1)];break;default:var c=+s;if(0===c)return r;if(c>f){var p=o(c/10);return 0===p?r:p<=f?void 0===i[p-1]?a(s,1):i[p-1]+a(s,1):r}u=i[c-1]}return void 0===u?"":u}))}},7854:function(e,t,n){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var i=n(1702),r=n(7908),o=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(r(e),t)}},3501:function(e){e.exports={}},490:function(e,t,n){var i=n(5005);e.exports=i("document","documentElement")},4664:function(e,t,n){var i=n(9781),r=n(7293),o=n(317);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var i=n(1702),r=n(7293),o=n(4326),a=Object,s=i("".split);e.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a},9587:function(e,t,n){var i=n(614),r=n(111),o=n(7674);e.exports=function(e,t,n){var a,s;return o&&i(a=t.constructor)&&a!==n&&r(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},2788:function(e,t,n){var i=n(1702),r=n(614),o=n(5465),a=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},8340:function(e,t,n){var i=n(111),r=n(8880);e.exports=function(e,t){i(t)&&"cause"in t&&r(e,"cause",t.cause)}},9909:function(e,t,n){var i,r,o,a=n(8536),s=n(7854),l=n(1702),u=n(111),c=n(8880),d=n(2597),p=n(5465),h=n(6200),f=n(3501),m="Object already initialized",g=s.TypeError,v=s.WeakMap;if(a||p.state){var y=p.state||(p.state=new v),b=l(y.get),w=l(y.has),_=l(y.set);i=function(e,t){if(w(y,e))throw new g(m);return t.facade=e,_(y,e,t),t},r=function(e){return b(y,e)||{}},o=function(e){return w(y,e)}}else{var x=h("state");f[x]=!0,i=function(e,t){if(d(e,x))throw new g(m);return t.facade=e,c(e,x,t),t},r=function(e){return d(e,x)?e[x]:{}},o=function(e){return d(e,x)}}e.exports={set:i,get:r,has:o,enforce:function(e){return o(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=r(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},7659:function(e,t,n){var i=n(5112),r=n(7497),o=i("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},614:function(e){e.exports=function(e){return"function"==typeof e}},4411:function(e,t,n){var i=n(1702),r=n(7293),o=n(614),a=n(648),s=n(5005),l=n(2788),u=function(){},c=[],d=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=i(p.exec),f=!p.exec(u),m=function(e){if(!o(e))return!1;try{return d(u,c,e),!0}catch(e){return!1}},g=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(p,l(e))}catch(e){return!0}};g.sham=!0,e.exports=!d||r((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},4705:function(e,t,n){var i=n(7293),r=n(614),o=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n==c||n!=u&&(r(t)?i(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},111:function(e,t,n){var i=n(614);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},1913:function(e){e.exports=!1},7850:function(e,t,n){var i=n(111),r=n(4326),o=n(5112)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},2190:function(e,t,n){var i=n(5005),r=n(614),o=n(7976),a=n(3307),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&o(t.prototype,s(e))}},408:function(e,t,n){var i=n(9974),r=n(6916),o=n(9670),a=n(6330),s=n(7659),l=n(6244),u=n(7976),c=n(8554),d=n(1246),p=n(9212),h=TypeError,f=function(e,t){this.stopped=e,this.result=t},m=f.prototype;e.exports=function(e,t,n){var g,v,y,b,w,_,x,C=n&&n.that,k=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_RECORD),T=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),P=i(t,C),O=function(e){return g&&p(g,"normal",e),new f(!0,e)},q=function(e){return k?(o(e),E?P(e[0],e[1],O):P(e[0],e[1])):E?P(e,O):P(e)};if(S)g=e.iterator;else if(T)g=e;else{if(!(v=d(e)))throw h(a(e)+" is not iterable");if(s(v)){for(y=0,b=l(e);b>y;y++)if((w=q(e[y]))&&u(m,w))return w;return new f(!1)}g=c(e,v)}for(_=S?e.next:g.next;!(x=r(_,g)).done;){try{w=q(x.value)}catch(e){p(g,"throw",e)}if("object"==typeof w&&w&&u(m,w))return w}return new f(!1)}},9212:function(e,t,n){var i=n(6916),r=n(9670),o=n(8173);e.exports=function(e,t,n){var a,s;r(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=i(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return r(a),n}},3383:function(e,t,n){"use strict";var i,r,o,a=n(7293),s=n(614),l=n(30),u=n(9518),c=n(8052),d=n(5112),p=n(1913),h=d("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(r=u(u(o)))!==Object.prototype&&(i=r):f=!0),null==i||a((function(){var e={};return i[h].call(e)!==e}))?i={}:p&&(i=l(i)),s(i[h])||c(i,h,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},7497:function(e){e.exports={}},6244:function(e,t,n){var i=n(7466);e.exports=function(e){return i(e.length)}},6339:function(e,t,n){var i=n(7293),r=n(614),o=n(2597),a=n(9781),s=n(6530).CONFIGURABLE,l=n(2788),u=n(9909),c=u.enforce,d=u.get,p=Object.defineProperty,h=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),f=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||s&&e.name!==t)&&(a?p(e,"name",{value:t,configurable:!0}):e.name=t),h&&n&&o(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=c(e);return o(i,"source")||(i.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return r(this)&&d(this).source||l(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},133:function(e,t,n){var i=n(7392),r=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},590:function(e,t,n){var i=n(7293),r=n(5112),o=n(1913),a=r("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),n+=i+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:function(e,t,n){var i=n(7854),r=n(614),o=n(2788),a=i.WeakMap;e.exports=r(a)&&/native code/.test(o(a))},8523:function(e,t,n){"use strict";var i=n(9662),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},6277:function(e,t,n){var i=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},1574:function(e,t,n){"use strict";var i=n(9781),r=n(1702),o=n(6916),a=n(7293),s=n(1956),l=n(5181),u=n(5296),c=n(7908),d=n(8361),p=Object.assign,h=Object.defineProperty,f=r([].concat);e.exports=!p||a((function(){if(i&&1!==p({b:1},p(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=p({},e)[n]||s(p({},t)).join("")!=r}))?function(e,t){for(var n=c(e),r=arguments.length,a=1,p=l.f,h=u.f;r>a;)for(var m,g=d(arguments[a++]),v=p?f(s(g),p(g)):s(g),y=v.length,b=0;y>b;)m=v[b++],i&&!o(h,g,m)||(n[m]=g[m]);return n}:p},30:function(e,t,n){var i,r=n(9670),o=n(6048),a=n(748),s=n(3501),l=n(490),u=n(317),c=n(6200)("IE_PROTO"),d=function(){},p=function(e){return"<script>"+e+"<\/script>"},h=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t;f="undefined"!=typeof document?document.domain&&i?h(i):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):h(i);for(var n=a.length;n--;)delete f.prototype[a[n]];return f()};s[c]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=r(e),n=new d,d.prototype=null,n[c]=e):n=f(),void 0===t?n:o.f(n,t)}},6048:function(e,t,n){var i=n(9781),r=n(3353),o=n(3070),a=n(9670),s=n(5656),l=n(1956);t.f=i&&!r?Object.defineProperties:function(e,t){a(e);for(var n,i=s(t),r=l(t),u=r.length,c=0;u>c;)o.f(e,n=r[c++],i[n]);return e}},3070:function(e,t,n){var i=n(9781),r=n(4664),o=n(3353),a=n(9670),s=n(4948),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor;t.f=i?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var i=c(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=s(t),a(n),r)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var i=n(9781),r=n(6916),o=n(5296),a=n(9114),s=n(5656),l=n(4948),u=n(2597),c=n(4664),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(e,t){if(e=s(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return a(!r(o.f,e,t),e[t])}},8006:function(e,t,n){var i=n(6324),r=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var i=n(2597),r=n(614),o=n(7908),a=n(6200),s=n(8544),l=a("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=o(e);if(i(t,l))return t[l];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},7976:function(e,t,n){var i=n(1702);e.exports=i({}.isPrototypeOf)},6324:function(e,t,n){var i=n(1702),r=n(2597),o=n(5656),a=n(1318).indexOf,s=n(3501),l=i([].push);e.exports=function(e,t){var n,i=o(e),u=0,c=[];for(n in i)!r(s,n)&&r(i,n)&&l(c,n);for(;t.length>u;)r(i,n=t[u++])&&(~a(c,n)||l(c,n));return c}},1956:function(e,t,n){var i=n(6324),r=n(748);e.exports=Object.keys||function(e){return i(e,r)}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var i=n(1702),r=n(9670),o=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),o(i),t?e(n,i):n.__proto__=i,n}}():void 0)},2140:function(e,t,n){var i=n(6916),r=n(614),o=n(111),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&r(n=e.toString)&&!o(s=i(n,e)))return s;if(r(n=e.valueOf)&&!o(s=i(n,e)))return s;if("string"!==t&&r(n=e.toString)&&!o(s=i(n,e)))return s;throw a("Can't convert object to primitive value")}},3887:function(e,t,n){var i=n(5005),r=n(1702),o=n(8006),a=n(5181),s=n(9670),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?l(t,n(e)):t}},5341:function(e,t,n){var i=n(7854);e.exports=i.Promise},9478:function(e,t,n){var i=n(9670),r=n(111),o=n(8523);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},2626:function(e,t,n){var i=n(3070).f;e.exports=function(e,t,n){n in e||i(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},7651:function(e,t,n){var i=n(6916),r=n(9670),o=n(614),a=n(4326),s=n(2261),l=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var u=i(n,e,t);return null!==u&&r(u),u}if("RegExp"===a(e))return i(s,e,t);throw l("RegExp#exec called on incompatible receiver")}},2261:function(e,t,n){"use strict";var i,r,o=n(6916),a=n(1702),s=n(1340),l=n(7066),u=n(2999),c=n(2309),d=n(30),p=n(9909).get,h=n(9441),f=n(7168),m=c("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,v=g,y=a("".charAt),b=a("".indexOf),w=a("".replace),_=a("".slice),x=(r=/b*/g,o(g,i=/a/,"a"),o(g,r,"a"),0!==i.lastIndex||0!==r.lastIndex),C=u.BROKEN_CARET,k=void 0!==/()??/.exec("")[1];(x||k||C||h||f)&&(v=function(e){var t,n,i,r,a,u,c,h=this,f=p(h),S=s(e),T=f.raw;if(T)return T.lastIndex=h.lastIndex,t=o(v,T,S),h.lastIndex=T.lastIndex,t;var E=f.groups,P=C&&h.sticky,O=o(l,h),q=h.source,$=0,M=S;if(P&&(O=w(O,"y",""),-1===b(O,"g")&&(O+="g"),M=_(S,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==y(S,h.lastIndex-1))&&(q="(?: "+q+")",M=" "+M,$++),n=new RegExp("^(?:"+q+")",O)),k&&(n=new RegExp("^"+q+"$(?!\\s)",O)),x&&(i=h.lastIndex),r=o(g,P?n:h,M),P?r?(r.input=_(r.input,$),r[0]=_(r[0],$),r.index=h.lastIndex,h.lastIndex+=r[0].length):h.lastIndex=0:x&&r&&(h.lastIndex=h.global?r.index+r[0].length:i),k&&r&&r.length>1&&o(m,r[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)})),r&&E)for(r.groups=u=d(null),a=0;a<E.length;a++)u[(c=E[a])[0]]=r[c[1]];return r}),e.exports=v},7066:function(e,t,n){"use strict";var i=n(9670);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4706:function(e,t,n){var i=n(6916),r=n(2597),o=n(7976),a=n(7066),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||r(e,"flags")||!o(s,e)?t:i(a,e)}},2999:function(e,t,n){var i=n(7293),r=n(7854).RegExp,o=i((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=o||i((function(){return!r("a","y").sticky})),s=o||i((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},9441:function(e,t,n){var i=n(7293),r=n(7854).RegExp;e.exports=i((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:function(e,t,n){var i=n(7293),r=n(7854).RegExp;e.exports=i((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:function(e){var t=TypeError;e.exports=function(e){if(null==e)throw t("Can't call method on "+e);return e}},8003:function(e,t,n){var i=n(3070).f,r=n(2597),o=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,o)&&i(e,o,{configurable:!0,value:t})}},6200:function(e,t,n){var i=n(2309),r=n(9711),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},5465:function(e,t,n){var i=n(7854),r=n(3072),o="__core-js_shared__",a=i[o]||r(o,{});e.exports=a},2309:function(e,t,n){var i=n(1913),r=n(5465);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.24.1",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(e,t,n){var i=n(9670),r=n(9483),o=n(5112)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||null==(n=i(a)[o])?t:r(n)}},8710:function(e,t,n){var i=n(1702),r=n(9303),o=n(1340),a=n(4488),s=i("".charAt),l=i("".charCodeAt),u=i("".slice),c=function(e){return function(t,n){var i,c,d=o(a(t)),p=r(n),h=d.length;return p<0||p>=h?e?"":void 0:(i=l(d,p))<55296||i>56319||p+1===h||(c=l(d,p+1))<56320||c>57343?e?s(d,p):i:e?u(d,p,p+2):c-56320+(i-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},3197:function(e,t,n){"use strict";var i=n(1702),r=2147483647,o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",l=RangeError,u=i(a.exec),c=Math.floor,d=String.fromCharCode,p=i("".charCodeAt),h=i([].join),f=i([].push),m=i("".replace),g=i("".split),v=i("".toLowerCase),y=function(e){return e+22+75*(e<26)},b=function(e,t,n){var i=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;)e=c(e/35),i+=36;return c(i+36*e/(e+38))},w=function(e){var t=[];e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=p(e,n++);if(r>=55296&&r<=56319&&n<i){var o=p(e,n++);56320==(64512&o)?f(t,((1023&r)<<10)+(1023&o)+65536):(f(t,r),n--)}else f(t,r)}return t}(e);var n,i,o=e.length,a=128,u=0,m=72;for(n=0;n<e.length;n++)(i=e[n])<128&&f(t,d(i));var g=t.length,v=g;for(g&&f(t,"-");v<o;){var w=r;for(n=0;n<e.length;n++)(i=e[n])>=a&&i<w&&(w=i);var _=v+1;if(w-a>c((r-u)/_))throw l(s);for(u+=(w-a)*_,a=w,n=0;n<e.length;n++){if((i=e[n])<a&&++u>r)throw l(s);if(i==a){for(var x=u,C=36;;){var k=C<=m?1:C>=m+26?26:C-m;if(x<k)break;var S=x-k,T=36-k;f(t,d(y(k+S%T))),x=c(S/T),C+=36}f(t,d(y(x))),m=b(u,_,v==g),u=0,v++}}u++,a++}return h(t,"")};e.exports=function(e){var t,n,i=[],r=g(m(v(e),a,"."),".");for(t=0;t<r.length;t++)n=r[t],f(i,u(o,n)?"xn--"+w(n):n);return h(i,".")}},1400:function(e,t,n){var i=n(9303),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},5656:function(e,t,n){var i=n(8361),r=n(4488);e.exports=function(e){return i(r(e))}},9303:function(e,t,n){var i=n(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},7466:function(e,t,n){var i=n(9303),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},7908:function(e,t,n){var i=n(4488),r=Object;e.exports=function(e){return r(i(e))}},7593:function(e,t,n){var i=n(6916),r=n(111),o=n(2190),a=n(8173),s=n(2140),l=n(5112),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!r(e)||o(e))return e;var n,l=a(e,c);if(l){if(void 0===t&&(t="default"),n=i(l,e,t),!r(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:function(e,t,n){var i=n(7593),r=n(2190);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},1694:function(e,t,n){var i={};i[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(i)},1340:function(e,t,n){var i=n(648),r=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9711:function(e,t,n){var i=n(1702),r=0,o=Math.random(),a=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++r+o,36)}},3307:function(e,t,n){var i=n(133);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var i=n(9781),r=n(7293);e.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},5112:function(e,t,n){var i=n(7854),r=n(2309),o=n(2597),a=n(9711),s=n(133),l=n(3307),u=r("wks"),c=i.Symbol,d=c&&c.for,p=l?c:c&&c.withoutSetter||a;e.exports=function(e){if(!o(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&o(c,e)?u[e]=c[e]:u[e]=l&&d?d(t):p(t)}return u[e]}},9191:function(e,t,n){"use strict";var i=n(5005),r=n(2597),o=n(8880),a=n(7976),s=n(7674),l=n(9920),u=n(2626),c=n(9587),d=n(6277),p=n(8340),h=n(7741),f=n(2914),m=n(9781),g=n(1913);e.exports=function(e,t,n,v){var y="stackTraceLimit",b=v?2:1,w=e.split("."),_=w[w.length-1],x=i.apply(null,w);if(x){var C=x.prototype;if(!g&&r(C,"cause")&&delete C.cause,!n)return x;var k=i("Error"),S=t((function(e,t){var n=d(v?t:e,void 0),i=v?new x(e):new x;return void 0!==n&&o(i,"message",n),f&&o(i,"stack",h(i.stack,2)),this&&a(C,this)&&c(i,this,S),arguments.length>b&&p(i,arguments[b]),i}));if(S.prototype=C,"Error"!==_?s?s(S,k):l(S,k,{name:!0}):m&&y in x&&(u(S,x,y),u(S,x,"prepareStackTrace")),l(S,x),!g)try{C.name!==_&&o(C,"name",_),C.constructor=S}catch(e){}return S}}},6699:function(e,t,n){"use strict";var i=n(2109),r=n(1318).includes,o=n(7293),a=n(1223);i({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},6992:function(e,t,n){"use strict";var i=n(5656),r=n(1223),o=n(7497),a=n(9909),s=n(3070).f,l=n(654),u=n(1913),c=n(9781),d="Array Iterator",p=a.set,h=a.getterFor(d);e.exports=l(Array,"Array",(function(e,t){p(this,{type:d,target:i(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values");var f=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!u&&c&&"values"!==f.name)try{s(f,"name",{value:"values"})}catch(e){}},9244:function(e,t,n){n(1223)("flatMap")},3792:function(e,t,n){n(1223)("flat")},1703:function(e,t,n){var i=n(2109),r=n(7854),o=n(2104),a=n(9191),s=r.WebAssembly,l=7!==Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=a(e,t,l),i({global:!0,constructor:!0,arity:1,forced:l},n)},c=function(e,t){if(s&&s[e]){var n={};n[e]=a("WebAssembly."+e,t,l),i({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:l},n)}};u("Error",(function(e){return function(t){return o(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),u("URIError",(function(e){return function(t){return o(e,this,arguments)}})),c("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),c("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),c("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},7727:function(e,t,n){"use strict";var i=n(2109),r=n(1913),o=n(5341),a=n(7293),s=n(5005),l=n(614),u=n(6707),c=n(9478),d=n(8052),p=o&&o.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n=l(e);return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),!r&&l(o)){var h=s("Promise").prototype.finally;p.finally!==h&&d(p,"finally",h,{unsafe:!0})}},4916:function(e,t,n){"use strict";var i=n(2109),r=n(2261);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},8783:function(e,t,n){"use strict";var i=n(8710).charAt,r=n(1340),o=n(9909),a=n(654),s="String Iterator",l=o.set,u=o.getterFor(s);a(String,"String",(function(e){l(this,{type:s,string:r(e),index:0})}),(function(){var e,t=u(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},8757:function(e,t,n){"use strict";var i=n(2109),r=n(6916),o=n(1702),a=n(4488),s=n(614),l=n(7850),u=n(1340),c=n(8173),d=n(4706),p=n(647),h=n(5112),f=n(1913),m=h("replace"),g=TypeError,v=o("".indexOf),y=o("".replace),b=o("".slice),w=Math.max,_=function(e,t,n){return n>e.length?-1:""===t?n:v(e,t,n)};i({target:"String",proto:!0},{replaceAll:function(e,t){var n,i,o,h,x,C,k,S,T,E=a(this),P=0,O=0,q="";if(null!=e){if((n=l(e))&&(i=u(a(d(e))),!~v(i,"g")))throw g("`.replaceAll` does not allow non-global regexes");if(o=c(e,m))return r(o,e,E,t);if(f&&n)return y(u(E),e,t)}for(h=u(E),x=u(e),(C=s(t))||(t=u(t)),k=x.length,S=w(1,k),P=_(h,x,0);-1!==P;)T=C?u(t(x,P,h)):p(x,h,P,[],void 0,t),q+=b(h,O,P)+T,O=P+k,P=_(h,x,P+S);return O<h.length&&(q+=b(h,O)),q}})},5306:function(e,t,n){"use strict";var i=n(2104),r=n(6916),o=n(1702),a=n(7007),s=n(7293),l=n(9670),u=n(614),c=n(9303),d=n(7466),p=n(1340),h=n(4488),f=n(1530),m=n(8173),g=n(647),v=n(7651),y=n(5112)("replace"),b=Math.max,w=Math.min,_=o([].concat),x=o([].push),C=o("".indexOf),k=o("".slice),S="$0"==="a".replace(/./,"$0"),T=!!/./[y]&&""===/./[y]("a","$0");a("replace",(function(e,t,n){var o=T?"$":"$0";return[function(e,n){var i=h(this),o=null==e?void 0:m(e,y);return o?r(o,e,i,n):r(t,p(i),e,n)},function(e,r){var a=l(this),s=p(e);if("string"==typeof r&&-1===C(r,o)&&-1===C(r,"$<")){var h=n(t,a,s,r);if(h.done)return h.value}var m=u(r);m||(r=p(r));var y=a.global;if(y){var S=a.unicode;a.lastIndex=0}for(var T=[];;){var E=v(a,s);if(null===E)break;if(x(T,E),!y)break;""===p(E[0])&&(a.lastIndex=f(s,d(a.lastIndex),S))}for(var P,O="",q=0,$=0;$<T.length;$++){for(var M=p((E=T[$])[0]),L=b(w(c(E.index),s.length),0),j=[],A=1;A<E.length;A++)x(j,void 0===(P=E[A])?P:String(P));var D=E.groups;if(m){var N=_([M],j,L,s);void 0!==D&&x(N,D);var R=p(i(r,void 0,N))}else R=g(M,s,L,j,D,r);L>=q&&(O+=k(s,q,L)+R,q=L+M.length)}return O+k(s,q)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!S||T)},3948:function(e,t,n){var i=n(7854),r=n(8324),o=n(8509),a=n(6992),s=n(8880),l=n(5112),u=l("iterator"),c=l("toStringTag"),d=a.values,p=function(e,t){if(e){if(e[u]!==d)try{s(e,u,d)}catch(t){e[u]=d}if(e[c]||s(e,c,t),r[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var h in r)p(i[h]&&i[h].prototype,h);p(o,"DOMTokenList")},2801:function(e,t,n){"use strict";var i=n(2109),r=n(7854),o=n(5005),a=n(9114),s=n(3070).f,l=n(2597),u=n(5787),c=n(9587),d=n(6277),p=n(3678),h=n(7741),f=n(9781),m=n(1913),g="DOMException",v=o("Error"),y=o(g),b=function(){u(this,w);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),i=new y(t,n),r=v(t);return r.name=g,s(i,"stack",a(1,h(r.stack,1))),c(i,this,b),i},w=b.prototype=y.prototype,_="stack"in v(g),x="stack"in new y(1,2),C=y&&f&&Object.getOwnPropertyDescriptor(r,g),k=!(!C||C.writable&&C.configurable),S=_&&!k&&!x;i({global:!0,constructor:!0,forced:m||S},{DOMException:S?b:y});var T=o(g),E=T.prototype;if(E.constructor!==T)for(var P in m||s(E,"constructor",a(1,T)),p)if(l(p,P)){var O=p[P],q=O.s;l(T,q)||s(T,q,a(6,O.c))}},1295:function(e,t,n){var i,r=n(1913),o=n(2109),a=n(7854),s=n(5005),l=n(1702),u=n(7293),c=n(9711),d=n(614),p=n(4411),h=n(111),f=n(2190),m=n(408),g=n(9670),v=n(648),y=n(2597),b=n(6135),w=n(8880),_=n(6244),x=n(8053),C=n(4706),k=n(2914),S=n(7392),T=n(7871),E=n(3823),P=n(5268),O=a.Object,q=a.Date,$=a.Error,M=a.EvalError,L=a.RangeError,j=a.ReferenceError,A=a.SyntaxError,D=a.TypeError,N=a.URIError,R=a.PerformanceMark,I=a.WebAssembly,F=I&&I.CompileError||$,U=I&&I.LinkError||$,B=I&&I.RuntimeError||$,H=s("DOMException"),z=s("Set"),V=s("Map"),G=V.prototype,Q=l(G.has),W=l(G.get),Y=l(G.set),K=l(z.prototype.add),Z=s("Object","keys"),J=l([].push),X=l((!0).valueOf),ee=l(1..valueOf),te=l("".valueOf),ne=l(q.prototype.getTime),ie=c("structuredClone"),re="DataCloneError",oe="Transferring",ae=function(e){return!u((function(){var t=new a.Set([7]),n=e(t),i=e(O(7));return n==t||!n.has(7)||"object"!=typeof i||7!=i}))&&e},se=function(e,t){return!u((function(){var n=new t,i=e({a:n,b:n});return!(i&&i.a===i.b&&i.a instanceof t&&i.a.stack===n.stack)}))},le=a.structuredClone,ue=r||!se(le,$)||!se(le,H)||(i=le,!!u((function(){var e=i(new a.AggregateError([1],ie,{cause:3}));return"AggregateError"!=e.name||1!=e.errors[0]||e.message!=ie||3!=e.cause}))),ce=!le&&ae((function(e){return new R(ie,{detail:e}).detail})),de=ae(le)||ce,pe=function(e){throw new H("Uncloneable type: "+e,re)},he=function(e,t){throw new H((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",re)},fe=function(e,t){if(f(e)&&pe("Symbol"),!h(e))return e;if(t){if(Q(t,e))return W(t,e)}else t=new V;var n,i,r,o,l,u,c,m,g,x,S=v(e),T=!1;switch(S){case"Array":r=[],T=!0;break;case"Object":r={},T=!0;break;case"Map":r=new V,T=!0;break;case"Set":r=new z,T=!0;break;case"RegExp":r=new RegExp(e.source,C(e));break;case"Error":switch(i=e.name){case"AggregateError":r=s("AggregateError")([]);break;case"EvalError":r=M();break;case"RangeError":r=L();break;case"ReferenceError":r=j();break;case"SyntaxError":r=A();break;case"TypeError":r=D();break;case"URIError":r=N();break;case"CompileError":r=F();break;case"LinkError":r=U();break;case"RuntimeError":r=B();break;default:r=$()}T=!0;break;case"DOMException":r=new H(e.message,e.name),T=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":n=a[S],h(n)||he(S),r=new n(fe(e.buffer,t),e.byteOffset,"DataView"===S?e.byteLength:e.length);break;case"DOMQuad":try{r=new DOMQuad(fe(e.p1,t),fe(e.p2,t),fe(e.p3,t),fe(e.p4,t))}catch(t){de?r=de(e):he(S)}break;case"FileList":if(n=a.DataTransfer,p(n)){for(o=new n,l=0,u=_(e);l<u;l++)o.items.add(fe(e[l],t));r=o.files}else de?r=de(e):he(S);break;case"ImageData":try{r=new ImageData(fe(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){de?r=de(e):he(S)}break;default:if(de)r=de(e);else switch(S){case"BigInt":r=O(e.valueOf());break;case"Boolean":r=O(X(e));break;case"Number":r=O(ee(e));break;case"String":r=O(te(e));break;case"Date":r=new q(ne(e));break;case"ArrayBuffer":(n=a.DataView)||"function"==typeof e.slice||he(S);try{if("function"==typeof e.slice)r=e.slice(0);else for(u=e.byteLength,r=new ArrayBuffer(u),g=new n(e),x=new n(r),l=0;l<u;l++)x.setUint8(l,g.getUint8(l))}catch(e){throw new H("ArrayBuffer is detached",re)}break;case"SharedArrayBuffer":r=e;break;case"Blob":try{r=e.slice(0,e.size,e.type)}catch(e){he(S)}break;case"DOMPoint":case"DOMPointReadOnly":n=a[S];try{r=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(e){he(S)}break;case"DOMRect":case"DOMRectReadOnly":n=a[S];try{r=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(e){he(S)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=a[S];try{r=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(e){he(S)}break;case"AudioData":case"VideoFrame":d(e.clone)||he(S);try{r=e.clone()}catch(e){pe(S)}break;case"File":try{r=new File([e],e.name,e)}catch(e){he(S)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":he(S);default:pe(S)}}if(Y(t,e,r),T)switch(S){case"Array":case"Object":for(c=Z(e),l=0,u=_(c);l<u;l++)m=c[l],b(r,m,fe(e[m],t));break;case"Map":e.forEach((function(e,n){Y(r,fe(n,t),fe(e,t))}));break;case"Set":e.forEach((function(e){K(r,fe(e,t))}));break;case"Error":w(r,"message",fe(e.message,t)),y(e,"cause")&&w(r,"cause",fe(e.cause,t)),"AggregateError"==i&&(r.errors=fe(e.errors,t));case"DOMException":k&&w(r,"stack",fe(e.stack,t))}return r},me=le&&!u((function(){if(E&&S>92||P&&S>94||T&&S>97)return!1;var e=new ArrayBuffer(8),t=le(e,{transfer:[e]});return 0!=e.byteLength||8!=t.byteLength})),ge=function(e,t){if(!h(e))throw D("Transfer option cannot be converted to a sequence");var n=[];m(e,(function(e){J(n,g(e))}));var i,r,o,s,l,u,c=0,f=_(n);if(me)for(s=le(n,{transfer:n});c<f;)Y(t,n[c],s[c++]);else for(;c<f;){if(i=n[c++],Q(t,i))throw new H("Duplicate transferable",re);switch(r=v(i)){case"ImageBitmap":o=a.OffscreenCanvas,p(o)||he(r,oe);try{(u=new o(i.width,i.height)).getContext("bitmaprenderer").transferFromImageBitmap(i),l=u.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":d(i.clone)&&d(i.close)||he(r,oe);try{l=i.clone(),i.close()}catch(e){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":he(r,oe)}if(void 0===l)throw new H("This object cannot be transferred: "+r,re);Y(t,i,l)}};o({global:!0,enumerable:!0,sham:!me,forced:ue},{structuredClone:function(e){var t,n=x(arguments.length,1)>1&&null!=arguments[1]?g(arguments[1]):void 0,i=n?n.transfer:void 0;return void 0!==i&&(t=new V,ge(i,t)),fe(e,t)}})},5556:function(e,t,n){"use strict";n(6992);var i=n(2109),r=n(7854),o=n(6916),a=n(1702),s=n(9781),l=n(590),u=n(8052),c=n(9190),d=n(8003),p=n(4994),h=n(9909),f=n(5787),m=n(614),g=n(2597),v=n(9974),y=n(648),b=n(9670),w=n(111),_=n(1340),x=n(30),C=n(9114),k=n(8554),S=n(1246),T=n(8053),E=n(5112),P=n(4362),O=E("iterator"),q="URLSearchParams",$="URLSearchParamsIterator",M=h.set,L=h.getterFor(q),j=h.getterFor($),A=Object.getOwnPropertyDescriptor,D=function(e){if(!s)return r[e];var t=A(r,e);return t&&t.value},N=D("fetch"),R=D("Request"),I=D("Headers"),F=R&&R.prototype,U=I&&I.prototype,B=r.RegExp,H=r.TypeError,z=r.decodeURIComponent,V=r.encodeURIComponent,G=a("".charAt),Q=a([].join),W=a([].push),Y=a("".replace),K=a([].shift),Z=a([].splice),J=a("".split),X=a("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=B("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return z(e)}catch(t){return e}},re=function(e){var t=Y(e,ee," "),n=4;try{return z(t)}catch(e){for(;n;)t=Y(t,ne(n--),ie);return t}},oe=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return ae[e]},le=function(e){return Y(V(e),oe,se)},ue=p((function(e,t){M(this,{type:$,iterator:k(L(e).entries),kind:t})}),"Iterator",(function(){var e=j(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n}),!0),ce=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===G(e,0)?X(e,1):e:_(e)))};ce.prototype={type:q,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,i,r,a,s,l,u=S(e);if(u)for(n=(t=k(e,u)).next;!(i=o(n,t)).done;){if(a=(r=k(b(i.value))).next,(s=o(a,r)).done||(l=o(a,r)).done||!o(a,r).done)throw H("Expected sequence with length 2");W(this.entries,{key:_(s.value),value:_(l.value)})}else for(var c in e)g(e,c)&&W(this.entries,{key:c,value:_(e[c])})},parseQuery:function(e){if(e)for(var t,n,i=J(e,"&"),r=0;r<i.length;)(t=i[r++]).length&&(n=J(t,"="),W(this.entries,{key:re(K(n)),value:re(Q(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],i=0;i<t.length;)e=t[i++],W(n,le(e.key)+"="+le(e.value));return Q(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var de=function(){f(this,pe);var e=arguments.length>0?arguments[0]:void 0;M(this,new ce(e))},pe=de.prototype;if(c(pe,{append:function(e,t){T(arguments.length,2);var n=L(this);W(n.entries,{key:_(e),value:_(t)}),n.updateURL()},delete:function(e){T(arguments.length,1);for(var t=L(this),n=t.entries,i=_(e),r=0;r<n.length;)n[r].key===i?Z(n,r,1):r++;t.updateURL()},get:function(e){T(arguments.length,1);for(var t=L(this).entries,n=_(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){T(arguments.length,1);for(var t=L(this).entries,n=_(e),i=[],r=0;r<t.length;r++)t[r].key===n&&W(i,t[r].value);return i},has:function(e){T(arguments.length,1);for(var t=L(this).entries,n=_(e),i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){T(arguments.length,1);for(var n,i=L(this),r=i.entries,o=!1,a=_(e),s=_(t),l=0;l<r.length;l++)(n=r[l]).key===a&&(o?Z(r,l--,1):(o=!0,n.value=s));o||W(r,{key:a,value:s}),i.updateURL()},sort:function(){var e=L(this);P(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=L(this).entries,i=v(e,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new ue(this,"keys")},values:function(){return new ue(this,"values")},entries:function(){return new ue(this,"entries")}},{enumerable:!0}),u(pe,O,pe.entries,{name:"entries"}),u(pe,"toString",(function(){return L(this).serialize()}),{enumerable:!0}),d(de,q),i({global:!0,constructor:!0,forced:!l},{URLSearchParams:de}),!l&&m(I)){var he=a(U.has),fe=a(U.set),me=function(e){if(w(e)){var t,n=e.body;if(y(n)===q)return t=e.headers?new I(e.headers):new I,he(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(e,{body:C(0,_(n)),headers:C(0,t)})}return e};if(m(N)&&i({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return N(e,arguments.length>1?me(arguments[1]):{})}}),m(R)){var ge=function(e){return f(this,F),new R(e,arguments.length>1?me(arguments[1]):{})};F.constructor=ge,ge.prototype=F,i({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ge})}}e.exports={URLSearchParams:de,getState:L}},1637:function(e,t,n){n(5556)},8789:function(e,t,n){"use strict";n(8783);var i,r=n(2109),o=n(9781),a=n(590),s=n(7854),l=n(9974),u=n(1702),c=n(8052),d=n(7045),p=n(5787),h=n(2597),f=n(1574),m=n(8457),g=n(1589),v=n(8710).codeAt,y=n(3197),b=n(1340),w=n(8003),_=n(8053),x=n(5556),C=n(9909),k=C.set,S=C.getterFor("URL"),T=x.URLSearchParams,E=x.getState,P=s.URL,O=s.TypeError,q=s.parseInt,$=Math.floor,M=Math.pow,L=u("".charAt),j=u(/./.exec),A=u([].join),D=u(1..toString),N=u([].pop),R=u([].push),I=u("".replace),F=u([].shift),U=u("".split),B=u("".slice),H=u("".toLowerCase),z=u([].unshift),V="Invalid scheme",G="Invalid host",Q="Invalid port",W=/[a-z]/i,Y=/[\d+-.a-z]/i,K=/\d/,Z=/^0x/i,J=/^[0-7]+$/,X=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,ie=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,re=/[\t\n\r]/g,oe=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=$(e/256);return A(t,".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,r=0,o=0;o<8;o++)0!==e[o]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(t=i,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=D(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ae={},se=f({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),le=f({},se,{"#":1,"?":1,"{":1,"}":1}),ue=f({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ce=function(e,t){var n=v(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},de={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(e,t){var n;return 2==e.length&&j(W,L(e,0))&&(":"==(n=L(e,1))||!t&&"|"==n)},he=function(e){var t;return e.length>1&&pe(B(e,0,2))&&(2==e.length||"/"===(t=L(e,2))||"\\"===t||"?"===t||"#"===t)},fe=function(e){return"."===e||"%2e"===H(e)},me={},ge={},ve={},ye={},be={},we={},_e={},xe={},Ce={},ke={},Se={},Te={},Ee={},Pe={},Oe={},qe={},$e={},Me={},Le={},je={},Ae={},De=function(e,t,n){var i,r,o,a=b(e);if(t){if(r=this.parse(a))throw O(r);this.searchParams=null}else{if(void 0!==n&&(i=new De(n,!0)),r=this.parse(a,null,i))throw O(r);(o=E(new T)).bindURL(this),this.searchParams=o}};De.prototype={type:"URL",parse:function(e,t,n){var r,o,a,s,l,u=this,c=t||me,d=0,p="",f=!1,v=!1,y=!1;for(e=b(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=I(e,ie,"")),e=I(e,re,""),r=m(e);d<=r.length;){switch(o=r[d],c){case me:if(!o||!j(W,o)){if(t)return V;c=ve;continue}p+=H(o),c=ge;break;case ge:if(o&&(j(Y,o)||"+"==o||"-"==o||"."==o))p+=H(o);else{if(":"!=o){if(t)return V;p="",c=ve,d=0;continue}if(t&&(u.isSpecial()!=h(de,p)||"file"==p&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=p,t)return void(u.isSpecial()&&de[u.scheme]==u.port&&(u.port=null));p="","file"==u.scheme?c=Pe:u.isSpecial()&&n&&n.scheme==u.scheme?c=ye:u.isSpecial()?c=xe:"/"==r[d+1]?(c=be,d++):(u.cannotBeABaseURL=!0,R(u.path,""),c=Le)}break;case ve:if(!n||n.cannotBeABaseURL&&"#"!=o)return V;if(n.cannotBeABaseURL&&"#"==o){u.scheme=n.scheme,u.path=g(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,c=Ae;break}c="file"==n.scheme?Pe:we;continue;case ye:if("/"!=o||"/"!=r[d+1]){c=we;continue}c=Ce,d++;break;case be:if("/"==o){c=ke;break}c=Me;continue;case we:if(u.scheme=n.scheme,o==i)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.query=n.query;else if("/"==o||"\\"==o&&u.isSpecial())c=_e;else if("?"==o)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.query="",c=je;else{if("#"!=o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.path.length--,c=Me;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.query=n.query,u.fragment="",c=Ae}break;case _e:if(!u.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,c=Me;continue}c=ke}else c=Ce;break;case xe:if(c=Ce,"/"!=o||"/"!=L(p,d+1))continue;d++;break;case Ce:if("/"!=o&&"\\"!=o){c=ke;continue}break;case ke:if("@"==o){f&&(p="%40"+p),f=!0,a=m(p);for(var w=0;w<a.length;w++){var _=a[w];if(":"!=_||y){var x=ce(_,ue);y?u.password+=x:u.username+=x}else y=!0}p=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(f&&""==p)return"Invalid authority";d-=m(p).length+1,p="",c=Se}else p+=o;break;case Se:case Te:if(t&&"file"==u.scheme){c=qe;continue}if(":"!=o||v){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(u.isSpecial()&&""==p)return G;if(t&&""==p&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(p))return s;if(p="",c=$e,t)return;continue}"["==o?v=!0:"]"==o&&(v=!1),p+=o}else{if(""==p)return G;if(s=u.parseHost(p))return s;if(p="",c=Ee,t==Te)return}break;case Ee:if(!j(K,o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()||t){if(""!=p){var C=q(p,10);if(C>65535)return Q;u.port=u.isSpecial()&&C===de[u.scheme]?null:C,p=""}if(t)return;c=$e;continue}return Q}p+=o;break;case Pe:if(u.scheme="file","/"==o||"\\"==o)c=Oe;else{if(!n||"file"!=n.scheme){c=Me;continue}if(o==i)u.host=n.host,u.path=g(n.path),u.query=n.query;else if("?"==o)u.host=n.host,u.path=g(n.path),u.query="",c=je;else{if("#"!=o){he(A(g(r,d),""))||(u.host=n.host,u.path=g(n.path),u.shortenPath()),c=Me;continue}u.host=n.host,u.path=g(n.path),u.query=n.query,u.fragment="",c=Ae}}break;case Oe:if("/"==o||"\\"==o){c=qe;break}n&&"file"==n.scheme&&!he(A(g(r,d),""))&&(pe(n.path[0],!0)?R(u.path,n.path[0]):u.host=n.host),c=Me;continue;case qe:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&pe(p))c=Me;else if(""==p){if(u.host="",t)return;c=$e}else{if(s=u.parseHost(p))return s;if("localhost"==u.host&&(u.host=""),t)return;p="",c=$e}continue}p+=o;break;case $e:if(u.isSpecial()){if(c=Me,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=i&&(c=Me,"/"!=o))continue}else u.fragment="",c=Ae;else u.query="",c=je;break;case Me:if(o==i||"/"==o||"\\"==o&&u.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(l=H(l=p))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(u.shortenPath(),"/"==o||"\\"==o&&u.isSpecial()||R(u.path,"")):fe(p)?"/"==o||"\\"==o&&u.isSpecial()||R(u.path,""):("file"==u.scheme&&!u.path.length&&pe(p)&&(u.host&&(u.host=""),p=L(p,0)+":"),R(u.path,p)),p="","file"==u.scheme&&(o==i||"?"==o||"#"==o))for(;u.path.length>1&&""===u.path[0];)F(u.path);"?"==o?(u.query="",c=je):"#"==o&&(u.fragment="",c=Ae)}else p+=ce(o,le);break;case Le:"?"==o?(u.query="",c=je):"#"==o?(u.fragment="",c=Ae):o!=i&&(u.path[0]+=ce(o,ae));break;case je:t||"#"!=o?o!=i&&("'"==o&&u.isSpecial()?u.query+="%27":u.query+="#"==o?"%23":ce(o,ae)):(u.fragment="",c=Ae);break;case Ae:o!=i&&(u.fragment+=ce(o,se))}d++}},parseHost:function(e){var t,n,i;if("["==L(e,0)){if("]"!=L(e,e.length-1))return G;if(t=function(e){var t,n,i,r,o,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,p=function(){return L(e,d)};if(":"==p()){if(":"!=L(e,1))return;d+=2,c=++u}for(;p();){if(8==u)return;if(":"!=p()){for(t=n=0;n<4&&j(ee,p());)t=16*t+q(p(),16),d++,n++;if("."==p()){if(0==n)return;if(d-=n,u>6)return;for(i=0;p();){if(r=null,i>0){if(!("."==p()&&i<4))return;d++}if(!j(K,p()))return;for(;j(K,p());){if(o=q(p(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;d++}l[u]=256*l[u]+r,2!=++i&&4!=i||u++}if(4!=i)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;l[u++]=t}else{if(null!==c)return;d++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s;else if(8!=u)return;return l}(B(e,1,-1)),!t)return G;this.host=t}else if(this.isSpecial()){if(e=y(e),j(te,e))return G;if(t=function(e){var t,n,i,r,o,a,s,l=U(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],i=0;i<t;i++){if(""==(r=l[i]))return e;if(o=10,r.length>1&&"0"==L(r,0)&&(o=j(Z,r)?16:8,r=B(r,8==o?1:2)),""===r)a=0;else{if(!j(10==o?X:8==o?J:ee,r))return e;a=q(r,o)}R(n,a)}for(i=0;i<t;i++)if(a=n[i],i==t-1){if(a>=M(256,5-t))return null}else if(a>255)return null;for(s=N(n),i=0;i<n.length;i++)s+=n[i]*M(256,3-i);return s}(e),null===t)return G;this.host=t}else{if(j(ne,e))return G;for(t="",n=m(e),i=0;i<n.length;i++)t+=ce(n[i],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return h(de,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&pe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,i=e.password,r=e.host,o=e.port,a=e.path,s=e.query,l=e.fragment,u=t+":";return null!==r?(u+="//",e.includesCredentials()&&(u+=n+(i?":"+i:"")+"@"),u+=oe(r),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+A(a,"/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw O(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Ne(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",me)},getUsername:function(){return this.username},setUsername:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=ce(t[n],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=ce(t[n],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Te)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Ee))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+A(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,$e))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==L(e,0)&&(e=B(e,1)),this.query="",this.parse(e,je)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==L(e,0)&&(e=B(e,1)),this.fragment="",this.parse(e,Ae)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ne=function(e){var t=p(this,Re),n=_(arguments.length,1)>1?arguments[1]:void 0,i=k(t,new De(e,!1,n));o||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash())},Re=Ne.prototype,Ie=function(e,t){return{get:function(){return S(this)[e]()},set:t&&function(e){return S(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(d(Re,"href",Ie("serialize","setHref")),d(Re,"origin",Ie("getOrigin")),d(Re,"protocol",Ie("getProtocol","setProtocol")),d(Re,"username",Ie("getUsername","setUsername")),d(Re,"password",Ie("getPassword","setPassword")),d(Re,"host",Ie("getHost","setHost")),d(Re,"hostname",Ie("getHostname","setHostname")),d(Re,"port",Ie("getPort","setPort")),d(Re,"pathname",Ie("getPathname","setPathname")),d(Re,"search",Ie("getSearch","setSearch")),d(Re,"searchParams",Ie("getSearchParams")),d(Re,"hash",Ie("getHash","setHash"))),c(Re,"toJSON",(function(){return S(this).serialize()}),{enumerable:!0}),c(Re,"toString",(function(){return S(this).serialize()}),{enumerable:!0}),P){var Fe=P.createObjectURL,Ue=P.revokeObjectURL;Fe&&c(Ne,"createObjectURL",l(Fe,P)),Ue&&c(Ne,"revokeObjectURL",l(Ue,P))}w(Ne,"URL"),r({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Ne})},285:function(e,t,n){n(8789)},3753:function(e,t,n){"use strict";var i=n(2109),r=n(6916);i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return r(URL.prototype.toString,this)}})},8751:function(e,t,n){e.exports={TextParser:n(6777).TextParser,InputMask:n(4656).InputMask,utils:n(483)}},4656:function(e,t,n){var{Emitter:i}=n(483);function r(e,t){if(t.length){var[n,i]=o(t,e).map((e=>e.node));return n==i||e-n.offset-n.viewValue.length<=i.offset-e?n:i}}function o(e,t,n=t){var i,r,o;for(i of e)i.offset<=t&&(r={node:i,pos:t-i.offset}),i.offset+i.viewValue.length>=n&&!o&&(o={node:i,pos:n-i.offset});if(!o){var a=e[e.length-1];o={node:a,pos:a.viewValue.length}}return r||(r={node:e[0],pos:0}),r.pos>r.node.viewValue.length&&(r.pos=r.node.viewValue.length),[r,o]}class a{constructor(e,t){this.el=e,this.nodes=t,this.range={node:r(0,this.nodes),start:0,end:"end"}}selectNearestNode(){var e=this.el.getSelection();e&&this.select({node:r(e.start,this.nodes),start:0,end:"end"})}select(e){(e=Object.assign(this.range,e)).node&&this.el.setSelection(e.node.offset+e.start,e.node.offset+("end"==e.end?e.node.viewValue.length:e.end))}hasNext(){if(this.range.node)return this.range.node.nextEdit}hasPrev(){if(this.range.node)return this.range.node.prevEdit}selectNext(){var e=this.hasNext(),t={start:0,end:"end"};e&&(t.node=e),this.select(t)}selectPrev(){var e=this.hasPrev(),t={start:0,end:"end"};e&&(t.node=e),this.select(t)}get(){if(this.nodes.length){var e=this.el.getSelection();if(e){var[t,n]=o(this.nodes,e.start,e.end);t.node==n.node&&(this.range={node:t.node,start:t.pos,end:n.pos})}}}atNodeEnd(){if(this.range.node){this.get();var e=this.range.node.viewValue.length,t=this.range.node.token.maxLength,n="end"==this.range.start?e:this.range.start;return n==("end"==this.range.end?e:this.range.end)&&n==(null!=t?t:e)||!e}}atNodeStart(){if(this.range.node){this.get();var e=this.range.node.viewValue.length,t="end"==this.range.start?e:this.range.start;return t==("end"==this.range.end?e:this.range.end)&&0==t}}}e.exports={InputMask:class extends i{constructor(){super(),this._constructor.apply(this,arguments),this.initialize()}_constructor(e,t,n=""){this.el=e,this.tp=t,this.separators=n,this.sel=new a(e,t.getNodes().filter((e=>"static"!=e.token.type)))}initialize(){this.el.on("mousedown",(()=>{this.mousedown=!0})),this.el.on("focus",(()=>{this.mousedown||setTimeout((()=>{this.sel.select({start:0,end:"end"})}))})),this.el.on("click",(()=>{this.mousedown=!1,this.sel.selectNearestNode()})),this.el.on("input",(()=>{this.digest(null,this.el.val())})),this.el.on("keydown",(e=>{e.altKey||e.ctrlKey||(37==e.keyCode||9==e.keyCode&&e.shiftKey&&this.sel.hasPrev()?(e.preventDefault(),this.tryFixingError(),this.sel.selectPrev()):39==e.keyCode||9==e.keyCode&&!e.shiftKey&&this.sel.hasNext()?(e.preventDefault(),this.tryFixingError(),this.sel.selectNext()):38==e.keyCode?(e.preventDefault(),this.sel.selectNearestNode(),this.sel.range.node&&this.sel.range.node.add(1),this.val(this.tp.getText()),this.sel.select({start:0,end:"end"})):40==e.keyCode?(e.preventDefault(),this.sel.selectNearestNode(),this.sel.range.node&&this.sel.range.node.add(-1),this.val(this.tp.getText()),this.sel.select({start:0,end:"end"})):36==e.keyCode||35==e.keyCode?setTimeout((()=>this.sel.selectNearestNode())):46==e.keyCode?this.sel.atNodeEnd()&&(e.preventDefault(),this.tryFixingError(),this.sel.selectNext()):8==e.keyCode&&this.sel.atNodeStart()&&(e.preventDefault(),this.tryFixingError(),this.sel.selectPrev()))})),this.el.on("keypress",(e=>{var t=null==e.charCode?e.keyCode:e.charCode,n=String.fromCharCode(t),i=this.separators,r=this.sel.range.node;if(r&&r.next&&"static"==r.next.token.type&&(i+=r.next.viewValue[0]),i.includes(n))return e.preventDefault(),this.tryFixingError(),void this.sel.selectNext();setTimeout((()=>{this.sel.atNodeEnd()&&this.sel.range.node.viewValue&&(this.tryFixingError(),this.sel.selectNext())}))})),this.el.on("blur",(()=>{setTimeout((()=>{this.tryFixingError()}))})),this.tp.on("change",(()=>{this.err||this.inDigest||(this.val(this.tp.getText()),this.sel.select())}));var e=this.el.val();e?this.digest(null,e,!0):this.val(this.tp.getText())}errorViewLength(){if(this.err&&null!=this.err.viewValue)return this.err.viewValue.length}val(e){this.el.val()!=e&&this.el.val(e),this.err=null}tryFixingError(){this.err&&(this.err.properValue?this.digest(this.err.node,this.err.properValue,!0):this.err.node&&(this.err.node.unset(),this.digest(null,this.tp.getText())))}digest(e,t,n){var i,r=10;for(this.inDigest=!0;r--;){this.err=null;try{e?e.parse(t):this.tp.parse(t)}catch(r){if(this.emit("digest",r),this.sel.get(),"NOT_INIT"==r.code)break;if(this.err=r,!n&&("NUMBER_TOOSHORT"==r.code||"NUMBER_TOOSMALL"==r.code||"NUMBER_MISMATCH"==r.code||"SELECT_MISMATCH"==r.code||"LEADING_ZERO"==r.code))break;if("SELECT_INCOMPLETE"==r.code){e=r.node,t=r.selected,i={end:"end"};continue}null!=r.properValue?(e=r.node,t=r.properValue):null!=r.properText?(e=null,t=r.properText):("EMPTY"==r.code&&this.tp.unset(),r.node&&r.node.unset(),e=null,t=this.tp.getText(),i={start:0,end:"end"});continue}break}if(this.err||(this.val(this.tp.getText()),r<9&&this.sel.select(i)),this.inDigest=!1,r<0)throw new Error(`InputMask.digest crashed! Infinite loop on ${t}`)}}}},6777:function(e,t,n){var{num2str:i,Emitter:r}=n(483);function o(e,t,n){for(var i=0,r=e.toUpperCase(),o=n.toUpperCase();r[t+i]&&r[t+i]==o[i];)i++;return e.substr(t,i)}function a(e,t,n){var r=function(e,t,n){var r,a,s,l;if("static"==t.type)return e.startsWith(t.value,n)?{viewValue:t.value}:{err:2,code:"TEXT_MISMATCH",message:"Pattern value mismatch"};if("number"==t.type)return s=function(e,t){var n=(e=e.substring(t)).match(/^\d+/);return n&&n[0]}(e,n),null==s?{err:1,code:"NUMBER_MISMATCH",message:"Invalid number",viewValue:""}:s.length<t.minLength?{err:1,code:"NUMBER_TOOSHORT",message:"The length of number is too short",value:+s,viewValue:s,properValue:i(+s,t.minLength,t.maxLength)}:(s.length>t.maxLength&&(s=s.substr(0,t.maxLength)),+s<t.min?{err:1,code:"NUMBER_TOOSMALL",message:"The number is too small",value:+s,viewValue:s,properValue:i(t.min,t.minLength,t.maxLength)}:s.length>t.minLength&&"0"==s[0]?{err:1,code:"LEADING_ZERO",message:"The number has too many leading zero",value:+s,viewValue:s,properValue:i(+s,t.minLength,t.maxLength)}:+s>t.max?{err:1,code:"NUMBER_TOOLARGE",message:"The number is too large",value:+s,viewValue:s,properValue:i(t.max,t.minLength,t.maxLength)}:{value:+s,viewValue:s});if("select"==t.type){for(a="",l=0;l<t.select.length;l++)(r=o(e,n,t.select[l]))&&r.length>a.length&&(s=l,a=r);return a?a!=t.select[s]?{err:1,code:"SELECT_INCOMPLETE",message:"Incomplete select",value:s+1,viewValue:a,selected:t.select[s]}:{value:s+1,viewValue:a}:{err:1,code:"SELECT_MISMATCH",message:"Invalid select",viewValue:""}}throw"Unknown token type: "+t.type}(e,t,n);return r.err&&"static"!=t.type&&e.startsWith(t.placeholder,n)&&(r.err>1||r.viewValue.length<=t.placeholder.length)?{empty:!0,viewValue:t.placeholder}:r}function s(e,t){var n,i,r=0,o=[];for(n of e){if((i=a(t,n.token,r)).node=n,i.pos=r,i.token=n.token,i.err>=2)throw i.text=t,i;r+=i.viewValue.length,o.push(i)}var s=o[o.length-1];if(s.pos+s.viewValue.length<t.length)throw{code:"TEXT_TOOLONG",message:"Text is too long",text:t};return o}function l(e,t){if("static"==t.type)return{viewValue:t.value};var n=t.extract(e);if("number"==t.type)return{value:n,viewValue:i(n,t.minLength,t.maxLength)};if("select"==t.type)return{value:n,viewValue:t.select[n-1]};throw"Unknown type to format: "+t.type}function u(e,t,n){var i,r,o=[];for(r of t)i=l(e,r.token),"static"!=r.token.type&&r.empty&&!n&&(i.value=null,i.viewValue=r.token.placeholder),o.push(i);return o}class c{constructor(e,t){this.parser=e,this.token=t,this.value=null,this.viewValue=t.value,this.offset=0,this.next=null,this.prev=null,this.nextEdit=null,this.prevEdit=null,this.empty=!0}unset(){"static"==this.token.type||this.parser.noEmpty||(this.empty=!0,this.parser.setValue(this.parser.value,!1))}parse(e,t=0){var n=a(e,this.token,t);if(n.err)throw n.node=this,n.token=this.token,n;if(this.parser.noEmpty&&n.empty)throw{code:"NOT_INIT_FORBIDDEN",message:"Empty node is forbidden",node:this};if(n.empty)this.unset();else{this.empty=!1;var i=d(this.parser.copyValue(this.parser.value),this.token,n.value,this.parser);this.parser.setValue(i,!1)}}add(e){var t,n,i,r,o,a,s,l=this.parser.copyValue(this.parser.value);this.empty=!1,n=l,i=this.token,r=e,o=this.parser,l="object"==typeof n?(i.add(n,r,o),n):i.add(n,r,o),t=this.token.extract(l),"number"==this.token.type?(a=this.token.min,s=this.token.max):"select"==this.token.type&&(a=1,s=this.token.select.length),t<a&&(l=d(l,this.token,a,this.parser)),t>s&&(l=d(l,this.token,s,this.parser)),this.parser.setValue(l,!1)}}function d(e,t,n,i){return"object"==typeof e?(t.restore(e,n,i),e):t.restore(e,n,i)}function p(e){return e}e.exports={TextParser:class extends r{constructor(){super(),this._constructor.apply(this,arguments),this.initialize()}_constructor({tokens:e,noEmpty:t=!1,value:n,text:i,copyValue:r=p}){if(!e||!e.length)throw new Error("option.tokens is required");this.tokens=e,this.nodes=function(e,t){var n,i,r,o=[];for(n of t)o.push(new c(e,n));for(i=0;i<o.length;i++)o[i].next=o[i+1]||null,o[i].prev=o[i-1]||null;for(r=null,i=0;i<o.length;i++)o[i].prevEdit=r,"static"!=o[i].token.type&&(r=o[i]);for(r=null,i=o.length-1;i>=0;i--)o[i].nextEdit=r,"static"!=o[i].token.type&&(r=o[i]);return o}(this,e),this.nameMap=function(e){var t=new Map;for(var n of e){var i=t.get(n.token.name);i||(i=[],t.set(n.token.name,i)),i.push(n)}return t}(this.nodes),this.value=n,this.text=i,this.noEmpty=t,this.copyValue=r,this.err=!1}initialize(){this.setValue(this.value)}parse(e){if(!e)throw{code:"EMPTY",message:"The input is empty",oldText:this.text};var t,n;t=s(this.nodes,e);var i,r=[];for(i=this.err?s(this.nodes,this.text):this.nodes,n=0;n<t.length;n++)t[n].empty||t[n].viewValue==i[n].viewValue||(t[n].token=this.nodes[n].token,r.push(t[n]));var o=t.filter((e=>e.empty)),a=t.filter((e=>e.err));for(n=0;n<t.length;n++)this.nodes[n].value=t[n].value,this.nodes[n].viewValue=t[n].viewValue,this.nodes[n].offset=t[n].pos,this.nodes[n].empty=t[n].empty;if(a.length)throw this.err=!0,a[0];this.err=!1,r.sort(((e,t)=>t.empty?-1:e.empty?1:(t.token.prior||0)-(e.token.prior||0)));var l,c=this.copyValue(this.value);for(l of r)c=d(c,l.token,l.value,this);var p=u(c,t).map((e=>e.viewValue)).join("");if(e!=p)throw this.err=!0,{code:"INCONSISTENT_INPUT",message:"Successfully parsed but the output text doesn't match the input",text:e,oldText:this.text,properText:p};if(this.text=e,this.value=c,this.emit("change",this.value),o.length)throw{code:"NOT_INIT",message:"Some nodes are empty",text:e,node:o[0]};return this}setValue(e,t=!0){var n,i=u(e,this.nodes,t),r=0,o="";for(n=0;n<i.length;n++)this.nodes[n].value=i[n].value,this.nodes[n].viewValue=i[n].viewValue,this.nodes[n].offset=r,this.nodes[n].empty=!t&&this.nodes[n].empty,r+=this.nodes[n].viewValue.length,o+=this.nodes[n].viewValue;return this.value=e,this.text=o,this.emit("change",this.value),this}isEmpty(e){var t,n;if(e)try{t=s(this.nodes,e)}catch(e){return!1}else t=this.nodes;for(n=0;n<t.length;n++)if("static"!=this.nodes[n].token.type&&!t[n].empty)return!1;return!0}isInit(){var e;for(e of this.nodes)if("static"!=e.token.type&&e.empty)return!1;return!0}unset(){var e;for(e of this.nodes)e.empty=!0;return this.setValue(this.value,!1),this}getText(){return this.text}getValue(){return this.value}getNodes(e){return e?this.nameMap.get(e):this.nodes}}}},483:function(e,t,n){e.exports={num2str(e,t,n){var i;if((e=""+e).length>n)e=e.substr(e.length-n);else if(e.length<t)for(i=e.length;i<t;i++)e="0"+e;return e},Emitter:n(7187)}},296:function(e){function t(e,t,n){var i,r,o,a,s;function l(){var u=Date.now()-a;u<t&&u>=0?i=setTimeout(l,t-u):(i=null,n||(s=e.apply(o,r),o=r=null))}null==t&&(t=100);var u=function(){o=this,r=arguments,a=Date.now();var u=n&&!i;return i||(i=setTimeout(l,t)),u&&(s=e.apply(o,r),o=r=null),s};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(s=e.apply(o,r),o=r=null,clearTimeout(i),i=null)},u}t.debounce=t,e.exports=t},7187:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,r)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,o,a,u;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=l(e))>0&&a.length>r&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=c.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):f(r,r.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function m(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var u=l.length,c=f(l,u);for(n=0;n<u;++n)i(c[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,i,r,o,a;if(s(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},1813:function(e){e.exports=function(e){for(var t=-1,n=e?e.length:0,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i}},2307:function(e,t,n){e=n.nmd(e);var i="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",d="[object Map]",p="[object Number]",h="[object Object]",f="[object Promise]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",_=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[o]=C[a]=C[b]=C[s]=C[w]=C[l]=C[u]=C[c]=C[d]=C[p]=C[h]=C[m]=C[g]=C[v]=C[y]=!1;var k="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,S="object"==typeof self&&self&&self.Object===Object&&self,T=k||S||Function("return this")(),E=t&&!t.nodeType&&t,P=E&&e&&!e.nodeType&&e,O=P&&P.exports===E,q=O&&k.process,$=function(){try{return q&&q.binding&&q.binding("util")}catch(e){}}(),M=$&&$.isTypedArray;function L(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function j(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function A(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var D,N,R,I=Array.prototype,F=Function.prototype,U=Object.prototype,B=T["__core-js_shared__"],H=F.toString,z=U.hasOwnProperty,V=(D=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",G=U.toString,Q=RegExp("^"+H.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=O?T.Buffer:void 0,Y=T.Symbol,K=T.Uint8Array,Z=U.propertyIsEnumerable,J=I.splice,X=Y?Y.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=W?W.isBuffer:void 0,ne=(N=Object.keys,R=Object,function(e){return N(R(e))}),ie=Pe(T,"DataView"),re=Pe(T,"Map"),oe=Pe(T,"Promise"),ae=Pe(T,"Set"),se=Pe(T,"WeakMap"),le=Pe(Object,"create"),ue=Me(ie),ce=Me(re),de=Me(oe),pe=Me(ae),he=Me(se),fe=Y?Y.prototype:void 0,me=fe?fe.valueOf:void 0;function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ye;++t<n;)this.add(e[t])}function we(e){var t=this.__data__=new ve(e);this.size=t.size}function _e(e,t){for(var n=e.length;n--;)if(Le(e[n][0],t))return n;return-1}function xe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?function(e){var t=z.call(e,X),n=e[X];try{e[X]=void 0;var i=!0}catch(e){}var r=G.call(e);return i&&(t?e[X]=n:delete e[X]),r}(e):function(e){return G.call(e)}(e)}function Ce(e){return Fe(e)&&xe(e)==o}function ke(e,t,n,i,r){return e===t||(null==e||null==t||!Fe(e)&&!Fe(t)?e!=e&&t!=t:function(e,t,n,i,r,c){var f=Ae(e),y=Ae(t),_=f?a:qe(e),x=y?a:qe(t),C=(_=_==o?h:_)==h,k=(x=x==o?h:x)==h,S=_==x;if(S&&De(e)){if(!De(t))return!1;f=!0,C=!1}if(S&&!C)return c||(c=new we),f||Ue(e)?Se(e,t,n,i,r,c):function(e,t,n,i,r,o,a){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!o(new K(e),new K(t)));case s:case l:case p:return Le(+e,+t);case u:return e.name==t.name&&e.message==t.message;case m:case v:return e==t+"";case d:var c=j;case g:var h=1&i;if(c||(c=A),e.size!=t.size&&!h)return!1;var f=a.get(e);if(f)return f==t;i|=2,a.set(e,t);var y=Se(c(e),c(t),i,r,o,a);return a.delete(e),y;case"[object Symbol]":if(me)return me.call(e)==me.call(t)}return!1}(e,t,_,n,i,r,c);if(!(1&n)){var T=C&&z.call(e,"__wrapped__"),E=k&&z.call(t,"__wrapped__");if(T||E){var P=T?e.value():e,O=E?t.value():t;return c||(c=new we),r(P,O,n,i,c)}}return!!S&&(c||(c=new we),function(e,t,n,i,r,o){var a=1&n,s=Te(e),l=s.length;if(l!=Te(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:z.call(t,c)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var p=!0;o.set(e,t),o.set(t,e);for(var h=a;++u<l;){var f=e[c=s[u]],m=t[c];if(i)var g=a?i(m,f,c,t,e,o):i(f,m,c,e,t,o);if(!(void 0===g?f===m||r(f,m,n,i,o):g)){p=!1;break}h||(h="constructor"==c)}if(p&&!h){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,i,r,c))}(e,t,n,i,ke,r))}function Se(e,t,n,i,r,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,d=!0,p=2&n?new be:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var h=e[c],f=t[c];if(i)var m=a?i(f,h,c,t,e,o):i(h,f,c,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!L(t,(function(e,t){if(a=t,!p.has(a)&&(h===e||r(h,e,n,i,o)))return p.push(t);var a}))){d=!1;break}}else if(h!==f&&!r(h,f,n,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Te(e){return function(e,t,n){var i=t(e);return Ae(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Be,Oe)}function Ee(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Pe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ie(e)||function(e){return!!V&&V in e}(e))&&(Ne(e)?Q:_).test(Me(e))}(n)?n:void 0}ge.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(le){var n=t[e];return n===i?void 0:n}return z.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:z.call(t,e)},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=le&&void 0===t?i:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,n=_e(t,e);return!(n<0||(n==t.length-1?t.pop():J.call(t,n,1),--this.size,0))},ve.prototype.get=function(e){var t=this.__data__,n=_e(t,e);return n<0?void 0:t[n][1]},ve.prototype.has=function(e){return _e(this.__data__,e)>-1},ve.prototype.set=function(e,t){var n=this.__data__,i=_e(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(re||ve),string:new ge}},ye.prototype.delete=function(e){var t=Ee(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return Ee(this,e).get(e)},ye.prototype.has=function(e){return Ee(this,e).has(e)},ye.prototype.set=function(e,t){var n=Ee(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,i),this},be.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new ve,this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ve){var i=n.__data__;if(!re||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ye(i)}return n.set(e,t),this.size=n.size,this};var Oe=ee?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var i=-1,r=null==t?0:t.length,o=0,a=[];++i<r;){var s=t[i];l=s,Z.call(e,l)&&(a[o++]=s)}var l;return a}(ee(e)))}:function(){return[]},qe=xe;function $e(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&e<t}function Me(e){if(null!=e){try{return H.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Le(e,t){return e===t||e!=e&&t!=t}(ie&&qe(new ie(new ArrayBuffer(1)))!=w||re&&qe(new re)!=d||oe&&qe(oe.resolve())!=f||ae&&qe(new ae)!=g||se&&qe(new se)!=y)&&(qe=function(e){var t=xe(e),n=t==h?e.constructor:void 0,i=n?Me(n):"";if(i)switch(i){case ue:return w;case ce:return d;case de:return f;case pe:return g;case he:return y}return t});var je=Ce(function(){return arguments}())?Ce:function(e){return Fe(e)&&z.call(e,"callee")&&!Z.call(e,"callee")},Ae=Array.isArray,De=te||function(){return!1};function Ne(e){if(!Ie(e))return!1;var t=xe(e);return t==c||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Re(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Ie(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Fe(e){return null!=e&&"object"==typeof e}var Ue=M?function(e){return function(t){return e(t)}}(M):function(e){return Fe(e)&&Re(e.length)&&!!C[xe(e)]};function Be(e){return null!=(t=e)&&Re(t.length)&&!Ne(t)?function(e,t){var n=Ae(e),i=!n&&je(e),r=!n&&!i&&De(e),o=!n&&!i&&!r&&Ue(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=s.length;for(var u in e)!t&&!z.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||$e(u,l))||s.push(u);return s}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||U))return ne(e);var t,n,i=[];for(var r in Object(e))z.call(e,r)&&"constructor"!=r&&i.push(r);return i}(e);var t}e.exports=function(e,t){return ke(e,t)}},8552:function(e,t,n){var i=n(852)(n(5639),"DataView");e.exports=i},1989:function(e,t,n){var i=n(1789),r=n(401),o=n(7667),a=n(1327),s=n(1866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8407:function(e,t,n){var i=n(7040),r=n(4125),o=n(2117),a=n(7529),s=n(3399);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},7071:function(e,t,n){var i=n(852)(n(5639),"Map");e.exports=i},3369:function(e,t,n){var i=n(4785),r=n(1285),o=n(6e3),a=n(9916),s=n(5265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},3818:function(e,t,n){var i=n(852)(n(5639),"Promise");e.exports=i},8525:function(e,t,n){var i=n(852)(n(5639),"Set");e.exports=i},8668:function(e,t,n){var i=n(3369),r=n(619),o=n(2385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=r,a.prototype.has=o,e.exports=a},6384:function(e,t,n){var i=n(8407),r=n(7465),o=n(3779),a=n(7599),s=n(6783),l=n(4309);function u(e){var t=this.__data__=new i(e);this.size=t.size}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},2705:function(e,t,n){var i=n(5639).Symbol;e.exports=i},1149:function(e,t,n){var i=n(5639).Uint8Array;e.exports=i},577:function(e,t,n){var i=n(852)(n(5639),"WeakMap");e.exports=i},6874:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},7412:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},4963:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}},7443:function(e,t,n){var i=n(2118);e.exports=function(e,t){return!(null==e||!e.length)&&i(e,t,0)>-1}},1196:function(e){e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},4636:function(e,t,n){var i=n(2545),r=n(5694),o=n(1469),a=n(4144),s=n(5776),l=n(6719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&r(e),d=!n&&!c&&a(e),p=!n&&!c&&!d&&l(e),h=n||c||d||p,f=h?i(e.length,String):[],m=f.length;for(var g in e)!t&&!u.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},9932:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},2488:function(e){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},2908:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},4865:function(e,t,n){var i=n(9465),r=n(7813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&r(a,n)&&(void 0!==n||t in e)||i(e,t,n)}},8470:function(e,t,n){var i=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},4037:function(e,t,n){var i=n(8363),r=n(3674);e.exports=function(e,t){return e&&i(t,r(t),e)}},3886:function(e,t,n){var i=n(8363),r=n(1704);e.exports=function(e,t){return e&&i(t,r(t),e)}},9465:function(e,t,n){var i=n(8777);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5990:function(e,t,n){var i=n(6384),r=n(7412),o=n(4865),a=n(4037),s=n(3886),l=n(4626),u=n(278),c=n(8805),d=n(1911),p=n(8234),h=n(6904),f=n(4160),m=n(3824),g=n(9148),v=n(8517),y=n(1469),b=n(4144),w=n(6688),_=n(3218),x=n(2928),C=n(3674),k=n(1704),S="[object Arguments]",T="[object Function]",E="[object Object]",P={};P[S]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[E]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[T]=P["[object WeakMap]"]=!1,e.exports=function e(t,n,O,q,$,M){var L,j=1&n,A=2&n,D=4&n;if(O&&(L=$?O(t,q,$,M):O(t)),void 0!==L)return L;if(!_(t))return t;var N=y(t);if(N){if(L=m(t),!j)return u(t,L)}else{var R=f(t),I=R==T||"[object GeneratorFunction]"==R;if(b(t))return l(t,j);if(R==E||R==S||I&&!$){if(L=A||I?{}:v(t),!j)return A?d(t,s(L,t)):c(t,a(L,t))}else{if(!P[R])return $?t:{};L=g(t,R,j)}}M||(M=new i);var F=M.get(t);if(F)return F;M.set(t,L),x(t)?t.forEach((function(i){L.add(e(i,n,O,i,t,M))})):w(t)&&t.forEach((function(i,r){L.set(r,e(i,n,O,r,t,M))}));var U=N?void 0:(D?A?h:p:A?k:C)(t);return r(U||t,(function(i,r){U&&(i=t[r=i]),o(L,r,e(i,n,O,r,t,M))})),L}},3118:function(e,t,n){var i=n(3218),r=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},9881:function(e,t,n){var i=n(7816),r=n(9291)(i);e.exports=r},6029:function(e,t,n){var i=n(3448);e.exports=function(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(void 0===l?s==s&&!i(s):n(s,l)))var l=s,u=a}return u}},760:function(e,t,n){var i=n(9881);e.exports=function(e,t){var n=[];return i(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}},1848:function(e){e.exports=function(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}},8483:function(e,t,n){var i=n(5063)();e.exports=i},7816:function(e,t,n){var i=n(8483),r=n(3674);e.exports=function(e,t){return e&&i(e,t,r)}},7786:function(e,t,n){var i=n(1811),r=n(327);e.exports=function(e,t){for(var n=0,o=(t=i(t,e)).length;null!=e&&n<o;)e=e[r(t[n++])];return n&&n==o?e:void 0}},8866:function(e,t,n){var i=n(2488),r=n(1469);e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},4239:function(e,t,n){var i=n(2705),r=n(9607),o=n(2333),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},13:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},2118:function(e,t,n){var i=n(1848),r=n(2722),o=n(2351);e.exports=function(e,t,n){return t==t?o(e,t,n):i(e,r,n)}},9454:function(e,t,n){var i=n(4239),r=n(7005);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},939:function(e,t,n){var i=n(2492),r=n(7005);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,a,e,s))}},2492:function(e,t,n){var i=n(6384),r=n(7114),o=n(8351),a=n(6096),s=n(4160),l=n(1469),u=n(4144),c=n(6719),d="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),b=l(t),w=y?p:s(e),_=b?p:s(t),x=(w=w==d?h:w)==h,C=(_=_==d?h:_)==h,k=w==_;if(k&&u(e)){if(!u(t))return!1;y=!0,x=!1}if(k&&!x)return v||(v=new i),y||c(e)?r(e,t,n,m,g,v):o(e,t,w,n,m,g,v);if(!(1&n)){var S=x&&f.call(e,"__wrapped__"),T=C&&f.call(t,"__wrapped__");if(S||T){var E=S?e.value():e,P=T?t.value():t;return v||(v=new i),g(E,P,n,m,v)}}return!!k&&(v||(v=new i),a(e,t,n,m,g,v))}},5588:function(e,t,n){var i=n(4160),r=n(7005);e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},2958:function(e,t,n){var i=n(6384),r=n(939);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],d=e[c],p=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var h=new i;if(o)var f=o(d,p,c,e,t,h);if(!(void 0===f?r(p,d,3,o,h):f))return!1}}return!0}},2722:function(e){e.exports=function(e){return e!=e}},8458:function(e,t,n){var i=n(3560),r=n(5346),o=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,p=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?p:s).test(a(e))}},9221:function(e,t,n){var i=n(4160),r=n(7005);e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},8749:function(e,t,n){var i=n(4239),r=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!a[i(e)]}},7206:function(e,t,n){var i=n(1573),r=n(6432),o=n(6557),a=n(1469),s=n(9601);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?r(e[0],e[1]):i(e):s(e)}},280:function(e,t,n){var i=n(5726),r=n(9850),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},313:function(e,t,n){var i=n(3218),r=n(5726),o=n(3498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},433:function(e){e.exports=function(e,t){return e<t}},1573:function(e,t,n){var i=n(2958),r=n(1499),o=n(2634);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},6432:function(e,t,n){var i=n(939),r=n(7361),o=n(9095),a=n(5403),s=n(9162),l=n(2634),u=n(327);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=r(n,e);return void 0===a&&a===t?o(n,e):i(t,a,3)}}},371:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},9152:function(e,t,n){var i=n(7786);e.exports=function(e){return function(t){return i(t,e)}}},5976:function(e,t,n){var i=n(6557),r=n(5357),o=n(61);e.exports=function(e,t){return o(r(e,t,i),e+"")}},611:function(e,t,n){var i=n(4865),r=n(1811),o=n(5776),a=n(3218),s=n(327);e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=r(t,e)).length,d=c-1,p=e;null!=p&&++u<c;){var h=s(t[u]),f=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(u!=d){var m=p[h];void 0===(f=l?l(m,h,p):void 0)&&(f=a(m)?m:o(t[u+1])?[]:{})}i(p,h,f),p=p[h]}return e}},6560:function(e,t,n){var i=n(5703),r=n(8777),o=n(6557),a=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=a},4259:function(e){e.exports=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}},5076:function(e,t,n){var i=n(9881);e.exports=function(e,t){var n;return i(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}},7226:function(e,t,n){var i=n(3448),r=Math.floor,o=Math.min;e.exports=function(e,t,n,a){var s=0,l=null==e?0:e.length;if(0===l)return 0;for(var u=(t=n(t))!=t,c=null===t,d=i(t),p=void 0===t;s<l;){var h=r((s+l)/2),f=n(e[h]),m=void 0!==f,g=null===f,v=f==f,y=i(f);if(u)var b=a||v;else b=p?v&&(a||m):c?v&&m&&(a||!g):d?v&&m&&!g&&(a||!y):!g&&!y&&(a?f<=t:f<t);b?s=h+1:l=h}return o(l,4294967294)}},2545:function(e){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},531:function(e,t,n){var i=n(2705),r=n(9932),o=n(1469),a=n(3448),s=i?i.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return r(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7561:function(e,t,n){var i=n(7990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},7518:function(e){e.exports=function(e){return function(t){return e(t)}}},5652:function(e,t,n){var i=n(8668),r=n(7443),o=n(1196),a=n(4757),s=n(3593),l=n(1814);e.exports=function(e,t,n){var u=-1,c=r,d=e.length,p=!0,h=[],f=h;if(n)p=!1,c=o;else if(d>=200){var m=t?null:s(e);if(m)return l(m);p=!1,c=a,f=new i}else f=t?[]:h;e:for(;++u<d;){var g=e[u],v=t?t(g):g;if(g=n||0!==g?g:0,p&&v==v){for(var y=f.length;y--;)if(f[y]===v)continue e;t&&f.push(v),h.push(g)}else c(f,v,n)||(f!==h&&f.push(v),h.push(g))}return h}},4757:function(e){e.exports=function(e,t){return e.has(t)}},4290:function(e,t,n){var i=n(6557);e.exports=function(e){return"function"==typeof e?e:i}},1811:function(e,t,n){var i=n(1469),r=n(5403),o=n(5514),a=n(9833);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:o(a(e))}},4318:function(e,t,n){var i=n(1149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},4626:function(e,t,n){e=n.nmd(e);var i=n(5639),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r?i.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}},7157:function(e,t,n){var i=n(4318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},3147:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},419:function(e,t,n){var i=n(2705),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},7133:function(e,t,n){var i=n(4318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},278:function(e){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},8363:function(e,t,n){var i=n(4865),r=n(9465);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?r(n,u,c):i(n,u,c)}return n}},8805:function(e,t,n){var i=n(8363),r=n(9551);e.exports=function(e,t){return i(e,r(e),t)}},1911:function(e,t,n){var i=n(8363),r=n(1442);e.exports=function(e,t){return i(e,r(e),t)}},4429:function(e,t,n){var i=n(5639)["__core-js_shared__"];e.exports=i},1463:function(e,t,n){var i=n(5976),r=n(6612);e.exports=function(e){return i((function(t,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&r(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++i<o;){var l=n[i];l&&e(t,l,i,a)}return t}))}},9291:function(e,t,n){var i=n(8612);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==r(s[a],a,s););return n}}},5063:function(e){e.exports=function(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(!1===n(o[l],l,o))break}return t}}},3593:function(e,t,n){var i=n(8525),r=n(308),o=n(1814),a=i&&1/o(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r;e.exports=a},8777:function(e,t,n){var i=n(852),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},7114:function(e,t,n){var i=n(8668),r=n(2908),o=n(4757);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var f=-1,m=!0,g=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++f<c;){var v=e[f],y=t[f];if(a)var b=u?a(y,v,f,t,e,l):a(v,y,f,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!r(t,(function(e,t){if(!o(g,t)&&(v===e||s(v,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},8351:function(e,t,n){var i=n(2705),r=n(1149),o=n(7813),a=n(7114),s=n(8776),l=n(1814),u=i?i.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,i,u,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&i;if(h||(h=l),e.size!=t.size&&!f)return!1;var m=p.get(e);if(m)return m==t;i|=2,p.set(e,t);var g=a(h(e),h(t),i,u,d,p);return p.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},6096:function(e,t,n){var i=n(8234),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,u=i(e),c=u.length;if(c!=i(t).length&&!l)return!1;for(var d=c;d--;){var p=u[d];if(!(l?p in t:r.call(t,p)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<c;){var v=e[p=u[d]],y=t[p];if(o)var b=l?o(y,v,p,t,e,s):o(v,y,p,e,t,s);if(!(void 0===b?v===y||a(v,y,n,o,s):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(m=!1)}return s.delete(e),s.delete(t),m}},1957:function(e,t,n){var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},8234:function(e,t,n){var i=n(8866),r=n(9551),o=n(3674);e.exports=function(e){return i(e,o,r)}},6904:function(e,t,n){var i=n(8866),r=n(1442),o=n(1704);e.exports=function(e){return i(e,o,r)}},5050:function(e,t,n){var i=n(7019);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},1499:function(e,t,n){var i=n(9162),r=n(3674);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,i(a)]}return t}},852:function(e,t,n){var i=n(8458),r=n(7801);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},5924:function(e,t,n){var i=n(5569)(Object.getPrototypeOf,Object);e.exports=i},9607:function(e,t,n){var i=n(2705),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},9551:function(e,t,n){var i=n(4963),r=n(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),i(a(e),(function(t){return o.call(e,t)})))}:r;e.exports=s},1442:function(e,t,n){var i=n(2488),r=n(5924),o=n(9551),a=n(479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:a;e.exports=s},4160:function(e,t,n){var i=n(8552),r=n(7071),o=n(3818),a=n(8525),s=n(577),l=n(4239),u=n(346),c="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=u(i),g=u(r),v=u(o),y=u(a),b=u(s),w=l;(i&&w(new i(new ArrayBuffer(1)))!=f||r&&w(new r)!=c||o&&w(o.resolve())!=d||a&&w(new a)!=p||s&&w(new s)!=h)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?u(n):"";if(i)switch(i){case m:return f;case g:return c;case v:return d;case y:return p;case b:return h}return t}),e.exports=w},7801:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},222:function(e,t,n){var i=n(1811),r=n(5694),o=n(1469),a=n(5776),s=n(1780),l=n(327);e.exports=function(e,t,n){for(var u=-1,c=(t=i(t,e)).length,d=!1;++u<c;){var p=l(t[u]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&s(c)&&a(p,c)&&(o(e)||r(e))}},1789:function(e,t,n){var i=n(4536);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},401:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:function(e,t,n){var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},1327:function(e,t,n){var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},1866:function(e,t,n){var i=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},3824:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},9148:function(e,t,n){var i=n(4318),r=n(7157),o=n(3147),a=n(419),s=n(7133);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},8517:function(e,t,n){var i=n(3118),r=n(5924),o=n(5726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:i(r(e))}},5776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},6612:function(e,t,n){var i=n(7813),r=n(8612),o=n(5776),a=n(3218);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&o(t,n.length):"string"==s&&t in n)&&i(n[t],e)}},5403:function(e,t,n){var i=n(1469),r=n(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},7019:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:function(e,t,n){var i,r=n(4429),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},5726:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9162:function(e,t,n){var i=n(3218);e.exports=function(e){return e==e&&!i(e)}},7040:function(e){e.exports=function(){this.__data__=[],this.size=0}},4125:function(e,t,n){var i=n(8470),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},2117:function(e,t,n){var i=n(8470);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},7529:function(e,t,n){var i=n(8470);e.exports=function(e){return i(this.__data__,e)>-1}},3399:function(e,t,n){var i=n(8470);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},4785:function(e,t,n){var i=n(1989),r=n(8407),o=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},1285:function(e,t,n){var i=n(5050);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},6e3:function(e,t,n){var i=n(5050);e.exports=function(e){return i(this,e).get(e)}},9916:function(e,t,n){var i=n(5050);e.exports=function(e){return i(this,e).has(e)}},5265:function(e,t,n){var i=n(5050);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},8776:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},2634:function(e){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},4523:function(e,t,n){var i=n(8306);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},4536:function(e,t,n){var i=n(852)(Object,"create");e.exports=i},9850:function(e,t,n){var i=n(5569)(Object.keys,Object);e.exports=i},3498:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1167:function(e,t,n){e=n.nmd(e);var i=n(1957),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},5357:function(e,t,n){var i=n(6874),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=r(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),i(e,this,u)}}},5639:function(e,t,n){var i=n(1957),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},619:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:function(e){e.exports=function(e){return this.__data__.has(e)}},1814:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},61:function(e,t,n){var i=n(6560),r=n(1275)(i);e.exports=r},1275:function(e){var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var r=t(),o=16-(r-i);if(i=r,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},7465:function(e,t,n){var i=n(8407);e.exports=function(){this.__data__=new i,this.size=0}},3779:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:function(e){e.exports=function(e){return this.__data__.get(e)}},6783:function(e){e.exports=function(e){return this.__data__.has(e)}},4309:function(e,t,n){var i=n(8407),r=n(7071),o=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},2351:function(e){e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},5514:function(e,t,n){var i=n(4523),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)})),t}));e.exports=a},327:function(e,t,n){var i=n(3448);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},346:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8583:function(e,t,n){var i=n(4865),r=n(8363),o=n(1463),a=n(8612),s=n(5726),l=n(3674),u=Object.prototype.hasOwnProperty,c=o((function(e,t){if(s(t)||a(t))r(t,l(t),e);else for(var n in t)u.call(t,n)&&i(e,n,t[n])}));e.exports=c},3045:function(e,t,n){var i=n(8363),r=n(1463),o=n(1704),a=r((function(e,t){i(t,o(t),e)}));e.exports=a},8400:function(e,t,n){var i=n(4259),r=n(6612),o=n(554),a=Math.ceil,s=Math.max;e.exports=function(e,t,n){t=(n?r(e,t,n):void 0===t)?1:s(o(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var u=0,c=0,d=Array(a(l/t));u<l;)d[c++]=i(e,u,u+=t);return d}},361:function(e,t,n){var i=n(5990);e.exports=function(e){return i(e,5)}},5703:function(e){e.exports=function(e){return function(){return e}}},3279:function(e,t,n){var i=n(3218),r=n(7771),o=n(4841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,d,p,h,f=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,i=u;return l=u=void 0,f=t,d=e.apply(i,n)}function b(e){return f=e,p=setTimeout(_,t),m?y(e):d}function w(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-f>=c}function _(){var e=r();if(w(e))return x(e);p=setTimeout(_,function(e){var n=t-(e-h);return g?s(n,c-(e-f)):n}(e))}function x(e){return p=void 0,v&&l?y(e):(l=u=void 0,d)}function C(){var e=r(),n=w(e);if(l=arguments,u=this,h=e,n){if(void 0===p)return b(h);if(g)return clearTimeout(p),p=setTimeout(_,t),y(h)}return void 0===p&&(p=setTimeout(_,t)),d}return t=o(t)||0,i(n)&&(m=!!n.leading,c=(g="maxWait"in n)?a(o(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==p&&clearTimeout(p),f=0,l=h=u=p=void 0},C.flush=function(){return void 0===p?d:x(r())},C}},7813:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},2205:function(e,t,n){e.exports=n(3045)},3105:function(e,t,n){var i=n(4963),r=n(760),o=n(7206),a=n(1469);e.exports=function(e,t){return(a(e)?i:r)(e,o(t,3))}},4486:function(e,t,n){var i=n(7412),r=n(9881),o=n(4290),a=n(1469);e.exports=function(e,t){return(a(e)?i:r)(e,o(t))}},7361:function(e,t,n){var i=n(7786);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},9095:function(e,t,n){var i=n(13),r=n(222);e.exports=function(e,t){return null!=e&&r(e,t,i)}},6557:function(e){e.exports=function(e){return e}},5694:function(e,t,n){var i=n(9454),r=n(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},1469:function(e){var t=Array.isArray;e.exports=t},8612:function(e,t,n){var i=n(3560),r=n(1780);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},4144:function(e,t,n){e=n.nmd(e);var i=n(5639),r=n(5062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l},1609:function(e,t,n){var i=n(280),r=n(4160),o=n(5694),a=n(1469),s=n(8612),l=n(4144),u=n(5726),c=n(6719),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||o(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!i(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},8446:function(e,t,n){var i=n(939);e.exports=function(e,t){return i(e,t)}},3560:function(e,t,n){var i=n(4239),r=n(3218);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6688:function(e,t,n){var i=n(5588),r=n(7518),o=n(1167),a=o&&o.isMap,s=a?r(a):i;e.exports=s},3218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},2928:function(e,t,n){var i=n(9221),r=n(7518),o=n(1167),a=o&&o.isSet,s=a?r(a):i;e.exports=s},3448:function(e,t,n){var i=n(4239),r=n(7005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},6719:function(e,t,n){var i=n(8749),r=n(7518),o=n(1167),a=o&&o.isTypedArray,s=a?r(a):i;e.exports=s},3674:function(e,t,n){var i=n(4636),r=n(280),o=n(8612);e.exports=function(e){return o(e)?i(e):r(e)}},1704:function(e,t,n){var i=n(4636),r=n(313),o=n(8612);e.exports=function(e){return o(e)?i(e,!0):r(e)}},6604:function(e,t,n){var i=n(9465),r=n(7816),o=n(7206);e.exports=function(e,t){var n={};return t=o(t,3),r(e,(function(e,r,o){i(n,r,t(e,r,o))})),n}},8306:function(e,t,n){var i=n(3369);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},2762:function(e,t,n){var i=n(6029),r=n(7206),o=n(433);e.exports=function(e,t){return e&&e.length?i(e,r(t,2),o):void 0}},308:function(e){e.exports=function(){}},7771:function(e,t,n){var i=n(5639);e.exports=function(){return i.Date.now()}},9601:function(e,t,n){var i=n(371),r=n(9152),o=n(5403),a=n(327);e.exports=function(e){return o(e)?i(a(e)):r(e)}},6968:function(e,t,n){var i=n(611);e.exports=function(e,t,n){return null==e?e:i(e,t,n)}},9704:function(e,t,n){var i=n(2908),r=n(7206),o=n(5076),a=n(1469),s=n(6612);e.exports=function(e,t,n){var l=a(e)?i:o;return n&&s(e,t,n)&&(t=void 0),l(e,r(t,3))}},556:function(e,t,n){var i=n(7206),r=n(7226);e.exports=function(e,t,n){return r(e,t,i(n,2))}},1594:function(e,t,n){var i=n(7206),r=n(7226);e.exports=function(e,t,n){return r(e,t,i(n,2),!0)}},479:function(e){e.exports=function(){return[]}},5062:function(e){e.exports=function(){return!1}},8601:function(e,t,n){var i=n(4841);e.exports=function(e){return e?Infinity===(e=i(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},554:function(e,t,n){var i=n(8601);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},4841:function(e,t,n){var i=n(7561),r=n(3218),o=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},9833:function(e,t,n){var i=n(531);e.exports=function(e){return null==e?"":i(e)}},5578:function(e,t,n){var i=n(7206),r=n(5652);e.exports=function(e,t){return e&&e.length?r(e,i(t,2)):[]}},2087:function(e,t,n){var i=n(8724);i.prototype.formulaEval=function(){"use strict";for(var e,t,n,i=[],r=this.value,o=0;o<r.length;o++)1===r[o].type||3===r[o].type?i.push({value:3===r[o].type?r[o].show:r[o].value,type:1}):13===r[o].type?i.push({value:r[o].show,type:1}):0===r[o].type?i[i.length-1]={value:r[o].show+("-"!=r[o].show?"(":"")+i[i.length-1].value+("-"!=r[o].show?")":""),type:0}:7===r[o].type?i[i.length-1]={value:(1!=i[i.length-1].type?"(":"")+i[i.length-1].value+(1!=i[i.length-1].type?")":"")+r[o].show,type:7}:10===r[o].type?(e=i.pop(),t=i.pop(),"P"===r[o].show||"C"===r[o].show?i.push({value:"<sup>"+t.value+"</sup>"+r[o].show+"<sub>"+e.value+"</sub>",type:10}):i.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+"<sup>"+e.value+"</sup>",type:1})):2===r[o].type||9===r[o].type?(e=i.pop(),t=i.pop(),i.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+r[o].show+(1!=e.type?"(":"")+e.value+(1!=e.type?")":""),type:r[o].type})):12===r[o].type&&(e=i.pop(),t=i.pop(),n=i.pop(),i.push({value:r[o].show+"("+n.value+","+t.value+","+e.value+")",type:12}));return i[0].value},e.exports=i},7735:function(e,t,n){"use strict";var i=n(3553);function r(e,t){for(var n=0;n<e.length;n++)e[n]+=t;return e}for(var o=[{token:"sin",show:"sin",type:0,value:i.math.sin},{token:"cos",show:"cos",type:0,value:i.math.cos},{token:"tan",show:"tan",type:0,value:i.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:i.math.P},{token:"C",show:"C",type:10,value:i.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:i.math.asin},{token:"acos",show:"acos",type:0,value:i.math.acos},{token:"atan",show:"atan",type:0,value:i.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:i.math.cosh},{token:"acosh",show:"acosh",type:0,value:i.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:i.math.div},{token:"!",show:"!",type:7,value:i.math.fact},{token:"tanh",show:"tanh",type:0,value:i.math.tanh},{token:"atanh",show:"atanh",type:0,value:i.math.atanh},{token:"Mod",show:" Mod ",type:2,value:i.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:i.math.mul},{token:"sinh",show:"sinh",type:0,value:i.math.sinh},{token:"asinh",show:"asinh",type:0,value:i.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:i.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:i.math.add},{token:"-",show:"-",type:9,value:i.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:i.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:i.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:i.math.and}],a={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11},s=0;s<o.length;s++)o[s].precedence=a[o[s].type];var l={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},u={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},c={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},d={},p={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},h={1:!0},f=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function m(e,t,n,i){for(var r=0;r<i;r++)if(e[n+r]!==t[r])return!1;return!0}function g(e,t){for(var n=0;n<t.length;n++)if(t[n].token===e)return n;return-1}function v(e){for(var t,n,r,a=[],s=e.length,l=0;l<s;l++)if(!(l<s-1&&" "===e[l]&&" "===e[l+1])){for(t="",n=e.length-l>f.length-2?f.length-1:e.length-l;n>0;n--)if(void 0!==f[n])for(r=0;r<f[n].length;r++)m(e,f[n][r],l,n)&&(t=f[n][r],r=f[n].length,n=0);if(l+=t.length-1,""===t)throw new i.Exception("Can't understand after "+e.slice(l));a.push(o[g(t,o)])}return a}i.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14},i.addToken=function(e){for(var t=0;t<e.length;t++){var n=e[t].token.length,r=-1;e[t].type===i.tokenTypes.FUNCTION_WITH_N_ARGS&&void 0===e[t].numberOfArguments&&(e[t].numberOfArguments=2),f[n]=f[n]||[];for(var s=0;s<f[n].length;s++)if(e[t].token===f[n][s]){r=g(f[n][s],o);break}-1===r?(o.push(e[t]),e[t].precedence=a[e[t].type],f.length<=e[t].token.length&&(f[e[t].token.length]=[]),f[e[t].token.length].push(e[t].token)):(o[r]=e[t],e[t].precedence=a[e[t].type])}};var y={value:i.math.changeSign,type:0,pre:21,show:"-"},b={value:")",show:")",type:5,pre:0},w={value:"(",type:4,pre:0,show:"("};i.lex=function(e,t){var n,o=[w],a=[],s=e,f=l,m=0,g=d,_="";void 0!==t&&i.addToken(t);var x={},C=v(s);for(n=0;n<C.length;n++){var k=C[n];if(14!==k.type){var S,T=k.token,E=k.type,P=k.value,O=k.precedence,q=k.show,$=o[o.length-1];for(S=a.length;S--&&0===a[S];)if(-1!==[0,2,3,4,5,9,11,12,13].indexOf(E)){if(!0!==f[E])throw new i.Exception(T+" is not allowed after "+_);o.push(b),f=u,g=p,a.pop()}if(!0!==f[E])throw new i.Exception(T+" is not allowed after "+_);if(!0===g[E]&&(E=2,P=i.math.mul,q="&times;",O=3,n-=1),x={value:P,type:E,pre:O,show:q,numberOfArguments:k.numberOfArguments},0===E)f=l,g=d,r(a,2),o.push(x),4!==C[n+1].type&&(o.push(w),a.push(2));else if(1===E)1===$.type?($.value+=P,r(a,1)):o.push(x),f=u,g=c;else if(2===E)f=l,g=d,r(a,2),o.push(x);else if(3===E)o.push(x),f=u,g=p;else if(4===E)r(a,1),m++,f=l,g=d,o.push(x);else if(5===E){if(!m)throw new i.Exception("Closing parenthesis are more than opening one, wait What!!!");m--,f=u,g=p,o.push(x),r(a,1)}else if(6===E){if($.hasDec)throw new i.Exception("Two decimals are not allowed in one number");1!==$.type&&($={value:0,type:1,pre:0},o.push($)),f=h,r(a,1),g=d,$.value+=P,$.hasDec=!0}else 7===E&&(f=u,g=p,r(a,1),o.push(x));8===E?(f=l,g=d,r(a,k.numberOfArguments+2),o.push(x),4!==C[n+1].type&&(o.push(w),a.push(k.numberOfArguments+2))):9===E?(9===$.type?$.value===i.math.add?($.value=P,$.show=q,r(a,1)):$.value===i.math.sub&&"-"===q&&($.value=i.math.add,$.show="+",r(a,1)):5!==$.type&&7!==$.type&&1!==$.type&&3!==$.type&&13!==$.type?"-"===T&&(f=l,g=d,r(a,2).push(2),o.push(y),o.push(w)):(o.push(x),r(a,2)),f=l,g=d):10===E?(f=l,g=d,r(a,2),o.push(x)):11===E?(f=l,g=d,o.push(x)):12===E?(f=l,g=d,r(a,6),o.push(x),4!==C[n+1].type&&(o.push(w),a.push(6))):13===E&&(f=u,g=p,o.push(x)),r(a,-1),_=T}else if(n>0&&n<C.length-1&&1===C[n+1].type&&(1===C[n-1].type||6===C[n-1].type))throw new i.Exception("Unexpected Space")}for(S=a.length;S--;)o.push(b);if(!0!==f[5])throw new i.Exception("complete the expression");for(;m--;)o.push(b);return o.push(b),new i(o)},e.exports=i},3553:function(e){"use strict";var t=function(e){this.value=e};t.math={isDegree:!0,acos:function(e){return t.math.isDegree?180/Math.PI*Math.acos(e):Math.acos(e)},add:function(e,t){return e+t},asin:function(e){return t.math.isDegree?180/Math.PI*Math.asin(e):Math.asin(e)},atan:function(e){return t.math.isDegree?180/Math.PI*Math.atan(e):Math.atan(e)},acosh:function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return Math.log((1+e)/(1-e))},C:function(e,n){var i=1,r=e-n,o=n;o<r&&(o=r,r=n);for(var a=o+1;a<=e;a++)i*=a;return i/t.math.fact(r)},changeSign:function(e){return-e},cos:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.cos(e)},cosh:function(e){return(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))/2},div:function(e,t){return e/t},fact:function(e){if(e%1!=0)return"NaN";for(var t=1,n=2;n<=e;n++)t*=n;return t},inverse:function(e){return 1/e},log:function(e){return Math.log(e)/Math.log(10)},mod:function(e,t){return e%t},mul:function(e,t){return e*t},P:function(e,t){for(var n=1,i=Math.floor(e)-Math.floor(t)+1;i<=Math.floor(e);i++)n*=i;return n},Pi:function(e,t,n){for(var i=1,r=e;r<=t;r++)i*=Number(n.postfixEval({n:r}));return i},pow10x:function(e){for(var t=1;e--;)t*=10;return t},sigma:function(e,t,n){for(var i=0,r=e;r<=t;r++)i+=Number(n.postfixEval({n:r}));return i},sin:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.sin(e)},sinh:function(e){return(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))/2},sub:function(e,t){return e-t},tan:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.tan(e)},tanh:function(e){return t.sinha(e)/t.cosha(e)},toRadian:function(e){return e*Math.PI/180},and:function(e,t){return e&t}},t.Exception=function(e){this.message=e},e.exports=t},7186:function(e,t,n){var i=n(7735);i.prototype.toPostfix=function(){"use strict";for(var e,t,n,r,o,a=[],s=[{value:"(",type:4,pre:0}],l=this.value,u=1;u<l.length;u++)if(1===l[u].type||3===l[u].type||13===l[u].type)1===l[u].type&&(l[u].value=Number(l[u].value)),a.push(l[u]);else if(4===l[u].type)s.push(l[u]);else if(5===l[u].type)for(;4!==(t=s.pop()).type;)a.push(t);else if(11===l[u].type){for(;4!==(t=s.pop()).type;)a.push(t);s.push(t)}else{r=(e=l[u]).pre,n=(o=s[s.length-1]).pre;var c="Math.pow"==o.value&&"Math.pow"==e.value;if(r>n)s.push(e);else{for(;n>=r&&!c||c&&r<n;)t=s.pop(),o=s[s.length-1],a.push(t),n=o.pre,c="Math.pow"==e.value&&"Math.pow"==o.value;s.push(e)}}return new i(a)},e.exports=i},8724:function(e,t,n){var i=n(7186);i.prototype.postfixEval=function(e){"use strict";(e=e||{}).PI=Math.PI,e.E=Math.E;for(var t,n,r,o=[],a=this.value,s=void 0!==e.n,l=0;l<a.length;l++)if(1===a[l].type)o.push({value:a[l].value,type:1});else if(3===a[l].type)o.push({value:e[a[l].value],type:1});else if(0===a[l].type)void 0===o[o.length-1].type?o[o.length-1].value.push(a[l]):o[o.length-1].value=a[l].value(o[o.length-1].value);else if(7===a[l].type)void 0===o[o.length-1].type?o[o.length-1].value.push(a[l]):o[o.length-1].value=a[l].value(o[o.length-1].value);else if(8===a[l].type){for(var u=[],c=0;c<a[l].numberOfArguments;c++)u.push(o.pop().value);o.push({type:1,value:a[l].value.apply(a[l],u.reverse())})}else 10===a[l].type?(t=o.pop(),void 0===(n=o.pop()).type?(n.value=n.concat(t),n.value.push(a[l]),o.push(n)):void 0===t.type?(t.unshift(n),t.push(a[l]),o.push(t)):o.push({type:1,value:a[l].value(n.value,t.value)})):2===a[l].type||9===a[l].type?(t=o.pop(),void 0===(n=o.pop()).type?((n=n.concat(t)).push(a[l]),o.push(n)):void 0===t.type?(t.unshift(n),t.push(a[l]),o.push(t)):o.push({type:1,value:a[l].value(n.value,t.value)})):12===a[l].type?(void 0!==(t=o.pop()).type&&(t=[t]),n=o.pop(),r=o.pop(),o.push({type:1,value:a[l].value(r.value,n.value,new i(t))})):13===a[l].type&&(s?o.push({value:e[a[l].value],type:3}):o.push([a[l]]));if(o.length>1)throw new i.Exception("Uncaught Syntax error");return o[0].value>1e15?"Infinity":parseFloat(o[0].value.toFixed(15))},i.eval=function(e,t,n){return void 0===t?this.lex(e).toPostfix().postfixEval():void 0===n?void 0!==t.length?this.lex(e,t).toPostfix().postfixEval():this.lex(e).toPostfix().postfixEval(t):this.lex(e,t).toPostfix().postfixEval(n)},e.exports=i},2581:function(e,t,n){var i=n(3862),r=n(3326).log1p;function o(e,t,n){var i,r,o,a,s,l,u,c,d,p=1e-30,h=1;for(c=t-1,o=1,a=1-(u=t+n)*e/(d=t+1),Math.abs(a)<p&&(a=p),l=a=1/a;h<=100&&(a=1+(r=h*(n-h)*e/((c+(i=2*h))*(t+i)))*a,Math.abs(a)<p&&(a=p),o=1+r/o,Math.abs(o)<p&&(o=p),l*=(a=1/a)*o,a=1+(r=-(t+h)*(u+h)*e/((t+i)*(d+i)))*a,Math.abs(a)<p&&(a=p),o=1+r/o,Math.abs(o)<p&&(o=p),l*=s=(a=1/a)*o,!(Math.abs(s-1)<3e-7));h++);return l}function a(e,t,n){if(e<0||e>1)throw new RangeError("First argument must be between 0 and 1.");if(1===t&&1===n)return e;if(0===e)return 0;if(1===e)return 1;if(0===t)return 1;if(0===n)return 0;var a=Math.exp(i.logGamma(t+n)-i.logGamma(t)-i.logGamma(n)+t*Math.log(e)+n*r(-e));return e<(t+1)/(t+n+2)?a*o(e,t,n)/t:1-a*o(1-e,n,t)/n}t.beta=function(e,t){if(e<0||t<0)throw RangeError("Arguments must be positive.");return 0===e&&0===t?NaN:0===e||0===t?1/0:e+t>170?Math.exp(i.betaln(e,t)):i.gamma(e)*i.gamma(t)/i.gamma(e+t)},t.logBeta=function(e,t){if(e<0||t<0)throw RangeError("Arguments must be positive.");return 0===e&&0===t?NaN:0===e||0===t?1/0:i.logGamma(e)+i.logGamma(t)-i.logGamma(e+t)},t.incBeta=a,t.invIncBeta=function(e,t,n){if(d<0||d>1)throw new RangeError("First argument must be between 0 and 1.");if(1===t&&1===n)return e;if(1===e)return 1;if(0===e)return 0;if(0===t)return 0;if(0===n)return 1;var o,s,l,u,c,d,p,h,f,m,g=t-1,v=n-1,y=0;for(t>=1&&n>=1?(l=e<.5?e:1-e,d=(2.30753+.27061*(u=Math.sqrt(-2*Math.log(l))))/(1+u*(.99229+.04481*u))-u,e<.5&&(d=-d),p=(d*d-3)/6,h=2/(1/(2*t-1)+1/(2*n-1)),f=d*Math.sqrt(p+h)/h-(1/(2*n-1)-1/(2*t-1))*(p+5/6-2/(3*h)),d=t/(t+n*Math.exp(2*f))):(o=Math.log(t/(t+n)),s=Math.log(n/(t+n)),d=e<(u=Math.exp(t*o)/t)/(f=u+(c=Math.exp(n*s)/n))?Math.pow(t*f*e,1/t):1-Math.pow(n*f*(1-e),1/n)),m=-i.logGamma(t)-i.logGamma(n)+i.logGamma(t+n);y<10;y++){if(0===d||1===d)return d;if((d-=u=(c=(a(d,t,n)-e)/(u=Math.exp(g*Math.log(d)+v*r(-d)+m)))/(1-.5*Math.min(1,c*(g/d-v/(1-d)))))<=0&&(d=.5*(d+u)),d>=1&&(d=.5*(d+u+1)),Math.abs(u)<1e-8*d&&y>0)break}return d}},3953:function(e,t){var n=[.254829592,-.284496736,1.421413741,-1.453152027,1.061405429];t.erf=function(e){var t=1;e<0&&(t=-1);var i=1/(1+.3275911*(e=Math.abs(e)));return t*(1-((((n[4]*i+n[3])*i+n[2])*i+n[1])*i+n[0])*i*Math.exp(-e*e))};var i=1.1283791670955126,r=[-28e-18,121e-18,-94e-18,-1523e-18,7106e-18,381e-18,-112708e-18,313092e-18,894487e-18,-6886027e-18,2394038e-18,96467911e-18,-2.27365122e-10,-9.91364156e-10,5.059343495e-9,6.529054439e-9,-8.5238095915e-8,1.5626441722e-8,130365583558e-17,-1624290004647e-18,-20278578112534e-18,42523324806907e-18,.000366839497852761,-.000946595344482036,-.00956151478680863,.019476473204185836,.6419697923564902,-1.3026537197817094],o=r[r.length-1];function a(e){function t(e){for(var t=0,n=0,i=0,a=2/(2+e),s=4*a-2,l=0,u=r.length-1;l<u;l++)i=t,t=s*t-n+r[l],n=i;return a*Math.exp(-e*e+.5*(o+s*t)-n)}return e>=0?t(e):2-t(-e)}function s(e){if(e<0||e>2)throw RangeError("Argument must be betweeen 0 and 2");if(0===e)return 1/0;if(2===e)return-1/0;var t=e<1?e:2-e,n=Math.sqrt(-2*Math.log(t/2)),r=-.70711*((2.30753+.27061*n)/(1+n*(.99229+.04481*n))-n),o=a(r)-t,s=a(r+=o/(i*Math.exp(-r*r)-r*o))-t;return r+=s/(i*Math.exp(-r*r)-r*s),e<1?r:-r}t.erfc=a,t.invErfc=s,t.invErf=function(e){if(e<-1||e>1)throw RangeError("Argument must be betweeen -1 and 1");return-s(e+1)}},3862:function(e,t){var n=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],i=[-30.840230011973897,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.25967555349];function r(e){if(e<=0)throw new RangeError("Argument must be positive.");if(e<.001)return 1/(e*(1+.5772156649015329*e));if(e<12){var t=e,r=0,o=t<1;o?t+=1:t-=r=Math.floor(t)-1;for(var s=0,l=1,u=t-1,c=0;c<8;c++)s=(s+n[c])*u,l=l*u+i[c];var d=s/l+1;if(o)d/=t-1;else for(c=0;c<r;c++)d*=t++;return d}return e>171.624?1/0:Math.exp(a(e))}t.gamma=r;var o=[1/12,-1/360,1/1260,-1/1680,1/1188,-691/360360,1/156,-3617/122400];function a(e){if(e<=0)throw new RangeError("Argument must be positive.");if(e<12)return Math.log(Math.abs(r(e)));for(var t=1/(e*e),n=o[7],i=6;i>=0;i--)n*=t,n+=o[i];var a=n/e;return(e-.5)*Math.log(e)-e+.9189385332046728+a}t.logGamma=a},3326:function(e,t){t.log1p=function(e){if(e<=-1)throw new RangeError("Argument mustbe greater than -1.0");return Math.abs(e)>1e-4?Math.log(1+e):(-.5*e+1)*e};var n=[0,0,.693147180559945,1.791759469228055,3.178053830347946,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469,15.104412573075516,17.502307845873887,19.987214495661885,22.55216385312342,25.191221182738683,27.899271383840894,30.671860106080675,33.50507345013689,36.39544520803305,39.339884187199495,42.335616460753485,45.38013889847691,48.47118135183523,51.60667556776438,54.78472939811232,58.00360522298052,61.261701761002,64.55753862700632,67.88974313718153,71.257038967168,74.65823634883016,78.0922235533153,81.55795945611503,85.05446701758152,88.58082754219768,92.13617560368708,95.7196945421432,99.33061245478743,102.96819861451381,106.63176026064345,110.32063971475739,114.03421178146169,117.77188139974506,121.53308151543864,125.31727114935688,129.12393363912724,132.9525750356163,136.80272263732635,140.67392364823425,144.5657439463449,148.47776695177302,152.40959258449735,156.3608363030788,160.33112821663093,164.32011226319517,168.32744544842765,172.35279713916282,176.39584840699737,180.45629141754378,184.5338288614495,188.6281734236716,192.7390472878449,196.86618167288998,201.00931639928157,205.1681994826412,209.34258675253682,213.53224149456327,217.73693411395425,221.95644181913036,226.19054832372757,230.43904356577693,234.70172344281826,238.97838956183435,243.26884900298273,247.5729140961869,251.8904022097232,256.2211355500095,260.5649409718632,264.9216497985528,269.2910976510198,273.6731242856937,278.0675734403661,282.4742926876304,286.893133295427,291.3239500942703,295.7666013507606,300.2209486470141,304.6868567656687,309.1641935801469,313.652829949879,318.1526396202093,322.6634991267262,327.1852877037752,331.7178871969285,336.26118197919845,340.81505887079896,345.37940706226686,349.95411804077025,354.5390855194408,359.13420536957534,363.73937555556347,368.3544960724047,372.979468885689,377.61419787391867,382.25858877306,386.91254912321756,391.5759882173296,396.2488170517915,400.93094827891576,405.6222961611449,410.3227765269373,415.0323067282496,419.7508055995448,424.4781934182571,429.21439186665157,433.95932399501487,438.71291418612117,443.47508812091894,448.2457727453846,453.0248962384961,457.8123879812781,462.6081785268749,467.4121995716081,472.2243839269805,477.0446654925856,481.8729792298879,486.70926113683936,491.553448223298,496.4054784872176,501.26529089157924,506.13282534203483,511.00802266523607,515.8908245878225,520.7811737160442,525.679013515995,530.5842882944336,535.4969431801695,540.4169241059977,545.344177791155,550.2786517242856,555.220294146895,560.1690540372731,565.1248810948744,570.0877257251342,575.0575390247102,580.0342727671308,585.0178793888392,590.0083119756179,595.005524249382,600.0094705553274,605.0201058494238,610.0373856862387,615.0612662070849,620.0917041284774,625.1286567308911,630.1720818478102,635.2219378550598,640.2781836604081,645.340778693435,650.4096828956552,655.4848567108891,660.5662610758735,665.653857411106,670.7476076119127,675.8474740397369,680.9534195136375,686.065407301994,691.1834011144108,696.307365093814,701.4372638087372,706.5730622457875,711.71472580229,716.8622202791034,722.0155118736013,727.1745671728158,732.3393531467393,737.5098371417774,742.6859868743512,747.8677704246434,753.0551562304842,758.2481130813743,763.4466101126402,768.650616799717,773.8601029525585,779.0750387101674,784.2953945352457,789.521141208959,794.7522498258135,799.9886917886435,805.2304388037031,810.4774628758636,815.7297363039102,820.9872316759379,826.2499218648428,831.5177800239063,836.7907795824699,842.0688942417005,847.3520979704384,852.6403650011331,857.9336698258575,863.2319871924054,868.5352921004646,873.8435597978657,879.1567657769076,884.4748857707518,889.7978957498902,895.1257719186799,900.4584907119453,905.7960287916463,911.1383630436112,916.4854705743288,921.8373287078049,927.1939149824767,932.5552071481862,937.9211831632081,943.2918211913357,948.6670995990198,954.0469969525604,959.4314920153495,964.8205637451659,970.2141912915183,975.6123539930362,981.0150313749084,986.4222031463686,991.8338491982234,997.2499496004278,1002.6704845997003,1008.0954346171817,1013.5247802461362,1018.9585022496902,1024.3965815586134,1029.8389992691355,1035.2857366408016,1040.7367750943674,1046.192096209725,1051.6516817238692,1057.115513528895,1062.58357367003,1068.0558443437014,1073.5323078956328,1079.012946818975,1084.4977437524656,1089.9866814786224,1095.4797429219627,1100.976911147256,1106.4781693578009,1111.983500893733,1117.492889230361,1123.0063179765261,1128.5237708729908,1134.045231790853,1139.5706847299848,1145.100113817496,1150.6335033062237,1156.1708375732424];t.logFactorial=function(e){if(e<0)throw new Error("Argument may not be negative.");if(e>254){var t=e+1;return(t-.5)*Math.log(t)-t+.5*Math.log(2*Math.PI)+1/(12*t)}return n[e]}},3015:function(e,t,n){function i(e){for(var n=Object.keys(e),i=0,r=n.length;i<r;i++)t[n[i]]=e[n[i]]}i(n(2581)),i(n(3953)),i(n(3862)),i(n(3326))},3351:function(){var e;!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(e){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,i){e.__listeners[n]=i,t&&t.apply(this,arguments)}}};e("open",(function(e){return function(t,i,r){n(this),this.__url=i;try{e.apply(this,[t,i,r])}catch(n){n.message.indexOf("Access is denied")>-1&&(this.__origError=n,e.apply(this,[t,"_fix_for_ie_crossdomain__",r]))}}})),e("getResponseHeader",(function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}})),e("getAllResponseHeaders",(function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}})),e("abort",(function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}})),e("setRequestHeader",(function(e){return function(t,i){if("__setXHR_"===t){n(this);var r=i(this);r instanceof Function&&r(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=i,e.apply(this,arguments)}})),e("send",(function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){for(var i=arguments[0],r={url:n.__url,jsonp:!1,cache:!0,complete:function(e,i){e&&angular.isString(e)&&-1!==e.indexOf("#2174")&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==i.status&&t(n,"status",(function(){return 0===i.status&&e&&"abort"!==e?500:i.status})),void 0!==i.statusText&&t(n,"statusText",(function(){return i.statusText})),t(n,"readyState",(function(){return 4})),void 0!==i.response&&t(n,"response",(function(){return i.response}));var r=i.responseText||(e&&0===i.status&&"abort"!==e?e:void 0);t(n,"responseText",(function(){return r})),t(n,"response",(function(){return r})),e&&t(n,"err",(function(){return e})),n.__fileApiXHR=i,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout((function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))}),FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders,data:{},files:{}},o=0;o<i.data.length;o++){var a=i.data[o];null!=a.val&&null!=a.val.name&&null!=a.val.size&&null!=a.val.type?r.files[a.key]=a.val:r.data[a.key]=a.val}setTimeout((function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(r)}),1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}})),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(e){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function t(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do{t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent}while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=e(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var n,i,r,o,a,s=document.createElement("script"),l=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)n=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)i=window.FileAPI.jsPath;else for(r=0;r<l.length;r++)if((o=(a=l[r].src).search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/))>-1){i=a.substring(0,o+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=i),s.setAttribute("src",n||i+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(s)}FileAPI.ngfFixIE=function(n,i,r){if(!e())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.bind("mouseenter",(function(){var e=i.parent();n.attr("disabled")?e&&e.removeClass("js-fileapi-wrapper"):(i.attr("__ngf_flash_")||(i.unbind("change"),i.unbind("click"),i.bind("change",(function(e){o.apply(this,[e]),r.apply(this,[e])})),i.attr("__ngf_flash_","true")),e.addClass("js-fileapi-wrapper"),function(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}(n)||(e.css("position","absolute").css("top",t(n[0]).top+"px").css("left",t(n[0]).left+"px").css("width",n[0].offsetWidth+"px").css("height",n[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",n.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),i.css("width",n[0].offsetWidth+"px").css("height",n[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))}));var o=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var i=0;i<n.length;i++)n[i].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var i={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(i.target.result=n.result),i},i=function(i){var r;t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",i))),"load"===i.type?(e.onloadend&&e.onloadend(n("loadend",i)),r=n("load",i),e.onload&&e.onload(r),e.dispatchEvent(r)):"progress"===i.type?(r=n("progress",i),e.onprogress&&e.onprogress(r),e.dispatchEvent(r)):(r=n("error",i),e.onerror&&e.onerror(r),e.dispatchEvent(r))};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,i)},this.readAsText=function(e){FileAPI.readAsText(e,i)}}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=(e=window.XMLHttpRequest.prototype.setRequestHeader,function(t,n){if("__setXHR_"===t){var i=n(this);i instanceof Function&&i(this)}else e.apply(this,arguments)}));var t=angular.module("ngFileUpload",[]);t.version="12.2.13",t.service("UploadBase",["$http","$q","$timeout",function(e,n,i){var r=this;r.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var o=this.isResumeSupported();function a(t){t.method=t.method||"POST",t.headers=t.headers||{};var a=t._deferred=t._deferred||n.defer(),s=a.promise;function l(e){a.notify&&a.notify(e),s.progressFunc&&i((function(){s.progressFunc(e)}))}function u(e){return null!=t._start&&o?{loaded:e.loaded+t._start,total:t._file&&t._file.size||e.total,type:e.type,config:t,lengthComputable:!0,target:e.target}:e}function c(){e(t).then((function(e){if(o&&t._chunkSize&&!t._finished&&t._file){var n=t._file&&t._file.size||0;l({loaded:Math.min(t._end,n),total:n,config:t,type:"progress"}),r.upload(t,!0)}else t._finished&&delete t._finished,a.resolve(e)}),(function(e){a.reject(e)}),(function(e){a.notify(e)}))}return t.disableProgress||(t.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(t.__XHR=e,t.xhrFn&&t.xhrFn(e),e.upload.addEventListener("progress",(function(e){e.config=t,l(u(e))}),!1),e.upload.addEventListener("load",(function(e){e.lengthComputable&&(e.config=t,l(u(e)))}),!1))}}),o?t._chunkSize&&t._end&&!t._finished?(t._start=t._end,t._end+=t._chunkSize,c()):t.resumeSizeUrl?e.get(t.resumeSizeUrl).then((function(e){t.resumeSizeResponseReader?t._start=t.resumeSizeResponseReader(e.data):t._start=parseInt((null==e.data.size?e.data:e.data.size).toString()),t._chunkSize&&(t._end=t._start+t._chunkSize),c()}),(function(e){throw e})):t.resumeSize?t.resumeSize().then((function(e){t._start=e,t._chunkSize&&(t._end=t._start+t._chunkSize),c()}),(function(e){throw e})):(t._chunkSize&&(t._start=0,t._end=t._start+t._chunkSize),c()):c(),s.success=function(e){return s.then((function(n){e(n.data,n.status,n.headers,t)})),s},s.error=function(e){return s.then(null,(function(n){e(n.data,n.status,n.headers,t)})),s},s.progress=function(e){return s.progressFunc=e,s.then(null,null,(function(t){e(t)})),s},s.abort=s.pause=function(){return t.__XHR&&i((function(){t.__XHR.abort()})),s},s.xhr=function(e){var n;return t.xhrFn=(n=t.xhrFn,function(){n&&n.apply(s,arguments),e.apply(s,arguments)}),s},r.promisesCount++,s.finally&&s.finally instanceof Function&&s.finally((function(){r.promisesCount--})),s}function s(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}this.isUploadInProgress=function(){return r.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,i,a){if(void 0!==i)if(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i))t.append(a,i);else if(r.isFile(i)){var s=function(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&o){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var i=t.slice(e._start,e._end||t.size);return i.name=t.name,i.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),i}return t}(i,t),l=a.split(",");l[1]&&(s.ngfName=l[1].replace(/^\s+|\s+$/g,""),a=l[0]),e._fileKey=e._fileKey||a,t.append(a,s,s.ngfName||s.name)}else if(angular.isObject(i)){if(i.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+a;i.$$ngfCircularDetection=!0;try{for(var u in i)if(i.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var c=null==e.objectKey?"[i]":e.objectKey;i.length&&parseInt(u)>-1&&(c=null==e.arrayKey?c:e.arrayKey),n(t,i[u],a+c.replace(/[ik]/g,u))}}finally{delete i.$$ngfCircularDetection}}else t.append(a,i)}return t||(e=s(e)),e._isDigested||(e._isDigested=!0,e._chunkSize=r.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push((function(t){var i,r=new window.FormData;for(i in t=t||e.fields||{},e.file&&(t.file=e.file),t)if(t.hasOwnProperty(i)){var o=t[i];e.formDataAppender?e.formDataAppender(r,i,o):n(r,o,i)}return r}))),a(e)},this.http=function(t){return(t=s(t)).transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=r.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,a(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(t){var i=n.defer();return e({url:t,method:"get",responseType:"arraybuffer"}).then((function(e){var n=new Uint8Array(e.data),r=e.headers("content-type")||"image/WebP",o=new window.Blob([n],{type:r}),a=t.match(/.*\/(.+?)(\?.*)?$/);a.length>1&&(o.name=a[1]),i.resolve(o)}),(function(e){i.reject(e)})),i.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=t.version}]),t.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,i,r){var o=r;function a(e,t,n,r,a){var s=[o.emptyPromise()];function l(i,l){if(0===i.type.indexOf("image")){if(e.pattern&&!o.validatePattern(i,e.pattern))return;e.resizeIf=function(e,t){return o.attrGetter("ngfResizeIf",n,r,{$width:e,$height:t,$file:i})};var u=o.resize(i,e);s.push(u),u.then((function(e){t.splice(l,1,e)}),(function(e){i.$error="resize",(i.$errorMessages=i.$errorMessages||{}).resize=!0,i.$errorParam=(e?(e.message?e.message:e)+": ":"")+(i&&i.name),a.$ngfValidations.push({name:"resize",valid:!1}),o.applyModelValidation(a,t)}))}}for(var u=0;u<t.length;u++)l(t[u],u);return i.all(s)}return o.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=o.defaults[t];return null==n||angular.isString(n)?n:JSON.stringify(n)},o.attrGetter=function(t,n,i,r){var o=this.getAttrWithDefaults(n,t);if(!i)return o;try{return r?e(o)(i,r):e(o)(i)}catch(e){if(t.search(/min|max|pattern/i))return o;throw e}},o.shouldUpdateOn=function(e,t,n){var i=o.attrGetter("ngfModelOptions",t,n);return!i||!i.updateOn||i.updateOn.split(" ").indexOf(e)>-1},o.emptyPromise=function(){var e=i.defer(),n=arguments;return t((function(){e.resolve.apply(e,n)})),e.promise},o.rejectPromise=function(){var e=i.defer(),n=arguments;return t((function(){e.reject.apply(e,n)})),e.promise},o.happyPromise=function(e,n){var r=i.defer();return e.then((function(e){r.resolve(e)}),(function(e){t((function(){throw e})),r.resolve(n)})),r.promise},o.updateModel=function(n,r,s,l,u,c,d){function p(i,a,u,d,p){r.$$ngfPrevValidFiles=i,r.$$ngfPrevInvalidFiles=a;var h=i&&i.length?i[0]:null,f=a&&a.length?a[0]:null;n&&(o.applyModelValidation(n,i),n.$setViewValue(p?h:i)),l&&e(l)(s,{$files:i,$file:h,$newFiles:u,$duplicateFiles:d,$invalidFiles:a,$invalidFile:f,$event:c});var m=o.attrGetter("ngfModelInvalid",r);m&&t((function(){e(m).assign(s,p?f:a)})),t((function(){}))}var h,f,m,g,v=[],y=[],b=[];function w(){function e(){t((function(){p(_?f.concat(b):b,_?m.concat(y):y,u,v,x)}),k&&k.debounce?k.debounce.change||k.debounce:0)}var l=C?h:b;(function(e,t,n,r){var s=o.attrGetter("ngfResize",t,n);if(!s||!o.isResizeSupported()||!e.length)return o.emptyPromise();if(s instanceof Function){var l=i.defer();return s(e).then((function(i){a(i,e,t,n,r).then((function(e){l.resolve(e)}),(function(e){l.reject(e)}))}),(function(e){l.reject(e)}))}return a(s,e,t,n,r)})(l,r,s,n).then((function(){C?o.validate(h,_?f.length:0,n,r,s).then((function(t){b=t.validsFiles,y=t.invalidsFiles,e()})):e()}),(function(){for(var t=0;t<l.length;t++){var n=l[t];if("resize"===n.$error){var i=b.indexOf(n);i>-1&&(b.splice(i,1),y.push(n)),e()}}}))}f=r.$$ngfPrevValidFiles||[],m=r.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(g=n.$modelValue,f=angular.isArray(g)?g:[g]);var _=o.attrGetter("ngfKeep",r,s);h=(u||[]).slice(0),"distinct"!==_&&!0!==o.attrGetter("ngfKeepDistinct",r,s)||function(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}function t(t){var n;for(n=0;n<f.length;n++)if(e(t,f[n]))return!0;for(n=0;n<m.length;n++)if(e(t,m[n]))return!0;return!1}if(u){h=[],v=[];for(var n=0;n<u.length;n++)t(u[n])?v.push(u[n]):h.push(u[n])}}();var x=!_&&!o.attrGetter("ngfMultiple",r,s)&&!o.attrGetter("multiple",r);if(!_||h.length){o.attrGetter("ngfBeforeModelChange",r,s,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:h,$duplicateFiles:v,$event:c});var C=o.attrGetter("ngfValidateAfterResize",r,s),k=o.attrGetter("ngfModelOptions",r,s);o.validate(h,_?f.length:0,n,r,s).then((function(e){d?p(h,[],u,v,x):(k&&k.allowInvalid||C?b=h:(b=e.validFiles,y=e.invalidFiles),o.attrGetter("ngfFixOrientation",r,s)&&o.isExifSupported()?function(e,t,n){var r=[o.emptyPromise()];return angular.forEach(e,(function(i,a){0===i.type.indexOf("image/jpeg")&&o.attrGetter("ngfFixOrientation",t,n,{$file:i})&&r.push(o.happyPromise(o.applyExifRotation(i),i).then((function(t){e.splice(a,1,t)})))})),i.all(r)}(b,r,s).then((function(){w()})):w())}))}},o}]),t.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,i){var r=[];return{restrict:"AEC",require:"?ngModel",link:function(e,n,o,a){!function(e,t,n,o,a,s,l,u){var c=function(e,t){return u.attrGetter(e,n,t)};function d(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function p(){return c("ngfChange")||c("ngfSelect")}function h(t){if(u.shouldUpdateOn("change",n,e)){var i=t.__files_||t.target&&t.target.files,r=[];if(!i)return;for(var a=0;a<i.length;a++)r.push(i[a]);u.updateModel(o,n,e,p(),r.length?r:null,t)}}u.registerModelChangeValidator(o,n,e);var f=[];c("ngfMultiple")&&f.push(e.$watch(c("ngfMultiple"),(function(){v.attr("multiple",c("ngfMultiple",e))}))),c("ngfCapture")&&f.push(e.$watch(c("ngfCapture"),(function(){v.attr("capture",c("ngfCapture",e))}))),c("ngfAccept")&&f.push(e.$watch(c("ngfAccept"),(function(){v.attr("accept",c("ngfAccept",e))}))),f.push(n.$observe("accept",(function(){v.attr("accept",c("accept"))})));var m=0,g=0,v=t;function y(t){u.shouldUpdateOn("click",n,e)&&v.val()&&(v.val(null),u.updateModel(o,n,e,p(),null,t,!0))}d()||(v=function(){if(d())return t;var e=angular.element('<input type="file">'),i=angular.element("<label>upload</label>");return i.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),function(e,i){function r(t){e.attr("id","ngf-"+t),i.attr("id","ngf-label-"+t)}for(var o=0;o<t[0].attributes.length;o++){var a=t[0].attributes[o];"type"!==a.name&&"class"!==a.name&&"style"!==a.name&&("id"===a.name?(r(a.value),f.push(n.$observe("id",r))):e.attr(a.name,a.value||"required"!==a.name&&"multiple"!==a.name?a.value:a.name))}}(e,i),r.push({el:t,ref:i}),document.body.appendChild(i.append(e)[0]),e}()),v.bind("change",h),d()?t.bind("click",y):t.bind("click touchstart touchend",(function(n){if(t.attr("disabled"))return!1;if(!c("ngfSelectDisabled",e)){var o=function(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)return g=t[0].clientX,m=t[0].clientY,!0;if("touchend"===e.type){var n=t[0].clientX,i=t[0].clientY;if(Math.abs(n-g)>20||Math.abs(i-m)>20)return e.stopPropagation(),e.preventDefault(),!1}return!0}}(n);if(null!=o)return o;y(n);try{d()||document.body.contains(v[0])||(r.push({el:t,ref:v.parent()}),document.body.appendChild(v.parent()[0]),v.bind("change",h))}catch(e){}return function(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=i.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}(navigator.userAgent)?setTimeout((function(){v[0].click()}),0):v[0].click(),!1}})),-1!==navigator.appVersion.indexOf("MSIE 10")&&v.bind("click",(function e(t){if(v&&!v.attr("__ngf_ie10_Fix_")){if(!v[0].parentNode)return void(v=null);t.preventDefault(),t.stopPropagation(),v.unbind("click");var n=v.clone();return v.replaceWith(n),(v=n).attr("__ngf_ie10_Fix_","true"),v.bind("change",h),v.bind("click",e),v[0].click(),!1}v.removeAttr("__ngf_ie10_Fix_")})),o&&o.$formatters.push((function(e){return null!=e&&0!==e.length||v.val()&&v.val(null),e})),e.$on("$destroy",(function(){d()||v.parent().remove(),angular.forEach(f,(function(e){e()}))})),s((function(){for(var e=0;e<r.length;e++){var t=r[e];document.body.contains(t.el[0])||(r.splice(e,1),t.ref.remove())}})),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,v,h)}(e,n,o,a,0,t,0,i)}}}]),function(){function e(e,t,n,i,r,o,a,s){function l(o){var a=e.attrGetter("ngfNoObjectUrl",r,n);e.dataUrl(o,a).finally((function(){t((function(){var e=(a?o.$ngfDataUrl:o.$ngfBlobUrl)||o.$ngfDataUrl;s?i.css("background-image","url('"+(e||"")+"')"):i.attr("src",e),e?i.removeClass("ng-hide"):i.addClass("ng-hide")}))}))}t((function(){var t=n.$watch(r[o],(function(t){var u,c=a;if("ngfThumbnail"===o&&(c||(c={width:i[0].naturalWidth||i[0].clientWidth,height:i[0].naturalHeight||i[0].clientHeight}),0===c.width&&window.getComputedStyle)){var d=getComputedStyle(i[0]);d.width&&d.width.indexOf("px")>-1&&d.height&&d.height.indexOf("px")>-1&&(c={width:parseInt(d.width.slice(0,-2)),height:parseInt(d.height.slice(0,-2))})}if(angular.isString(t))return i.removeClass("ng-hide"),s?i.css("background-image","url('"+t+"')"):i.attr("src",t);!t||!t.type||0!==t.type.search("img"===(u=i[0]).tagName.toLowerCase()?"image":"audio"===u.tagName.toLowerCase()?"audio":"video"===u.tagName.toLowerCase()?"video":/./)||s&&0!==t.type.indexOf("image")?i.addClass("ng-hide"):c&&e.isResizeSupported()?(c.resizeIf=function(i,o){return e.attrGetter("ngfResizeIf",r,n,{$width:i,$height:o,$file:t})},e.resize(t,c).then((function(e){l(e)}),(function(e){throw e}))):l(t)}));n.$on("$destroy",(function(){t()}))}))}t.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var i=e;return i.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),r=0;return angular.forEach(e,(function(n){i.dataUrl(n,!0).finally((function(){if(++r===e.length){var n=[];angular.forEach(e,(function(e){n.push(e.$ngfDataUrl)})),t.resolve(n,e)}}))})),t.promise}return i.dataUrl(e,!0)},i.dataUrl=function(e,r){if(!e)return i.emptyPromise(e,e);if(r&&null!=e.$ngfDataUrl||!r&&null!=e.$ngfBlobUrl)return i.emptyPromise(r?e.$ngfDataUrl:e.$ngfBlobUrl,e);var o=r?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(o)return o;var a=n.defer();return t((function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!r){var o;try{o=n.createObjectURL(e)}catch(n){return void t((function(){e.$ngfBlobUrl="",a.reject()}))}t((function(){if(e.$ngfBlobUrl=o,o){a.resolve(o,e),i.blobUrls=i.blobUrls||[],i.blobUrlsTotalSize=i.blobUrlsTotalSize||0,i.blobUrls.push({url:o,size:e.size}),i.blobUrlsTotalSize+=e.size||0;for(var t=i.defaults.blobUrlsMaxMemory||268435456,r=i.defaults.blobUrlsMaxQueueSize||200;(i.blobUrlsTotalSize>t||i.blobUrls.length>r)&&i.blobUrls.length>1;){var s=i.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),i.blobUrlsTotalSize-=s.size}}}))}else{var s=new FileReader;s.onload=function(n){t((function(){e.$ngfDataUrl=n.target.result,a.resolve(n.target.result,e),t((function(){delete e.$ngfDataUrl}),1e3)}))},s.onerror=function(){t((function(){e.$ngfDataUrl="",a.reject()}))},s.readAsDataURL(e)}}else t((function(){e[r?"$ngfDataUrl":"$ngfBlobUrl"]="",a.reject()}))})),(o=r?e.$$ngfDataUrlPromise=a.promise:e.$$ngfBlobUrlPromise=a.promise).finally((function(){delete e[r?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]})),o},i}]),t.directive("ngfSrc",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(i,r,o){e(t,n,i,r,o,"ngfSrc",t.attrGetter("ngfResize",o,i),!1)}}}]),t.directive("ngfBackground",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(i,r,o){e(t,n,i,r,o,"ngfBackground",t.attrGetter("ngfResize",o,i),!0)}}}]),t.directive("ngfThumbnail",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(i,r,o){var a=t.attrGetter("ngfSize",o,i);e(t,n,i,r,o,"ngfThumbnail",a,t.attrGetter("ngfAsBackground",o,i))}}}]),t.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),t.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,i,r){if(angular.isString(n))return t.trustAsResourceUrl(n);var o=n&&((i?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,i)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?r?t.trustAsResourceUrl(o):o:n)||"")}}])}(),t.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){var i=e;function r(e){var t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var i=e.split(",");if(i.length>1)for(var o=0;o<i.length;o++){var a=r(i[o]);a.regexp?(t+="("+a.regexp+")",o<i.length-1&&(t+="|")):n=n.concat(a.excludes)}else 0===e.indexOf("!")?n.push("^((?!"+r(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t=(t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$").replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}return i.validatePattern=function(e,t){if(!t)return!0;var n=r(t),i=!0;if(n.regexp&&n.regexp.length){var o=new RegExp(n.regexp,"i");i=null!=e.type&&o.test(e.type)||null!=e.name&&o.test(e.name)}for(var a=n.excludes.length;a--;){var s=new RegExp(n.excludes[a],"i");i=i&&(null==e.type||s.test(e.type))&&(null==e.name||s.test(e.name))}return i},i.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},i.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push((function(r){if(e.$dirty){var o=r;r&&!angular.isArray(r)&&(o=[r]),i.validate(o,0,e,t,n).then((function(){i.applyModelValidation(e,o)}))}return r}))},i.applyModelValidation=function(e,t){!function(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}(e,t),angular.forEach(e.$ngfValidations,(function(t){e.$setValidity(t.name,t.valid)}))},i.getValidationAttr=function(e,t,n,r,o){var a="ngf"+n[0].toUpperCase()+n.substr(1),s=i.attrGetter(a,e,t,{$file:o});if(null==s&&(s=i.attrGetter("ngfValidate",e,t,{$file:o}))){var l=(r||n).split(".");s=s[l[0]],l.length>1&&(s=s&&s[l[1]])}return s},i.validate=function(e,n,r,o,a){(r=r||{}).$ngfValidations=r.$ngfValidations||[],angular.forEach(r.$ngfValidations,(function(e){e.valid=!0}));var s=function(e,t){return i.attrGetter(e,o,a,t)},l=(i.attrGetter("ngfIgnoreInvalid",o,a)||"").split(" "),u=i.attrGetter("ngfRunAllValidations",o,a);if(null==e||0===e.length)return i.emptyPromise({validFiles:e,invalidFiles:[]});e=void 0===e.length?[e]:e.slice(0);var c=[];function d(t,n,s){if(e){for(var d=e.length,p=null;d--;){var h=e[d];if(h){var f=i.getValidationAttr(o,a,t,n,h);null!=f&&(s(h,f,d)||(-1===l.indexOf(t)?(h.$error=t,(h.$errorMessages=h.$errorMessages||{})[t]=!0,h.$errorParam=f,-1===c.indexOf(h)&&c.push(h),u||e.splice(d,1),p=!1):e.splice(d,1)))}}null!==p&&r.$ngfValidations.push({name:t,valid:p})}}d("pattern",null,i.validatePattern),d("minSize","size.min",(function(e,t){return e.size+.1>=i.translateScalars(t)})),d("maxSize","size.max",(function(e,t){return e.size-.1<=i.translateScalars(t)}));var p=0;if(d("maxTotalSize",null,(function(t,n){return!((p+=t.size)>i.translateScalars(n)&&(e.splice(0,e.length),1))})),d("validateFn",null,(function(e,t){return!0===t||null===t||""===t})),!e.length)return i.emptyPromise({validFiles:[],invalidFiles:c});function h(n,d,p,h,f){function m(t,i,r){function o(o){if(o())if(-1===l.indexOf(n)){if(i.$error=n,(i.$errorMessages=i.$errorMessages||{})[n]=!0,i.$errorParam=r,-1===c.indexOf(i)&&c.push(i),!u){var a=e.indexOf(i);a>-1&&e.splice(a,1)}t.resolve(!1)}else{var s=e.indexOf(i);s>-1&&e.splice(s,1),t.resolve(!0)}else t.resolve(!0)}null!=r?h(i,r).then((function(e){o((function(){return!f(e,r)}))}),(function(){o((function(){return s("ngfValidateForce",{$file:i})}))})):t.resolve(!0)}var g=[i.emptyPromise(!0)];e&&(e=void 0===e.length?[e]:e,angular.forEach(e,(function(e){var r=t.defer();g.push(r.promise),!p||null!=e.type&&0===e.type.search(p)?"dimensions"===n&&null!=i.attrGetter("ngfDimensions",o)?i.imageDimensions(e).then((function(t){m(r,e,s("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))}),(function(){r.resolve(!1)})):"duration"===n&&null!=i.attrGetter("ngfDuration",o)?i.mediaDuration(e).then((function(t){m(r,e,s("ngfDuration",{$file:e,$duration:t}))}),(function(){r.resolve(!1)})):m(r,e,i.getValidationAttr(o,a,n,d,e)):r.resolve(!0)})));var v=t.defer();return t.all(g).then((function(e){for(var t=!0,i=0;i<e.length;i++)if(!e[i]){t=!1;break}r.$ngfValidations.push({name:n,valid:t}),v.resolve(t)})),v.promise}var f=t.defer(),m=[];return m.push(h("maxHeight","height.max",/image/,this.imageDimensions,(function(e,t){return e.height<=t}))),m.push(h("minHeight","height.min",/image/,this.imageDimensions,(function(e,t){return e.height>=t}))),m.push(h("maxWidth","width.max",/image/,this.imageDimensions,(function(e,t){return e.width<=t}))),m.push(h("minWidth","width.min",/image/,this.imageDimensions,(function(e,t){return e.width>=t}))),m.push(h("dimensions",null,/image/,(function(e,t){return i.emptyPromise(t)}),(function(e){return e}))),m.push(h("ratio",null,/image/,this.imageDimensions,(function(e,t){for(var n=t.toString().split(","),r=!1,o=0;o<n.length;o++)Math.abs(e.width/e.height-i.ratioToFloat(n[o]))<.01&&(r=!0);return r}))),m.push(h("maxRatio","ratio.max",/image/,this.imageDimensions,(function(e,t){return e.width/e.height-i.ratioToFloat(t)<1e-4}))),m.push(h("minRatio","ratio.min",/image/,this.imageDimensions,(function(e,t){return e.width/e.height-i.ratioToFloat(t)>-1e-4}))),m.push(h("maxDuration","duration.max",/audio|video/,this.mediaDuration,(function(e,t){return e<=i.translateScalars(t)}))),m.push(h("minDuration","duration.min",/audio|video/,this.mediaDuration,(function(e,t){return e>=i.translateScalars(t)}))),m.push(h("duration",null,/audio|video/,(function(e,t){return i.emptyPromise(t)}),(function(e){return e}))),m.push(h("validateAsyncFn",null,null,(function(e,t){return t}),(function(e){return!0===e||null===e||""===e}))),t.all(m).then((function(){if(u)for(var t=0;t<e.length;t++)e[t].$error&&e.splice(t--,1);u=!1,d("maxFiles",null,(function(e,t,i){return n+i<t})),f.resolve({validFiles:e,invalidFiles:c})})),f.promise},i.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var r=t.defer();return n((function(){r.resolve({width:e.$ngfWidth,height:e.$ngfHeight})})),r.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var o=t.defer();return n((function(){0===e.type.indexOf("image")?i.dataUrl(e).then((function(t){var i=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");function r(){var t=i[0].naturalWidth||i[0].clientWidth,n=i[0].naturalHeight||i[0].clientHeight;i.remove(),e.$ngfWidth=t,e.$ngfHeight=n,o.resolve({width:t,height:n})}function a(){i.remove(),o.reject("load error")}i.on("load",r),i.on("error",a);var s=0;!function e(){n((function(){i[0].parentNode&&(i[0].clientWidth?r():s++>10?a():e())}),1e3)}(),angular.element(document.getElementsByTagName("body")[0]).append(i)}),(function(){o.reject("load error")})):o.reject("not image")})),e.$ngfDimensionPromise=o.promise,e.$ngfDimensionPromise.finally((function(){delete e.$ngfDimensionPromise})),e.$ngfDimensionPromise},i.mediaDuration=function(e){if(e.$ngfDuration){var r=t.defer();return n((function(){r.resolve(e.$ngfDuration)})),r.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var o=t.defer();return n((function(){0===e.type.indexOf("audio")||0===e.type.indexOf("video")?i.dataUrl(e).then((function(t){var i=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");function r(){var t=i[0].duration;e.$ngfDuration=t,i.remove(),o.resolve(t)}i.on("loadedmetadata",r),i.on("error",(function(){i.remove(),o.reject("load error")})),function e(){n((function(){i[0].parentNode&&(i[0].duration?r():e())}),1e3)}(),angular.element(document.body).append(i)}),(function(){o.reject("load error")})):o.reject("not media")})),e.$ngfDurationPromise=o.promise,e.$ngfDurationPromise.finally((function(){delete e.$ngfDurationPromise})),e.$ngfDurationPromise},i}]),t.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e;return n.dataUrltoBlob=function(e,t,n){for(var i=e.split(","),r=i[0].match(/:(.*?);/)[1],o=atob(i[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var l=new window.Blob([s],{type:r});return l.name=t,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,i){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var r=t.defer();return n.dataUrl(e,!0).then((function(o){(function(e,i,r,o,a,s,l,u){var c=t.defer(),d=document.createElement("canvas"),p=document.createElement("img");return p.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(p),p.onload=function(){var e=p.width,t=p.height;if(p.parentNode.removeChild(p),null==u||!1!==u(e,t))try{if(s){var h=n.ratioToFloat(s);e/t<h?r=(i=e)/h:i=(r=t)*h}i||(i=e),r||(r=t);var f=function(e,t,n,i,r){var o=r?Math.max(n/e,i/t):Math.min(n/e,i/t);return{width:e*o,height:t*o,marginX:e*o-n,marginY:t*o-i}}(e,t,i,r,l);d.width=Math.min(f.width,i),d.height=Math.min(f.height,r),d.getContext("2d").drawImage(p,Math.min(0,-f.marginX/2),Math.min(0,-f.marginY/2),f.width,f.height),c.resolve(d.toDataURL(a||"image/WebP",o||.934))}catch(e){c.reject(e)}else c.reject("resizeIf")},p.onerror=function(){p.parentNode.removeChild(p),c.reject()},p.src=e,c.promise})(o,i.width,i.height,i.quality,i.type||e.type,i.ratio,i.centerCrop,i.resizeIf).then((function(t){if("image/jpeg"===e.type&&!1!==i.restoreExif)try{t=n.restoreExif(o,t)}catch(e){setTimeout((function(){throw e}),1)}try{var a=n.dataUrltoBlob(t,e.name,e.size);r.resolve(a)}catch(e){r.reject(e)}}),(function(t){"resizeIf"===t&&r.resolve(e),r.reject(t)}))}),(function(e){r.reject(e)})),r.promise},n}]),function(){function e(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}t.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(t,n,i,r,o,a){return{restrict:"AEC",require:"?ngModel",link:function(o,s,l,u){!function(t,n,i,r,o,a,s,l,u,c){var d=e(),p=function(e,t,n){return l.attrGetter(e,i,t,n)};if(p("dropAvailable")&&a((function(){t[p("dropAvailable")]?t[p("dropAvailable")].value=d:t[p("dropAvailable")]=d})),d){null==p("ngfSelect")&&l.registerModelChangeValidator(r,i,t);var h,f=null,m=o(p("ngfStopPropagation")),g=1;n[0].addEventListener("dragover",(function(e){if(!v()&&l.shouldUpdateOn("drop",i,t)){if(e.preventDefault(),m(t)&&e.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var r=e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy"}a.cancel(f),h||(h="C",function(e,t,n,i){var r=p("ngfDragOverClass",e,{$event:n}),o="dragover";if(angular.isString(r))o=r;else if(r&&(r.delay&&(g=r.delay),r.accept||r.reject)){var a=n.dataTransfer.items;if(null!=a&&a.length)for(var s=r.pattern||p("ngfPattern",e,{$event:n}),u=a.length;u--;){if(!l.validatePattern(a[u],s)){o=r.reject;break}o=r.accept}else o=r.accept}i(o)}(t,0,e,(function(i){h=i,n.addClass(h),p("ngfDrag",t,{$isDragging:!0,$class:h,$event:e})})))}}),!1),n[0].addEventListener("dragenter",(function(e){!v()&&l.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),m(t)&&e.stopPropagation())}),!1),n[0].addEventListener("dragleave",(function(e){!v()&&l.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),m(t)&&e.stopPropagation(),f=a((function(){h&&n.removeClass(h),h=null,p("ngfDrag",t,{$isDragging:!1,$event:e})}),g||100))}),!1),n[0].addEventListener("drop",(function(e){!v()&&l.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),m(t)&&e.stopPropagation(),h&&n.removeClass(h),h=null,y(e.dataTransfer,e,"dropUrl"))}),!1),n[0].addEventListener("paste",(function(e){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&p("ngfEnableFirefoxPaste",t)&&e.preventDefault(),!v()&&l.shouldUpdateOn("paste",i,t)&&y(e.clipboardData||e.originalEvent.clipboardData,e,"pasteUrl")}),!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&p("ngfEnableFirefoxPaste",t)&&(n.attr("contenteditable",!0),n.on("keypress",(function(e){e.metaKey||e.ctrlKey||e.preventDefault()})))}else!0===p("ngfHideOnDropNotAvailable",t)&&n.css("display","none");function v(){return n.attr("disabled")||p("ngfDropDisabled",t)}function y(e,n,r){if(e){var o;try{o=e&&e.getData&&e.getData("text/html")}catch(e){}(function(e,n,r,o){var a=l.getValidationAttr(i,t,"maxFiles");null==a&&(a=Number.MAX_VALUE);var u=l.getValidationAttr(i,t,"maxTotalSize");null==u&&(u=Number.MAX_VALUE);var d=p("ngfIncludeDir",t),h=[],f=0;function m(e,t){var n=c.defer();if(null!=e)if(e.isDirectory){var i=[l.emptyPromise()];if(d){var r={type:"directory"};r.name=r.path=(t||"")+e.name,h.push(r)}var o=e.createReader(),s=[],p=function(){o.readEntries((function(r){try{r.length?(s=s.concat(Array.prototype.slice.call(r||[],0)),p()):(angular.forEach(s.slice(0),(function(n){h.length<=a&&f<=u&&i.push(m(n,(t||"")+e.name+"/"))})),c.all(i).then((function(){n.resolve()}),(function(e){n.reject(e)})))}catch(e){n.reject(e)}}),(function(e){n.reject(e)}))};p()}else e.file((function(e){try{e.path=(t||"")+e.name,d&&(e=l.rename(e,e.path)),h.push(e),f+=e.size,n.resolve()}catch(e){n.reject(e)}}),(function(e){n.reject(e)}));return n.promise}var g=[l.emptyPromise()];if(e&&e.length>0&&"file:"!==s.location.protocol)for(var v=0;v<e.length;v++){if(e[v].webkitGetAsEntry&&e[v].webkitGetAsEntry()&&e[v].webkitGetAsEntry().isDirectory){var y=e[v].webkitGetAsEntry();if(y.isDirectory&&!r)continue;null!=y&&g.push(m(y))}else{var b=e[v].getAsFile();null!=b&&(h.push(b),f+=b.size)}if(h.length>a||f>u||!o&&h.length>0)break}else if(null!=n)for(var w=0;w<n.length;w++){var _=n.item(w);if((_.type||_.size>0)&&(h.push(_),f+=_.size),h.length>a||f>u||!o&&h.length>0)break}var x=c.defer();return c.all(g).then((function(){if(o||d||!h.length)x.resolve(h);else{for(var e=0;h[e]&&"directory"===h[e].type;)e++;x.resolve([h[e]])}}),(function(e){x.reject(e)})),x.promise})(e.items,e.files,!1!==p("ngfAllowDir",t),p("multiple")||p("ngfMultiple",t)).then((function(e){e.length?b(e,n):function(e,n){if(!l.shouldUpdateOn(e,i,t)||"string"!=typeof n)return l.rejectPromise([]);var r=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,(function(e,t,n){r.push(n)}));var o=[],a=[];if(r.length){angular.forEach(r,(function(e){o.push(l.urlToBlob(e).then((function(e){a.push(e)})))}));var s=c.defer();return c.all(o).then((function(){s.resolve(a)}),(function(e){s.reject(e)})),s.promise}return l.emptyPromise()}(r,o).then((function(e){b(e,n)}))}))}}function b(e,n){l.updateModel(r,i,t,p("ngfChange")||p("ngfDrop"),e,n)}}(o,s,l,u,t,n,i,r,0,a)}}}]),t.directive("ngfNoFileDrop",(function(){return function(t,n){e()&&n.css("display","none")}})),t.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(t,n,i){return function(r,o,a){if(e()){var s=t(i.attrGetter("ngfDropAvailable",a));n((function(){s(r),s.assign&&s.assign(r,!0)}))}}}])}(),t.service("UploadExif",["UploadResize","$q",function(e,t){var n=e;return n.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&n.isResizeSupported()},n.readOrientation=function(e){var n=t.defer(),i=new FileReader,r=e.slice?e.slice(0,65536):e;return i.readAsArrayBuffer(r),i.onerror=function(e){return n.reject(e)},i.onload=function(e){var t={orientation:1},i=new DataView(this.result);if(65496!==i.getUint16(0,!1))return n.resolve(t);for(var r=i.byteLength,o=2;o<r;){var a=i.getUint16(o,!1);if(o+=2,65505===a){if(1165519206!==i.getUint32(o+=2,!1))return n.resolve(t);var s=18761===i.getUint16(o+=6,!1);o+=i.getUint32(o+4,s);var l=i.getUint16(o,s);o+=2;for(var u=0;u<l;u++)if(274===i.getUint16(o+12*u,s)){var c=i.getUint16(o+12*u+8,s);return c>=2&&c<=8&&(i.setUint16(o+12*u+8,1,s),t.fixedArrayBuffer=e.target.result),t.orientation=c,n.resolve(t)}}else{if(65280!=(65280&a))break;o+=i.getUint16(o,!1)}}return n.resolve(t)},n.promise},n.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return n.emptyPromise(e);var i=t.defer();return n.readOrientation(e).then((function(t){if(t.orientation<2||t.orientation>8)return i.resolve(e);n.dataUrl(e,!0).then((function(r){var o=document.createElement("canvas"),a=document.createElement("img");a.onload=function(){try{o.width=t.orientation>4?a.height:a.width,o.height=t.orientation>4?a.width:a.height;var r=o.getContext("2d");!function(e,t,n,i){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,i);case 4:return e.transform(1,0,0,-1,0,i);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,i,0);case 7:return e.transform(0,-1,-1,0,i,n);case 8:e.transform(0,-1,1,0,0,n)}}(r,t.orientation,a.width,a.height),r.drawImage(a,0,0);var s=o.toDataURL(e.type||"image/WebP",.934);s=n.restoreExif(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}(t.fixedArrayBuffer),s);var l=n.dataUrltoBlob(s,e.name);i.resolve(l)}catch(e){return i.reject(e)}},a.onerror=function(){i.reject()},a.src=r}),(function(e){i.reject(e)}))}),(function(e){i.reject(e)})),i.promise},n.restoreExif=function(e,t){return{KEY_STR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode64:function(e){var t,n,i,r,o,a="",s="",l="",u=0;do{i=(t=e[u++])>>2,r=(3&t)<<4|(n=e[u++])>>4,o=(15&n)<<2|(s=e[u++])>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),a=a+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),t=n=s="",i=r=o=l=""}while(u<e.length);return a},restore:function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),i=this.slice2Segments(n),r=this.exifManipulation(t,i);return"data:image/jpeg;base64,"+this.encode64(r)},exifManipulation:function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)},getExifArray:function(e){for(var t,n=0;n<e.length;n++)if(255===(t=e[n])[0]&225===t[1])return t;return[]},insertExif:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),a=i.slice(r),s=o;return(s=s.concat(t)).concat(a)},slice2Segments:function(e){for(var t=0,n=[];!(255===e[t]&218===e[t+1]);){if(255===e[t]&216===e[t+1])t+=2;else{var i=t+(256*e[t+2]+e[t+3])+2,r=e.slice(t,i);n.push(r),t=i}if(t>e.length)break}return n},decode64:function(e){var t,n,i,r,o="",a="",s=0,l=[];/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=this.KEY_STR.indexOf(e.charAt(s++))<<2|(i=this.KEY_STR.indexOf(e.charAt(s++)))>>4,n=(15&i)<<4|(r=this.KEY_STR.indexOf(e.charAt(s++)))>>2,o=(3&r)<<6|(a=this.KEY_STR.indexOf(e.charAt(s++))),l.push(t),64!==r&&l.push(n),64!==a&&l.push(o),t=n=o="",i=r=a=""}while(s<e.length);return l}}.restore(e,t)},n}])},293:function(e,t,n){n(3351),e.exports="ngFileUpload"},9052:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(8583),r=n(6604),o=n(9704),a=function(){function e(){this.__isFirstRender=!0,this.state={},this.props={}}return e.prototype.$onChanges=function(e){var t=this.props,n=r(e,"currentValue"),o=i({},this.props,n);if(this.__isFirstRender)i(this,{props:o}),this.componentWillMount(),this.render(),this.__isFirstRender=!1;else{if(!this.didPropsChange(n,t))return;this.componentWillReceiveProps(o);var a=this.shouldComponentUpdate(o,this.state);if(i(this,{props:o}),!a)return;this.componentWillUpdate(this.props,this.state),this.render(),this.componentDidUpdate(this.props,this.state)}},e.prototype.$postLink=function(){this.componentDidMount()},e.prototype.$onDestroy=function(){this.componentWillUnmount()},e.prototype.didPropsChange=function(e,t){return o(e,(function(e,n){return e!==t[n]}))},e.prototype.componentWillMount=function(){},e.prototype.componentDidMount=function(){},e.prototype.componentWillReceiveProps=function(e){},e.prototype.shouldComponentUpdate=function(e,t){return!0},e.prototype.componentWillUpdate=function(e,t){},e.prototype.componentDidUpdate=function(e,t){},e.prototype.componentWillUnmount=function(){},e.prototype.render=function(){},e}();t.default=a},2703:function(e,t,n){"use strict";var i=n(414);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},5697:function(e,t,n){e.exports=n(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5614:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(5374),o=n(6176),a=i(n(2307)),s=function(){function e(e,t){"string"==typeof e&&(e=new o.InsertDataQuill(r.DataType.Text,e+"")),this.insert=e,this.attributes=t||{}}return e.createNewLineOp=function(){return new e(r.NewLine)},e.prototype.isContainerBlock=function(){return this.isBlockquote()||this.isList()||this.isTable()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()},e.prototype.isBlockAttribute=function(){var e=this.attributes;return!!(e.align||e.direction||e.indent)},e.prototype.isBlockquote=function(){return!!this.attributes.blockquote},e.prototype.isHeader=function(){return!!this.attributes.header},e.prototype.isTable=function(){return!!this.attributes.table},e.prototype.isSameHeaderAs=function(e){return e.attributes.header===this.attributes.header&&this.isHeader()},e.prototype.hasSameAdiAs=function(e){return this.attributes.align===e.attributes.align&&this.attributes.direction===e.attributes.direction&&this.attributes.indent===e.attributes.indent},e.prototype.hasSameIndentationAs=function(e){return this.attributes.indent===e.attributes.indent},e.prototype.hasSameAttr=function(e){return a.default(this.attributes,e.attributes)},e.prototype.hasHigherIndentThan=function(e){return(Number(this.attributes.indent)||0)>(Number(e.attributes.indent)||0)},e.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},e.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},e.prototype.hasSameLangAs=function(e){return this.attributes["code-block"]===e.attributes["code-block"]},e.prototype.isJustNewline=function(){return this.insert.value===r.NewLine},e.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},e.prototype.isOrderedList=function(){return this.attributes.list===r.ListType.Ordered},e.prototype.isBulletList=function(){return this.attributes.list===r.ListType.Bullet},e.prototype.isCheckedList=function(){return this.attributes.list===r.ListType.Checked},e.prototype.isUncheckedList=function(){return this.attributes.list===r.ListType.Unchecked},e.prototype.isACheckList=function(){return this.attributes.list==r.ListType.Unchecked||this.attributes.list===r.ListType.Checked},e.prototype.isSameListAs=function(e){return!!e.attributes.list&&(this.attributes.list===e.attributes.list||e.isACheckList()&&this.isACheckList())},e.prototype.isSameTableRowAs=function(e){return!!e.isTable()&&this.isTable()&&this.attributes.table===e.attributes.table},e.prototype.isText=function(){return this.insert.type===r.DataType.Text},e.prototype.isImage=function(){return this.insert.type===r.DataType.Image},e.prototype.isFormula=function(){return this.insert.type===r.DataType.Formula},e.prototype.isVideo=function(){return this.insert.type===r.DataType.Video},e.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},e.prototype.isCustomEmbed=function(){return this.insert instanceof o.InsertDataCustom},e.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},e.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},e.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},e}();t.DeltaInsertOp=s},6176:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.InsertDataQuill=function(e,t){this.type=e,this.value=t};t.InsertDataCustom=function(e,t){this.type=e,this.value=t}},1137:function(e,t,n){"use strict";var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=n(5374),o=i(n(932)),a=i(n(3140)),s=function(){function e(){}return e.denormalize=function(e){if(!e||"object"!=typeof e)return[];if("object"==typeof e.insert||e.insert===r.NewLine)return[e];var t=o.tokenizeWithNewLines(e.insert+"");if(1===t.length)return[e];var n=a.assign({},e,{insert:r.NewLine});return t.map((function(t){return t===r.NewLine?n:a.assign({},e,{insert:t})}))},e}();t.InsertOpDenormalizer=s},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5614),r=n(5374),o=n(6176),a=n(3097),s=n(1137),l=n(5195),u=function(){function e(){}return e.convert=function(t,n){if(!Array.isArray(t))return[];for(var r,o,l=[],u=0,c=[].concat.apply([],t.map(s.InsertOpDenormalizer.denormalize));u<c.length;u++){var d=c[u];d.insert&&(r=e.convertInsertVal(d.insert,n))&&(o=a.OpAttributeSanitizer.sanitize(d.attributes,n),l.push(new i.DeltaInsertOp(r,o)))}return l},e.convertInsertVal=function(e,t){if("string"==typeof e)return new o.InsertDataQuill(r.DataType.Text,e);if(!e||"object"!=typeof e)return null;var n=Object.keys(e);return n.length?r.DataType.Image in e?new o.InsertDataQuill(r.DataType.Image,l.OpLinkSanitizer.sanitize(e[r.DataType.Image]+"",t)):r.DataType.Video in e?new o.InsertDataQuill(r.DataType.Video,l.OpLinkSanitizer.sanitize(e[r.DataType.Video]+"",t)):r.DataType.Formula in e?new o.InsertDataQuill(r.DataType.Formula,e[r.DataType.Formula]):new o.InsertDataCustom(n[0],e[n[0]]):null},e}();t.InsertOpsConverter=u},3097:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5374),r=n(9250),o=n(2935),a=n(5195),s=function(){function e(){}return e.sanitize=function(t,n){var s={};if(!t||"object"!=typeof t)return s;var l=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],u=["background","color"],c=t.font,d=t.size,p=t.link,h=t.script,f=t.list,m=t.header,g=t.align,v=t.direction,y=t.indent,b=t.mentions,w=t.mention,_=t.width,x=t.target,C=t.rel,k=t["code-block"],S=l.concat(u,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(l.forEach((function(e){var n=t[e];n&&(s[e]=!!n)})),u.forEach((function(n){var i=t[n];i&&(e.IsValidHexColor(i+"")||e.IsValidColorLiteral(i+"")||e.IsValidRGBColor(i+""))&&(s[n]=i)})),c&&e.IsValidFontName(c+"")&&(s.font=c),d&&e.IsValidSize(d+"")&&(s.size=d),_&&e.IsValidWidth(_+"")&&(s.width=_),p&&(s.link=a.OpLinkSanitizer.sanitize(p+"",n)),x&&e.isValidTarget(x)&&(s.target=x),C&&e.IsValidRel(C)&&(s.rel=C),k&&(e.IsValidLang(k)?s["code-block"]=k:s["code-block"]=!!k),h!==i.ScriptType.Sub&&i.ScriptType.Super!==h||(s.script=h),f!==i.ListType.Bullet&&f!==i.ListType.Ordered&&f!==i.ListType.Checked&&f!==i.ListType.Unchecked||(s.list=f),Number(m)&&(s.header=Math.min(Number(m),6)),o.find([i.AlignType.Center,i.AlignType.Right,i.AlignType.Justify,i.AlignType.Left],(function(e){return e===g}))&&(s.align=g),v===i.DirectionType.Rtl&&(s.direction=v),y&&Number(y)&&(s.indent=Math.min(Number(y),30)),b&&w){var T=r.MentionSanitizer.sanitize(w,n);Object.keys(T).length>0&&(s.mentions=!!b,s.mention=w)}return Object.keys(t).reduce((function(e,n){return-1===S.indexOf(n)&&(e[n]=t[n]),e}),s)},e.IsValidHexColor=function(e){return!!e.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},e.IsValidColorLiteral=function(e){return!!e.match(/^[a-z]{1,50}$/i)},e.IsValidRGBColor=function(e){return!!e.match(/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i)},e.IsValidFontName=function(e){return!!e.match(/^[a-z\s0-9\- ]{1,30}$/i)},e.IsValidSize=function(e){return!!e.match(/^[a-z0-9\-]{1,20}$/i)},e.IsValidWidth=function(e){return!!e.match(/^[0-9]*(px|em|%)?$/)},e.isValidTarget=function(e){return!!e.match(/^[_a-zA-Z0-9\-]{1,50}$/)},e.IsValidRel=function(e){return!!e.match(/^[a-zA-Z\s\-]{1,250}$/i)},e.IsValidLang=function(e){return"boolean"==typeof e||!!e.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},e}();t.OpAttributeSanitizer=s},5195:function(e,t,n){"use strict";var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1579)),o=n(8410),a=function(){function e(){}return e.sanitize=function(e,t){var n=function(){};t&&"function"==typeof t.urlSanitizer&&(n=t.urlSanitizer);var i=n(e);return"string"==typeof i?i:o.encodeLink(r.sanitize(e))},e}();t.OpLinkSanitizer=a},7924:function(e,t,n){"use strict";var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=n(8410),o=n(5374),a=i(n(3140)),s=i(n(2935)),l=n(3097),u={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};t.DEFAULT_INLINE_STYLES={font:function(e){return u[e]||"font-family:"+e},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(e,t){var n=3*parseInt(e,10);return"padding-"+("rtl"===t.attributes.direction?"right":"left")+":"+n+"em"},direction:function(e,t){return"rtl"===e?"direction:rtl"+(t.attributes.align?"":"; text-align:inherit"):void 0}};var c=function(){function e(e,t){this.op=e,this.options=a.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},t)}return e.prototype.prefixClass=function(e){return this.options.classPrefix?this.options.classPrefix+"-"+e:e+""},e.prototype.getHtml=function(){var e=this.getHtmlParts();return e.openingTag+e.content+e.closingTag},e.prototype.getHtmlParts=function(){var e=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:o.NewLine};var t=this.getTags(),n=this.getTagAttributes();!t.length&&n.length&&t.push("span");for(var i=[],a=[],s=function(t){return"img"===t&&!!e.op.attributes.link},l=0,u=t;l<u.length;l++){var c=u[l];s(c)&&i.push(r.makeStartTag("a",this.getLinkAttrs())),i.push(r.makeStartTag(c,n)),a.push("img"===c?"":r.makeEndTag(c)),s(c)&&a.push(r.makeEndTag("a")),n=[]}return a.reverse(),{openingTag:i.join(""),content:this.getContent(),closingTag:a.join("")}},e.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var e=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&r.encodeHtml(e)||e},e.prototype.getCssClasses=function(){var e=this.op.attributes;if(this.options.inlineStyles)return[];var t=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&t.push("background"),(this.getCustomCssClasses()||[]).concat(t.filter((function(t){return!!e[t]})).filter((function(t){return"background"!==t||l.OpAttributeSanitizer.IsValidColorLiteral(e[t])})).map((function(t){return t+"-"+e[t]})).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},e.prototype.getCssStyles=function(){var e=this,n=this.op.attributes,i=[["color"]];return!this.options.inlineStyles&&this.options.allowBackgroundClasses||i.push(["background","background-color"]),this.options.inlineStyles&&(i=i.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(i.filter((function(e){return!!n[e[0]]})).map((function(i){var r=i[0],o=n[r],a=e.options.inlineStyles&&e.options.inlineStyles[r]||t.DEFAULT_INLINE_STYLES[r];return"object"==typeof a?a[o]:"function"==typeof a?a(o,e.op):s.preferSecond(i)+":"+o}))).filter((function(e){return void 0!==e}))},e.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var e=this.makeAttr.bind(this),t=this.getCustomTagAttributes(),n=t?Object.keys(this.getCustomTagAttributes()).map((function(n){return e(n,t[n])})):[],i=this.getCssClasses(),r=i.length?n.concat([e("class",i.join(" "))]):n;if(this.op.isImage())return this.op.attributes.width&&(r=r.concat(e("width",this.op.attributes.width))),r.concat(e("src",this.op.insert.value));if(this.op.isACheckList())return r.concat(e("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return r;if(this.op.isVideo())return r.concat(e("frameborder","0"),e("allowfullscreen","true"),e("src",this.op.insert.value));if(this.op.isMentions()){var o=this.op.attributes.mention;return o.class&&(r=r.concat(e("class",o.class))),r=o["end-point"]&&o.slug?r.concat(e("href",o["end-point"]+"/"+o.slug)):r.concat(e("href","about:blank")),o.target&&(r=r.concat(e("target",o.target))),r}var a=this.getCssStyles();return a.length&&r.push(e("style",a.join(";"))),this.op.isCodeBlock()&&"string"==typeof this.op.attributes["code-block"]?r.concat(e("data-language",this.op.attributes["code-block"])):(this.op.isContainerBlock()||this.op.isLink()&&(r=r.concat(this.getLinkAttrs())),r)},e.prototype.makeAttr=function(e,t){return{key:e,value:t}},e.prototype.getLinkAttrs=function(){var e=l.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,t=l.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,n=this.op.attributes.target||e,i=this.op.attributes.rel||t;return[].concat(this.makeAttr("href",this.op.attributes.link)).concat(n?this.makeAttr("target",n):[]).concat(i?this.makeAttr("rel",i):[])},e.prototype.getCustomTag=function(e){if(this.options.customTag&&"function"==typeof this.options.customTag)return this.options.customTag.apply(null,[e,this.op])},e.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&"function"==typeof this.options.customTagAttributes)return this.options.customTagAttributes.apply(null,[this.op])},e.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&"function"==typeof this.options.customCssClasses){var e=this.options.customCssClasses.apply(null,[this.op]);if(e)return Array.isArray(e)?e:[e]}},e.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&"function"==typeof this.options.customCssStyles){var e=this.options.customCssStyles.apply(null,[this.op]);if(e)return Array.isArray(e)?e:[e]}},e.prototype.getTags=function(){var e=this,t=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var n=this.options.paragraphTag||"p",i=0,r=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",n],["direction",n],["indent",n]];i<r.length;i++){var a,l=r[i],u=l[0];if(t[u])return(a=this.getCustomTag(u))?[a]:"header"===u?["h"+t[u]]:[s.preferSecond(l)]}if(this.op.isCustomTextBlock())return(a=this.getCustomTag("renderAsBlock"))?[a]:[n];var c=Object.keys(t).reduce((function(t,n){var i=e.getCustomTag(n);return i&&(t[n]=i),t}),{}),d=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return d.filter((function(e){return!!t[e[0]]})).concat(Object.keys(c).filter((function(e){return!d.some((function(t){return t[0]==e}))})).map((function(e){return[e,c[e]]}))).map((function(e){return c[e[0]]?c[e[0]]:"script"===e[0]?t[e[0]]===o.ScriptType.Sub?"sub":"sup":s.preferSecond(e)}))},e}();t.OpToHtmlConverter=c},4722:function(e,t,n){"use strict";var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=n(204),o=n(7924),a=n(2546),s=n(1510),l=n(2949),u=n(8410),c=i(n(3140)),d=n(5374),p=n(2716),h="<br/>",f=function(){function e(e,t){var n;this.rawDeltaOps=[],this.callbacks={},this.options=c.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},t,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"}),n=this.options.inlineStyles?"object"==typeof this.options.inlineStyles?this.options.inlineStyles:{}:void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:n,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=e}return e.prototype._getListTag=function(e){return e.isOrderedList()?this.options.orderedListTag+"":e.isBulletList()||e.isCheckedList()||e.isUncheckedList()?this.options.bulletListTag+"":""},e.prototype.getGroupedOps=function(){var e=r.InsertOpsConverter.convert(this.rawDeltaOps,this.options),t=a.Grouper.pairOpsWithTheirBlock(e),n=a.Grouper.groupConsecutiveSameStyleBlocks(t,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),i=a.Grouper.reduceConsecutiveSameStyleBlocksToOne(n);return i=(new p.TableGrouper).group(i),(new l.ListNester).nest(i)},e.prototype.convert=function(){var e=this;return this.getGroupedOps().map((function(t){if(t instanceof s.ListGroup)return e._renderWithCallbacks(d.GroupType.List,t,(function(){return e._renderList(t)}));if(t instanceof s.TableGroup)return e._renderWithCallbacks(d.GroupType.Table,t,(function(){return e._renderTable(t)}));if(t instanceof s.BlockGroup){var n=t;return e._renderWithCallbacks(d.GroupType.Block,t,(function(){return e._renderBlock(n.op,n.ops)}))}return t instanceof s.BlotBlock?e._renderCustom(t.op,null):t instanceof s.VideoItem?e._renderWithCallbacks(d.GroupType.Video,t,(function(){var n=t;return new o.OpToHtmlConverter(n.op,e.converterOptions).getHtml()})):e._renderWithCallbacks(d.GroupType.InlineGroup,t,(function(){return e._renderInlines(t.ops,!0)}))})).join("")},e.prototype._renderWithCallbacks=function(e,t,n){var i="",r=this.callbacks.beforeRender_cb;(i="function"==typeof r?r.apply(null,[e,t]):"")||(i=n());var o=this.callbacks.afterRender_cb;return"function"==typeof o?o.apply(null,[e,i]):i},e.prototype._renderList=function(e){var t=this,n=e.items[0];return u.makeStartTag(this._getListTag(n.item.op))+e.items.map((function(e){return t._renderListItem(e)})).join("")+u.makeEndTag(this._getListTag(n.item.op))},e.prototype._renderListItem=function(e){e.item.op.attributes.indent=0;var t=new o.OpToHtmlConverter(e.item.op,this.converterOptions).getHtmlParts(),n=this._renderInlines(e.item.ops,!1);return t.openingTag+n+(e.innerList?this._renderList(e.innerList):"")+t.closingTag},e.prototype._renderTable=function(e){var t=this;return u.makeStartTag("table")+u.makeStartTag("tbody")+e.rows.map((function(e){return t._renderTableRow(e)})).join("")+u.makeEndTag("tbody")+u.makeEndTag("table")},e.prototype._renderTableRow=function(e){var t=this;return u.makeStartTag("tr")+e.cells.map((function(e){return t._renderTableCell(e)})).join("")+u.makeEndTag("tr")},e.prototype._renderTableCell=function(e){var t=new o.OpToHtmlConverter(e.item.op,this.converterOptions).getHtmlParts(),n=this._renderInlines(e.item.ops,!1);return u.makeStartTag("td",{key:"data-row",value:e.item.op.attributes.table})+t.openingTag+n+t.closingTag+u.makeEndTag("td")},e.prototype._renderBlock=function(e,t){var n=this,i=new o.OpToHtmlConverter(e,this.converterOptions).getHtmlParts();if(e.isCodeBlock())return i.openingTag+u.encodeHtml(t.map((function(t){return t.isCustomEmbed()?n._renderCustom(t,e):t.insert.value})).join(""))+i.closingTag;var r=t.map((function(t){return n._renderInline(t,e)})).join("");return i.openingTag+(r||h)+i.closingTag},e.prototype._renderInlines=function(e,t){var n=this;void 0===t&&(t=!0);var i=e.length-1,r=e.map((function(e,t){return t>0&&t===i&&e.isJustNewline()?"":n._renderInline(e,null)})).join("");if(!t)return r;var o=u.makeStartTag(this.options.paragraphTag),a=u.makeEndTag(this.options.paragraphTag);return r===h||this.options.multiLineParagraph?o+r+a:o+r.split(h).map((function(e){return""===e?h:e})).join(a+o)+a},e.prototype._renderInline=function(e,t){return e.isCustomEmbed()?this._renderCustom(e,t):new o.OpToHtmlConverter(e,this.converterOptions).getHtml().replace(/\n/g,h)},e.prototype._renderCustom=function(e,t){var n=this.callbacks.renderCustomOp_cb;return"function"==typeof n?n.apply(null,[e,t]):""},e.prototype.beforeRender=function(e){"function"==typeof e&&(this.callbacks.beforeRender_cb=e)},e.prototype.afterRender=function(e){"function"==typeof e&&(this.callbacks.afterRender_cb=e)},e.prototype.renderCustomWith=function(e){this.callbacks.renderCustomOp_cb=e},e}();t.QuillDeltaToHtmlConverter=f},8410:function(e,t){"use strict";var n;function i(e){return r(n.Html).reduce(a,e)}function r(e){var t=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return e===n.Html?t.filter((function(e){var t=e[0];return e[1],-1===t.indexOf("(")&&-1===t.indexOf(")")})):t.filter((function(e){var t=e[0];return e[1],-1===t.indexOf("/")}))}function o(e,t){return e.replace(new RegExp(t[0],"g"),t[1])}function a(e,t){return e.replace(new RegExp(t[1],"g"),t[0].replace("\\",""))}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Html=0]="Html",e[e.Url=1]="Url"}(n||(n={})),t.makeStartTag=function(e,t){if(void 0===t&&(t=void 0),!e)return"";var n="";t&&(n=[].concat(t).map((function(e){return e.key+(e.value?'="'+e.value+'"':"")})).join(" "));var i=">";return"img"!==e&&"br"!==e||(i="/>"),n?"<"+e+" "+n+i:"<"+e+i},t.makeEndTag=function(e){return void 0===e&&(e=""),e&&"</"+e+">"||""},t.decodeHtml=i,t.encodeHtml=function(e,t){return void 0===t&&(t=!0),t&&(e=i(e)),r(n.Html).reduce(o,e)},t.encodeLink=function(e){var t=r(n.Url),i=t.reduce(a,e);return t.reduce(o,i)}},2546:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5614),r=n(2935),o=n(1510),a=function(){function e(){}return e.pairOpsWithTheirBlock=function(e){for(var t,n=[],i=function(e){return!(e.isJustNewline()||e.isCustomEmbedBlock()||e.isVideo()||e.isContainerBlock())},a=function(e){return e.isInline()},s=e.length-1;s>=0;s--){var l=e[s];l.isVideo()?n.push(new o.VideoItem(l)):l.isCustomEmbedBlock()?n.push(new o.BlotBlock(l)):l.isContainerBlock()?(t=r.sliceFromReverseWhile(e,s-1,i),n.push(new o.BlockGroup(l,t.elements)),s=t.sliceStartsAt>-1?t.sliceStartsAt:s):(t=r.sliceFromReverseWhile(e,s-1,a),n.push(new o.InlineGroup(t.elements.concat(l))),s=t.sliceStartsAt>-1?t.sliceStartsAt:s)}return n.reverse(),n},e.groupConsecutiveSameStyleBlocks=function(t,n){return void 0===n&&(n={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),r.groupConsecutiveElementsWhile(t,(function(t,i){return t instanceof o.BlockGroup&&i instanceof o.BlockGroup&&(n.codeBlocks&&e.areBothCodeblocksWithSameLang(t,i)||n.blockquotes&&e.areBothBlockquotesWithSameAdi(t,i)||n.header&&e.areBothSameHeadersWithSameAdi(t,i)||n.customBlocks&&e.areBothCustomBlockWithSameAttr(t,i))}))},e.reduceConsecutiveSameStyleBlocksToOne=function(e){var t=i.DeltaInsertOp.createNewLineOp();return e.map((function(e){if(!Array.isArray(e))return e instanceof o.BlockGroup&&!e.ops.length&&e.ops.push(t),e;var n=e.length-1;return e[0].ops=r.flatten(e.map((function(e,i){return e.ops.length?e.ops.concat(i<n?[t]:[]):[t]}))),e[0]}))},e.areBothCodeblocksWithSameLang=function(e,t){return e.op.isCodeBlock()&&t.op.isCodeBlock()&&e.op.hasSameLangAs(t.op)},e.areBothSameHeadersWithSameAdi=function(e,t){return e.op.isSameHeaderAs(t.op)&&e.op.hasSameAdiAs(t.op)},e.areBothBlockquotesWithSameAdi=function(e,t){return e.op.isBlockquote()&&t.op.isBlockquote()&&e.op.hasSameAdiAs(t.op)},e.areBothCustomBlockWithSameAttr=function(e,t){return e.op.isCustomTextBlock()&&t.op.isCustomTextBlock()&&e.op.hasSameAttr(t.op)},e}();t.Grouper=a},2949:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1510),r=n(2935),o=function(){function e(){}return e.prototype.nest=function(e){var t=this,n=this.convertListBlocksToListGroups(e),o=this.groupConsecutiveListGroups(n),a=r.flatten(o.map((function(e){return Array.isArray(e)?t.nestListSection(e):e})));return r.groupConsecutiveElementsWhile(a,(function(e,t){return e instanceof i.ListGroup&&t instanceof i.ListGroup&&e.items[0].item.op.isSameListAs(t.items[0].item.op)})).map((function(e){if(!Array.isArray(e))return e;var t=e.map((function(e){return e.items}));return new i.ListGroup(r.flatten(t))}))},e.prototype.convertListBlocksToListGroups=function(e){return r.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof i.BlockGroup&&t instanceof i.BlockGroup&&e.op.isList()&&t.op.isList()&&e.op.isSameListAs(t.op)&&e.op.hasSameIndentationAs(t.op)})).map((function(e){return Array.isArray(e)?new i.ListGroup(e.map((function(e){return new i.ListItem(e)}))):e instanceof i.BlockGroup&&e.op.isList()?new i.ListGroup([new i.ListItem(e)]):e}))},e.prototype.groupConsecutiveListGroups=function(e){return r.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof i.ListGroup&&t instanceof i.ListGroup}))},e.prototype.nestListSection=function(e){var t=this,n=this.groupByIndent(e);return Object.keys(n).map(Number).sort().reverse().forEach((function(i){n[i].forEach((function(n){var i=e.indexOf(n);t.placeUnderParent(n,e.slice(0,i))&&e.splice(i,1)}))})),e},e.prototype.groupByIndent=function(e){return e.reduce((function(e,t){var n=t.items[0].item.op.attributes.indent;return n&&(e[n]=e[n]||[],e[n].push(t)),e}),{})},e.prototype.placeUnderParent=function(e,t){for(var n=t.length-1;n>=0;n--){var i=t[n];if(e.items[0].item.op.hasHigherIndentThan(i.items[0].item.op)){var r=i.items[i.items.length-1];return r.innerList?r.innerList.items=r.innerList.items.concat(e.items):r.innerList=e,!0}}return!1},e}();t.ListNester=o},2716:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1510),r=n(2935),o=function(){function e(){}return e.prototype.group=function(e){return this.convertTableBlocksToTableGroups(e)},e.prototype.convertTableBlocksToTableGroups=function(e){var t=this;return r.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof i.BlockGroup&&t instanceof i.BlockGroup&&e.op.isTable()&&t.op.isTable()})).map((function(e){return Array.isArray(e)?new i.TableGroup(t.convertTableBlocksToTableRows(e)):e instanceof i.BlockGroup&&e.op.isTable()?new i.TableGroup([new i.TableRow([new i.TableCell(e)])]):e}))},e.prototype.convertTableBlocksToTableRows=function(e){return r.groupConsecutiveElementsWhile(e,(function(e,t){return e instanceof i.BlockGroup&&t instanceof i.BlockGroup&&e.op.isTable()&&t.op.isTable()&&e.op.isSameTableRowAs(t.op)})).map((function(e){return new i.TableRow(Array.isArray(e)?e.map((function(e){return new i.TableCell(e)})):[new i.TableCell(e)])}))},e}();t.TableGrouper=o},1510:function(e,t){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});t.InlineGroup=function(e){this.ops=e};var r=function(e){this.op=e},o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r);t.VideoItem=o;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r);t.BlotBlock=a;t.BlockGroup=function(e,t){this.op=e,this.ops=t};t.ListGroup=function(e){this.items=e};t.ListItem=function(e,t){void 0===t&&(t=null),this.item=e,this.innerList=t};t.TableGroup=function(e){this.rows=e};t.TableRow=function(e){this.cells=e};t.TableCell=function(e){this.item=e}},2935:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferSecond=function(e){return 0===e.length?null:e.length>=2?e[1]:e[0]},t.flatten=function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])},t.find=function(e,t){if(Array.prototype.find)return Array.prototype.find.call(e,t);for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]},t.groupConsecutiveElementsWhile=function(e,t){for(var n,i=[],r=0;r<e.length;r++)n=e[r],r>0&&t(n,e[r-1])?i[i.length-1].push(n):i.push([n]);return i.map((function(e){return 1===e.length?e[0]:e}))},t.sliceFromReverseWhile=function(e,t,n){for(var i={elements:[],sliceStartsAt:-1},r=t;r>=0&&n(e[r]);r--)i.sliceStartsAt=r,i.elements.unshift(e[r]);return i},t.intersperse=function(e,t){return e.reduce((function(n,i,r){return n.push(i),r<e.length-1&&n.push(t),n}),[])}},3140:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),r=0;r<t.length;r++){var o=t[r];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i}},932:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tokenizeWithNewLines=function(e){var t="\n";if(e===t)return[e];var n=e.split(t);if(1===n.length)return n;var i=n.length-1;return n.reduce((function(e,n,r){return r!==i?""!==n?e=e.concat(n,t):e.push(t):""!==n&&e.push(n),e}),[])}},1579:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=function(e){var t=e;return t=t.replace(/^\s*/gm,""),/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/.test(t)?t:"unsafe:"+t}},4180:function(e,t,n){"use strict";var i=n(4722);t.bc=i.QuillDeltaToHtmlConverter,n(7924).OpToHtmlConverter;var r=n(1510);r.InlineGroup,r.VideoItem,r.BlockGroup,r.ListGroup,r.ListItem,r.BlotBlock,n(5614).DeltaInsertOp;var o=n(6176);o.InsertDataQuill,o.InsertDataCustom;var a=n(5374);a.NewLine,a.ListType,a.ScriptType,a.DirectionType,a.AlignType,a.DataType,a.GroupType},9250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5195),r=function(){function e(){}return e.sanitize=function(t,n){var r={};return t&&"object"==typeof t?(t.class&&e.IsValidClass(t.class)&&(r.class=t.class),t.id&&e.IsValidId(t.id)&&(r.id=t.id),e.IsValidTarget(t.target+"")&&(r.target=t.target),t.avatar&&(r.avatar=i.OpLinkSanitizer.sanitize(t.avatar+"",n)),t["end-point"]&&(r["end-point"]=i.OpLinkSanitizer.sanitize(t["end-point"]+"",n)),t.slug&&(r.slug=t.slug+""),r):r},e.IsValidClass=function(e){return!!e.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},e.IsValidId=function(e){return!!e.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},e.IsValidTarget=function(e){return["_self","_blank","_parent","_top"].indexOf(e)>-1},e}();t.MentionSanitizer=r},5374:function(e,t){"use strict";var n,i,r,o,a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.NewLine="\n",function(e){e.Ordered="ordered",e.Bullet="bullet",e.Checked="checked",e.Unchecked="unchecked"}(n||(n={})),t.ListType=n,function(e){e.Sub="sub",e.Super="super"}(i||(i={})),t.ScriptType=i,function(e){e.Rtl="rtl"}(r||(r={})),t.DirectionType=r,function(e){e.Left="left",e.Center="center",e.Right="right",e.Justify="justify"}(o||(o={})),t.AlignType=o,function(e){e.Image="image",e.Video="video",e.Formula="formula",e.Text="text"}(a||(a={})),t.DataType=a,function(e){e.Block="block",e.InlineGroup="inline-group",e.List="list",e.Video="video",e.Table="table"}(s||(s={})),t.GroupType=s},546:function(e,t,n){var i;"undefined"!=typeof self&&self,i=function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n(0)),a=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}o.default.register("formats/horizontal",a.default);var l=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.ignoreTags=["PRE"],this.matches=[{name:"header",pattern:/^(#){1,6}\s/g,action:function(e,t,n){var r=n.exec(e);if(r){var o=r[0].length;setTimeout((function(){i.quill.formatLine(t.index,0,"header",o-1),i.quill.deleteText(t.index-o,o)}),0)}}},{name:"blockquote",pattern:/^(>)\s/g,action:function(e,t){setTimeout((function(){i.quill.formatLine(t.index,1,"blockquote",!0),i.quill.deleteText(t.index-2,2)}),0)}},{name:"code-block",pattern:/^`{3}(?:\s|\n)/g,action:function(e,t){setTimeout((function(){i.quill.formatLine(t.index,1,"code-block",!0),i.quill.deleteText(t.index-4,4)}),0)}},{name:"bolditalic",pattern:/(?:\*|_){3}(.+?)(?:\*|_){3}/g,action:function(e,t,n,r){var o=n.exec(e),a=o[0],s=o[1],l=r+o.index;e.match(/^([*_ \n]+)$/g)||setTimeout((function(){i.quill.deleteText(l,a.length),i.quill.insertText(l,s,{bold:!0,italic:!0}),i.quill.format("bold",!1)}),0)}},{name:"bold",pattern:/(?:\*|_){2}(.+?)(?:\*|_){2}/g,action:function(e,t,n,r){var o=n.exec(e),a=o[0],s=o[1],l=r+o.index;e.match(/^([*_ \n]+)$/g)||setTimeout((function(){i.quill.deleteText(l,a.length),i.quill.insertText(l,s,{bold:!0}),i.quill.format("bold",!1)}),0)}},{name:"italic",pattern:/(?:\*|_){1}(.+?)(?:\*|_){1}/g,action:function(e,t,n,r){var o=n.exec(e),a=o[0],s=o[1],l=r+o.index;e.match(/^([*_ \n]+)$/g)||setTimeout((function(){i.quill.deleteText(l,a.length),i.quill.insertText(l,s,{italic:!0}),i.quill.format("italic",!1)}),0)}},{name:"strikethrough",pattern:/(?:~~)(.+?)(?:~~)/g,action:function(e,t,n,r){var o=n.exec(e),a=o[0],s=o[1],l=r+o.index;e.match(/^([*_ \n]+)$/g)||setTimeout((function(){i.quill.deleteText(l,a.length),i.quill.insertText(l,s,{strike:!0}),i.quill.format("strike",!1)}),0)}},{name:"code",pattern:/(?:`)(.+?)(?:`)/g,action:function(e,t,n,r){var o=n.exec(e),a=o[0],s=o[1],l=r+o.index;e.match(/^([*_ \n]+)$/g)||setTimeout((function(){i.quill.deleteText(l,a.length),i.quill.insertText(l,s,{code:!0}),i.quill.format("code",!1),i.quill.insertText(i.quill.getSelection()," ")}),0)}},{name:"hr",pattern:/^([-*]\s?){3}/g,action:function(e,t){var n=t.index-e.length;setTimeout((function(){i.quill.deleteText(n,e.length),i.quill.insertEmbed(n+1,"hr",!0,o.default.sources.USER),i.quill.insertText(n+2,"\n",o.default.sources.SILENT),i.quill.setSelection(n+2,o.default.sources.SILENT)}),0)}},{name:"asterisk-ul",pattern:/^(\*|\+)\s$/g,action:function(e,t,n){setTimeout((function(){i.quill.formatLine(t.index,1,"list","unordered"),i.quill.deleteText(t.index-2,2)}),0)}},{name:"image",pattern:/(?:!\[(.+?)\])(?:\((.+?)\))/g,action:function(e,t,n){var r=e.search(n),o=e.match(n)[0],a=e.match(/(?:\((.*?)\))/g)[0],s=t.index-o.length-1;-1!==r&&setTimeout((function(){i.quill.deleteText(s,o.length),i.quill.insertEmbed(s,"image",a.slice(1,a.length-1))}),0)}},{name:"link",pattern:/(?:\[(.+?)\])(?:\((.+?)\))/g,action:function(e,t,n){var r=e.search(n),o=e.match(n)[0],a=e.match(/(?:\[(.*?)\])/g)[0],s=e.match(/(?:\((.*?)\))/g)[0],l=t.index-o.length-1;-1!==r&&setTimeout((function(){i.quill.deleteText(l,o.length),i.quill.insertText(l,a.slice(1,a.length-1),"link",s.slice(1,s.length-1))}),0)}}],this.quill.on("text-change",(function(e,t,n){for(var r=0;r<e.ops.length;r++)e.ops[r].hasOwnProperty("insert")&&(" "===e.ops[r].insert?i.onSpace():"\n"===e.ops[r].insert&&i.onEnter())}))}return r(e,[{key:"isValid",value:function(e,t){return void 0!==e&&e&&-1===this.ignoreTags.indexOf(t)}},{key:"onSpace",value:function(){var e=this.quill.getSelection();if(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],o=n[1],a=r.domNode.textContent,s=e.index-o;if(this.isValid(a,r.domNode.tagName)){var l=!0,u=!1,c=void 0;try{for(var d,p=this.matches[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var h=d.value;if(a.match(h.pattern))return void h.action(a,e,h.pattern,s)}}catch(e){u=!0,c=e}finally{try{!l&&p.return&&p.return()}finally{if(u)throw c}}}}}},{key:"onEnter",value:function(){var e=this.quill.getSelection();if(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],o=n[1],a=r.domNode.textContent+" ",s=e.index-o;if(e.length=e.index++,this.isValid(a,r.domNode.tagName)){var l=!0,u=!1,c=void 0;try{for(var d,p=this.matches[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var h=d.value;if(a.match(h.pattern))return void h.action(a,e,h.pattern,s)}}catch(e){u=!0,c=e}finally{try{!l&&p.return&&p.return()}finally{if(u)throw c}}}}}}]),e}();window.Quill&&window.Quill.register("modules/markdownShortcuts",l),e.exports=l},function(e,t,n){"use strict";var i;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=n(0))&&i.__esModule?i:{default:i}).default.import("blots/block/embed"));a.blotName="hr",a.tagName="hr",t.default=a}])},e.exports=i(n(6095))},6095:function(e){var t;"undefined"!=typeof self&&self,t=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),r=n(18),o=n(19),a=n(45),s=n(46),l=n(47),u=n(48),c=n(49),d=n(12),p=n(32),h=n(33),f=n(31),m=n(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:i.default,Format:r.default,Leaf:o.default,Embed:u.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:c.default,Attributor:{Attribute:d.default,Class:p.default,Style:h.default,Store:f.default}};t.default=g},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return r(t,e),t}(Error);t.ParchmentError=o;var a,s={},l={},u={},c={};function d(e,t){var n;if(void 0===t&&(t=a.ANY),"string"==typeof e)n=c[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=c.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?n=c.block:e&a.LEVEL&a.INLINE&&(n=c.inline);else if(e instanceof HTMLElement){var i=(e.getAttribute("class")||"").split(/\s+/);for(var r in i)if(n=l[i[r]])break;n=n||u[e.tagName]}return null==n?null:t&a.LEVEL&n.scope&&t&a.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var n=d(e);if(null==n)throw new o("Unable to create "+e+" blot");var i=n,r=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(t);return new i(r,t)},t.find=function e(n,i){return void 0===i&&(i=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:i?e(n.parentNode,i):null},t.query=d,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var i=t[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new o("Invalid definition");if("abstract"===i.blotName)throw new o("Cannot register abstract class");if(c[i.blotName||i.attrName]=i,"string"==typeof i.keyName)s[i.keyName]=i;else if(null!=i.className&&(l[i.className]=i),null!=i.tagName){Array.isArray(i.tagName)?i.tagName=i.tagName.map((function(e){return e.toUpperCase()})):i.tagName=i.tagName.toUpperCase();var r=Array.isArray(i.tagName)?i.tagName:[i.tagName];r.forEach((function(e){null!=u[e]&&null!=i.className||(u[e]=i)}))}return i}},function(e,t,n){var i=n(51),r=n(11),o=n(3),a=n(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=o(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(i){(e(i)?t:n).push(i)})),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],i=a.iterator(this.ops),r=0;r<t&&i.hasNext();){var o;r<e?o=i.next(e-r):(o=i.next(t-r),n.push(o)),r+=a.length(o)}return new l(n)},l.prototype.compose=function(e){var t=a.iterator(this.ops),n=a.iterator(e.ops),i=[],o=n.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var s=o.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),i.push(t.next());o.retain-s>0&&n.next(o.retain-s)}for(var u=new l(i);t.hasNext()||n.hasNext();)if("insert"===n.peekType())u.push(n.next());else if("delete"===t.peekType())u.push(t.next());else{var c=Math.min(t.peekLength(),n.peekLength()),d=t.next(c),p=n.next(c);if("number"==typeof p.retain){var h={};"number"==typeof d.retain?h.retain=c:h.insert=d.insert;var f=a.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(f&&(h.attributes=f),u.push(h),!n.hasNext()&&r(u.ops[u.ops.length-1],h)){var m=new l(t.rest());return u.concat(m).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&u.push(p)}return u.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),o=new l,u=i(n[0],n[1],t),c=a.iterator(this.ops),d=a.iterator(e.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case i.INSERT:n=Math.min(d.peekLength(),t),o.push(d.next(n));break;case i.DELETE:n=Math.min(t,c.peekLength()),c.next(n),o.delete(n);break;case i.EQUAL:n=Math.min(c.peekLength(),d.peekLength(),t);var s=c.next(n),l=d.next(n);r(s.insert,l.insert)?o.retain(n,a.attributes.diff(s.attributes,l.attributes)):o.push(l).delete(n)}t-=n}})),o.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=a.iterator(this.ops),i=new l,r=0;n.hasNext();){if("insert"!==n.peekType())return;var o=n.peek(),s=a.length(o)-n.peekLength(),u="string"==typeof o.insert?o.insert.indexOf(t,s)-s:-1;if(u<0)i.push(n.next());else if(u>0)i.push(n.next(u));else{if(!1===e(i,n.next(1).attributes||{},r))return;r+=1,i=new l}}i.length()>0&&e(i,{},r)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=a.iterator(this.ops),i=a.iterator(e.ops),r=new l;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===i.peekType())if("insert"===i.peekType())r.push(i.next());else{var o=Math.min(n.peekLength(),i.peekLength()),s=n.next(o),u=i.next(o);if(s.delete)continue;u.delete?r.push(u):r.retain(o,a.attributes.transform(s.attributes,u.attributes,t))}else r.retain(a.length(n.next()));return r.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=a.iterator(this.ops),i=0;n.hasNext()&&i<=e;){var r=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(i<e||!t)&&(e+=r),i+=r):e-=Math.min(r,e-i)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},s=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!o)return!1;for(t in e);return void 0===t||n.call(e,t)},l=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(o)return o(e,t).value}return e[t]};e.exports=function e(){var t,n,i,r,o,c,d=arguments[0],p=1,h=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<h;++p)if(null!=(t=arguments[p]))for(n in t)i=u(d,n),d!==(r=u(t,n))&&(f&&r&&(s(r)||(o=a(r)))?(o?(o=!1,c=i&&a(i)?i:[]):c=i&&s(i)?i:{},l(d,{name:n,newValue:e(f,c,r)})):void 0!==r&&l(d,{name:n,newValue:r}));return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=d(n(3)),a=d(n(2)),s=d(n(0)),l=d(n(16)),u=d(n(6)),c=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),i(t,[{key:"attach",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,o.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,i){this.format(n,i)}},{key:"insertAt",value:function(e,n,i){if("string"==typeof n&&n.endsWith("\n")){var o=s.default.create(g.blotName);this.parent.insertBefore(o,0===e?this:this.next),o.insertAt(0,n.slice(0,-1))}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i)}}]),t}(s.default.Embed);m.scope=s.default.Scope.BLOCK_BLOT;var g=function(e){function t(e){p(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return f(t,e),i(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),v(t))}),new a.default).insert("\n",v(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,i,o){n<=0||(s.default.query(i,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(i,o):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),i,o),this.cache={})}},{key:"insertAt",value:function(e,n,i){if(null!=i)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);if(0!==n.length){var o=n.split("\n"),a=o.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;o.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+a.length)}}},{key:"insertBefore",value:function(e,n){var i=this.children.head;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),i instanceof l.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var i=this.clone();return 0===e?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var o=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},o}}]),t}(s.default.Block);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,o.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:v(e.parent,t))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[u.default,s.default.Embed,c.default],t.bubbleFormats=v,t.BlockEmbed=m,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(50);var a=g(n(2)),s=g(n(14)),l=g(n(8)),u=g(n(9)),c=g(n(0)),d=n(15),p=g(d),h=g(n(3)),f=g(n(10)),m=g(n(34));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var b=(0,f.default)("quill"),w=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(this,e),this.options=_(t,i),this.container=this.options.container,null==this.container)return b.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var i=n.selection.lastRange,r=i&&0===i.length?i.index:void 0;x.call(n,(function(){return n.editor.update(null,t,r)}),e)}));var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(o),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),f.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&b.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var r=e.attrName||e.blotName;"string"==typeof r?this.register("formats/"+r,e,t):Object.keys(e).forEach((function(i){n.register(i,e[i],t)}))}else null==this.imports[e]||i||b.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),o(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var i=this,o=C(e,t,n),a=r(o,4);return e=a[0],t=a[1],n=a[3],x.call(this,(function(){return i.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return x.call(this,(function(){var i=n.getSelection(!0),r=new a.default;if(null==i)return r;if(c.default.query(e,c.default.Scope.BLOCK))r=n.editor.formatLine(i.index,i.length,v({},e,t));else{if(0===i.length)return n.selection.format(e,t),r;r=n.editor.formatText(i.index,i.length,v({},e,t))}return n.setSelection(i,l.default.sources.SILENT),r}),i)}},{key:"formatLine",value:function(e,t,n,i,o){var a,s=this,l=C(e,t,n,i,o),u=r(l,4);return e=u[0],t=u[1],a=u[2],o=u[3],x.call(this,(function(){return s.editor.formatLine(e,t,a)}),o,e,0)}},{key:"formatText",value:function(e,t,n,i,o){var a,s=this,l=C(e,t,n,i,o),u=r(l,4);return e=u[0],t=u[1],a=u[2],o=u[3],x.call(this,(function(){return s.editor.formatText(e,t,a)}),o,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=C(e,t),i=r(n,2);return e=i[0],t=i[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=C(e,t),i=r(n,2);return e=i[0],t=i[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return x.call(this,(function(){return r.editor.insertEmbed(t,n,i)}),o,t)}},{key:"insertText",value:function(e,t,n,i,o){var a,s=this,l=C(e,0,n,i,o),u=r(l,4);return e=u[0],a=u[2],o=u[3],x.call(this,(function(){return s.editor.insertText(e,t,a)}),o,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var i=this,o=C(e,t,n),a=r(o,4);return e=a[0],t=a[1],n=a[3],x.call(this,(function(){return i.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return x.call(this,(function(){e=new a.default(e);var n=t.getLength(),i=t.editor.deleteText(0,n),r=t.editor.applyDelta(e),o=r.ops[r.ops.length-1];return null!=o&&"string"==typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),i.compose(r)}),n)}},{key:"setSelection",value:function(t,n,i){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var o=C(t,n,i),a=r(o,4);t=a[0],n=a[1],i=a[3],this.selection.setRange(new d.Range(t,n),i),i!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new a.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return x.call(this,(function(){return e=new a.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();function _(e,t){if((t=(0,h.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==w.DEFAULTS.theme){if(t.theme=w.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=m.default;var n=(0,h.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var i=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=w.import("modules/"+t);return null==n?b.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,h.default)(!0,{},w.DEFAULTS,{modules:i},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function x(e,t,n,i){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new a.default;var r=null==n?null:this.getSelection(),o=this.editor.delta,s=e();if(null!=r&&(!0===n&&(n=r.index),null==i?r=k(r,s,t):0!==i&&(r=k(r,n,i,t)),this.setSelection(r,l.default.sources.SILENT)),s.length()>0){var u,c,d=[l.default.events.TEXT_CHANGE,s,o,t];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT&&(c=this.emitter).emit.apply(c,d)}return s}function C(e,t,n,r,o){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(o=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(o=r,r=n,n=t,t=0),"object"===(void 0===n?"undefined":i(n))?(a=n,o=r):"string"==typeof n&&(null!=r?a[n]=r:o=n),[e,t,a,o=o||l.default.sources.API]}function k(e,t,n,i){if(null==e)return null;var o=void 0,s=void 0;if(t instanceof a.default){var u=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,i!==l.default.sources.USER)})),c=r(u,2);o=c[0],s=c[1]}else{var p=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&i===l.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),h=r(p,2);o=h[0],s=h[1]}return new d.Range(o,s-o)}w.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},w.events=l.default.events,w.sources=l.default.sources,w.version="1.3.7",w.imports={delta:a.default,parchment:c.default,"core/module":u.default,"core/theme":m.default},t.expandConfig=_,t.overload=C,t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=s(n(7)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"formatAt",value:function(e,n,i,o){if(t.compare(this.statics.blotName,i)<0&&a.default.query(i,a.default.Scope.BLOT)){var s=this.isolate(e,n);o&&s.wrap(i,o)}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,o)}},{key:"optimize",value:function(e){if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var i=t.order.indexOf(e),r=t.order.indexOf(n);return i>=0||r>=0?i-r:e===n?0:e<n?-1:1}}]),t}(a.default.Inline);c.allowedChildren=[c,a.default.Embed,o.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=c},function(e,t,n){"use strict";var i;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=n(0))&&i.__esModule?i:{default:i}).default.Text);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=a(n(54));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,a(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"emit",value:function(){s.log.apply(s,arguments),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(this.listeners[e.type]||[]).forEach((function(t){var i=t.node,r=t.handler;(e.target===i||i.contains(e.target))&&r.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(o.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.quill=t,this.options=n};r.DEFAULTS={},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["error","warn","log","info"],r="warn";function o(e){if(i.indexOf(e)<=i.indexOf(r)){for(var t,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(t=console)[e].apply(t,o)}}function a(e){return i.reduce((function(t,n){return t[n]=o.bind(console,n,e),t}),{})}o.level=a.level=function(e){r=e},t.default=a},function(e,t,n){var i=Array.prototype.slice,r=n(52),o=n(53),a=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var u,c;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=i.call(e),t=i.call(t),a(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var d=r(e),p=r(t)}catch(e){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),u=d.length-1;u>=0;u--)if(d[u]!=p[u])return!1;for(u=d.length-1;u>=0;u--)if(c=d[u],!a(e[c],t[c],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null==e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var r=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&i.Scope.LEVEL|r:this.scope=i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=i.query(e,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=d(n(2)),s=d(n(0)),l=d(n(4)),u=d(n(6)),c=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(u.default);m.blotName="code",m.tagName="CODE";var g=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new a.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var r=this.descendant(c.default,this.length()-1),a=i(r,1)[0];null!=a&&a.deleteAt(a.length()-1,1),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,i,r){if(0!==n&&null!=s.default.query(i,s.default.Scope.BLOCK)&&(i!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var o=this.newlineIndex(e);if(!(o<0||o>=e+n)){var a=this.newlineIndex(e,!0)+1,l=o-a+1,u=this.isolate(a,l),c=u.next;u.format(i,r),c instanceof t&&c.formatAt(0,e-a+n-l,i,r)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var r=this.descendant(c.default,e),o=i(r,2),a=o[0],s=o[1];a.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var n=this.domNode.textContent.slice(e).indexOf("\n");return n>-1?e+n:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(l.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",t.Code=m,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=v(n(2)),s=v(n(20)),l=v(n(0)),u=v(n(13)),c=v(n(24)),d=n(4),p=v(d),h=v(n(16)),f=v(n(21)),m=v(n(11)),g=v(n(3));function v(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return o(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var o=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,f.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,f.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var i=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(i,t.attributes)}return e.push(t)}),new a.default)}(e)).reduce((function(e,a){var u=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var h=a.insert;h.endsWith("\n")&&n&&(n=!1,h=h.slice(0,-1)),e>=o&&!h.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,h);var f=t.scroll.line(e),m=r(f,2),v=m[0],y=m[1],b=(0,g.default)({},(0,d.bubbleFormats)(v));if(v instanceof p.default){var w=v.descendant(l.default.Leaf,y),_=r(w,1)[0];b=(0,g.default)(b,(0,d.bubbleFormats)(_))}c=s.default.attributes.diff(b,c)||{}}else if("object"===i(a.insert)){var x=Object.keys(a.insert)[0];if(null==x)return e;t.scroll.insertAt(e,x,a.insert[x])}o+=u}return Object.keys(c).forEach((function(n){t.scroll.formatAt(e,u,n,c[n])})),e+u}),0),e.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach((function(r){if(null==n.scroll.whitelist||n.scroll.whitelist[r]){var o=n.scroll.lines(e,Math.max(t,1)),a=t;o.forEach((function(t){var o=t.length();if(t instanceof u.default){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,r,i[r])}else t.format(r,i[r]);a-=o}))}})),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,f.default)(i)))}},{key:"formatText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach((function(r){n.scroll.formatAt(e,t,r,i[r])})),this.update((new a.default).retain(e).retain(t,(0,f.default)(i)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===t?this.scroll.path(e).forEach((function(e){var t=r(e,1)[0];t instanceof p.default?n.push(t):t instanceof l.default.Leaf&&i.push(t)})):(n=this.scroll.lines(e,t),i=this.scroll.descendants(l.default.Leaf,e,t));var o=[n,i].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=w((0,d.bubbleFormats)(n),t)}return t}));return g.default.apply(g.default,o)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new a.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(i).forEach((function(r){n.scroll.formatAt(e,t.length,r,i[r])})),this.update((new a.default).retain(e).insert(t,(0,f.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&!(e.children.length>1)&&e.children.head instanceof h.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),i=this.scroll.line(e+t),o=r(i,2),s=o[0],l=o[1],c=0,d=new a.default;null!=s&&(c=s instanceof u.default?s.newlineIndex(l)-l+1:s.length()-l,d=s.delta().slice(l,l+c-1).insert("\n"));var p=this.getContents(e,t+c).diff((new a.default).insert(n).concat(d)),h=(new a.default).retain(e).concat(p);return this.applyDelta(h)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&l.default.find(t[0].target)){var r=l.default.find(t[0].target),o=(0,d.bubbleFormats)(r),s=r.offset(this.scroll),u=t[0].oldValue.replace(c.default.CONTENTS,""),p=(new a.default).insert(u),h=(new a.default).insert(r.value()),f=(new a.default).retain(s).concat(p.diff(h,n));e=f.reduce((function(e,t){return t.insert?e.insert(t.insert,o):e.push(t)}),new a.default),this.delta=i.compose(e)}else this.delta=this.getDelta(),e&&(0,m.default)(i.compose(e),this.delta)||(e=i.diff(this.delta,n));return e}}]),e}();function w(e,t){return Object.keys(t).reduce((function(n,i){return null==e[i]||(t[i]===e[i]?n[i]=t[i]:Array.isArray(t[i])?t[i].indexOf(e[i])<0&&(n[i]=t[i].concat([e[i]])):n[i]=[t[i],e[i]]),n}),{})}t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=u(n(0)),a=u(n(21)),s=u(n(11)),l=u(n(8));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,u(n(10)).default)("quill:selection"),h=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=n},f=function(){function e(t,n){var i=this;d(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){i.mouseDown||setTimeout(i.update.bind(i,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&i.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(i.hasFocus()){var e=i.getNativeRange();null!=e&&e.start.node!==i.cursor.textNode&&i.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{i.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,r=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;i.setNativeRange(r,o,a,s)}})),this.update(l.default.sources.SILENT)}return r(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!o.default.query(e,o.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=o.default.find(n.start.node,!1);if(null==i)return;if(i instanceof o.default.Leaf){var r=i.split(n.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var r=void 0,o=this.scroll.leaf(e),a=i(o,2),s=a[0],l=a[1];if(null==s)return null;var u=s.position(l,!0),c=i(u,2);r=c[0],l=c[1];var d=document.createRange();if(t>0){d.setStart(r,l);var p=this.scroll.leaf(e+t),h=i(p,2);if(s=h[0],l=h[1],null==s)return null;var f=s.position(l,!0),m=i(f,2);return r=m[0],l=m[1],d.setEnd(r,l),d.getBoundingClientRect()}var g="left",v=void 0;return r instanceof Text?(l<r.data.length?(d.setStart(r,l),d.setEnd(r,l+1)):(d.setStart(r,l-1),d.setEnd(r,l),g="right"),v=d.getBoundingClientRect()):(v=s.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:v.top+v.height,height:v.height,left:v[g],right:v[g],top:v.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return p.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var r=n.map((function(e){var n=i(e,2),r=n[0],a=n[1],s=o.default.find(r,!0),l=s.offset(t.scroll);return 0===a?l:s instanceof o.default.Container?l+s.length():l+s.index(r,a)})),a=Math.min(Math.max.apply(Math,c(r)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(c(r)));return new h(s,a-s)}},{key:"normalizeNative",value:function(e){if(!m(this.root,e.startContainer)||!e.collapsed&&!m(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],o=this.scroll.length();return n.forEach((function(e,n){e=Math.min(o-1,e);var a,s=t.scroll.leaf(e),l=i(s,2),u=l[0],c=l[1],d=u.position(c,0!==n),p=i(d,2);a=p[0],c=p[1],r.push(a,c)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var r=this.scroll.length()-1,o=this.scroll.line(Math.min(t.index,r)),a=i(o,1)[0],s=a;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,r));s=i(l,1)[0]}if(null!=a&&null!=s){var u=e.getBoundingClientRect();n.top<u.top?e.scrollTop-=u.top-n.top:n.bottom>u.bottom&&(e.scrollTop+=n.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,n,i),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||r||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||i!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,i),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof t&&(n=t,t=!1),p.info("setRange",e),null!=e){var i=this.rangeToNative(e);this.setNativeRange.apply(this,c(i).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,n=this.getRange(),r=i(n,2),o=r[0],u=r[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var c;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[l.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(p)),e!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),e}();function m(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=h,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"insertInto",value:function(e,n){0===e.children.length?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((i=n(0))&&i.__esModule?i:{default:i}).default.Embed);l.blotName="break",l.tagName="BR",t.default=l},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),a=n(30),s=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=u(t);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var i=this.children.find(n),r=i[0],o=i[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,o]:r instanceof t?r.descendant(e,o):[null,-1]},t.prototype.descendants=function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],o=i;return this.children.forEachAt(n,i,(function(n,i,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&r.push(n),n instanceof t&&(r=r.concat(n.descendants(e,i,o))),o-=a})),r},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,i){this.children.forEachAt(e,t,(function(e,t,r){e.formatAt(t,r,n,i)}))},t.prototype.insertAt=function(e,t,n){var i=this.children.find(e),r=i[0],o=i[1];if(r)r.insertAt(o,t,n);else{var a=null==n?s.create("text",t):s.create(t,n);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var i=this.children.find(e,n),r=i[0],o=i[1],a=[[this,e]];return r instanceof t?a.concat(r.path(o,n)):(null!=r&&a.push([r,o]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,i,r){e=e.split(i,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,i=[],r=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(i.push.apply(i,e.addedNodes),r.push.apply(r,e.removedNodes))})),r.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),i.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var i=u(e);i.next==t&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,t||void 0))}))},t}(a.default);function u(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=n(31),s=n(17),l=n(1),u=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new a.default(n.domNode),n}return r(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=l.query(e);n instanceof o.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var i=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(i),i},t.prototype.update=function(t,n){var i=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===i.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,i){var r=e.prototype.wrap.call(this,n,i);return r instanceof t&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},t}(s.default);t.default=u},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(o.default);t.default=s},function(e,t,n){var i=n(11),r=n(3),o={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var i=r(!0,{},t);for(var o in n||(i=Object.keys(i).reduce((function(e,t){return null!=i[t]&&(e[t]=i[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(i[o]=e[o]);return Object.keys(i).length>0?i:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return i(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var i=Object.keys(t).reduce((function(n,i){return void 0===e[i]&&(n[i]=t[i]),n}),{});return Object.keys(i).length>0?i:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,i=o.length(t);if(e>=i-n?(e=i-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"string"==typeof t.insert?r.insert=t.insert.substr(n,e):r.insert=t.insert,r}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(i)}return[]},e.exports=o},function(e,t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,i;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{i=Promise}catch(e){i=function(){}}function r(o,s,l,u,c){"object"==typeof s&&(l=s.depth,u=s.prototype,c=s.includeNonEnumerable,s=s.circular);var d=[],p=[],h="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===l&&(l=1/0),function o(l,f){if(null===l)return null;if(0===f)return l;var m,g;if("object"!=typeof l)return l;if(e(l,t))m=new t;else if(e(l,n))m=new n;else if(e(l,i))m=new i((function(e,t){l.then((function(t){e(o(t,f-1))}),(function(e){t(o(e,f-1))}))}));else if(r.__isArray(l))m=[];else if(r.__isRegExp(l))m=new RegExp(l.source,a(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(r.__isDate(l))m=new Date(l.getTime());else{if(h&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):void 0===u?(g=Object.getPrototypeOf(l),m=Object.create(g)):(m=Object.create(u),g=u)}if(s){var v=d.indexOf(l);if(-1!=v)return p[v];d.push(l),p.push(m)}for(var y in e(l,t)&&l.forEach((function(e,t){var n=o(t,f-1),i=o(e,f-1);m.set(n,i)})),e(l,n)&&l.forEach((function(e){var t=o(e,f-1);m.add(t)})),l){var b;g&&(b=Object.getOwnPropertyDescriptor(g,y)),b&&null==b.set||(m[y]=o(l[y],f-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(l);for(y=0;y<w.length;y++){var _=w[y];(!(C=Object.getOwnPropertyDescriptor(l,_))||C.enumerable||c)&&(m[_]=o(l[_],f-1),C.enumerable||Object.defineProperty(m,_,{enumerable:!1}))}}if(c){var x=Object.getOwnPropertyNames(l);for(y=0;y<x.length;y++){var C,k=x[y];(C=Object.getOwnPropertyDescriptor(l,k))&&C.enumerable||(m[k]=o(l[k],f-1),Object.defineProperty(m,k,{enumerable:!1}))}}return m}(o,l)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=o,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},r.__getRegExpFlags=a,r}();"object"==typeof e&&e.exports&&(e.exports=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=h(n(0)),s=h(n(8)),l=n(4),u=h(l),c=h(n(16)),d=h(n(13)),p=h(n(25));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return e instanceof u.default||e instanceof l.BlockEmbed}var m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),i.domNode.addEventListener("DOMNodeInserted",(function(){})),i.optimize(),i.enable(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var r=this.line(e),a=i(r,2),s=a[0],u=a[1],p=this.line(e+n),h=i(p,1)[0];if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=h&&s!==h&&u>0){if(s instanceof l.BlockEmbed||h instanceof l.BlockEmbed)return void this.optimize();if(s instanceof d.default){var f=s.newlineIndex(s.length(),!0);if(f>-1&&(s=s.split(f+1))===h)return void this.optimize()}else if(h instanceof d.default){var m=h.newlineIndex(0);m>-1&&h.split(m+1)}var g=h.children.head instanceof c.default?null:h.children.head;s.moveChildren(h,g),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,i,r){(null==this.whitelist||this.whitelist[i])&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,r),this.optimize())}},{key:"insertAt",value:function(e,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==i||null==a.default.query(n,a.default.Scope.BLOCK)){var r=a.default.create(this.statics.defaultChild);this.appendChild(r),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),r.insertAt(0,n,i)}else{var s=a.default.create(n,i);this.appendChild(s)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var i=a.default.create(this.statics.defaultChild);i.appendChild(e),e=i}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(f,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function e(t,n,i){var r=[],o=i;return t.children.forEachAt(n,i,(function(t,n,i){f(t)?r.push(t):t instanceof a.default.Container&&(r=r.concat(e(t,n,o))),o-=i})),r};return n(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}(a.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[u.default,l.BlockEmbed,p.default],t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=m(n(21)),s=m(n(11)),l=m(n(3)),u=m(n(2)),c=m(n(20)),d=m(n(0)),p=m(n(5)),h=m(n(10)),f=m(n(9));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=(0,h.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.bindings={},Object.keys(i.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&i.options.bindings[t]&&i.addBinding(i.options.bindings[t])})),i.addBinding({key:t.keys.ENTER,shiftKey:null},k),i.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},_),i.addBinding({key:t.keys.DELETE},{collapsed:!0},x)):(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},_),i.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},x)),i.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},C),i.addBinding({key:t.keys.DELETE},{collapsed:!1},C),i.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},_),i.listen(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"match",value:function(e,t){return t=E(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),o(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=E(e);if(null==i||null==i.key)return v.warn("Attempted to add invalid keyboard binding",i);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),i=(0,l.default)(i,t,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var o=n.which||n.keyCode,a=(e.bindings[o]||[]).filter((function(e){return t.match(n,e)}));if(0!==a.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var u=e.quill.getLine(l.index),c=r(u,2),p=c[0],h=c[1],f=e.quill.getLeaf(l.index),m=r(f,2),g=m[0],v=m[1],y=0===l.length?[g,v]:e.quill.getLeaf(l.index+l.length),b=r(y,2),w=b[0],_=b[1],x=g instanceof d.default.Text?g.value().slice(0,v):"",C=w instanceof d.default.Text?w.value().slice(_):"",k={collapsed:0===l.length,empty:0===l.length&&p.length()<=1,format:e.quill.getFormat(l),offset:h,prefix:x,suffix:C};a.some((function(t){if(null!=t.collapsed&&t.collapsed!==k.collapsed)return!1;if(null!=t.empty&&t.empty!==k.empty)return!1;if(null!=t.offset&&t.offset!==k.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==k.format[e]})))return!1}else if("object"===i(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=k.format[e]:!1===t.format[e]?null==k.format[e]:(0,s.default)(t.format[e],k.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(k.prefix)||null!=t.suffix&&!t.suffix.test(k.suffix)||!0===t.handler.call(e,l,k))}))&&n.preventDefault()}}}}))}}]),t}(f.default);function w(e,t){var n,i=e===b.keys.LEFT?"prefix":"suffix";return g(n={key:e,shiftKey:t,altKey:null},i,/^$/),g(n,"handler",(function(n){var i=n.index;e===b.keys.RIGHT&&(i+=n.length+1);var o=this.quill.getLeaf(i);return!(r(o,1)[0]instanceof d.default.Embed&&(e===b.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index-1,p.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index+n.length+1,p.default.sources.USER),1))})),n}function _(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),i=r(n,1)[0],o={};if(0===t.offset){var a=this.quill.getLine(e.index-1),s=r(a,1)[0];if(null!=s&&s.length()>1){var l=i.formats(),u=this.quill.getFormat(e.index-1,1);o=c.default.attributes.diff(l,u)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,p.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index-d,d,o,p.default.sources.USER),this.quill.focus()}}function x(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var i={},o=0,a=this.quill.getLine(e.index),s=r(a,1)[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),u=r(l,1)[0];if(u){var d=s.formats(),h=this.quill.getFormat(e.index,1);i=c.default.attributes.diff(d,h)||{},o=u.length()}}this.quill.deleteText(e.index,n,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index+o-1,n,i,p.default.sources.USER)}}function C(e){var t=this.quill.getLines(e),n={};if(t.length>1){var i=t[0].formats(),r=t[t.length-1].formats();n=c.default.attributes.diff(r,i)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function k(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var i=Object.keys(t.format).reduce((function(e,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",i,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==i[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],p.default.sources.USER))}))}function S(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=d.default.query("code-block"),i=t.index,o=t.length,a=this.quill.scroll.descendant(n,i),s=r(a,2),l=s[0],u=s[1];if(null!=l){var c=this.quill.getIndex(l),h=l.newlineIndex(u,!0)+1,f=l.newlineIndex(c+u+o),m=l.domNode.textContent.slice(h,f).split("\n");u=0,m.forEach((function(t,r){e?(l.insertAt(h+u,n.TAB),u+=n.TAB.length,0===r?i+=n.TAB.length:o+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(h+u,n.TAB.length),u-=n.TAB.length,0===r?i-=n.TAB.length:o-=n.TAB.length),u+=t.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(i,o,p.default.sources.SILENT)}}}}function T(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],p.default.sources.USER)}}}function E(e){if("string"==typeof e||"number"==typeof e)return E({key:e});if("object"===(void 0===e?"undefined":i(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:T("bold"),italic:T("italic"),underline:T("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":S(!0),"outdent code-block":S(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new u.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),i=n[0],o=n[1],a=(0,l.default)({},i.formats(),{list:"checked"}),s=(new u.default).retain(e.index).insert("\n",a).retain(i.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),i=r(n,2),o=i[0],a=i[1],s=(new u.default).retain(e.index).insert("\n",t.format).retain(o.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,i=this.quill.getLine(e.index),o=r(i,2),a=o[0],s=o[1];if(s>n)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(e.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:l});this.quill.updateContents(c,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,p.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),i=n[0],o=n[1],a=(new u.default).retain(e.index+i.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,p.default.sources.USER)}},"embed left":w(b.keys.LEFT,!1),"embed left shift":w(b.keys.LEFT,!0),"embed right":w(b.keys.RIGHT,!1),"embed right shift":w(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n(0)),a=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.selection=n,i.textNode=document.createTextNode(t.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"value",value:function(){}}]),r(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var r=this,a=0;null!=r&&r.statics.scope!==o.default.Scope.BLOCK_BLOT;)a+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=t.CONTENTS.length,r.optimize(),r.formatAt(a,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),i=void 0,r=void 0,s=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var l=[e,n.start.offset,n.end.offset];i=l[0],r=l[1],s=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var u=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof a.default?(i=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=t.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(o.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=r){var c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([r,s].map((function(e){return Math.max(0,Math.min(i.data.length,e-1))})),2);return r=c[0],s=c[1],{startNode:i,startOffset:r,endNode:i,endOffset:s}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var i=this.restore();i&&(t.range=i)}}},{key:"value",value:function(){return""}}]),t}(o.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),r=n(4),o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default.Container);u.allowedChildren=[o.default,r.BlockEmbed,u],t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=(i=n(0))&&i.__esModule?i:{default:i};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?"#"+(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join(""):n}}]),t}(a.default.Attributor.Style),c=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),d=new u("color","color",{scope:a.default.Scope.INLINE});t.ColorAttributor=u,t.ColorClass=c,t.ColorStyle=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return u(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((i=n(6))&&i.__esModule?i:{default:i}).default);function u(e,t){var n=document.createElement("a");n.href=e;var i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=l,t.sanitize=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n(23)),a=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var l=0;function u(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case o.default.keys.ENTER:n.togglePicker();break;case o.default.keys.ESCAPE:n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return r(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.keyCode){case o.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case o.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(n){var i=e.buildItem(n);t.appendChild(i),!0===n.selected&&e.selectItem(i)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":i(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=v(n(0)),r=v(n(5)),o=n(4),a=v(o),s=v(n(16)),l=v(n(25)),u=v(n(24)),c=v(n(35)),d=v(n(6)),p=v(n(22)),h=v(n(7)),f=v(n(55)),m=v(n(42)),g=v(n(23));function v(e){return e&&e.__esModule?e:{default:e}}r.default.register({"blots/block":a.default,"blots/block/embed":o.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":u.default,"blots/embed":c.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":h.default,"modules/clipboard":f.default,"modules/history":m.default,"modules/keyboard":g.default}),i.default.register(a.default,s.default,u.default,d.default,p.default,h.default),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e){this.domNode=e,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return i.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,r){var o=this.isolate(e,t);if(null!=i.query(n,i.Scope.BLOT)&&r)o.wrap(n,r);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var a=i.create(this.statics.scope);o.wrap(a),a.format(n,r)}},e.prototype.insertAt=function(e,t,n){var r=null==n?i.create("text",t):i.create(t,n),o=this.split(e);this.parent.insertBefore(r,o)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?i.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?i.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),r=n(32),o=n(33),a=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=i.default.keys(this.domNode),n=r.default.keys(this.domNode),s=o.default.keys(this.domNode);t.concat(n).concat(s).forEach((function(t){var n=a.query(t,a.Scope.ATTRIBUTE);n instanceof i.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var i=t.attributes[n].value(t.domNode);e.format(n,i)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function o(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){o(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(o(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function o(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[o(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[o(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[o(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return i(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();r.DEFAULTS={modules:{}},r.themes={default:r},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=s(n(0)),a=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,i=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof a.default){var r=this.prev.length();this.prev.insertAt(r,i),t={startNode:this.prev.domNode,startOffset:r+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(o.default.create(n),this),t={startNode:n,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(o.default.create(n),this.next),t={startNode:n,startOffset:i.length}));return e.data=l,t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var i=n.restore(e.target);i&&(t.range=i)}}))}}]),t}(o.default.Embed);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var i,r=(i=n(0))&&i.__esModule?i:{default:i},o={scope:r.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new r.default.Attributor.Attribute("align","align",o),s=new r.default.Attributor.Class("align","ql-align",o),l=new r.default.Attributor.Style("align","text-align",o);t.AlignAttribute=a,t.AlignClass=s,t.AlignStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var i,r=(i=n(0))&&i.__esModule?i:{default:i},o=n(26),a=new r.default.Attributor.Class("background","ql-bg",{scope:r.default.Scope.INLINE}),s=new o.ColorAttributor("background","background-color",{scope:r.default.Scope.INLINE});t.BackgroundClass=a,t.BackgroundStyle=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var i,r=(i=n(0))&&i.__esModule?i:{default:i},o={scope:r.default.Scope.BLOCK,whitelist:["rtl"]},a=new r.default.Attributor.Attribute("direction","dir",o),s=new r.default.Attributor.Class("direction","ql-direction",o),l=new r.default.Attributor.Style("direction","direction",o);t.DirectionAttribute=a,t.DirectionClass=s,t.DirectionStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=(i=n(0))&&i.__esModule?i:{default:i};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new a.default.Attributor.Class("font","ql-font",u),d=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(a.default.Attributor.Style),p=new d("font","font-family",u);t.FontStyle=p,t.FontClass=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var i,r=(i=n(0))&&i.__esModule?i:{default:i},o=new r.default.Attributor.Class("size","ql-size",{scope:r.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new r.default.Attributor.Style("size","font-size",{scope:r.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=o,t.SizeStyle=a},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(0)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t,n,r){e!==o.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&r!==o.default.sources.USER?i.transform(t):i.record(t,n))})),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],o.default.sources.USER),this.ignoreChange=!1;var i=l(n[e]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r.undo),e=r.redo.compose(e)}else this.lastRecorded=i;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(a(n(9)).default);function l(e){var t=e.reduce((function(e,t){return e+(t.delete||0)}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=r.default.query(e,r.default.Scope.BLOCK)})))}(e)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=f(n(3)),a=f(n(2)),s=f(n(8)),l=f(n(23)),u=f(n(34)),c=f(n(59)),d=f(n(60)),p=f(n(28)),h=f(n(61));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],w=[!1,"serif","monospace"],_=["1","2","3",!1],x=["small",!1,"large","huge"],C=function(e){function t(e,n){m(this,t);var i=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,(function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach((function(e){e.container.contains(n.target)||e.close()}))})),i}return v(t,e),i(t,[{key:"addModule",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var i=e.value||"";null!=i&&t[n][i]&&(e.innerHTML=t[n][i])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&S(e,y),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&S(e,b,"background"===n?"#ffffff":"#000000"),new c.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?S(e,w):e.classList.contains("ql-header")?S(e,_):e.classList.contains("ql-size")&&S(e,x)),new p.default(e)})),this.quill.on(s.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}]),t}(u.default);C.DEFAULTS=(0,o.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var i=e.quill.getSelection(!0);e.quill.updateContents((new a.default).retain(i.index).delete(i.length).insert({image:n.target.result}),s.default.sources.USER),e.quill.setSelection(i.index+1,s.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var k=function(e){function t(e,n){m(this,t);var i=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return v(t,e),i(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var i=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,s.default.sources.USER)),this.quill.root.scrollTop=i;break;case"video":n=(t=(e=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!n)break;var r=this.quill.getSelection(!0);if(null!=r){var o=r.index+r.length;this.quill.insertEmbed(o,this.root.getAttribute("data-mode"),n,s.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(o+1," ",s.default.sources.USER),this.quill.setSelection(o+2,s.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(h.default);function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var i=document.createElement("option");t===n?i.setAttribute("selected","selected"):i.setAttribute("value",t),e.appendChild(i)}))}t.BaseTooltip=k,t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,i=this.iterator();n=i();){var r=n.length();if(e<r||t&&e===r&&(null==n.next||0!==n.next.length()))return[n,e];e-=r}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var i,r=this.find(e),o=r[0],a=e-r[1],s=this.iterator(o);(i=s())&&a<e+t;){var l=i.length();e>a?n(i,e-a,Math.min(t,a+l-e)):n(i,0,Math.min(l,e+t-a)),a+=l}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,i=this.iterator();n=i();)t=e(t,n);return t},e}();t.default=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),a=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,s),n.attach(),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,i,r){this.update(),e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.insertAt=function(t,n,i){this.update(),e.prototype.insertAt.call(this,t,n,i)},t.prototype.optimize=function(t,n){var i=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)t.push(r.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==i&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof o.default&&e.children.forEach(l),e.optimize(n))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);s(t,!1),t instanceof o.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(l),r=(u=[].slice.call(this.observer.takeRecords())).slice();r.length>0;)t.push(r.pop())}},t.prototype.update=function(t,n){var i=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==i&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],n)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(o.default);t.default=l},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,i){var r=this;n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):(this.children.forEach((function(e){e instanceof o.default||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,i,r){null!=this.formats()[i]||a.query(i,a.Scope.ATTRIBUTE)?this.isolate(t,n).format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var r=this.next;r instanceof t&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(i,r.formats())&&(r.moveChildren(this),r.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(o.default);t.default=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var i=a.query(t.blotName).tagName;if(n.tagName!==i)return e.formats.call(this,n)},t.prototype.format=function(n,i){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,i,r){null!=a.query(i,a.Scope.BLOCK)?this.format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.insertAt=function(t,n,i){if(null==i||null!=a.query(n,a.Scope.INLINE))e.prototype.insertAt.call(this,t,n,i);else{var r=this.split(t),o=a.create(n,i);r.parent.insertBefore(o,r)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(o.default);t.default=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,i,r){0===t&&n===this.length()?this.format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),a=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,i){null==i?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,i)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=a.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(o.default);t.default=s},function(e,t,n){"use strict";var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:r.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;o<i;o++)if(t=n[o],e.call(r,t,o,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var n=-1;function i(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var c=o(e,t),d=e.substring(0,c);c=a(e=e.substring(c),t=t.substring(c));var p=e.substring(e.length-c),h=function(e,t){var s;if(!e)return[[1,t]];if(!t)return[[n,e]];var l=e.length>t.length?e:t,u=e.length>t.length?t:e,c=l.indexOf(u);if(-1!=c)return s=[[1,l.substring(0,c)],[0,u],[1,l.substring(c+u.length)]],e.length>t.length&&(s[0][0]=s[2][0]=n),s;if(1==u.length)return[[n,e],[1,t]];var d=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function r(e,t,n){for(var i,r,s,l,u=e.substring(n,n+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(u,c+1));){var p=o(e.substring(n),t.substring(c)),h=a(e.substring(0,n),t.substring(0,c));d.length<h+p&&(d=t.substring(c-h,c)+t.substring(c,c+p),i=e.substring(0,n-h),r=e.substring(n+p),s=t.substring(0,c-h),l=t.substring(c+p))}return 2*d.length>=e.length?[i,r,s,l,d]:null}var s,l,u,c,d,p=r(n,i,Math.ceil(n.length/4)),h=r(n,i,Math.ceil(n.length/2));return p||h?(s=h?p&&p[4].length>h[4].length?p:h:p,e.length>t.length?(l=s[0],u=s[1],c=s[2],d=s[3]):(c=s[0],d=s[1],l=s[2],u=s[3]),[l,u,c,d,s[4]]):null}(e,t);if(d){var p=d[0],h=d[1],f=d[2],m=d[3],g=d[4],v=i(p,f),y=i(h,m);return v.concat([[0,g]],y)}return function(e,t){for(var i=e.length,o=t.length,a=Math.ceil((i+o)/2),s=a,l=2*a,u=new Array(l),c=new Array(l),d=0;d<l;d++)u[d]=-1,c[d]=-1;u[s+1]=0,c[s+1]=0;for(var p=i-o,h=p%2!=0,f=0,m=0,g=0,v=0,y=0;y<a;y++){for(var b=-y+f;b<=y-m;b+=2){for(var w=s+b,_=(T=b==-y||b!=y&&u[w-1]<u[w+1]?u[w+1]:u[w-1]+1)-b;T<i&&_<o&&e.charAt(T)==t.charAt(_);)T++,_++;if(u[w]=T,T>i)m+=2;else if(_>o)f+=2;else if(h&&(k=s+p-b)>=0&&k<l&&-1!=c[k]&&T>=(C=i-c[k]))return r(e,t,T,_)}for(var x=-y+g;x<=y-v;x+=2){for(var C,k=s+x,S=(C=x==-y||x!=y&&c[k-1]<c[k+1]?c[k+1]:c[k-1]+1)-x;C<i&&S<o&&e.charAt(i-C-1)==t.charAt(o-S-1);)C++,S++;if(c[k]=C,C>i)v+=2;else if(S>o)g+=2;else if(!h){var T;if((w=s+p-x)>=0&&w<l&&-1!=u[w]&&(_=s+(T=u[w])-w,T>=(C=i-C)))return r(e,t,T,_)}}}return[[n,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-c),t=t.substring(0,t.length-c));return d&&h.unshift([0,d]),p&&h.push([0,p]),s(h),null!=l&&(h=function(e,t){var i=function(e,t){if(0===t)return[0,e];for(var i=0,r=0;r<e.length;r++){var o=e[r];if(o[0]===n||0===o[0]){var a=i+o[1].length;if(t===a)return[r+1,e];if(t<a){e=e.slice();var s=t-i,l=[o[0],o[1].slice(0,s)],u=[o[0],o[1].slice(s)];return e.splice(r,1,l,u),[r+1,e]}i=a}}throw new Error("cursor_pos is out of bounds!")}(e,t),r=i[1],o=i[0],a=r[o],s=r[o+1];if(null==a)return e;if(0!==a[0])return e;if(null!=s&&a[1]+s[1]===s[1]+a[1])return r.splice(o,2,s,a),u(r,o,2);if(null!=s&&0===s[1].indexOf(a[1])){r.splice(o,2,[s[0],a[1]],[0,a[1]]);var l=s[1].slice(a[1].length);return l.length>0&&r.splice(o+2,0,[s[0],l]),u(r,o,3)}return e}(h,l)),function(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},r=2;r<e.length;r+=1)0===e[r-2][0]&&((o=e[r-2][1]).charCodeAt(o.length-1)>=55296&&o.charCodeAt(o.length-1)<=56319)&&e[r-1][0]===n&&i(e[r-1][1])&&1===e[r][0]&&i(e[r][1])&&(t=!0,e[r-1][1]=e[r-2][1].slice(-1)+e[r-1][1],e[r][1]=e[r-2][1].slice(-1)+e[r][1],e[r-2][1]=e[r-2][1].slice(0,-1));var o;if(!t)return e;var a=[];for(r=0;r<e.length;r+=1)e[r][1].length>0&&a.push(e[r]);return a}(h)}function r(e,t,n,r){var o=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),l=t.substring(r),u=i(o,a),c=i(s,l);return u.concat(c)}function o(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(o,r)==t.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r}function a(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(e.length-r,e.length-o)==t.substring(t.length-r,t.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r}function s(e){e.push([0,""]);for(var t,i=0,r=0,l=0,u="",c="";i<e.length;)switch(e[i][0]){case 1:l++,c+=e[i][1],i++;break;case n:r++,u+=e[i][1],i++;break;case 0:r+l>1?(0!==r&&0!==l&&(0!==(t=o(c,u))&&(i-r-l>0&&0==e[i-r-l-1][0]?e[i-r-l-1][1]+=c.substring(0,t):(e.splice(0,0,[0,c.substring(0,t)]),i++),c=c.substring(t),u=u.substring(t)),0!==(t=a(c,u))&&(e[i][1]=c.substring(c.length-t)+e[i][1],c=c.substring(0,c.length-t),u=u.substring(0,u.length-t))),0===r?e.splice(i-l,r+l,[1,c]):0===l?e.splice(i-r,r+l,[n,u]):e.splice(i-r-l,r+l,[n,u],[1,c]),i=i-r-l+(r?1:0)+(l?1:0)+1):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,l=0,r=0,u="",c=""}""===e[e.length-1][1]&&e.pop();var d=!1;for(i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),d=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),d=!0)),i++;d&&s(e)}var l=i;function u(e,t,n){for(var i=t+n-1;i>=0&&i>=t-1;i--)if(i+1<e.length){var r=e[i],o=e[i+1];r[0]===o[1]&&e.splice(i,2,[r[0],r[1]+o[1]])}return e}l.INSERT=1,l.DELETE=n,l.EQUAL=0,e.exports=l},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?i:r).supported=i,t.unsupported=r},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},a.prototype.listeners=function(e,t){var n=i?i+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);o<a;o++)s[o]=r[o].fn;return s},a.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,a),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var p,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,r);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,n){var r=new o(t,n||this),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.once=function(e,t,n){var r=new o(t,n||this,!0),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.removeListener=function(e,t,n,o){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||o&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new r:delete this._events[a]);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||o&&!s[l].once||n&&s[l].context!==n)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new r:delete this._events[a]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,void 0!==e&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=b(n(3)),s=b(n(2)),l=b(n(0)),u=b(n(5)),c=b(n(10)),d=b(n(9)),p=n(36),h=n(37),f=b(n(13)),m=n(26),g=n(38),v=n(39),y=n(40);function b(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=(0,c.default)("quill:clipboard"),x="__ql-matcher",C=[[Node.TEXT_NODE,N],[Node.TEXT_NODE,A],["br",function(e,t){return O(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,A],[Node.ELEMENT_NODE,j],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,function(e,t){var n={},i=e.style||{};return i.fontStyle&&"italic"===P(e).fontStyle&&(n.italic=!0),i.fontWeight&&(P(e).fontWeight.startsWith("bold")||parseInt(P(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=E(t,n)),parseFloat(i.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=l.default.query(e);if(null==n||"list-item"!==n.blotName||!O(t,"\n"))return t;for(var i=-1,r=e.parentNode;!r.classList.contains("ql-clipboard");)"list"===(l.default.query(r)||{}).blotName&&(i+=1),r=r.parentNode;return i<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:i}))}],["b",M.bind(M,"bold")],["i",M.bind(M,"italic")],["style",function(){return new s.default}]],k=[p.AlignAttribute,g.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),S=[p.AlignStyle,h.BackgroundStyle,m.ColorStyle,g.DirectionStyle,v.FontStyle,y.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),T=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],C.concat(i.options.matchers).forEach((function(e){var t=r(e,2),o=t[0],a=t[1];(n.matchVisual||a!==D)&&i.addMatcher(o,a)})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[f.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,w({},f.default.blotName,t[f.default.blotName]))}var i=this.prepareMatching(),o=r(i,2),a=o[0],l=o[1],u=$(this.container,a,l);return O(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new s.default).retain(u.length()-1).delete(1))),_.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,u.default.sources.SILENT);else{var i=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(i),n),this.quill.setSelection(e+i.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new s.default).retain(n.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){i=i.concat(t.convert()).delete(n.length),t.quill.updateContents(i,u.default.sources.USER),t.quill.setSelection(i.length()-n.length,u.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=r,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(i){var o=r(i,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(a),(function(e){e[x]=e[x]||[],e[x].push(s)}))}})),[t,n]}}]),t}(d.default);function E(e,t,n){return"object"===(void 0===t?"undefined":i(t))?Object.keys(t).reduce((function(e,n){return E(e,n,t[n])}),e):e.reduce((function(e,i){return i.attributes&&i.attributes[t]?e.push(i):e.insert(i.insert,(0,a.default)({},w({},t,n),i.attributes))}),new s.default)}function P(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function O(e,t){for(var n="",i=e.ops.length-1;i>=0&&n.length<t.length;--i){var r=e.ops[i];if("string"!=typeof r.insert)break;n=r.insert+n}return n.slice(-1*t.length)===t}function q(e){if(0===e.childNodes.length)return!1;var t=P(e);return["block","list-item"].indexOf(t.display)>-1}function $(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce((function(t,n){return n(e,t)}),new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(i,r){var o=$(r,t,n);return r.nodeType===e.ELEMENT_NODE&&(o=t.reduce((function(e,t){return t(r,e)}),o),o=(r[x]||[]).reduce((function(e,t){return t(r,e)}),o)),i.concat(o)}),new s.default):new s.default}function M(e,t,n){return E(n,e,!0)}function L(e,t){var n=l.default.Attributor.Attribute.keys(e),i=l.default.Attributor.Class.keys(e),r=l.default.Attributor.Style.keys(e),o={};return n.concat(i).concat(r).forEach((function(t){var n=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(e),o[n.attrName])||(null==(n=k[t])||n.attrName!==t&&n.keyName!==t||(o[n.attrName]=n.value(e)||void 0),null==(n=S[t])||n.attrName!==t&&n.keyName!==t||(n=S[t],o[n.attrName]=n.value(e)||void 0))})),Object.keys(o).length>0&&(t=E(t,o)),t}function j(e,t){var n=l.default.query(e);if(null==n)return t;if(n.prototype instanceof l.default.Embed){var i={},r=n.value(e);null!=r&&(i[n.blotName]=r,t=(new s.default).insert(i,n.formats(e)))}else"function"==typeof n.formats&&(t=E(t,n.blotName,n.formats(e)));return t}function A(e,t){return O(t,"\n")||(q(e)||t.length()>0&&e.nextSibling&&q(e.nextSibling))&&t.insert("\n"),t}function D(e,t){if(q(e)&&null!=e.nextElementSibling&&!O(t,"\n\n")){var n=e.offsetHeight+parseFloat(P(e).marginTop)+parseFloat(P(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function N(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!P(e.parentNode).whiteSpace.startsWith("pre")){var i=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==e.previousSibling&&q(e.parentNode)||null!=e.previousSibling&&q(e.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==e.nextSibling&&q(e.parentNode)||null!=e.nextSibling&&q(e.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return t.insert(n)}T.DEFAULTS={matchers:[],matchVisual:!0},t.default=T,t.matchAttributor=L,t.matchBlot=j,t.matchNewline=A,t.matchSpacing=D,t.matchText=N},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((i=n(6))&&i.__esModule?i:{default:i}).default);l.blotName="bold",l.tagName=["STRONG","B"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n(2)),a=c(n(0)),s=c(n(5)),l=c(n(10)),u=c(n(9));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,l.default)("quill:toolbar"),h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(o.options.container)){var a=document.createElement("div");m(a,o.options.container),e.container.parentNode.insertBefore(a,e.container),o.container=a}else"string"==typeof o.options.container?o.container=document.querySelector(o.options.container):o.container=o.options.container;return o.container instanceof HTMLElement?(o.container.classList.add("ql-toolbar"),o.controls=[],o.handlers={},Object.keys(o.options.handlers).forEach((function(e){o.addHandler(e,o.options.handlers[e])})),[].forEach.call(o.container.querySelectorAll("button, select"),(function(e){o.attach(e)})),o.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.SELECTION_CHANGE&&o.update(t)})),o.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var e=o.quill.selection.getRange(),t=i(e,1)[0];o.update(t)})),o):(r=p.error("Container required for toolbar",o.options),d(o,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void p.warn("ignoring attaching to disabled format",n,e);if(null==a.default.query(n))return void p.warn("ignoring attaching to nonexistent format",n,e)}var r="SELECT"===e.tagName?"change":"click";e.addEventListener(r,(function(r){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var u=e.options[e.selectedIndex];l=!u.hasAttribute("selected")&&(u.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),r.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),d=i(c,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,l);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(l=prompt("Enter "+n)))return;t.quill.updateContents((new o.default).retain(d.index).delete(d.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,l)),s.default.sources.USER)}else t.quill.format(n,l,s.default.sources.USER);t.update(d)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var r=i(n,2),o=r[0],a=r[1];if("SELECT"===a.tagName){var s=void 0;if(null==e)s=null;else if(null==t[o])s=a.querySelector("option[selected]");else if(!Array.isArray(t[o])){var l=t[o];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+l+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=t[o]===a.getAttribute("value")||null!=t[o]&&t[o].toString()===a.getAttribute("value")||null==t[o]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=t[o])}))}}]),t}(u.default);function f(e,t,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+t),null!=n&&(i.value=n),e.appendChild(i)}function m(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)f(n,e);else{var t=Object.keys(e)[0],i=e[t];Array.isArray(i)?function(e,t,n){var i=document.createElement("select");i.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),i.appendChild(t)})),e.appendChild(i)}(n,t,i):f(n,t,i)}})),e.appendChild(n)}))}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),i=parseInt(n.indent||0);if("+1"===e||"-1"===e){var r="+1"===e?1:-1;"rtl"===n.direction&&(r*=-1),this.quill.format("indent",i+r,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=h,t.addControls=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"buildItem",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var i=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=r:i.style.fill=r)}}]),t}(((i=n(28))&&i.__esModule?i:{default:i}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((i=n(28))&&i.__esModule?i:{default:i}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"})),this.hide()}return i(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),o=0;if(r.right>i.right&&(o=i.right-r.right,this.root.style.left=t+o+"px"),r.left<i.left&&(o=i.left-r.left,this.root.style.left=t+o+"px"),r.bottom>i.bottom){var a=r.bottom-r.top,s=e.bottom-e.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=p(n(3)),a=p(n(8)),s=n(43),l=p(s),u=p(n(27)),c=n(15),d=p(n(41));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],v=function(e){function t(e,n){h(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var i=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-snow"),i}return m(t,e),r(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),d.default),this.tooltip=new y(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(l.default);v.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var y=function(e){function t(e,n){h(this,t);var i=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return m(t,e),r(t,[{key:"listen",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,a.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(a.default.events.SELECTION_CHANGE,(function(t,n,i){if(null!=t){if(0===t.length&&i===a.default.sources.USER){var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e.quill.scroll.descendant(u.default,t.index),2),o=r[0],s=r[1];if(null!=o){e.linkRange=new c.Range(t.index-s,o.length());var l=u.default.formats(o.domNode);return e.preview.textContent=l,e.preview.setAttribute("href",l),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(s.BaseTooltip);y.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=A(n(29)),r=n(36),o=n(38),a=n(64),s=A(n(65)),l=A(n(66)),u=n(67),c=A(u),d=n(37),p=n(26),h=n(39),f=n(40),m=A(n(56)),g=A(n(68)),v=A(n(27)),y=A(n(69)),b=A(n(70)),w=A(n(71)),_=A(n(72)),x=A(n(73)),C=n(13),k=A(C),S=A(n(74)),T=A(n(75)),E=A(n(57)),P=A(n(41)),O=A(n(28)),q=A(n(59)),$=A(n(60)),M=A(n(61)),L=A(n(108)),j=A(n(62));function A(e){return e&&e.__esModule?e:{default:e}}i.default.register({"attributors/attribute/direction":o.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":o.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":o.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":f.SizeStyle},!0),i.default.register({"formats/align":r.AlignClass,"formats/direction":o.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":h.FontClass,"formats/size":f.SizeClass,"formats/blockquote":s.default,"formats/code-block":k.default,"formats/header":l.default,"formats/list":c.default,"formats/bold":m.default,"formats/code":C.Code,"formats/italic":g.default,"formats/link":v.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":w.default,"formats/image":_.default,"formats/video":x.default,"formats/list/item":u.ListItem,"modules/formula":S.default,"modules/syntax":T.default,"modules/toolbar":E.default,"themes/bubble":L.default,"themes/snow":j.default,"ui/icons":P.default,"ui/picker":O.default,"ui/icon-picker":$.default,"ui/color-picker":q.default,"ui/tooltip":M.default},!0),t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=(i=n(0))&&i.__esModule?i:{default:i};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var i=this.value(e)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(e),!0):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(a.default.Attributor.Class),c=new u("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,n){"use strict";var i;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=n(4))&&i.__esModule?i:{default:i}).default);a.blotName="blockquote",a.tagName="blockquote",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((i=n(4))&&i.__esModule?i:{default:i}).default);s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=l(n(0)),a=l(n(4)),s=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,[{key:"format",value:function(e,n){e!==h.blotName||n?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(o.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:r(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(a.default);p.blotName="list-item",p.tagName="LI";var h=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=function(t){if(t.target.parentNode===e){var i=n.statics.formats(e),r=o.default.find(t.target);"checked"===i?r.format("list","unchecked"):"unchecked"===i&&r.format("list","checked")}};return e.addEventListener("touchstart",i),e.addEventListener("mousedown",i),n}return d(t,e),i(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",i=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||i.setAttribute("data-checked","checked"===e),i}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof p)r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var i=null==n?this.length():n.offset(this),o=this.split(i);o.parent.insertBefore(e,o)}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=o.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);h.blotName="list",h.scope=o.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[p],t.ListItem=p,t.default=h},function(e,t,n){"use strict";var i;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=n(56))&&i.__esModule?i:{default:i}).default);a.blotName="italic",a.tagName=["EM","I"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((i=n(6))&&i.__esModule?i:{default:i}).default);l.blotName="script",l.tagName=["SUB","SUP"],t.default=l},function(e,t,n){"use strict";var i;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=n(6))&&i.__esModule?i:{default:i}).default);a.blotName="strike",a.tagName="S",t.default=a},function(e,t,n){"use strict";var i;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=n(6))&&i.__esModule?i:{default:i}).default);a.blotName="underline",a.tagName="U",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=(i=n(0))&&i.__esModule?i:{default:i},s=n(27);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=["alt","height","width"],d=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,s.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.default.Embed);d.blotName="image",d.tagName="IMG",t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(4),s=(i=n(27))&&i.__esModule?i:{default:i};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=["height","width"],d=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return s.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=l(n(35)),a=l(n(5)),s=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,null,[{key:"create",value:function(e){var n=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(o.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var h=function(e){function t(){u(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),i(t,null,[{key:"register",value:function(){a.default.register(p,!0)}}]),t}(s.default);t.FormulaBlot=p,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=l(n(0)),a=l(n(5)),s=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(n(13)).default);p.className="ql-syntax";var h=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),f=function(e){function t(e,n){u(this,t);var i=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return i.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(r),r=setTimeout((function(){i.highlight(),r=null}),i.options.interval)})),i.highlight(),i}return d(t,e),i(t,null,[{key:"register",value:function(){a.default.register(h,!0),a.default.register(p,!0)}}]),i(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(p).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(a.default.sources.SILENT),null!=t&&this.quill.setSelection(t,a.default.sources.SILENT)}}}]),t}(s.default);f.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=p,t.CodeToken=h,t.default=f},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=d(n(3)),a=d(n(8)),s=n(43),l=d(s),u=n(15),c=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(e){function t(e,n){p(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var i=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-bubble"),i}return f(t,e),r(t,[{key:"extendToolbar",value:function(e){this.tooltip=new v(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),t}(l.default);g.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var v=function(e){function t(e,n){p(this,t);var i=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,n,r){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===a.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var o=i.quill.getLines(t.index,t.length);if(1===o.length)i.position(i.quill.getBounds(t));else{var s=o[o.length-1],l=i.quill.getIndex(s),c=Math.min(s.length()-1,t.index+t.length-l),d=i.quill.getBounds(new u.Range(l,c));i.position(d)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()})),i}return f(t,e),r(t,[{key:"listen",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n)return n;r.style.marginLeft=-1*n-r.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);v.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=v,t.default=g},function(e,t,n){e.exports=n(63)}]).default},e.exports=t()},4448:function(e,t,n){"use strict";var i=n(7294),r=n(3840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(f,e)||!d.call(h,e)&&(p.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function A(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j&&e[j]||e["@@iterator"])?e:null}var D,N=Object.assign;function R(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var I=!1;function F(e,t){if(!e||I)return"";I=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}else{try{throw Error()}catch(e){i=e}e()}}catch(t){if(t&&i&&"string"==typeof t.stack){for(var r=t.stack.split("\n"),o=i.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{I=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function U(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return F(e.type,!1);case 11:return F(e.type.render,!1);case 1:return F(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case x:return"Portal";case S:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case q:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case $:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return B(e(t))}catch(e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=V(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function W(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=z(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function oe(e,t){var n=z(t.value),i=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,ke=null;function Se(e){if(e=br(e)){if("function"!=typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=_r(t),xe(e.stateNode,e.type,t))}}function Te(e){Ce?ke?ke.push(e):ke=[e]:Ce=e}function Ee(){if(Ce){var e=Ce,t=ke;if(ke=Ce=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Pe(e,t){return e(t)}function Oe(){}var qe=!1;function $e(e,t,n){if(qe)return e(t,n);qe=!0;try{return Pe(e,t,n)}finally{qe=!1,(null!==Ce||null!==ke)&&(Oe(),Ee())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var i=_r(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Le=!1;if(c)try{var je={};Object.defineProperty(je,"passive",{get:function(){Le=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ce){Le=!1}function Ae(e,t,n,i,r,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var De=!1,Ne=null,Re=!1,Ie=null,Fe={onError:function(e){De=!0,Ne=e}};function Ue(e,t,n,i,r,o,a,s,l){De=!1,Ne=null,Ae.apply(Fe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function ze(e){if(Be(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return ze(r),e;if(a===i)return ze(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Qe=r.unstable_scheduleCallback,We=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Ke=r.unstable_requestPaint,Ze=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,Xe=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null,at=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~r;0!==s?i=dt(s):0!=(o&=a)&&(i=dt(o))}else 0!=(a=n&~r)?i=dt(a):0!==o&&(i=dt(o));if(0===i)return 0;if(0!==t&&t!==i&&0==(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!=(4194240&o)))return t;if(0!=(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-at(t)),i|=e[n],t&=~r;return i}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0==(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var _t,xt,Ct,kt,St,Tt=!1,Et=[],Pt=null,Ot=null,qt=null,$t=new Map,Mt=new Map,Lt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":$t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Dt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&null!==(t=br(t))&&xt(t),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Nt(e){var t=yr(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&xt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);we=i,n.target.dispatchEvent(i),we=null,t.shift()}return!0}function It(e,t,n){Rt(e)&&n.delete(t)}function Ft(){Tt=!1,null!==Pt&&Rt(Pt)&&(Pt=null),null!==Ot&&Rt(Ot)&&(Ot=null),null!==qt&&Rt(qt)&&(qt=null),$t.forEach(It),Mt.forEach(It)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ft)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var n=1;n<Et.length;n++){var i=Et[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Pt&&Ut(Pt,e),null!==Ot&&Ut(Ot,e),null!==qt&&Ut(qt,e),$t.forEach(t),Mt.forEach(t),n=0;n<Lt.length;n++)(i=Lt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Lt.shift()}var Ht=w.ReactCurrentBatchConfig,zt=!0;function Vt(e,t,n,i){var r=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Qt(e,t,n,i)}finally{bt=r,Ht.transition=o}}function Gt(e,t,n,i){var r=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Qt(e,t,n,i)}finally{bt=r,Ht.transition=o}}function Qt(e,t,n,i){if(zt){var r=Yt(e,t,n,i);if(null===r)zi(e,t,i,Wt,n),At(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Pt=Dt(Pt,e,t,n,i,r),!0;case"dragenter":return Ot=Dt(Ot,e,t,n,i,r),!0;case"mouseover":return qt=Dt(qt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return $t.set(o,Dt($t.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Mt.set(o,Dt(Mt.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(At(e,i),4&t&&-1<jt.indexOf(e)){for(;null!==r;){var o=br(r);if(null!==o&&_t(o),null===(o=Yt(e,t,n,i))&&zi(e,t,i,Wt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else zi(e,t,i,null,n)}}var Wt=null;function Yt(e,t,n,i){if(Wt=null,null!==(e=yr(e=_e(i))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Jt,i=n.length,r="value"in Zt?Zt.value:Zt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return Xt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=N({},un,{view:0,detail:0}),pn=on(dn),hn=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(hn),mn=on(N({},hn,{dataTransfer:0})),gn=on(N({},dn,{relatedTarget:0})),vn=on(N({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=N({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(N({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return kn}var Tn=N({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(Tn),Pn=on(N({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on(N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),qn=on(N({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),$n=N({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=on($n),Ln=[9,13,27,32],jn=c&&"CompositionEvent"in window,An=null;c&&"documentMode"in document&&(An=document.documentMode);var Dn=c&&"TextEvent"in window&&!An,Nn=c&&(!jn||An&&8<An&&11>=An),Rn=String.fromCharCode(32),In=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,i){Te(i),0<(t=Gi(t,"onChange")).length&&(n=new cn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function Wn(e){Ri(e,0)}function Yn(e){if(Q(wr(e)))return e}function Kn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Jn;if(c){var Xn="oninput"in document;if(!Xn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Xn="function"==typeof ei.oninput}Jn=Xn}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Gn&&(Gn.detachEvent("onpropertychange",ni),Qn=Gn=null)}function ni(e){if("value"===e.propertyName&&Yn(Qn)){var t=[];Vn(t,Qn,e,_e(e)),$e(Wn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Qn=n,(Gn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Qn)}function oi(e,t){if("click"===e)return Yn(t)}function ai(e,t){if("input"===e||"change"===e)return Yn(t)}var si="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function li(e,t){if(si(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ci(e,t){var n,i=ui(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ui(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pi(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function hi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=pi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&hi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=ci(n,o);var a=ci(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=c&&"documentMode"in document&&11>=document.documentMode,gi=null,vi=null,yi=null,bi=!1;function wi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==gi||gi!==W(i)||(i="selectionStart"in(i=gi)&&hi(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Gi(vi,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function _i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xi={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionend:_i("Transition","TransitionEnd")},Ci={},ki={};function Si(e){if(Ci[e])return Ci[e];if(!xi[e])return e;var t,n=xi[e];for(t in n)if(n.hasOwnProperty(t)&&t in ki)return Ci[e]=n[t];return e}c&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var Ti=Si("animationend"),Ei=Si("animationiteration"),Pi=Si("animationstart"),Oi=Si("transitionend"),qi=new Map,$i="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(e,t){qi.set(e,t),l(t,[e])}for(var Li=0;Li<$i.length;Li++){var ji=$i[Li];Mi(ji.toLowerCase(),"on"+(ji[0].toUpperCase()+ji.slice(1)))}Mi(Ti,"onAnimationEnd"),Mi(Ei,"onAnimationIteration"),Mi(Pi,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Oi,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Di=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function Ni(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,s,l,u){if(Ue.apply(this,arguments),De){if(!De)throw Error(o(198));var c=Ne;De=!1,Ne=null,Re||(Re=!0,Ie=c)}}(i,t,void 0,e),e.currentTarget=null}function Ri(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;Ni(r,s,u),o=l}else for(a=0;a<i.length;a++){if(l=(s=i[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;Ni(r,s,u),o=l}}}if(Re)throw e=Ie,Re=!1,Ie=null,e}function Ii(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var i=e+"__bubble";n.has(i)||(Hi(t,e,2,!1),n.add(i))}function Fi(e,t,n){var i=0;t&&(i|=4),Hi(n,e,i,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[Ui]){e[Ui]=!0,a.forEach((function(t){"selectionchange"!==t&&(Di.has(t)||Fi(t,!1,e),Fi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ui]||(t[Ui]=!0,Fi("selectionchange",!1,t))}}function Hi(e,t,n,i){switch(Kt(t)){case 1:var r=Vt;break;case 4:r=Gt;break;default:r=Qt}n=r.bind(null,t,n,e),r=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function zi(e,t,n,i,r){var o=i;if(0==(1&t)&&0==(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=yr(s)))return;if(5===(l=a.tag)||6===l){i=o=a;continue e}s=s.parentNode}}i=i.return}$e((function(){var i=o,r=_e(n),a=[];e:{var s=qi.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Ti:case Ei:case Pi:l=vn;break;case Oi:l=qn;break;case"scroll":l=pn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var c=0!=(4&t),d=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var h,f=i;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&null!=(m=Me(f,p))&&c.push(Vi(f,m,h))),d)break;f=f.return}0<c.length&&(s=new l(s,u,null,n,r),a.push({event:s,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yr(u)&&!u[fr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?yr(u):null)&&(u!==(d=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=fn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,m="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==l?s:wr(l),h=null==u?s:wr(u),(s=new c(m,f+"leave",l,n,r)).target=d,s.relatedTarget=h,m=null,yr(r)===i&&((c=new c(p,f+"enter",u,n,r)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,f=0,h=c=l;h;h=Qi(h))f++;for(h=0,m=p;m;m=Qi(m))h++;for(;0<f-h;)c=Qi(c),f--;for(;0<h-f;)p=Qi(p),h--;for(;f--;){if(c===p||null!==p&&c===p.alternate)break e;c=Qi(c),p=Qi(p)}c=null}else c=null;null!==l&&Wi(a,s,l,c,!1),null!==u&&null!==d&&Wi(a,d,u,c,!0)}if("select"===(l=(s=i?wr(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(zn(s))if(Zn)g=ai;else{g=ri;var v=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=oi);switch(g&&(g=g(e,i))?Vn(a,g,n,r):(v&&v(e,s,i),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=i?wr(i):window,e){case"focusin":(zn(v)||"true"===v.contentEditable)&&(gi=v,vi=i,yi=null);break;case"focusout":yi=vi=gi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,wi(a,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":wi(a,n,r)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Zt=r)?Zt.value:Zt.textContent,Bn=!0)),0<(v=Gi(i,b)).length&&(b=new wn(b,e,null,n,r),a.push({event:b,listeners:v}),(y||null!==(y=Un(n)))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(In=!0,Rn);case"textInput":return(e=t.data)===Rn&&In?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!jn&&Fn(e,t)?(e=en(),Xt=Jt=Zt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(i=Gi(i,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=y)}Ri(a,t)}))}function Vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Me(e,n))&&i.unshift(Vi(e,o,r)),null!=(o=Me(e,t))&&i.push(Vi(e,o,r))),e=e.return}return i}function Qi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wi(e,t,n,i,r){for(var o=t._reactName,a=[];null!==n&&n!==i;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==u&&(s=u,r?null!=(l=Me(n,o))&&a.unshift(Vi(n,l,s)):r||null!=(l=Me(n,o))&&a.push(Vi(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yi=/\r\n?/g,Ki=/\u0000|\uFFFD/g;function Zi(e){return("string"==typeof e?e:""+e).replace(Yi,"\n").replace(Ki,"")}function Ji(e,t,n){if(t=Zi(t),Zi(e)!==t&&n)throw Error(o(425))}function Xi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"==typeof setTimeout?setTimeout:void 0,rr="function"==typeof clearTimeout?clearTimeout:void 0,or="function"==typeof Promise?Promise:void 0,ar="function"==typeof queueMicrotask?queueMicrotask:void 0!==or?function(e){return or.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Bt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Bt(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),pr="__reactFiber$"+dr,hr="__reactProps$"+dr,fr="__reactContainer$"+dr,mr="__reactEvents$"+dr,gr="__reactListeners$"+dr,vr="__reactHandles$"+dr;function yr(e){var t=e[pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[pr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[pr])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[pr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _r(e){return e[hr]||null}var xr=[],Cr=-1;function kr(e){return{current:e}}function Sr(e){0>Cr||(e.current=xr[Cr],xr[Cr]=null,Cr--)}function Tr(e,t){Cr++,xr[Cr]=e.current,e.current=t}var Er={},Pr=kr(Er),Or=kr(!1),qr=Er;function $r(e,t){var n=e.type.contextTypes;if(!n)return Er;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mr(e){return null!=e.childContextTypes}function Lr(){Sr(Or),Sr(Pr)}function jr(e,t,n){if(Pr.current!==Er)throw Error(o(168));Tr(Pr,t),Tr(Or,n)}function Ar(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,H(e)||"Unknown",r));return N({},n,i)}function Dr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,qr=Pr.current,Tr(Pr,e),Tr(Or,Or.current),!0}function Nr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=Ar(e,t,qr),i.__reactInternalMemoizedMergedChildContext=e,Sr(Or),Sr(Pr),Tr(Pr,e)):Sr(Or),Tr(Or,n)}var Rr=null,Ir=!1,Fr=!1;function Ur(e){null===Rr?Rr=[e]:Rr.push(e)}function Br(){if(!Fr&&null!==Rr){Fr=!0;var e=0,t=bt;try{var n=Rr;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Rr=null,Ir=!1}catch(t){throw null!==Rr&&(Rr=Rr.slice(e+1)),Qe(Xe,Br),t}finally{bt=t,Fr=!1}}return null}var Hr=[],zr=0,Vr=null,Gr=0,Qr=[],Wr=0,Yr=null,Kr=1,Zr="";function Jr(e,t){Hr[zr++]=Gr,Hr[zr++]=Vr,Vr=e,Gr=t}function Xr(e,t,n){Qr[Wr++]=Kr,Qr[Wr++]=Zr,Qr[Wr++]=Yr,Yr=e;var i=Kr;e=Zr;var r=32-at(i)-1;i&=~(1<<r),n+=1;var o=32-at(t)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Kr=1<<32-at(t)+r|n<<r|i,Zr=o+e}else Kr=1<<o|n<<r|i,Zr=e}function eo(e){null!==e.return&&(Jr(e,1),Xr(e,1,0))}function to(e){for(;e===Vr;)Vr=Hr[--zr],Hr[zr]=null,Gr=Hr[--zr],Hr[zr]=null;for(;e===Yr;)Yr=Qr[--Wr],Qr[Wr]=null,Zr=Qr[--Wr],Qr[Wr]=null,Kr=Qr[--Wr],Qr[Wr]=null}var no=null,io=null,ro=!1,oo=null;function ao(e,t){var n=$u(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,io=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,io=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Kr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=$u(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,io=null,!0);default:return!1}}function lo(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function uo(e){if(ro){var t=io;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ur(n.nextSibling);var i=no;t&&so(e,t)?ao(i,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!ro)return co(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=io)){if(lo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ur(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){io=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}io=null}}else io=no?ur(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=io;e;)e=ur(e.nextSibling)}function fo(){io=no=null,ro=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=kr(null),bo=null,wo=null,_o=null;function xo(){_o=wo=bo=null}function Co(e){var t=yo.current;Sr(yo),e._currentValue=t}function ko(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function So(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ws=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Eo=null;function Po(e){null===Eo?Eo=[e]:Eo.push(e)}function Oo(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Po(t)):(n.next=r.next,r.next=n),t.interleaved=n,qo(e,i)}function qo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var $o=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ao(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!=(2&Pl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,qo(e,n)}return null===(r=i.interleaved)?(t.next=t,Po(i)):(t.next=r.next,r.next=t),i.interleaved=t,qo(e,n)}function Do(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function No(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ro(e,t,n,i){var r=e.updateQueue;$o=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l)}if(null!==o){var d=r.baseState;for(a=0,c=u=l=null,s=o;;){var p=s.lane,h=s.eventTime;if((i&p)===p){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(p=t,h=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(h,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(p="function"==typeof(f=m.payload)?f.call(h,d,p):f))break e;d=N({},d,p);break e;case 2:$o=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,a|=p;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(p=s).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===c&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Dl|=a,e.lanes=a,e.memoizedState=d}}function Io(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!=typeof r)throw Error(o(191,r));r.call(i)}}}var Fo=(new i.Component).refs;function Uo(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),o=jo(i,r);o.payload=t,null!=n&&(o.callback=n),null!==(t=Ao(e,o,r))&&(nu(t,e,r,i),Do(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),o=jo(i,r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Ao(e,o,r))&&(nu(t,e,r,i),Do(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),i=tu(e),r=jo(n,i);r.tag=2,null!=t&&(r.callback=t),null!==(t=Ao(e,r,i))&&(nu(t,e,i,n),Do(t,e,i))}};function Ho(e,t,n,i,r,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&li(n,i)&&li(r,o))}function zo(e,t,n){var i=!1,r=Er,o=t.contextType;return"object"==typeof o&&null!==o?o=To(o):(r=Mr(t)?qr:Pr.current,o=(i=null!=(i=t.contextTypes))?$r(e,r):Er),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vo(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Fo,Mo(e);var o=t.contextType;"object"==typeof o&&null!==o?r.context=To(o):(o=Mr(t)?qr:Pr.current,r.context=$r(e,o)),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Uo(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Bo.enqueueReplaceState(r,r.state,null),Ro(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}function Qo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===Fo&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Wo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Ko(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Lu(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Nu(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){var o=n.type;return o===C?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===M&&Yo(o)===t.type)?((i=r(t,n.props)).ref=Qo(e,t,n),i.return=e,i):((i=ju(n.type,n.key,n.props,null,e.mode,i)).ref=Qo(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ru(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Au(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Nu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case _:return(n=ju(t.type,t.key,t.props,null,e.mode,n)).ref=Qo(e,null,t),n.return=e,n;case x:return(t=Ru(t,e.mode,n)).return=e,t;case M:return p(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Au(t,e.mode,n,null)).return=e,t;Wo(e,t)}return null}function h(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===r?u(e,t,n,i):null;case x:return n.key===r?c(e,t,n,i):null;case M:return h(e,t,(r=n._init)(n._payload),i)}if(te(n)||A(n))return null!==r?null:d(e,t,n,i,null);Wo(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case _:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case x:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case M:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||A(i))return d(t,e=e.get(n)||null,i,r,null);Wo(t,i)}return null}function m(r,o,s,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(r,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),o=a(v,o,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(r,d),ro&&Jr(r,m),u;if(null===d){for(;m<s.length;m++)null!==(d=p(r,s[m],l))&&(o=a(d,o,m),null===c?u=d:c.sibling=d,c=d);return ro&&Jr(r,m),u}for(d=i(r,d);m<s.length;m++)null!==(g=f(d,r,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(r,e)})),ro&&Jr(r,m),u}function g(r,s,l,u){var c=A(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(r,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(r,m),s=a(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(r,m),ro&&Jr(r,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(r,y.value,u))&&(s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return ro&&Jr(r,g),c}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=f(m,r,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(r,e)})),ro&&Jr(r,g),c}return function e(i,o,a,l){if("object"==typeof a&&null!==a&&a.type===C&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===C){if(7===c.tag){n(i,c.sibling),(o=r(c,a.props.children)).return=i,i=o;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===M&&Yo(u)===c.type){n(i,c.sibling),(o=r(c,a.props)).ref=Qo(i,c,a),o.return=i,i=o;break e}n(i,c);break}t(i,c),c=c.sibling}a.type===C?((o=Au(a.props.children,i.mode,l,a.key)).return=i,i=o):((l=ju(a.type,a.key,a.props,null,i.mode,l)).ref=Qo(i,o,a),l.return=i,i=l)}return s(i);case x:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(i,o.sibling),(o=r(o,a.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=Ru(a,i.mode,l)).return=i,i=o}return s(i);case M:return e(i,o,(c=a._init)(a._payload),l)}if(te(a))return m(i,o,a,l);if(A(a))return g(i,o,a,l);Wo(i,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,a)).return=i,i=o):(n(i,o),(o=Nu(a,i.mode,l)).return=i,i=o),s(i)):n(i,o)}}var Zo=Ko(!0),Jo=Ko(!1),Xo={},ea=kr(Xo),ta=kr(Xo),na=kr(Xo);function ia(e){if(e===Xo)throw Error(o(174));return e}function ra(e,t){switch(Tr(na,t),Tr(ta,e),Tr(ea,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(ea),Tr(ea,t)}function oa(){Sr(ea),Sr(ta),Sr(na)}function aa(e){ia(na.current);var t=ia(ea.current),n=le(t,e.type);t!==n&&(Tr(ta,e),Tr(ea,n))}function sa(e){ta.current===e&&(Sr(ea),Sr(ta))}var la=kr(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function da(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var pa=w.ReactCurrentDispatcher,ha=w.ReactCurrentBatchConfig,fa=0,ma=null,ga=null,va=null,ya=!1,ba=!1,wa=0,_a=0;function xa(){throw Error(o(321))}function Ca(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function ka(e,t,n,i,r,a){if(fa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pa.current=null===e||null===e.memoizedState?ss:ls,e=n(i,r),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,va=ga=null,t.updateQueue=null,pa.current=us,e=n(i,r)}while(ba)}if(pa.current=as,t=null!==ga&&null!==ga.next,fa=0,va=ga=ma=null,ya=!1,t)throw Error(o(300));return e}function Sa(){var e=0!==wa;return wa=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ma.memoizedState=va=e:va=va.next=e,va}function Ea(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===va?ma.memoizedState:va.next;if(null!==t)va=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?ma.memoizedState=va=e:va=va.next=e}return va}function Pa(e,t){return"function"==typeof t?t(e):t}function Oa(e){var t=Ea(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=ga,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((fa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,s=i):u=u.next=p,ma.lanes|=d,Dl|=d}c=c.next}while(null!==c&&c!==a);null===u?s=i:u.next=l,si(i,t.memoizedState)||(ws=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,ma.lanes|=a,Dl|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qa(e){var t=Ea(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);si(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function $a(){}function Ma(e,t){var n=ma,i=Ea(),r=t(),a=!si(i.memoizedState,r);if(a&&(i.memoizedState=r,ws=!0),i=i.queue,za(Aa.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Ia(9,ja.bind(null,n,i,r,t),void 0,null),null===Ol)throw Error(o(349));0!=(30&fa)||La(n,t,r)}return r}function La(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ja(e,t,n,i){t.value=n,t.getSnapshot=i,Da(t)&&Na(e)}function Aa(e,t,n){return n((function(){Da(t)&&Na(e)}))}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(e){return!0}}function Na(e){var t=qo(e,1);null!==t&&nu(t,e,1,-1)}function Ra(e){var t=Ta();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ia(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Fa(){return Ea().memoizedState}function Ua(e,t,n,i){var r=Ta();ma.flags|=e,r.memoizedState=Ia(1|t,n,void 0,void 0===i?null:i)}function Ba(e,t,n,i){var r=Ea();i=void 0===i?null:i;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==i&&Ca(i,a.deps))return void(r.memoizedState=Ia(t,n,o,i))}ma.flags|=e,r.memoizedState=Ia(1|t,n,o,i)}function Ha(e,t){return Ua(8390656,8,e,t)}function za(e,t){return Ba(2048,8,e,t)}function Va(e,t){return Ba(4,2,e,t)}function Ga(e,t){return Ba(4,4,e,t)}function Qa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wa(e,t,n){return n=null!=n?n.concat([e]):null,Ba(4,4,Qa.bind(null,t,e),n)}function Ya(){}function Ka(e,t){var n=Ea();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ca(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Za(e,t){var n=Ea();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ca(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0==(21&fa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(si(n,t)||(n=mt(),ma.lanes|=n,Dl|=n,e.baseState=!0),t)}function Xa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=i}}function es(){return Ea().memoizedState}function ts(e,t,n){var i=tu(e);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},is(e)?rs(t,n):null!==(n=Oo(e,t,n,i))&&(nu(n,e,i,eu()),os(n,t,i))}function ns(e,t,n){var i=tu(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(e))rs(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,a)){var l=t.interleaved;return null===l?(r.next=r,Po(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(e){}null!==(n=Oo(e,t,r,i))&&(nu(n,e,i,r=eu()),os(n,t,i))}}function is(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function rs(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!=(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:To,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:To,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ua(4194308,4,Qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Ta();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ts.bind(null,ma,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:Ra,useDebugValue:Ya,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=Xa.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ma,r=Ta();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ol)throw Error(o(349));0!=(30&fa)||La(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Ha(Aa.bind(null,i,a,e),[e]),i.flags|=2048,Ia(9,ja.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Ol.identifierPrefix;if(ro){var n=Zr;t=":"+t+"R"+(n=(Kr&~(1<<32-at(Kr)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_a++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:To,useCallback:Ka,useContext:To,useEffect:za,useImperativeHandle:Wa,useInsertionEffect:Va,useLayoutEffect:Ga,useMemo:Za,useReducer:Oa,useRef:Fa,useState:function(){return Oa(Pa)},useDebugValue:Ya,useDeferredValue:function(e){return Ja(Ea(),ga.memoizedState,e)},useTransition:function(){return[Oa(Pa)[0],Ea().memoizedState]},useMutableSource:$a,useSyncExternalStore:Ma,useId:es,unstable_isNewReconciler:!1},us={readContext:To,useCallback:Ka,useContext:To,useEffect:za,useImperativeHandle:Wa,useInsertionEffect:Va,useLayoutEffect:Ga,useMemo:Za,useReducer:qa,useRef:Fa,useState:function(){return qa(Pa)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ea();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[qa(Pa)[0],Ea().memoizedState]},useMutableSource:$a,useSyncExternalStore:Ma,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",i=t;do{n+=U(i),i=i.return}while(i);var r=n}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var hs="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){zl||(zl=!0,Vl=i),ps(0,t)},n}function ms(e,t,n){(n=jo(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ps(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ps(0,t),"function"!=typeof i&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new hs;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,i,r){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=jo(-1,1)).tag=2,Ao(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var bs=w.ReactCurrentOwner,ws=!1;function _s(e,t,n,i){t.child=null===e?Jo(t,null,n,i):Zo(t,e.child,n,i)}function xs(e,t,n,i,r){n=n.render;var o=t.ref;return So(t,r),i=ka(e,t,n,i,o,r),n=Sa(),null===e||ws?(ro&&n&&eo(t),t.flags|=1,_s(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zs(e,t,r))}function Cs(e,t,n,i,r){if(null===e){var o=n.type;return"function"!=typeof o||Mu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ju(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,i,r))}if(o=e.child,0==(e.lanes&r)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&e.ref===t.ref)return zs(e,t,r)}return t.flags|=1,(e=Lu(o,i)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(li(o,i)&&e.ref===t.ref){if(ws=!1,t.pendingProps=i=o,0==(e.lanes&r))return t.lanes=e.lanes,zs(e,t,r);0!=(131072&e.flags)&&(ws=!0)}}return Es(e,t,n,i,r)}function Ss(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(Ll,Ml),Ml|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tr(Ll,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Tr(Ll,Ml),Ml|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Tr(Ll,Ml),Ml|=i;return _s(e,t,r,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,i,r){var o=Mr(n)?qr:Pr.current;return o=$r(t,o),So(t,r),n=ka(e,t,n,i,o,r),i=Sa(),null===e||ws?(ro&&i&&eo(t),t.flags|=1,_s(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zs(e,t,r))}function Ps(e,t,n,i,r){if(Mr(n)){var o=!0;Dr(t)}else o=!1;if(So(t,r),null===t.stateNode)Hs(e,t),zo(t,n,i),Go(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?To(u):$r(t,u=Mr(n)?qr:Pr.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||l!==u)&&Vo(t,a,i,u),$o=!1;var p=t.memoizedState;a.state=p,Ro(t,i,a,r),l=t.memoizedState,s!==i||p!==l||Or.current||$o?("function"==typeof c&&(Uo(t,n,c,i),l=t.memoizedState),(s=$o||Ho(t,n,s,i,p,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=u,i=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Lo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:vo(t.type,s),a.props=u,d=t.pendingProps,p=a.context,l="object"==typeof(l=n.contextType)&&null!==l?To(l):$r(t,l=Mr(n)?qr:Pr.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||p!==l)&&Vo(t,a,i,l),$o=!1,p=t.memoizedState,a.state=p,Ro(t,i,a,r);var f=t.memoizedState;s!==d||p!==f||Or.current||$o?("function"==typeof h&&(Uo(t,n,h,i),f=t.memoizedState),(u=$o||Ho(t,n,u,i,p,f,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=l,i=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return Os(e,t,n,i,o,r)}function Os(e,t,n,i,r,o){Ts(e,t);var a=0!=(128&t.flags);if(!i&&!a)return r&&Nr(t,n,!1),zs(e,t,o);i=t.stateNode,bs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Zo(t,e.child,null,o),t.child=Zo(t,null,s,o)):_s(e,t,s,o),t.memoizedState=i.state,r&&Nr(t,n,!0),t.child}function qs(e){var t=e.stateNode;t.pendingContext?jr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&jr(0,t.context,!1),ra(e,t.containerInfo)}function $s(e,t,n,i,r){return fo(),mo(r),t.flags|=256,_s(e,t,n,i),t.child}var Ms,Ls,js,As={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ns(e,t,n){var i,r=t.pendingProps,a=la.current,s=!1,l=0!=(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!=(2&a)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Tr(la,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0==(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Du(l,r,0,null),e=Au(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=As,e):Rs(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,n,i,r,a,s){if(n)return 256&t.flags?(t.flags&=-257,Is(e,t,s,i=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,r=t.mode,i=Du({mode:"visible",children:i.children},r,0,null),(a=Au(a,r,s,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!=(1&t.mode)&&Zo(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=As,a);if(0==(1&t.mode))return Is(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Is(e,t,s,i=ds(a=Error(o(419)),i,void 0))}if(l=0!=(s&e.childLanes),ws||l){if(null!==(i=Ol)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!=(r&(i.suspendedLanes|s))?0:r)&&r!==a.retryLane&&(a.retryLane=r,qo(e,r),nu(i,e,r,-1))}return mu(),Is(e,t,s,i=ds(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Eu.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,io=ur(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&(Qr[Wr++]=Kr,Qr[Wr++]=Zr,Qr[Wr++]=Yr,Kr=e.id,Zr=e.overflow,Yr=t),(t=Rs(t,i.children)).flags|=4096,t)}(e,t,l,r,i,a,n);if(s){s=r.fallback,l=t.mode,i=(a=e.child).sibling;var u={mode:"hidden",children:r.children};return 0==(1&l)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=u,t.deletions=null):(r=Lu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==i?s=Lu(i,s):(s=Au(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=As,r}return e=(s=e.child).sibling,r=Lu(s,{mode:"visible",children:r.children}),0==(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rs(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Is(e,t,n,i){return null!==i&&mo(i),Zo(t,e.child,null,n),(e=Rs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),ko(e.return,t,n)}function Us(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Bs(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(_s(e,t,i.children,n),0!=(2&(i=la.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Tr(la,i),0==(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Us(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ua(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Us(t,!0,n,null,o);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Qs(e,t,n){var i=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Mr(t.type)&&Lr(),Gs(t),null;case 3:return i=t.stateNode,oa(),Sr(Or),Sr(Pr),da(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Gs(t),null;case 5:sa(t);var r=ia(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=ia(ea.current),po(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[pr]=t,i[hr]=a,e=0!=(1&t.mode),n){case"dialog":Ii("cancel",i),Ii("close",i);break;case"iframe":case"object":case"embed":Ii("load",i);break;case"video":case"audio":for(r=0;r<Ai.length;r++)Ii(Ai[r],i);break;case"source":Ii("error",i);break;case"img":case"image":case"link":Ii("error",i),Ii("load",i);break;case"details":Ii("toggle",i);break;case"input":K(i,a),Ii("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Ii("invalid",i);break;case"textarea":re(i,a),Ii("invalid",i)}for(var l in ye(n,a),r=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"==typeof u?i.textContent!==u&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,u,e),r=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,u,e),r=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ii("scroll",i)}switch(n){case"input":G(i),X(i,a,!0);break;case"textarea":G(i),ae(i);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(i.onclick=Xi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[pr]=t,e[hr]=i,Ms(e,t),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":Ii("cancel",e),Ii("close",e),r=i;break;case"iframe":case"object":case"embed":Ii("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ai.length;r++)Ii(Ai[r],e);r=i;break;case"source":Ii("error",e),r=i;break;case"img":case"image":case"link":Ii("error",e),Ii("load",e),r=i;break;case"details":Ii("toggle",e),r=i;break;case"input":K(e,i),r=Y(e,i),Ii("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=N({},i,{value:void 0}),Ii("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Ii("invalid",e)}for(a in ye(n,r),u=r)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"==typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"==typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ii("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":G(e),X(e,i,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+z(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof r.onClick&&(e.onclick=Xi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)js(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(o(166));if(n=ia(na.current),ia(ea.current),po(t)){if(i=t.stateNode,n=t.memoizedProps,i[pr]=t,(a=i.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Ji(i.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!=(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[pr]=t,t.stateNode=i}return Gs(t),null;case 13:if(Sr(la),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==io&&0!=(1&t.mode)&&0==(128&t.flags))ho(),fo(),t.flags|=98560,a=!1;else if(a=po(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[pr]=t}else fo(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((i=null!==i)!=(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&la.current)?0===jl&&(jl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return oa(),null===e&&Bi(t.stateNode.containerInfo),Gs(t),null;case 10:return Co(t.type._context),Gs(t),null;case 19:if(Sr(la),null===(a=t.memoizedState))return Gs(t),null;if(i=0!=(128&t.flags),null===(l=a.rendering))if(i)Vs(a,!1);else{if(0!==jl||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ua(e))){for(t.flags|=128,Vs(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Tr(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Bl&&(t.flags|=128,i=!0,Vs(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ua(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ro)return Gs(t),null}else 2*Ze()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,i=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=la.current,Tr(la,i?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return du(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!=(1&t.mode)?0!=(1073741824&Ml)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ws(e,t){switch(to(t),t.tag){case 1:return Mr(t.type)&&Lr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Sr(Or),Sr(Pr),da(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Sr(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(la),null;case 4:return oa(),null;case 10:return Co(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,ia(ea.current);var o,a=null;switch(n){case"input":r=Y(e,r),i=Y(e,i),a=[];break;case"select":r=N({},r,{value:void 0}),i=N({},i,{value:void 0}),a=[];break;case"textarea":r=ie(e,r),i=ie(e,i),a=[];break;default:"function"!=typeof r.onClick&&"function"==typeof i.onClick&&(e.onclick=Xi)}for(c in ye(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ii("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},js=function(e,t,n,i){n!==i&&(t.flags|=4)};var Ys=!1,Ks=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Js=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){ku(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){ku(e,t,n)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&el(t,n,o)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[pr],delete t[hr],delete t[mr],delete t[gr],delete t[vr]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xi));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(e){}switch(n.tag){case 5:Ks||Xs(n,t);case 6:var i=cl,r=dl;cl=null,pl(e,t,n),dl=r,null!==(cl=i)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Bt(e)):lr(cl,n.stateNode));break;case 4:i=cl,r=dl,cl=n.stateNode.containerInfo,dl=!0,pl(e,t,n),cl=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Ks&&null!==(i=n.updateQueue)&&null!==(i=i.lastEffect)){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,void 0!==a&&(0!=(2&o)||0!=(4&o))&&el(n,t,a),r=r.next}while(r!==i)}pl(e,t,n);break;case 1:if(!Ks&&(Xs(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(e){ku(n,t,e)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Ks=(i=Ks)||null!==n.memoizedState,pl(e,t,n),Ks=i):pl(e,t,n);break;default:pl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var i=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));hl(a,s,r),cl=null,dl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(e){ku(r,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(t){ku(e,e.return,t)}try{nl(5,e,e.return)}catch(t){ku(e,e.return,t)}}break;case 1:ml(t,e),vl(e),512&i&&null!==n&&Xs(n,n.return);break;case 5:if(ml(t,e),vl(e),512&i&&null!==n&&Xs(n,n.return),32&e.flags){var r=e.stateNode;try{pe(r,"")}catch(t){ku(e,e.return,t)}}if(4&i&&null!=(r=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(r,a),be(l,s);var c=be(l,a);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];"style"===d?ge(r,p):"dangerouslySetInnerHTML"===d?de(r,p):"children"===d?pe(r,p):b(r,d,p,c)}switch(l){case"input":J(r,a);break;case"textarea":oe(r,a);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(r,!!a.multiple,f,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[hr]=a}catch(t){ku(e,e.return,t)}}break;case 6:if(ml(t,e),vl(e),4&i){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(t){ku(e,e.return,t)}}break;case 3:if(ml(t,e),vl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(t){ku(e,e.return,t)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=Ze())),4&i&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(c=Ks)||d,ml(t,e),Ks=c):ml(t,e),vl(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!=(1&e.mode))for(Js=e,d=e.child;null!==d;){for(p=Js=d;null!==Js;){switch(f=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Xs(h,h.return);var m=h.stateNode;if("function"==typeof m.componentWillUnmount){i=h,n=h.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){ku(i,n,e)}}break;case 5:Xs(h,h.return);break;case 22:if(null!==h.memoizedState){_l(p);continue}}null!==f?(f.return=h,Js=f):_l(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{r=p.stateNode,c?"function"==typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=null!=(u=p.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(t){ku(e,e.return,t)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(t){ku(e,e.return,t)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(t,e),vl(e),4&i&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(pe(r,""),i.flags&=-33),ul(e,sl(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(t){ku(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var i=0!=(1&e.mode);null!==Js;){var r=Js,o=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Ys;if(!a){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Ys;var u=Ks;if(Ys=a,(Ks=l)&&!u)for(Js=r;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?xl(r):null!==l?(l.return=a,Js=l):xl(r);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=r,Ys=s,Ks=u}wl(e)}else 0!=(8772&r.subtreeFlags)&&null!==o?(o.return=r,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ks)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Io(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Io(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Bt(p)}}}break;default:throw Error(o(163))}Ks||512&t.flags&&rl(t)}catch(e){ku(t,t.return,e)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function _l(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(e){ku(t,n,e)}break;case 1:var i=t.stateNode;if("function"==typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(e){ku(t,r,e)}}var o=t.return;try{rl(t)}catch(e){ku(t,o,e)}break;case 5:var a=t.return;try{rl(t)}catch(e){ku(t,a,e)}}}catch(e){ku(t,t.return,e)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Cl,kl=Math.ceil,Sl=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,Pl=0,Ol=null,ql=null,$l=0,Ml=0,Ll=kr(0),jl=0,Al=null,Dl=0,Nl=0,Rl=0,Il=null,Fl=null,Ul=0,Bl=1/0,Hl=null,zl=!1,Vl=null,Gl=null,Ql=!1,Wl=null,Yl=0,Kl=0,Zl=null,Jl=-1,Xl=0;function eu(){return 0!=(6&Pl)?Ze():-1!==Jl?Jl:Jl=Ze()}function tu(e){return 0==(1&e.mode)?1:0!=(2&Pl)&&0!==$l?$l&-$l:null!==go.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nu(e,t,n,i){if(50<Kl)throw Kl=0,Zl=null,Error(o(185));vt(e,n,i),0!=(2&Pl)&&e===Ol||(e===Ol&&(0==(2&Pl)&&(Nl|=n),4===jl&&su(e,$l)),iu(e,i),1===n&&0===Pl&&0==(1&t.mode)&&(Bl=Ze()+500,Ir&&Br()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=r[a];-1===l?0!=(s&n)&&0==(s&i)||(r[a]=ht(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var i=pt(e,e===Ol?$l:0);if(0===i)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Ir=!0,Ur(e)}(lu.bind(null,e)):Ur(lu.bind(null,e)),ar((function(){0==(6&Pl)&&Br()})),n=null;else{switch(wt(i)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ou(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Jl=-1,Xl=0,0!=(6&Pl))throw Error(o(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var i=pt(e,e===Ol?$l:0);if(0===i)return null;if(0!=(30&i)||0!=(i&e.expiredLanes)||t)t=gu(e,i);else{t=i;var r=Pl;Pl|=2;var a=fu();for(Ol===e&&$l===t||(Hl=null,Bl=Ze()+500,pu(e,t));;)try{yu();break}catch(t){hu(e,t)}xo(),Sl.current=a,Pl=r,null!==ql?t=0:(Ol=null,$l=0,t=jl)}if(0!==t){if(2===t&&0!==(r=ft(e))&&(i=r,t=ou(e,r)),1===t)throw n=Al,pu(e,0),su(e,i),iu(e,Ze()),n;if(6===t)su(e,i);else{if(r=e.current.alternate,0==(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!si(o(),r))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gu(e,i))&&0!==(a=ft(e))&&(i=a,t=ou(e,a)),1===t))throw n=Al,pu(e,0),su(e,i),iu(e,Ze()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:_u(e,Fl,Hl);break;case 3:if(su(e,i),(130023424&i)===i&&10<(t=Ul+500-Ze())){if(0!==pt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){eu(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(_u.bind(null,e,Fl,Hl),t);break}_u(e,Fl,Hl);break;case 4:if(su(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-at(i);a=1<<s,(s=t[s])>r&&(r=s),i&=~a}if(i=r,10<(i=(120>(i=Ze()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kl(i/1960))-i)){e.timeoutHandle=ir(_u.bind(null,e,Fl,Hl),i);break}_u(e,Fl,Hl);break;default:throw Error(o(329))}}}return iu(e,Ze()),e.callbackNode===n?ru.bind(null,e):null}function ou(e,t){var n=Il;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Fl,Fl=n,null!==t&&au(t)),e}function au(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function su(e,t){for(t&=~Rl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function lu(e){if(0!=(6&Pl))throw Error(o(327));xu();var t=pt(e,0);if(0==(1&t))return iu(e,Ze()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=ou(e,i))}if(1===n)throw n=Al,pu(e,0),su(e,t),iu(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,Fl,Hl),iu(e,Ze()),null}function uu(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Bl=Ze()+500,Ir&&Br())}}function cu(e){null!==Wl&&0===Wl.tag&&0==(6&Pl)&&xu();var t=Pl;Pl|=1;var n=El.transition,i=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=i,El.transition=n,0==(6&(Pl=t))&&Br()}}function du(){Ml=Ll.current,Sr(Ll)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==ql)for(n=ql.return;null!==n;){var i=n;switch(to(i),i.tag){case 1:null!=(i=i.type.childContextTypes)&&Lr();break;case 3:oa(),Sr(Or),Sr(Pr),da();break;case 5:sa(i);break;case 4:oa();break;case 13:case 19:Sr(la);break;case 10:Co(i.type._context);break;case 22:case 23:du()}n=n.return}if(Ol=e,ql=e=Lu(e.current,null),$l=Ml=t,jl=0,Al=null,Rl=Nl=Dl=0,Fl=Il=null,null!==Eo){for(t=0;t<Eo.length;t++)if(null!==(i=(n=Eo[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var a=o.next;o.next=r,i.next=a}n.pending=i}Eo=null}return e}function hu(e,t){for(;;){var n=ql;try{if(xo(),pa.current=as,ya){for(var i=ma.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ya=!1}if(fa=0,va=ga=ma=null,ba=!1,wa=0,Tl.current=null,null===n||null===n.return){jl=1,Al=t,ql=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=$l,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,p=d.tag;if(0==(1&d.mode)&&(0===p||11===p||15===p)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=vs(s);if(null!==f){f.flags&=-257,ys(f,s,l,0,t),1&f.mode&&gs(a,c,t),u=c;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0==(1&t)){gs(a,c,t),mu();break e}u=Error(o(426))}else if(ro&&1&l.mode){var v=vs(s);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),mo(cs(u,l));break e}}a=u=cs(u,l),4!==jl&&(jl=2),null===Il?Il=[a]:Il.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,No(a,fs(0,u,t));break e;case 1:l=u;var y=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,No(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}wu(n)}catch(e){t=e,ql===n&&null!==n&&(ql=n=n.return);continue}break}}function fu(){var e=Sl.current;return Sl.current=as,null===e?as:e}function mu(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Ol||0==(268435455&Dl)&&0==(268435455&Nl)||su(Ol,$l)}function gu(e,t){var n=Pl;Pl|=2;var i=fu();for(Ol===e&&$l===t||(Hl=null,pu(e,t));;)try{vu();break}catch(t){hu(e,t)}if(xo(),Pl=n,Sl.current=i,null!==ql)throw Error(o(261));return Ol=null,$l=0,jl}function vu(){for(;null!==ql;)bu(ql)}function yu(){for(;null!==ql&&!Ye();)bu(ql)}function bu(e){var t=Cl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?wu(e):ql=t,Tl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Qs(n,t,Ml)))return void(ql=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(ql=n);if(null===e)return jl=6,void(ql=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ql=t);ql=t=e}while(null!==t);0===jl&&(jl=5)}function _u(e,t,n){var i=bt,r=El.transition;try{El.transition=null,bt=1,function(e,t,n,i){do{xu()}while(null!==Wl);if(0!=(6&Pl))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,a),e===Ol&&(ql=Ol=null,$l=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Ql||(Ql=!0,Ou(tt,(function(){return xu(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=El.transition,El.transition=null;var s=bt;bt=1;var l=Pl;Pl|=4,Tl.current=null,function(e,t){if(er=zt,hi(e=pi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==r&&3!==p.nodeType||(l=s+r),p!==a||0!==i&&3!==p.nodeType||(u=s+i),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++c===r&&(l=s),h===a&&++d===i&&(u=s),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},zt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(e){ku(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),fi(tr),zt=!!er,tr=er=null,e.current=n,yl(n,e,r),Ke(),Pl=l,bt=s,El.transition=a}else e.current=n;if(Ql&&(Ql=!1,Wl=e,Yl=r),0===(a=e.pendingLanes)&&(Gl=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),iu(e,Ze()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)i((r=t[n]).value,{componentStack:r.stack,digest:r.digest});if(zl)throw zl=!1,e=Vl,Vl=null,e;0!=(1&Yl)&&0!==e.tag&&xu(),0!=(1&(a=e.pendingLanes))?e===Zl?Kl++:(Kl=0,Zl=e):Kl=0,Br()}(e,t,n,i)}finally{El.transition=r,bt=i}return null}function xu(){if(null!==Wl){var e=wt(Yl),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===Wl)var i=!1;else{if(e=Wl,Wl=null,Yl=0,0!=(6&Pl))throw Error(o(331));var r=Pl;for(Pl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!=(16&Js.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var p=d.child;if(null!==p)p.return=d,Js=p;else for(;null!==Js;){var h=(d=Js).sibling,f=d.return;if(ol(d),d===c){Js=null;break}if(null!==h){h.return=f,Js=h;break}Js=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!=(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!=(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!=(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(e){ku(l,l.return,e)}if(l===s){Js=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Js=_;break e}Js=l.return}}if(Pl=r,Br(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(e){}i=!0}return i}finally{bt=n,El.transition=t}}return!1}function Cu(e,t,n){e=Ao(e,t=fs(0,t=cs(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),iu(e,t))}function ku(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Gl||!Gl.has(i))){t=Ao(t,e=ms(t,e=cs(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),iu(t,e));break}}t=t.return}}function Su(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&($l&n)===n&&(4===jl||3===jl&&(130023424&$l)===$l&&500>Ze()-Ul?pu(e,0):Rl|=n),iu(e,t)}function Tu(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ct,0==(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=qo(e,t))&&(vt(e,t,n),iu(e,n))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Tu(e,n)}function Ou(e,t){return Qe(e,t)}function qu(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $u(e,t,n,i){return new qu(e,t,n,i)}function Mu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,t){var n=e.alternate;return null===n?((n=$u(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ju(e,t,n,i,r,a){var s=2;if(i=e,"function"==typeof e)Mu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return Au(n.children,r,a,t);case k:s=8,r|=8;break;case S:return(e=$u(12,n,t,2|r)).elementType=S,e.lanes=a,e;case O:return(e=$u(13,n,t,r)).elementType=O,e.lanes=a,e;case q:return(e=$u(19,n,t,r)).elementType=q,e.lanes=a,e;case L:return Du(n,r,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case E:s=9;break e;case P:s=11;break e;case $:s=14;break e;case M:s=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=$u(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Au(e,t,n,i){return(e=$u(7,e,i,t)).lanes=n,e}function Du(e,t,n,i){return(e=$u(22,e,i,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Nu(e,t,n){return(e=$u(6,e,null,t)).lanes=n,e}function Ru(e,t,n){return(t=$u(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Iu(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,i,r,o,a,s,l){return e=new Iu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=$u(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),e}function Uu(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Bu(e){if(!e)return Er;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Mr(n))return Ar(e,n,t)}return t}function Hu(e,t,n,i,r,o,a,s,l){return(e=Fu(n,i,!0,e,0,o,0,s,l)).context=Bu(null),n=e.current,(o=jo(i=eu(),r=tu(n))).callback=null!=t?t:null,Ao(n,o,r),e.current.lanes=r,vt(e,r,i),iu(e,i),e}function zu(e,t,n,i){var r=t.current,o=eu(),a=tu(r);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=jo(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Ao(r,t,a))&&(nu(e,r,a,o),Do(e,r,a)),a}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Or.current)ws=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:qs(t),fo();break;case 5:aa(t);break;case 1:Mr(t.type)&&Dr(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Tr(yo,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Tr(la,1&la.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Ns(e,t,n):(Tr(la,1&la.current),null!==(e=zs(e,t,n))?e.sibling:null);Tr(la,1&la.current);break;case 19:if(i=0!=(n&t.childLanes),0!=(128&e.flags)){if(i)return Bs(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Tr(la,la.current),i)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return zs(e,t,n)}(e,t,n);ws=0!=(131072&e.flags)}else ws=!1,ro&&0!=(1048576&t.flags)&&Xr(t,Gr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Hs(e,t),e=t.pendingProps;var r=$r(t,Pr.current);So(t,n),r=ka(null,t,i,e,r,n);var a=Sa();return t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(i)?(a=!0,Dr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Mo(t),r.updater=Bo,t.stateNode=r,r._reactInternals=t,Go(t,i,e,n),t=Os(null,t,i,!0,a,n)):(t.tag=0,ro&&a&&eo(t),_s(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"==typeof e)return Mu(e)?1:0;if(null!=e){if((e=e.$$typeof)===P)return 11;if(e===$)return 14}return 2}(i),e=vo(i,e),r){case 0:t=Es(null,t,i,e,n);break e;case 1:t=Ps(null,t,i,e,n);break e;case 11:t=xs(null,t,i,e,n);break e;case 14:t=Cs(null,t,i,vo(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Es(e,t,i,r=t.elementType===i?r:vo(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ps(e,t,i,r=t.elementType===i?r:vo(i,r),n);case 3:e:{if(qs(t),null===e)throw Error(o(387));i=t.pendingProps,r=(a=t.memoizedState).element,Lo(e,t),Ro(t,i,null,n);var s=t.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=$s(e,t,i,n,r=cs(Error(o(423)),t));break e}if(i!==r){t=$s(e,t,i,n,r=cs(Error(o(424)),t));break e}for(io=ur(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=Jo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),i===r){t=zs(e,t,n);break e}_s(e,t,i,n)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==a&&nr(i,a)&&(t.flags|=32),Ts(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ns(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Zo(t,null,i,n):_s(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,xs(e,t,i,r=t.elementType===i?r:vo(i,r),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,s=r.value,Tr(yo,i._currentValue),i._currentValue=s,null!==a)if(si(a.value,s)){if(a.children===r.children&&!Or.current){t=zs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===a.tag){(u=jo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),ko(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ko(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,So(t,n),i=i(r=To(r)),t.flags|=1,_s(e,t,i,n),t.child;case 14:return r=vo(i=t.type,t.pendingProps),Cs(e,t,i,r=vo(i.type,r),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:vo(i,r),Hs(e,t),t.tag=1,Mr(i)?(e=!0,Dr(t)):e=!1,So(t,n),zo(t,i,r),Go(t,i,r,n),Os(null,t,i,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ss(e,t,n)}throw Error(o(156,t.tag))};var Wu="function"==typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function ec(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof r){var s=r;r=function(){var e=Vu(a);s.call(e)}}zu(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"==typeof i){var o=i;i=function(){var e=Vu(a);o.call(e)}}var a=Hu(t,i,e,0,null,!1,0,"",Xu);return e._reactRootContainer=a,e[fr]=a.current,Bi(8===e.nodeType?e.parentNode:e),cu(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"==typeof i){var s=i;i=function(){var e=Vu(l);s.call(e)}}var l=Fu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[fr]=l.current,Bi(8===e.nodeType?e.parentNode:e),cu((function(){zu(t,l,n,i)})),l}(n,t,e,r,i);return Vu(a)}Ku.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));zu(e,t,null,null)},Ku.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){zu(null,e,null,null)})),t[fr]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Nt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),iu(t,Ze()),0==(6&Pl)&&(Bl=Ze()+500,Br()))}break;case 13:cu((function(){var t=qo(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Qu(e,1)}},xt=function(e){if(13===e.tag){var t=qo(e,134217728);null!==t&&nu(t,e,134217728,eu()),Qu(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tu(e),n=qo(e,t);null!==n&&nu(n,e,t,eu()),Qu(e,t)}},kt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=_r(i);if(!r)throw Error(o(90));Q(i),J(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=uu,Oe=cu;var tc={usingClientEntryPoint:!1,Events:[br,wr,_r,Te,Ee,uu]},nc={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ic={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{rt=rc.inject(ic),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(o(200));return Uu(e,t,null,n)},t.createRoot=function(e,t){if(!Zu(e))throw Error(o(299));var n=!1,i="",r=Wu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,Bi(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zu(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",s=Wu;if(null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,r,0,a,s),e[fr]=t.current,Bi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Ku(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ju(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},745:function(e,t,n){"use strict";var i=n(3935);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},3935:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},5251:function(e,t,n){"use strict";var i=n(7294),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var i,o={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},2408:function(e,t){"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,C={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,i){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:C.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,r,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===o?"."+P(l,0):o,_(a)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),O(a,t,r,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",_(e))for(var u=0;u<e.length;u++){var c=o+P(s=e[u],u);l+=O(s,t,r,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=O(s=s.value,t,r,c=o+P(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function q(e,t,n){if(null==e)return e;var i=[],r=0;return O(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function $(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},L={transition:null},j={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:L,ReactCurrentOwner:C};t.Children={map:q,forEach:function(e,t,n){q(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return q(e,(function(){t++})),t},toArray:function(e){return q(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,i){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!k.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:$}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},7294:function(e,t,n){"use strict";e.exports=n(2408)},5893:function(e,t,n){"use strict";e.exports=n(5251)},6563:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1813),s=n(9052),l=n(7294),u=n(3935);t.react2angular=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=[]);var i=t||e.propTypes&&Object.keys(e.propTypes)||[];return{bindings:a(i.map((function(e){return[e,"<"]}))),controller:["$element"].concat(n,[function(t){function i(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var o=t.call(this)||this;return o.$element=e,o.isDestroyed=!1,o.injectedProps={},n.forEach((function(e,t){o.injectedProps[e]=i[t]})),o}return r(i,t),Object.defineProperty(i,"$$ngIsClass",{get:function(){return!0},enumerable:!0,configurable:!0}),i.prototype.render=function(){this.isDestroyed||u.render(l.createElement(e,o({},this.props,this.injectedProps)),this.$element[0])},i.prototype.componentWillUnmount=function(){this.isDestroyed=!0,u.unmountComponentAtNode(this.$element[0])},i}(s.default)])}}},6488:function(e,t,n){var i,r=n(5623),o=n(6913),a=n(2087),s=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g;e.exports=function(e,t){return i=0,t=Math.pow(10,void 0===t?5:t),e=e.replace(/\n+/g," "),o(e,/((?:\-[a-z]+\-)?calc)\(/,(function e(n,o,l){if(i++>100)throw i=0,new Error("Call stack overflow for "+l);if(""===n)throw new Error(o+"(): '"+l+"' must contain a non-whitespace string");n=function(t,n){for(var i,o="",a=t=t.replace(/((?:\-[a-z]+\-)?calc)/g,"");i=s.exec(a);){i[0].index>0&&(o+=a.substring(0,i[0].index));var l=r("(",")",a.substring([0].index));if(""===l.body)throw new Error("'"+t+"' must contain a non-whitespace string");var u=e(l.body,"",n);o+=l.pre+u,a=l.post}return o+a}(n,l);var u=function(e){for(var t=[],n=[],i=/[\.0-9]([%a-z]+)/gi,r=i.exec(e);r;)r&&r[1]&&(-1===n.indexOf(r[1].toLowerCase())&&(t.push(r[1]),n.push(r[1].toLowerCase())),r=i.exec(e));return t}(n);if(u.length>1||n.indexOf("var(")>-1)return o+"("+n+")";var c=u[0]||"";"%"===c&&(n=n.replace(/\b[0-9\.]+%/g,(function(e){return.01*parseFloat(e.slice(0,-1))})));var d,p=n.replace(new RegExp(c,"gi"),"");try{d=a.eval(p)}catch(e){return o+"("+n+")"}return"%"===c&&(d*=100),(o.length||"%"===c)&&(d=Math.round(d*t)/t),d+c}))}},6913:function(e,t,n){var i=n(5623);e.exports=function e(t,n,r){var o=t;return function(e,t){var n=[],r="string"==typeof t?new RegExp("\\b("+t+")\\("):t;do{var o=r.exec(e);if(!o)return n;if(void 0===o[1])throw new Error("Missing the first couple of parenthesis to get the function identifier in "+t);var a=o[1],s=o.index,l=i("(",")",e.substring(s));if(!l||l.start!==o[0].length-1)throw new SyntaxError(a+"(): missing closing ')' in the value '"+e+"'");n.push({matches:l,functionIdentifier:a}),e=l.post}while(r.test(e));return n}(t,n).reduce((function(t,i){return t.replace(i.functionIdentifier+"("+i.matches.body+")",function(t,n,i,r,o){return i(e(t,o,i),n,r)}(i.matches.body,i.functionIdentifier,r,o,n))}),t)}},5666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof g?t:g,o=Object.create(r.prototype),a=new P(i||[]);return o._invoke=function(e,t,n){var i=d;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw o;return q()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var l=c(e,t,n);if("normal"===l.type){if(i=n.done?f:p,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=f,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",p="suspendedYield",h="executing",f="completed",m={};function g(){}function v(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(O([])));_&&_!==n&&i.call(_,o)&&(b=_);var x=y.prototype=g.prototype=Object.create(b);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(r,o,a,s){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var r;this._invoke=function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}}function S(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=c(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:q}}function q(){return{value:t,done:!0}}return v.prototype=y,l(x,"constructor",y),l(y,"constructor",v),v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},C(k.prototype),l(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new k(u(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(x),l(x,s,"Generator"),l(x,o,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:O(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},53:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<r&&0>o(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[s]=n,i=s);else{if(!(u<r&&0>o(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function _(e){if(g=!1,w(e),!m)if(null!==i(u))m=!0,L(x);else{var t=i(c);null!==t&&j(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(T),T=-1),f=!0;var o=h;try{for(w(n),p=i(u);null!==p&&(!(p.expirationTime>n)||e&&!O());){var a=p.callback;if("function"==typeof a){p.callback=null,h=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===i(u)&&r(u),w(n)}else r(u);p=i(u)}if(null!==p)var l=!0;else{var d=i(c);null!==d&&j(_,d.startTime-n),l=!1}return l}finally{p=null,h=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,k=!1,S=null,T=-1,E=5,P=-1;function O(){return!(t.unstable_now()-P<E)}function q(){if(null!==S){var e=t.unstable_now();P=e;var n=!0;try{n=S(!0,e)}finally{n?C():(k=!1,S=null)}}else k=!1}if("function"==typeof b)C=function(){b(q)};else if("undefined"!=typeof MessageChannel){var $=new MessageChannel,M=$.port2;$.port1.onmessage=q,C=function(){M.postMessage(null)}}else C=function(){v(q,0)};function L(e){S=e,k||(k=!0,C())}function j(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,L(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===i(u)&&e===i(c)&&(g?(y(T),T=-1):g=!0,j(_,o-a))):(e.sortIndex=s,n(u,e),m||f||(m=!0,L(x))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},3840:function(e,t,n){"use strict";e.exports=n(53)},6577:function(e){e.exports=function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return r(t[a][1][e]||e)}),u,u.exports,e,t,n,i)}return n[a].exports}for(var o=void 0,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("./utils");var i=s(e("./TributeEvents")),r=s(e("./TributeMenuEvents")),o=s(e("./TributeRange")),a=s(e("./TributeSearch"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(){function e(t){var n,s=this,l=t.values,u=void 0===l?null:l,c=t.iframe,d=void 0===c?null:c,p=t.selectClass,h=void 0===p?"highlight":p,f=t.containerClass,m=void 0===f?"tribute-container":f,g=t.itemClass,v=void 0===g?"":g,y=t.trigger,b=void 0===y?"@":y,w=t.autocompleteMode,_=void 0!==w&&w,x=t.selectTemplate,C=void 0===x?null:x,k=t.menuItemTemplate,S=void 0===k?null:k,T=t.lookup,E=void 0===T?"key":T,P=t.fillAttr,O=void 0===P?"value":P,q=t.collection,$=void 0===q?null:q,M=t.menuContainer,L=void 0===M?null:M,j=t.noMatchTemplate,A=void 0===j?null:j,D=t.requireLeadingSpace,N=void 0===D||D,R=t.allowSpaces,I=void 0!==R&&R,F=t.replaceTextSuffix,U=void 0===F?null:F,B=t.positionMenu,H=void 0===B||B,z=t.spaceSelectsMatch,V=void 0!==z&&z,G=t.searchOpts,Q=void 0===G?{}:G,W=t.menuItemLimit,Y=void 0===W?null:W;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.autocompleteMode=_,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=L,this.allowSpaces=I,this.replaceTextSuffix=U,this.positionMenu=H,this.hasTrailingSpace=!1,this.spaceSelectsMatch=V,this.autocompleteMode&&(b="",I=!1),u)this.collection=[{trigger:b,iframe:d,selectClass:h,containerClass:m,itemClass:v,selectTemplate:(C||e.defaultSelectTemplate).bind(this),menuItemTemplate:(S||e.defaultMenuItemTemplate).bind(this),noMatchTemplate:(n=A,"function"==typeof n?n.bind(s):A||function(){return""}.bind(s)),lookup:E,fillAttr:O,values:u,requireLeadingSpace:N,searchOpts:Q,menuItemLimit:Y}];else{if(!$)throw new Error("[Tribute] No collection specified.");this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=$.map((function(t){return{trigger:t.trigger||b,iframe:t.iframe||d,selectClass:t.selectClass||h,containerClass:t.containerClass||m,itemClass:t.itemClass||v,selectTemplate:(t.selectTemplate||e.defaultSelectTemplate).bind(s),menuItemTemplate:(t.menuItemTemplate||e.defaultMenuItemTemplate).bind(s),noMatchTemplate:function(e){return"function"==typeof e?e.bind(s):null}(A),lookup:t.lookup||E,fillAttr:t.fillAttr||O,values:t.values,requireLeadingSpace:t.requireLeadingSpace,searchOpts:t.searchOpts||Q,menuItemLimit:t.menuItemLimit||Y}}))}new o.default(this),new i.default(this),new r.default(this),new a.default(this)}return t=e,s=[{key:"defaultSelectTemplate",value:function(e){return void 0===e?null:this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+e.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+e.original[this.current.collection.fillAttr]}},{key:"defaultMenuItemTemplate",value:function(e){return e.string}},{key:"inputTypes",value:function(){return["TEXTAREA","INPUT"]}}],(n=[{key:"triggers",value:function(){return this.collection.map((function(e){return e.trigger}))}},{key:"attach",value:function(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if("undefined"!=typeof jQuery&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array)for(var t=e.length,n=0;n<t;++n)this._attach(e[n]);else this._attach(e)}},{key:"_attach",value:function(e){e.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+e.nodeName),this.ensureEditable(e),this.events.bind(e),e.setAttribute("data-tribute",!0)}},{key:"ensureEditable",value:function(t){if(-1===e.inputTypes().indexOf(t.nodeName)){if(!t.contentEditable)throw new Error("[Tribute] Cannot bind to "+t.nodeName);t.contentEditable=!0}}},{key:"createMenu",value:function(e){var t=this.range.getDocument().createElement("div"),n=this.range.getDocument().createElement("ul");return t.className=e,t.appendChild(n),this.menuContainer?this.menuContainer.appendChild(t):this.range.getDocument().body.appendChild(t)}},{key:"showMenuFor",value:function(e,t){var n=this;if(!this.isActive||this.current.element!==e||this.current.mentionText!==this.currentMentionTextSnapshot){this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),e.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");var i=function(e){if(n.isActive){var i=n.search.filter(n.current.mentionText,e,{pre:n.current.collection.searchOpts.pre||"<span>",post:n.current.collection.searchOpts.post||"</span>",skip:n.current.collection.searchOpts.skip,extract:function(e){if("string"==typeof n.current.collection.lookup)return e[n.current.collection.lookup];if("function"==typeof n.current.collection.lookup)return n.current.collection.lookup(e,n.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});n.current.collection.menuItemLimit&&(i=i.slice(0,n.current.collection.menuItemLimit)),n.current.filteredItems=i;var r=n.menu.querySelector("ul");if(n.range.positionMenuAtCaret(t),!i.length){var o=new CustomEvent("tribute-no-match",{detail:n.menu});return n.current.element.dispatchEvent(o),void("function"==typeof n.current.collection.noMatchTemplate&&!n.current.collection.noMatchTemplate()||!n.current.collection.noMatchTemplate?n.hideMenu():"function"==typeof n.current.collection.noMatchTemplate?r.innerHTML=n.current.collection.noMatchTemplate():r.innerHTML=n.current.collection.noMatchTemplate)}r.innerHTML="";var a=n.range.getDocument().createDocumentFragment();i.forEach((function(e,t){var i=n.range.getDocument().createElement("li");i.setAttribute("data-index",t),i.className=n.current.collection.itemClass,i.addEventListener("mousemove",(function(e){var t=l(n._findLiTarget(e.target),2),i=(t[0],t[1]);0!==e.movementY&&n.events.setActiveLi(i)})),n.menuSelected===t&&i.classList.add(n.current.collection.selectClass),i.innerHTML=n.current.collection.menuItemTemplate(e),a.appendChild(i)})),r.appendChild(a)}};"function"==typeof this.current.collection.values?this.current.collection.values(this.current.mentionText,i):i(this.current.collection.values)}}},{key:"_findLiTarget",value:function(e){if(!e)return[];var t=e.getAttribute("data-index");return t?[e,t]:this._findLiTarget(e.parentNode)}},{key:"showMenuForCollection",value:function(e,t){e!==document.activeElement&&this.placeCaretAtEnd(e),this.current.collection=this.collection[t||0],this.current.externalTrigger=!0,this.current.element=e,e.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(e,this.current.collection.trigger),this.showMenuFor(e)}},{key:"placeCaretAtEnd",value:function(e){if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(void 0!==document.body.createTextRange){var i=document.body.createTextRange();i.moveToElementText(e),i.collapse(!1),i.select()}}},{key:"insertTextAtCursor",value:function(e){var t,n;(n=(t=window.getSelection()).getRangeAt(0)).deleteContents();var i=document.createTextNode(e);n.insertNode(i),n.selectNodeContents(i),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}},{key:"insertAtCaret",value:function(e,t){var n=e.scrollTop,i=e.selectionStart,r=e.value.substring(0,i),o=e.value.substring(e.selectionEnd,e.value.length);e.value=r+t+o,i+=t.length,e.selectionStart=i,e.selectionEnd=i,e.focus(),e.scrollTop=n}},{key:"hideMenu",value:function(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}},{key:"selectItemAtIndex",value:function(e,t){if("number"==typeof(e=parseInt(e))&&!isNaN(e)){var n=this.current.filteredItems[e],i=this.current.collection.selectTemplate(n);null!==i&&this.replaceText(i,t,n)}}},{key:"replaceText",value:function(e,t,n){this.range.replaceTriggerText(e,!0,!0,t,n)}},{key:"_append",value:function(e,t,n){if("function"==typeof e.values)throw new Error("Unable to append to values, as it is a function.");e.values=n?t:e.values.concat(t)}},{key:"append",value:function(e,t,n){var i=parseInt(e);if("number"!=typeof i)throw new Error("please provide an index for the collection to update.");var r=this.collection[i];this._append(r,t,n)}},{key:"appendCurrent",value:function(e,t){if(!this.isActive)throw new Error("No active state. Please use append instead and pass an index.");this._append(this.current.collection,e,t)}},{key:"detach",value:function(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if("undefined"!=typeof jQuery&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array)for(var t=e.length,n=0;n<t;++n)this._detach(e[n]);else this._detach(e)}},{key:"_detach",value:function(e){var t=this;this.events.unbind(e),e.tributeMenu&&this.menuEvents.unbind(e.tributeMenu),setTimeout((function(){e.removeAttribute("data-tribute"),t.isActive=!1,e.tributeMenu&&e.tributeMenu.remove()}))}}])&&u(t.prototype,n),s&&u(t,s),e;var t,n,s}();n.default=c,t.exports=n.default},{"./TributeEvents":2,"./TributeMenuEvents":3,"./TributeRange":4,"./TributeSearch":5,"./utils":7}],2:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.tribute=t,this.tribute.events=this}return t=e,r=[{key:"keys",value:function(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}}],(n=[{key:"bind",value:function(e){e.boundKeydown=this.keydown.bind(e,this),e.boundKeyup=this.keyup.bind(e,this),e.boundInput=this.input.bind(e,this),e.addEventListener("keydown",e.boundKeydown,!1),e.addEventListener("keyup",e.boundKeyup,!1),e.addEventListener("input",e.boundInput,!1)}},{key:"unbind",value:function(e){e.removeEventListener("keydown",e.boundKeydown,!1),e.removeEventListener("keyup",e.boundKeyup,!1),e.removeEventListener("input",e.boundInput,!1),delete e.boundKeydown,delete e.boundKeyup,delete e.boundInput}},{key:"keydown",value:function(t,n){t.shouldDeactivate(n)&&(t.tribute.isActive=!1,t.tribute.hideMenu());var i=this;t.commandEvent=!1,e.keys().forEach((function(e){e.key===n.keyCode&&(t.commandEvent=!0,t.callbacks()[e.value.toLowerCase()](n,i))}))}},{key:"input",value:function(e,t){e.inputEvent=!0,e.keyup.call(this,e,t)}},{key:"click",value:function(e,t){var n=e.tribute;if(n.menu&&n.menu.contains(t.target)){var i=t.target;for(t.preventDefault(),t.stopPropagation();"li"!==i.nodeName.toLowerCase();)if(!(i=i.parentNode)||i===n.menu)throw new Error("cannot find the <li> container for the click");n.selectItemAtIndex(i.getAttribute("data-index"),t),n.hideMenu()}else n.current.element&&!n.current.externalTrigger&&(n.current.externalTrigger=!1,setTimeout((function(){return n.hideMenu()})))}},{key:"keyup",value:function(e,t){if(e.inputEvent&&(e.inputEvent=!1),e.updateSelection(this),27!==t.keyCode){if(!e.tribute.allowSpaces&&e.tribute.hasTrailingSpace)return e.tribute.hasTrailingSpace=!1,e.commandEvent=!0,void e.callbacks().space(t,this);if(!e.tribute.isActive)if(e.tribute.autocompleteMode)e.callbacks().triggerChar(t,this,"");else{var n=e.getKeyCode(e,this,t);if(isNaN(n)||!n)return;var i=e.tribute.triggers().find((function(e){return e.charCodeAt(0)===n}));void 0!==i&&e.callbacks().triggerChar(t,this,i)}((e.tribute.current.trigger||e.tribute.autocompleteMode)&&!1===e.commandEvent||e.tribute.isActive&&8===t.keyCode)&&e.tribute.showMenuFor(this,!0)}}},{key:"shouldDeactivate",value:function(t){if(!this.tribute.isActive)return!1;if(0===this.tribute.current.mentionText.length){var n=!1;return e.keys().forEach((function(e){t.keyCode===e.key&&(n=!0)})),!n}return!1}},{key:"getKeyCode",value:function(e,t,n){var i=e.tribute,r=i.range.getTriggerInfo(!1,i.hasTrailingSpace,!0,i.allowSpaces,i.autocompleteMode);return!!r&&r.mentionTriggerChar.charCodeAt(0)}},{key:"updateSelection",value:function(e){this.tribute.current.element=e;var t=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);t&&(this.tribute.current.selectedPath=t.mentionSelectedPath,this.tribute.current.mentionText=t.mentionText,this.tribute.current.selectedOffset=t.mentionSelectedOffset)}},{key:"callbacks",value:function(){var e=this;return{triggerChar:function(t,n,i){var r=e.tribute;r.current.trigger=i;var o=r.collection.find((function(e){return e.trigger===i}));r.current.collection=o,r.inputEvent&&r.showMenuFor(n,!0)},enter:function(t,n){e.tribute.isActive&&e.tribute.current.filteredItems&&(t.preventDefault(),t.stopPropagation(),setTimeout((function(){e.tribute.selectItemAtIndex(e.tribute.menuSelected,t),e.tribute.hideMenu()}),0))},escape:function(t,n){e.tribute.isActive&&(t.preventDefault(),t.stopPropagation(),e.tribute.isActive=!1,e.tribute.hideMenu())},tab:function(t,n){e.callbacks().enter(t,n)},space:function(t,n){e.tribute.isActive&&(e.tribute.spaceSelectsMatch?e.callbacks().enter(t,n):e.tribute.allowSpaces||(t.stopPropagation(),setTimeout((function(){e.tribute.hideMenu(),e.tribute.isActive=!1}),0)))},up:function(t,n){if(e.tribute.isActive&&e.tribute.current.filteredItems){t.preventDefault(),t.stopPropagation();var i=e.tribute.current.filteredItems.length,r=e.tribute.menuSelected;i>r&&r>0?(e.tribute.menuSelected--,e.setActiveLi()):0===r&&(e.tribute.menuSelected=i-1,e.setActiveLi(),e.tribute.menu.scrollTop=e.tribute.menu.scrollHeight)}},down:function(t,n){if(e.tribute.isActive&&e.tribute.current.filteredItems){t.preventDefault(),t.stopPropagation();var i=e.tribute.current.filteredItems.length-1,r=e.tribute.menuSelected;i>r?(e.tribute.menuSelected++,e.setActiveLi()):i===r&&(e.tribute.menuSelected=0,e.setActiveLi(),e.tribute.menu.scrollTop=0)}},delete:function(t,n){e.tribute.isActive&&e.tribute.current.mentionText.length<1?e.tribute.hideMenu():e.tribute.isActive&&e.tribute.showMenuFor(n)}}}},{key:"setActiveLi",value:function(e){var t=this.tribute.menu.querySelectorAll("li"),n=t.length>>>0;e&&(this.tribute.menuSelected=parseInt(e));for(var i=0;i<n;i++){var r=t[i];if(i===this.tribute.menuSelected){r.classList.add(this.tribute.current.collection.selectClass);var o=r.getBoundingClientRect(),a=this.tribute.menu.getBoundingClientRect();if(o.bottom>a.bottom){var s=o.bottom-a.bottom;this.tribute.menu.scrollTop+=s}else if(o.top<a.top){var l=a.top-o.top;this.tribute.menu.scrollTop-=l}}else r.classList.remove(this.tribute.current.collection.selectClass)}}},{key:"getFullHeight",value:function(e,t){var n=e.getBoundingClientRect().height;if(t){var i=e.currentStyle||window.getComputedStyle(e);return n+parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return n}}])&&i(t.prototype,n),r&&i(t,r),e;var t,n,r}();n.default=r,t.exports=n.default},{}],3:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.tribute=t,this.tribute.menuEvents=this,this.menu=this.tribute.menu}return t=e,n=[{key:"bind",value:function(e){var t=this;this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce((function(){t.tribute.isActive&&t.tribute.showMenuFor(t.tribute.current.element,!1)}),300,!1),this.windowResizeEvent=this.debounce((function(){t.tribute.isActive&&t.tribute.range.positionMenuAtCaret(!0)}),300,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}},{key:"unbind",value:function(e){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}},{key:"debounce",value:function(e,t,n){var i,r=this,o=arguments;return function(){var a=r,s=o,l=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(a,s)}),t),l&&e.apply(a,s)}}}],n&&i(t.prototype,n),r&&i(t,r),e;var t,n,r}(),o=r;n.default=o,t.exports=n.default},{}],4:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("./utils");var r=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.tribute=t,this.tribute.range=this}return t=e,(n=[{key:"getDocument",value:function(){var e;return this.tribute.current.collection&&(e=this.tribute.current.collection.iframe),e?e.contentWindow.document:document}},{key:"positionMenuAtCaret",value:function(e){var t,n=this,i=this.tribute.current,r=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==r){if(!this.tribute.positionMenu)return void(this.tribute.menu.style.cssText="display: block;");t=this.isContentEditable(i.element)?this.getContentEditableCaretPosition(r.mentionPosition):this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,r.mentionPosition),this.tribute.menu.style.cssText="top: ".concat(t.top,"px;\n                                     left: ").concat(t.left,"px;\n                                     right: ").concat(t.right,"px;\n                                     bottom: ").concat(t.bottom,"px;\n                                     position: absolute;\n                                     display: block;"),"auto"===t.left&&(this.tribute.menu.style.left="auto"),"auto"===t.top&&(this.tribute.menu.style.top="auto"),e&&this.scrollIntoView(),window.setTimeout((function(){var i={width:n.tribute.menu.offsetWidth,height:n.tribute.menu.offsetHeight},r=n.isMenuOffScreen(t,i),o=window.innerWidth>i.width&&(r.left||r.right),a=window.innerHeight>i.height&&(r.top||r.bottom);(o||a)&&(n.tribute.menu.style.cssText="display: none",n.positionMenuAtCaret(e))}),0)}else this.tribute.menu.style.cssText="display: none"}},{key:"selectElement",value:function(e,t,n){var i,r=e;if(t)for(var o=0;o<t.length;o++){if(void 0===(r=r.childNodes[t[o]]))return;for(;r.length<n;)n-=r.length,r=r.nextSibling;0!==r.childNodes.length||r.length||(r=r.previousSibling)}var a=this.getWindowSelection();(i=this.getDocument().createRange()).setStart(r,n),i.setEnd(r,n),i.collapse(!0);try{a.removeAllRanges()}catch(e){}a.addRange(i),e.focus()}},{key:"replaceTriggerText",value:function(e,t,n,i,r){var o=this.getTriggerInfo(!0,n,t,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==o){var a=this.tribute.current,s=new CustomEvent("tribute-replaced",{detail:{item:r,instance:a,context:o,event:i}});if(this.isContentEditable(a.element)){e+="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:" ";var l=o.mentionPosition+o.mentionText.length;this.tribute.autocompleteMode||(l+=o.mentionTriggerChar.length),this.pasteHtml(e,o.mentionPosition,l)}else{var u=this.tribute.current.element,c="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:" ";e+=c;var d=o.mentionPosition,p=o.mentionPosition+o.mentionText.length+c.length;this.tribute.autocompleteMode||(p+=o.mentionTriggerChar.length-1),u.value=u.value.substring(0,d)+e+u.value.substring(p,u.value.length),u.selectionStart=d+e.length,u.selectionEnd=d+e.length}a.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),a.element.dispatchEvent(s)}}},{key:"pasteHtml",value:function(e,t,n){var i,r;r=this.getWindowSelection(),(i=this.getDocument().createRange()).setStart(r.anchorNode,t),i.setEnd(r.anchorNode,n),i.deleteContents();var o=this.getDocument().createElement("div");o.innerHTML=e;for(var a,s,l=this.getDocument().createDocumentFragment();a=o.firstChild;)s=l.appendChild(a);i.insertNode(l),s&&((i=i.cloneRange()).setStartAfter(s),i.collapse(!0),r.removeAllRanges(),r.addRange(i))}},{key:"getWindowSelection",value:function(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}},{key:"getNodePositionInParent",value:function(e){if(null===e.parentNode)return 0;for(var t=0;t<e.parentNode.childNodes.length;t++)if(e.parentNode.childNodes[t]===e)return t}},{key:"getContentEditableSelectedPath",value:function(e){var t=this.getWindowSelection(),n=t.anchorNode,i=[];if(null!=n){for(var r,o=n.contentEditable;null!==n&&"true"!==o;)r=this.getNodePositionInParent(n),i.push(r),null!==(n=n.parentNode)&&(o=n.contentEditable);return i.reverse(),{selected:n,path:i,offset:t.getRangeAt(0).startOffset}}}},{key:"getTextPrecedingCurrentSelection",value:function(){var e=this.tribute.current,t="";if(this.isContentEditable(e.element)){var n=this.getWindowSelection().anchorNode;if(null!=n){var i=n.textContent,r=this.getWindowSelection().getRangeAt(0).startOffset;i&&r>=0&&(t=i.substring(0,r))}}else{var o=this.tribute.current.element;if(o){var a=o.selectionStart;o.value&&a>=0&&(t=o.value.substring(0,a))}}return t}},{key:"getLastWordInText",value:function(e){var t=(e=e.replace(/\u00A0/g," ")).split(/\s+/);return t[t.length-1].trim()}},{key:"getTriggerInfo",value:function(e,t,n,i,r){var o,a,s,l=this,u=this.tribute.current;if(this.isContentEditable(u.element)){var c=this.getContentEditableSelectedPath(u);c&&(o=c.selected,a=c.path,s=c.offset)}else o=this.tribute.current.element;var d=this.getTextPrecedingCurrentSelection(),p=this.getLastWordInText(d);if(r)return{mentionPosition:d.length-p.length,mentionText:p,mentionSelectedElement:o,mentionSelectedPath:a,mentionSelectedOffset:s};if(null!=d){var h,f=-1;if(this.tribute.collection.forEach((function(e){var t=e.trigger,i=e.requireLeadingSpace?l.lastIndexWithLeadingSpace(d,t):d.lastIndexOf(t);i>f&&(f=i,h=t,n=e.requireLeadingSpace)})),f>=0&&(0===f||!n||/[\xA0\s]/g.test(d.substring(f-1,f)))){var m=d.substring(f+h.length,d.length);h=d.substring(f,f+h.length);var g=m.substring(0,1),v=m.length>0&&(" "===g||" "===g);t&&(m=m.trim());var y=i?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=y.test(m),!v&&(e||!y.test(m)))return{mentionPosition:f,mentionText:m,mentionSelectedElement:o,mentionSelectedPath:a,mentionSelectedOffset:s,mentionTriggerChar:h}}}}},{key:"lastIndexWithLeadingSpace",value:function(e,t){for(var n=e.split("").reverse().join(""),i=-1,r=0,o=e.length;r<o;r++){for(var a=r===e.length-1,s=/\s/.test(n[r+1]),l=!0,u=t.length-1;u>=0;u--)if(t[u]!==n[r-u]){l=!1;break}if(l&&(a||s)){i=e.length-1-r;break}}return i}},{key:"isContentEditable",value:function(e){return"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName}},{key:"isMenuOffScreen",value:function(e,t){var n=window.innerWidth,i=window.innerHeight,r=document.documentElement,o=(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0),a=(window.pageYOffset||r.scrollTop)-(r.clientTop||0),s="number"==typeof e.top?e.top:a+i-e.bottom-t.height,l="number"==typeof e.right?e.right:e.left+t.width,u="number"==typeof e.bottom?e.bottom:e.top+t.height,c="number"==typeof e.left?e.left:o+n-e.right-t.width;return{top:s<Math.floor(a),right:l>Math.ceil(o+n),bottom:u>Math.ceil(a+i),left:c<Math.floor(o)}}},{key:"getMenuDimensions",value:function(){var e={width:null,height:null};return this.tribute.menu.style.cssText="top: 0px;\n                                 left: 0px;\n                                 position: fixed;\n                                 display: block;\n                                 visibility; hidden;",e.width=this.tribute.menu.offsetWidth,e.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",e}},{key:"getTextAreaOrInputUnderlinePosition",value:function(e,t,n){var i=null!==window.mozInnerScreenX,r=this.getDocument().createElement("div");r.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(r);var o=r.style,a=window.getComputedStyle?getComputedStyle(e):e.currentStyle;o.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"].forEach((function(e){o[e]=a[e]})),i?(o.width="".concat(parseInt(a.width)-2,"px"),e.scrollHeight>parseInt(a.height)&&(o.overflowY="scroll")):o.overflow="hidden",r.textContent=e.value.substring(0,t),"INPUT"===e.nodeName&&(r.textContent=r.textContent.replace(/\s/g," "));var s=this.getDocument().createElement("span");s.textContent=e.value.substring(t)||".",r.appendChild(s);var l=e.getBoundingClientRect(),u=document.documentElement,c=(window.pageXOffset||u.scrollLeft)-(u.clientLeft||0),d=(window.pageYOffset||u.scrollTop)-(u.clientTop||0),p=0,h=0;this.menuContainerIsBody&&(p=l.top,h=l.left);var f={top:p+d+s.offsetTop+parseInt(a.borderTopWidth)+parseInt(a.fontSize)-e.scrollTop,left:h+c+s.offsetLeft+parseInt(a.borderLeftWidth)},m=window.innerWidth,g=window.innerHeight,v=this.getMenuDimensions(),y=this.isMenuOffScreen(f,v);y.right&&(f.right=m-f.left,f.left="auto");var b=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(y.bottom){var w=b-(g-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);f.bottom=w+(g-l.top-s.offsetTop),f.top="auto"}return(y=this.isMenuOffScreen(f,v)).left&&(f.left=m>v.width?c+m-v.width:c,delete f.right),y.top&&(f.top=g>v.height?d+g-v.height:d,delete f.bottom),this.getDocument().body.removeChild(r),f}},{key:"getContentEditableCaretPosition",value:function(e){var t,n=this.getWindowSelection();(t=this.getDocument().createRange()).setStart(n.anchorNode,e),t.setEnd(n.anchorNode,e),t.collapse(!1);var i=t.getBoundingClientRect(),r=document.documentElement,o=(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0),a=(window.pageYOffset||r.scrollTop)-(r.clientTop||0),s={left:i.left+o,top:i.top+i.height+a},l=window.innerWidth,u=window.innerHeight,c=this.getMenuDimensions(),d=this.isMenuOffScreen(s,c);d.right&&(s.left="auto",s.right=l-i.left-o);var p=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(d.bottom){var h=p-(u-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);s.top="auto",s.bottom=h+(u-i.top)}return(d=this.isMenuOffScreen(s,c)).left&&(s.left=l>c.width?o+l-c.width:o,delete s.right),d.top&&(s.top=u>c.height?a+u-c.height:a,delete s.bottom),this.menuContainerIsBody||(s.left=s.left?s.left-this.tribute.menuContainer.offsetLeft:s.left,s.top=s.top?s.top-this.tribute.menuContainer.offsetTop:s.top),s}},{key:"scrollIntoView",value:function(e){var t,n=this.menu;if(void 0!==n){for(;void 0===t||0===t.height;)if(0===(t=n.getBoundingClientRect()).height&&(void 0===(n=n.childNodes[0])||!n.getBoundingClientRect))return;var i=t.top,r=i+t.height;if(i<0)window.scrollTo(0,window.pageYOffset+t.top-20);else if(r>window.innerHeight){var o=window.pageYOffset+t.top-20;o-window.pageYOffset>100&&(o=window.pageYOffset+100);var a=window.pageYOffset-(window.innerHeight-r);a>o&&(a=o),window.scrollTo(0,a)}}}},{key:"menuContainerIsBody",get:function(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}}])&&i(t.prototype,n),r&&i(t,r),e;var t,n,r}();n.default=r,t.exports=n.default},{"./utils":7}],5:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.tribute=t,this.tribute.search=this}return t=e,(n=[{key:"simpleFilter",value:function(e,t){var n=this;return t.filter((function(t){return n.test(e,t)}))}},{key:"test",value:function(e,t){return null!==this.match(e,t)}},{key:"match",value:function(e,t,n){n=n||{},t.length;var i=n.pre||"",r=n.post||"",o=n.caseSensitive&&t||t.toLowerCase();if(n.skip)return{rendered:t,score:0};e=n.caseSensitive&&e||e.toLowerCase();var a=this.traverse(o,e,0,0,[]);return a?{rendered:this.render(t,a.cache,i,r),score:a.score}:null}},{key:"traverse",value:function(e,t,n,i,r){if(t.length===i)return{score:this.calculateScore(r),cache:r.slice()};if(!(e.length===n||t.length-i>e.length-n)){for(var o,a,s=t[i],l=e.indexOf(s,n);l>-1;){if(r.push(l),a=this.traverse(e,t,l+1,i+1,r),r.pop(),!a)return o;(!o||o.score<a.score)&&(o=a),l=e.indexOf(s,l+1)}return o}}},{key:"calculateScore",value:function(e){var t=0,n=1;return e.forEach((function(i,r){r>0&&(e[r-1]+1===i?n+=n+1:n=1),t+=n})),t}},{key:"render",value:function(e,t,n,i){var r=e.substring(0,t[0]);return t.forEach((function(o,a){r+=n+e[o]+i+e.substring(o+1,t[a+1]?t[a+1]:e.length)})),r}},{key:"filter",value:function(e,t,n){var i=this;return n=n||{},t.reduce((function(t,r,o,a){var s=r;n.extract&&((s=n.extract(r))||(s=""));var l=i.match(e,s,n);return null!=l&&(t[t.length]={string:l.rendered,score:l.score,index:o,original:r}),t}),[]).sort((function(e,t){return t.score-e.score||e.index-t.index}))}}])&&i(t.prototype,n),r&&i(t,r),e;var t,n,r}();n.default=r,t.exports=n.default},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=e("./Tribute"),i&&i.__esModule?i:{default:i}).default;n.default=r,t.exports=n.default},{"./Tribute":1}],7:[function(e,t,n){"use strict";if(Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;o<i;o++)if(t=n[o],e.call(r,t,o,n))return t}),window&&"function"!=typeof window.CustomEvent){var i=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};void 0!==window.Event&&(i.prototype=window.Event.prototype),window.CustomEvent=i}},{}]},{},[6])(6)},3250:function(e,t,n){"use strict";var i=n(7294),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useState,a=i.useEffect,s=i.useLayoutEffect,l=i.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=o({inst:{value:n,getSnapshot:t}}),r=i[0].inst,c=i[1];return s((function(){r.value=n,r.getSnapshot=t,u(r)&&c({inst:r})}),[e,n,t]),a((function(){return u(r)&&c({inst:r}),e((function(){u(r)&&c({inst:r})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},1688:function(e,t,n){"use strict";e.exports=n(3250)},3612:function(){!function(){"use strict";function e(e,t,n){if(null!=n){const i=e.includes("?")?"&":"?";return e+i+t+"="+encodeURIComponent(n)}return e}class t extends Error{constructor(e){super(`[hcaptcha-web-component]: ${e}`),Object.setPrototypeOf(this,t.prototype)}}class n extends HTMLElement{connectedCallback(){(function(t){if(window._hCaptchaOnLoadPromise)return window._hCaptchaOnLoadPromise;if(window.hcaptcha)return console.warn("[vanilla-hcaptcha] hCaptcha JS API detected to be externally loaded. Unless you know what are you doing, this task should be delegated to this web component."),window._hCaptchaOnLoadPromise=Promise.resolve(),window._hCaptchaOnLoadPromise;{let n,i;window._hCaptchaOnLoadPromise=new Promise(((e,t)=>{n=e,i=t})),window._hCaptchaOnLoad=n;const r=function(t){let n=t.jsapi;return n=e(n,"render","explicit"),n=e(n,"onload","_hCaptchaOnLoad"),n=e(n,"recaptchacompat",!1===t.reCaptchaCompat?"off":null),n=e(n,"host",t.host),n=e(n,"hl",t.hl),n=e(n,"sentry",JSON.stringify(t.sentry)),n=e(n,"endpoint",t.endpoint),n=e(n,"assethost",t.assethost),n=e(n,"imghost",t.imghost),n=e(n,"reportapi",t.reportapi),n}(t),o=document.createElement("script");return o.src=r,o.async=!0,o.defer=!0,o.onerror=e=>{const t=`Failed to load hCaptcha JS API: "${r}"`;console.error(t,e),i(t)},document.head.appendChild(o),window._hCaptchaOnLoadPromise}})({host:this.getAttribute("host"),hl:this.getAttribute("hl"),sentry:"false"!==this.getAttribute("sentry"),reCaptchaCompat:"false"===this.getAttribute("reCaptchaCompat"),jsapi:this.getAttribute("jsapi")||"https://js.hcaptcha.com/1/api.js",endpoint:this.getAttribute("endpoint"),reportapi:this.getAttribute("reportapi"),assethost:this.getAttribute("assethost"),imghost:this.getAttribute("imghost")}).then(this.onApiLoaded.bind(this)).catch(this.onError.bind(this))}onApiLoaded(){this.$emit("loaded");const e="false"!==this.getAttribute("auto-render"),t={sitekey:this.getAttribute("sitekey")||this.getAttribute("site-key"),theme:this.getAttribute("theme"),size:this.getAttribute("size"),hl:this.getAttribute("hl"),tplinks:"off"===this.getAttribute("tplinks")?"off":"on",tabindex:parseInt(this.getAttribute("tabindex")),custom:"true"===this.getAttribute("custom")},n=this.getAttribute("challenge-container");n&&(t["challenge-container"]=n);const i=this.getAttribute("rqdata");e&&!t.sitekey||e&&(this.render(t),this.setData(i))}assertApiLoaded(e){if(!hcaptcha)throw new t(`hCaptcha JS API was not loaded yet. Please wait for \`loaded\` event to safely call "${e}".`)}assertRendered(){if(!this.hcaptchaId)throw new t('hCaptcha was not yet rendered. Please call "render()" first.')}onError(e){console.error(e),this.$emit("error",{error:e})}$emit(e,t){let n;"function"==typeof Event?n=new Event(e):(n=document.createEvent("Event"),n.initEvent(e,!1,!1)),t&&Object.assign(n,t),this.dispatchEvent(n)}render(e){this.assertApiLoaded("render"),this.hcaptchaId?console.warn("hCaptcha was already rendered. You may want to call 'reset()' first."):this.hcaptchaId=hcaptcha.render(this,Object.assign(Object.assign({},e),{callback:()=>{const e=hcaptcha.getResponse(this.hcaptchaId),t=hcaptcha.getRespKey(this.hcaptchaId);this.$emit("verified",{token:e,eKey:t,key:e})},"expired-callback":()=>{this.$emit("expired")},"chalexpired-callback":()=>{this.$emit("challenge-expired")},"error-callback":this.onError.bind(this),"open-callback":()=>{this.$emit("opened")},"close-callback":()=>{this.$emit("closed")}}))}setData(e){this.assertRendered(),hcaptcha.setData(this.hcaptchaId,{rqdata:e})}execute(){this.assertApiLoaded("execute"),this.assertRendered(),hcaptcha.execute(this.hcaptchaId)}executeAsync(){return this.assertApiLoaded("execute"),this.assertRendered(),hcaptcha.execute(this.hcaptchaId,{async:!0})}reset(){this.assertApiLoaded("reset"),this.assertRendered(),hcaptcha.reset(this.hcaptchaId)}}customElements.define("h-captcha",n)}()}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function l(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){if(Array.isArray(e))return e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(5306),n(3948);var v={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},y=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,e),this.init(n,i)}return r(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||v,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,g(g({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}(),b=new y,w=function(){function e(){t(this,e),this.observers={}}return r(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){var r=[].concat(this.observers[e]);r.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function _(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function x(e){return null==e?"":""+e}function C(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function k(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var a=i(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return r()?{}:{obj:e,k:i(o.shift())}}function S(e,t,n){var i=k(e,t,Object);i.obj[i.k]=n}function T(e,t){var n=k(e,t),i=n.obj,r=n.k;if(i)return i[r]}function E(e,t,n){var i=T(e,n);return void 0!==i?i:T(t,n)}function P(e,t,n){for(var i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):P(e[i],t[i],n):e[i]=t[i]);return e}function O(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function $(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return q[e]})):e}var M="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,L=[" ",",","?","!",";"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var i=t.split(n),r=e,o=0;o<i.length;++o){if(!r)return;if("string"==typeof r[i[o]]&&o+1<i.length)return;if(void 0===r[i[o]]){for(var a=2,s=i.slice(o,o+a).join(n),l=r[s];void 0===l&&i.length>o+a;)a++,l=r[s=i.slice(o,o+a).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(s)){if("string"==typeof l)return l;if(s&&"string"==typeof l[s])return l[s]}var u=i.slice(o+a).join(n);return u?D(l,u,n):void 0}r=r[i[o]]}return r}}var N=function(e){s(c,e);var n,i,a=(n=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(n);if(i){var r=u(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return l(this,e)});function c(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return t(this,c),n=a.call(this),M&&w.call(o(n)),n.data=e||{},n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return r(c,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=T(this.data,a);return s||!o||"string"!=typeof n?s:D(this.data&&this.data[e]&&this.data[e][t],n,r)}},{key:"addResource",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(i=t,t=(a=e.split("."))[1]),this.addNamespaces(t),S(this.data,a,i),r.silent||this.emit("added",e,t,n,i)}},{key:"addResources",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(i=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=T(this.data,a)||{};i?P(s,n,r):s=A(A({},s),n),S(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?A(A({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),c}(w),R={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,i,r){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,i,r))})),t}};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={},B=function(n){s(d,n);var i,a,c=(i=d,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(i);if(a){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function d(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(this,d),n=c.call(this),M&&w.call(o(n)),C(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,o(n)),n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=b.create("translator"),n}return r(d,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var i=L.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===i.length)return!0;var r=new RegExp("(".concat(i.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!r.test(e);if(!o){var a=e.indexOf(n);a>0&&!r.test(e.substring(0,a))&&(o=!0)}return o}(e,n,i));if(o&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:r};var l=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(l[0])>-1)&&(r=l.shift()),e=l.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(t,n,i){var r=this;if("object"!==e(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var o=void 0!==n.returnDetails?n.returnDetails:this.options.returnDetails,a=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,s=this.extractFromKey(t[t.length-1],n),l=s.key,u=s.namespaces,c=u[u.length-1],p=n.lng||this.language,h=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&"cimode"===p.toLowerCase()){if(h){var f=n.nsSeparator||this.options.nsSeparator;return o?(m.res="".concat(c).concat(f).concat(l),m):"".concat(c).concat(f).concat(l)}return o?(m.res=l,m):l}var m=this.resolve(t,n),g=m&&m.res,v=m&&m.usedKey||l,y=m&&m.exactUsedKey||l,b=Object.prototype.toString.apply(g),w=["[object Number]","[object Function]","[object RegExp]"],_=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,C="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(x&&g&&C&&w.indexOf(b)<0&&("string"!=typeof _||"[object Array]"!==b)){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,g,F(F({},n),{},{ns:u})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return o?(m.res=k,m):k}if(a){var S="[object Array]"===b,T=S?[]:{},E=S?y:v;for(var P in g)if(Object.prototype.hasOwnProperty.call(g,P)){var O="".concat(E).concat(a).concat(P);T[P]=this.translate(O,F(F({},n),{joinArrays:!1,ns:u})),T[P]===O&&(T[P]=g[P])}g=T}}else if(x&&"string"==typeof _&&"[object Array]"===b)(g=g.join(_))&&(g=this.extendTranslation(g,t,n,i));else{var q=!1,$=!1,M=void 0!==n.count&&"string"!=typeof n.count,L=d.hasDefaultValue(n),j=M?this.pluralResolver.getSuffix(p,n.count,n):"",A=n["defaultValue".concat(j)]||n.defaultValue;!this.isValidLookup(g)&&L&&(q=!0,g=A),this.isValidLookup(g)||($=!0,g=l);var D=n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,N=D&&$?void 0:g,R=L&&A!==g&&this.options.updateMissing;if($||q||R){if(this.logger.log(R?"updateKey":"missingKey",p,c,l,R?A:g),a){var I=this.resolve(l,F(F({},n),{},{keySeparator:!1}));I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var U=[],B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&B&&B[0])for(var H=0;H<B.length;H++)U.push(B[H]);else"all"===this.options.saveMissingTo?U=this.languageUtils.toResolveHierarchy(n.lng||this.language):U.push(n.lng||this.language);var z=function(e,t,i){var o=L&&i!==g?i:N;r.options.missingKeyHandler?r.options.missingKeyHandler(e,c,t,o,R,n):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,c,t,o,R,n),r.emit("missingKey",e,c,t,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?U.forEach((function(e){r.pluralResolver.getSuffixes(e,n).forEach((function(t){z([e],l+t,n["defaultValue".concat(t)]||A)}))})):z(U,l,A))}g=this.extendTranslation(g,t,n,m,i),$&&g===l&&this.options.appendNamespaceToMissingKey&&(g="".concat(c,":").concat(l)),($||q)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(c,":").concat(l):l,q?g:void 0):this.options.parseMissingKeyHandler(g))}return o?(m.res=g,m):g}},{key:"extendTranslation",value:function(e,t,n,i,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,F(F({},this.options.interpolation.defaultVariables),n),i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(F(F({},n),{interpolation:F(F({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);a=l&&l.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=F(F({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),s){var c=e.match(this.interpolator.nestingRegexp);a<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return r&&r[0]===i[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):o.translate.apply(o,i.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,p="string"==typeof d?[d]:d;return null!=e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=R.handle(p,e,t,this.options&&this.options.postProcessPassResolved?F({i18nResolved:i},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,i,r,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var l=a.extractFromKey(e,s),u=l.key;n=u;var c=l.namespaces;a.options.fallbackNS&&(c=c.concat(a.options.fallbackNS));var d=void 0!==s.count&&"string"!=typeof s.count,p=d&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,f=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);c.forEach((function(e){a.isValidLookup(t)||(o=e,!U["".concat(f[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(U["".concat(f[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(n){if(!a.isValidLookup(t)){r=n;var o,l=[u];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(l,u,n,e,s);else{var c;d&&(c=a.pluralResolver.getSuffix(n,s.count,s));var f="".concat(a.options.pluralSeparator,"zero");if(d&&(l.push(u+c),p&&l.push(u+f)),h){var m="".concat(u).concat(a.options.contextSeparator).concat(s.context);l.push(m),d&&(l.push(m+c),p&&l.push(m+f))}}for(;o=l.pop();)a.isValidLookup(t)||(i=o,t=a.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),d}(w);function H(e){return e.charAt(0).toUpperCase()+e.slice(1)}var z=function(){function e(n){t(this,e),this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=b.create("languageUtils")}return r(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=H(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=H(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=H(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var i=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(i)||(t=i)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var i=n.getLanguagePartFromCode(e);if(n.isSupportedCode(i))return t=i;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(i))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),i.forEach((function(e){r.indexOf(e)<0&&o(n.formatLanguageCode(e))})),r}}]),e}(),V=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],G={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Q=["v1","v2","v3"],W={zero:0,one:1,two:2,few:3,many:4,other:5};function Y(){var e={};return V.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:G[t.fc]}}))})),e}var K=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,e),this.languageUtils=n,this.options=i,this.logger=b.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Y()}return r(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,n);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((function(e,t){return W[e]-W[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):i.numbers.map((function(i){return t.getSuffix(e,i,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getRule(e,n);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(i.select(t)):this.getSuffixRetroCompatible(i,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[i];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var o=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}},{key:"shouldUseIntlApi",value:function(){return!Q.includes(this.options.compatibilityJSON)}}]),e}();function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.logger=b.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||function(e){return e},this.init(n)}return r(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:$,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?O(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?O(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?O(t.nestingPrefix):t.nestingPrefixEscaped||O("$t("),this.nestingSuffix=t.nestingSuffix?O(t.nestingSuffix):t.nestingSuffixEscaped||O(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,i){var r,o,a,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(s.formatSeparator)<0){var r=E(t,l,e);return s.alwaysFormat?s.format(r,void 0,n,J(J(J({},i),t),{},{interpolationkey:e})):r}var o=e.split(s.formatSeparator),a=o.shift().trim(),u=o.join(s.formatSeparator).trim();return s.format(E(t,l,a),u,n,J(J(J({},i),t),{},{interpolationkey:a}))};this.resetRegExp();var d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}].forEach((function(t){for(a=0;r=t.regex.exec(e);){var n=r[1].trim();if(void 0===(o=c(n)))if("function"==typeof d){var l=d(e,r,i);o="string"==typeof l?l:""}else if(i&&i.hasOwnProperty(n))o="";else{if(p){o=r[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=x(o));var u=t.safeValue(o);if(e=e.replace(r[0],u),p?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,i,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=J({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var i=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(i[1]);e=i[0],r=(r=this.interpolate(r,a)).replace(/'/g,'"');try{a=JSON.parse(r),t&&(a=J(J({},t),a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(r)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),l=c,u=!0}if((i=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=x(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),u&&(i=l.reduce((function(e,t){return r.format(e,t,o.lng,J(J({},o),{},{interpolationkey:n[1].trim()}))}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}]),e}();function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.logger=b.create("formatter"),this.options=n,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,te(te({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,te({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,te({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,te({},n)).format(e)}},this.init(n)}return r(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,i){var r=this,o=t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var i=e.split("(");t=i[0].toLowerCase().trim();var r=i[1].substring(0,i[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((function(e){if(e){var t=d(o=e.split(":"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||h(o)||f(),i=t[0],r=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[i.trim()]||(n[i.trim()]=r),"false"===r&&(n[i.trim()]=!1),"true"===r&&(n[i.trim()]=!0),isNaN(r)||(n[i.trim()]=parseInt(r,10))}var o}))}return{formatName:t,formatOptions:n}}(t),a=o.formatName,s=o.formatOptions;if(r.formats[a]){var l=e;try{var u=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},c=u.locale||u.lng||i.locale||i.lng||n;l=r.formats[a](e,c,te(te(te({},s),i),u))}catch(e){r.logger.warn(e)}return l}return r.logger.warn("there was no format function for ".concat(a)),e}),e);return o}}]),e}();function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=function(e){s(c,e);var n,i,a=(n=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(n);if(i){var r=u(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return l(this,e)});function c(e,n,i){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t(this,c),r=a.call(this),M&&w.call(o(r)),r.backend=e,r.store=n,r.services=i,r.languageUtils=i.languageUtils,r.options=s,r.logger=b.create("backendConnector"),r.waitingReads=[],r.maxParallelReads=s.maxParallelReads||10,r.readingCalls=0,r.maxRetries=s.maxRetries>=0?s.maxRetries:5,r.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(i,s.backend,s),r}return r(c,[{key:"queueLoad",value:function(e,t,n,i){var r=this,o={},a={},s={},l={};return e.forEach((function(e){var i=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?void 0===a[s]&&(a[s]=!0):(r.state[s]=1,i=!1,void 0===a[s]&&(a[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===l[t]&&(l[t]=!0)))})),i||(s[e]=!0)})),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var i=e.split("|"),r=i[0],o=i[1];t&&this.emit("failedLoading",r,o,t),n&&this.store.addResourceBundle(r,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,i){var r=k(e,t,Object),o=r.obj,a=r.k;o[a]=o[a]||[],o[a].push(n)}(n.loaded,[r],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:o,callback:a}):(this.readingCalls++,this.backend[n](e,t,(function(s,l){if(i.readingCalls--,i.waitingReads.length>0){var u=i.waitingReads.shift();i.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}s&&l&&r<i.maxRetries?setTimeout((function(){i.read.call(i,e,t,n,r+1,2*o,a)}),o):a(s,l)}))):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,i,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),r=i[0],o=i[1];this.read(r,o,"read",void 0,void 0,(function(i,a){i&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(r," failed"),i),!i&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(r),a),t.loaded(e,i,a)}))}},{key:"saveMissing",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,i,null,re(re({},o),{},{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,i))}}]),c}(w);function ae(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var n={};if("object"===e(t[1])&&(n=t[1]),"string"==typeof t[1]&&(n.defaultValue=t[1]),"string"==typeof t[2]&&(n.tDescription=t[2]),"object"===e(t[2])||"object"===e(t[3])){var i=t[3]||t[2];Object.keys(i).forEach((function(e){n[e]=i[e]}))}return n},interpolation:{escapeValue:!0,format:function(e,t,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function se(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(){}function de(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var pe=function(n){s(d,n);var i,a,c=(i=d,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(i);if(a){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function d(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(t(this,d),e=c.call(this),M&&w.call(o(e)),e.options=se(n),e.services={},e.logger=b,e.modules={external:[]},de(o(e)),i&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,i),l(e,o(e));setTimeout((function(){e.init(n,i)}),0)}return e}return r(d,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var i=ae();function r(e){return e?"function"==typeof e?new e:e:null}if(this.options=ue(ue(ue({},i),this.options),se(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ue(ue({},i.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?b.init(r(this.modules.logger),this.options):b.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=ne);var a=new z(this.options);this.store=new N(this.options.resources,this.options);var s=this.services;s.logger=b,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new K(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(s.formatter=r(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new X(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new oe(r(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.languageDetector&&(s.languageDetector=r(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=r(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new B(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=ce),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var c=["addResource","addResources","addResourceBundle","removeResourceBundle"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var d=_(),p=function(){var t=function(t,i){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),d.resolve(i),n(t,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),d}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ce,i=n,r="string"==typeof e?e:this.language;if("function"==typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return i();var o=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(r)a(r);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),i(e)}))}else i(null)}},{key:"reloadResources",value:function(e,t,n){var i=_();return e||(e=this.languages),t||(t=this.options.ns),n||(n=ce),this.services.backendConnector.reload(e,t,(function(e){i.resolve(),n(e)})),i}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&R.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var i=_();this.emit("languageChanging",e);var r=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var a="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);a&&(n.language||r(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,o){o?(r(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,i.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(t,n,i){var r=this,o=function t(n,o){var a;if("object"!==e(o)){for(var s=arguments.length,l=new Array(s>2?s-2:0),u=2;u<s;u++)l[u-2]=arguments[u];a=r.options.overloadTranslationOptionHandler([n,o].concat(l))}else a=ue({},o);a.lng=a.lng||t.lng,a.lngs=a.lngs||t.lngs,a.ns=a.ns||t.ns,a.keyPrefix=a.keyPrefix||i||t.keyPrefix;var c=r.options.keySeparator||".",d=a.keyPrefix?"".concat(a.keyPrefix).concat(c).concat(n):n;return r.t(d,a)};return"string"==typeof t?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=i,o}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var a=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!(!this.hasResourceBundle(i,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!a(i,e)||r&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,i=_();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=_();"string"==typeof e&&(e=[e]);var i=this.options.preload||[],r=e.filter((function(e){return i.indexOf(e)<0}));return r.length?(this.options.preload=i.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ce,i=ue(ue(ue({},this.options),t),{isClone:!0}),r=new d(i),o=["store","services","language"];return o.forEach((function(t){r[t]=e[t]})),r.services=ue({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r.translator=new B(r.services,r.options),r.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit.apply(r,[e].concat(n))})),r.init(i,n),r.translator.options=r.options,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),d}(w);c(pe,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new pe(e,t)}));var he=pe.createInstance();he.createInstance=pe.createInstance,he.createInstance,he.init,he.loadResources,he.reloadResources,he.use,he.changeLanguage,he.getFixedT;var fe=he.t,me=(he.exists,he.setDefaultNamespace,he.hasLoadedNamespace,he.loadNamespaces,he.loadLanguages,he),ge=n(7294),ve=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230);/g,ye={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…"},be=function(e){return ye[e]};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe,Ce={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(ve,be)}},ke=(0,ge.createContext)();function Se(){return Ce}var Te=function(){function e(){t(this,e),this.usedNamespaces={}}return r(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function Ee(){return xe}var Pe={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ce=_e(_e({},Ce),e)}(e.options.react),function(e){xe=e}(e)}},Oe=n(6563),qe=n(6695),$e=n.n(qe);const Me="7.32.0";var Le=n(2343),je=n(2844),Ae=n(7321);const De=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Ne{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Ne.id}constructor(e={}){this._options=e,Ne.prototype.__init.call(this)}setupOnce(e,t){const n=e=>{const n=t();if(n){const t=n.getIntegration(Ne);if(t){const i=n.getClient(),r=i?i.getOptions():{},o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...De],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(t._options,r);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,je.jH)(e)}`),!0):function(e,t){return!(!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.error(`Cannot extract message for event ${(0,je.jH)(e)}`),[]}return[]}(e).some((e=>(0,Ae.U0)(e,t)))}(e,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,je.jH)(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const n=Re(e);return!!n&&(0,Ae.U0)(n,t)}(e,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,je.jH)(e)}.\nUrl: ${Re(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const n=Re(e);return!n||(0,Ae.U0)(n,t)}(e,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,je.jH)(e)}.\nUrl: ${Re(e)}`),!0)}(e,o)?null:e}}return e};n.id=this.name,e(n)}}function Re(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.error(`Cannot extract url for event ${(0,je.jH)(e)}`),null}}Ne.__initStatic();var Ie=n(535);let Fe;class Ue{constructor(){Ue.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Ue.id}setupOnce(){Fe=Function.prototype.toString,Function.prototype.toString=function(...e){const t=(0,Ie.HK)(this)||this;return Fe.apply(t,e)}}}Ue.__initStatic();var Be=n(5659),He=n(350);const ze=[];function Ve(e){const t=e.defaultIntegrations||[],n=e.integrations;let i;t.forEach((e=>{e.isDefaultInstance=!0})),i=Array.isArray(n)?[...t,...n]:"function"==typeof n?(0,je.lE)(n(t)):t;const r=function(e){const t={};return e.forEach((e=>{const{name:n}=e,i=t[n];i&&!i.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(i),o=r.findIndex((e=>"Debug"===e.name));if(-1!==o){const[e]=r.splice(o,1);r.push(e)}return r}function Ge(e,t){t[e.name]=e,-1===ze.indexOf(e.name)&&(e.setupOnce(He.c,Be.Gd),ze.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log(`Integration installed: ${e.name}`))}var Qe=n(360),We=n(8823),Ye=n(9732);class Ke extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const Ze=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Je(e,t=!1){const{host:n,path:i,pass:r,port:o,projectId:a,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&r?`:${r}`:""}@${n}${o?`:${o}`:""}/${i?`${i}/`:i}${a}`}function Xe(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}var et=n(7597),tt=n(6893);function nt(e,t=1/0,n=1/0){try{return rt("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function it(e,t=3,n=102400){const i=nt(e,t);return function(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}(i)>n?it(e,t-1,n):i}function rt(e,t,i=1/0,r=1/0,o=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[a,s]=o;if(null===t||["number","boolean","string"].includes(typeof t)&&!(0,et.i2)(t))return t;const l=function(e,t){try{return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==n.g&&t===n.g?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":(0,et.Cy)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${(0,Qe.$P)(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;if(0===i)return l.replace("object ","");if(a(t))return"[Circular ~]";const u=t;if(u&&"function"==typeof u.toJSON)try{return rt("",u.toJSON(),i-1,r,o)}catch(e){}const c=Array.isArray(t)?[]:{};let d=0;const p=(0,Ie.Sh)(t);for(const e in p){if(!Object.prototype.hasOwnProperty.call(p,e))continue;if(d>=r){c[e]="[MaxProperties ~]";break}const t=p[e];c[e]=rt(e,t,i-1,r,o),d++}return s(t),c}function ot(e,t=[]){return[e,t]}function at(e,t){const[n,i]=e;return[n,[...i,t]]}function st(e,t){e[1].forEach((e=>{const n=e[0].type;t(e,n)}))}function lt(e,t){return(t||new TextEncoder).encode(e)}function ut(e,t){const[n,i]=e;let r=JSON.stringify(n);function o(e){"string"==typeof r?r="string"==typeof e?r+e:[lt(r,t),e]:r.push("string"==typeof e?lt(e,t):e)}for(const e of i){const[t,n]=e;if(o(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(nt(n))}o(e)}}return"string"==typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let i=0;for(const t of e)n.set(t,i),i+=t.length;return n}(r)}function ct(e,t){const n="string"==typeof e.data?lt(e.data,t):e.data;return[(0,Ie.Jr)({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const dt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function pt(e){return dt[e]}function ht(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function ft(e,t={}){const n="string"==typeof t?t:t.tunnel,i="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return(0,Ie._j)({sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,i)}`}var mt=n(9015),gt=n(1170);const vt="Not capturing exception because it's already been captured.";class yt{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(yt.prototype.__init.call(this),yt.prototype.__init2.call(this),yt.prototype.__init3.call(this),yt.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=function(e){const t="string"==typeof e?function(e){const t=Ze.exec(e);if(!t)throw new Ke(`Invalid Sentry Dsn: ${e}`);const[n,i,r="",o,a="",s]=t.slice(1);let l="",u=s;const c=u.split("/");if(c.length>1&&(l=c.slice(0,-1).join("/"),u=c.pop()),u){const e=u.match(/^\d+/);e&&(u=e[0])}return Xe({host:o,pass:r,path:l,projectId:u,port:a,protocol:n,publicKey:i})}(e):Xe(e);return function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:n,protocol:i}=e;if(["protocol","publicKey","host","projectId"].forEach((t=>{if(!e[t])throw new Ke(`Invalid Sentry Dsn: ${t} missing`)})),!n.match(/^\d+$/))throw new Ke(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!function(e){return"http"===e||"https"===e}(i))throw new Ke(`Invalid Sentry Dsn: Invalid protocol ${i}`);if(t&&isNaN(parseInt(t,10)))throw new Ke(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}(e.dsn);const t=ft(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn("No DSN provided, client will not do anything.")}captureException(e,t,n){if((0,je.YO)(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log(vt));let i=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{i=e}))),i}captureMessage(e,t,n,i){let r=n&&n.event_id;const o=(0,et.pt)(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(o.then((e=>this._captureEvent(e,n,i))).then((e=>{r=e}))),r}captureEvent(e,t,n){if(t&&t.originalException&&(0,je.YO)(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log(vt));let i=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{i=e}))),i}captureSession(e){this._isEnabled()?"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,mt.CT)(e,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e)))):(0,tt.WD)(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(e){const t={};return e.forEach((e=>{Ge(e,t)})),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){Ge(e,this._integrations)}sendEvent(e,t={}){if(this._dsn){let n=function(e,t,n,i){const r=ht(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=function(e,t,n,i){const r=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&{dsn:Je(i)},..."transaction"===e.type&&r&&{trace:(0,Ie.Jr)({...r})}}}(e,r,i,t);return delete e.sdkProcessingMetadata,ot(a,[[{type:o},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=at(n,ct(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(n)}}sendSession(e){if(this._dsn){const t=function(e,t,n,i){const r=ht(n);return ot({sent_at:(new Date).toISOString(),...r&&{sdk:r},...!!i&&{dsn:Je(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}_updateSessionFromEvent(e,t){let n=!1,i=!1;const r=t.exception&&t.exception.values;if(r){i=!0;for(const e of r){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&((0,mt.CT)(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new tt.cW((t=>{let n=0;const i=setInterval((()=>{0==this._numProcessing?(clearInterval(i),t(!0)):(n+=1,e&&n>=e&&(clearInterval(i),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,n){return function(e,t,n,i){const{normalizeDepth:r=3,normalizeMaxBreadth:o=1e3}=e,a={...t,event_id:t.event_id||n.event_id||(0,je.DM)(),timestamp:t.timestamp||(0,gt.yW)()};!function(e,t){const{environment:n,release:i,dist:r,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==i&&(e.release=i),void 0===e.dist&&void 0!==r&&(e.dist=r),e.message&&(e.message=(0,Ae.$G)(e.message,o));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=(0,Ae.$G)(a.value,o));const s=e.request;s&&s.url&&(s.url=(0,Ae.$G)(s.url,o))}(a,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(a,e.integrations.map((e=>e.name)));let s=i;n.captureContext&&(s=He.s.clone(s).update(n.captureContext));let l=(0,tt.WD)(a);if(s){if(s.getAttachments){const e=[...n.attachments||[],...s.getAttachments()];e.length&&(n.attachments=e)}l=s.applyToEvent(a,n)}return l.then((e=>"number"==typeof r&&r>0?function(e,t,n){if(!e)return null;const i={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:nt(e.data,t,n)}})))},...e.user&&{user:nt(e.user,t,n)},...e.contexts&&{contexts:nt(e.contexts,t,n)},...e.extra&&{extra:nt(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&i.contexts&&(i.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(i.contexts.trace.data=nt(e.contexts.trace.data,t,n))),e.spans&&(i.spans=e.spans.map((e=>(e.data&&(e.data=nt(e.data,t,n)),e)))),i}(e,r,o):e))}(this.getOptions(),e,t,n)}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t=e;"log"===t.logLevel?Le.kg.log(t.message):Le.kg.warn(t)}}))}_processEvent(e,t,n){const i=this.getOptions(),{sampleRate:r}=i;if(!this._isEnabled())return(0,tt.$2)(new Ke("SDK not enabled, will not capture event.","log"));const o=wt(e),a=bt(e),s=e.type||"error",l=`before send for type \`${s}\``;if(a&&"number"==typeof r&&Math.random()>r)return this.recordDroppedEvent("sample_rate","error",e),(0,tt.$2)(new Ke(`Discarding event because it's not included in the random sample (sampling rate = ${r})`,"log"));const u="replay_event"===s?"replay":s;return this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",u,e),new Ke("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const r=function(e,t,n){const{beforeSend:i,beforeSendTransaction:r}=e;return bt(t)&&i?i(t,n):wt(t)&&r?r(t,n):t}(i,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if((0,et.J8)(e))return e.then((e=>{if(!(0,et.PO)(e)&&null!==e)throw new Ke(n);return e}),(e=>{throw new Ke(`${t} rejected with ${e}`)}));if(!(0,et.PO)(e)&&null!==e)throw new Ke(n);return e}(r,l)})).then((i=>{if(null===i)throw this.recordDroppedEvent("before_send",u,e),new Ke(`${l} returned \`null\`, will not send event.`,"log");const r=n&&n.getSession();!o&&r&&this._updateSessionFromEvent(r,i);const a=i.transaction_info;if(o&&a&&i.transaction!==e.transaction){const e="custom";i.transaction_info={...a,source:e,changes:[...a.changes,{source:e,timestamp:i.timestamp,propagations:a.propagations}]}}return this.sendEvent(i,t),i})).then(null,(e=>{if(e instanceof Ke)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new Ke(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.error("Error while sending event:",e)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,i]=t.split(":");return{reason:n,category:i,quantity:e[t]}}))}}function bt(e){return void 0===e.type}function wt(e){return"transaction"===e.type}function _t(e,t){const n=Ct(e,t),i={type:t&&t.name,value:St(t)};return n.length&&(i.stacktrace={frames:n}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function xt(e,t){return{exception:{values:[_t(e,t)]}}}function Ct(e,t){const n=t.stacktrace||t.stack||"",i=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(kt.test(e.message))return 1}return 0}(t);try{return e(n,i)}catch(e){}return[]}const kt=/Minified React error #\d+;/i;function St(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Tt(e,t,n,i,r){let o;if((0,et.VW)(t)&&t.error)return xt(e,t.error);if((0,et.TX)(t)||(0,et.fm)(t)){const r=t;if("stack"in t)o=xt(e,t);else{const t=r.name||((0,et.TX)(r)?"DOMError":"DOMException"),a=r.message?`${t}: ${r.message}`:t;o=Et(e,a,n,i),(0,je.Db)(o,a)}return"code"in r&&(o.tags={...o.tags,"DOMException.code":`${r.code}`}),o}return(0,et.VZ)(t)?xt(e,t):(0,et.PO)(t)||(0,et.cO)(t)?(o=function(e,t,n,i){const r=(0,Be.Gd)().getClient(),o=r&&r.getOptions().normalizeDepth,a={exception:{values:[{type:(0,et.cO)(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:`Non-Error ${i?"promise rejection":"exception"} captured with keys: ${(0,Ie.zf)(t)}`}]},extra:{__serialized__:it(t,o)}};if(n){const t=Ct(e,n);t.length&&(a.exception.values[0].stacktrace={frames:t})}return a}(e,t,n,r),(0,je.EG)(o,{synthetic:!0}),o):(o=Et(e,t,n,i),(0,je.Db)(o,`${t}`,void 0),(0,je.EG)(o,{synthetic:!0}),o)}function Et(e,t,n,i){const r={message:t};if(i&&n){const i=Ct(e,n);i.length&&(r.exception={values:[{value:t,stacktrace:{frames:i}}]})}return r}function Pt(e,t){return(0,Be.Gd)().captureException(e,{captureContext:t})}function Ot(e){(0,Be.Gd)().withScope(e)}var qt=n(1235);const $t=qt.n2;let Mt=0;function Lt(){return Mt>0}function jt(){Mt++,setTimeout((()=>{Mt--}))}function At(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if((0,Ie.HK)(e))return e}catch(t){return e}const i=function(){const i=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const r=i.map((e=>At(e,t)));return e.apply(this,r)}catch(e){throw jt(),Ot((n=>{n.addEventProcessor((e=>(t.mechanism&&((0,je.Db)(e,void 0,void 0),(0,je.EG)(e,t.mechanism)),e.extra={...e.extra,arguments:i},e))),Pt(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}catch(e){}(0,Ie.$Q)(i,e),(0,Ie.xp)(e,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:()=>e.name})}catch(e){}return i}var Dt=n(8464);const Nt=["fatal","error","warning","log","info","debug"];function Rt(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",i=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+i}}const It="Breadcrumbs";class Ft{static __initStatic(){this.id=It}__init(){this.name=Ft.id}constructor(e){Ft.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){var e;this.options.console&&(0,Ye.o)("console",Ut),this.options.dom&&(0,Ye.o)("dom",(e=this.options.dom,function(t){let n,i="object"==typeof e?e.serializeAttribute:void 0,r="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;r&&r>1024&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${r} was configured. Sentry will use 1024 instead.`),r=1024),"string"==typeof i&&(i=[i]);try{n=t.event.target?(0,Dt.Rt)(t.event.target,{keyAttrs:i,maxStringLength:r}):(0,Dt.Rt)(t.event,{keyAttrs:i,maxStringLength:r})}catch(e){n="<unknown>"}0!==n.length&&(0,Be.Gd)().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})})),this.options.xhr&&(0,Ye.o)("xhr",Bt),this.options.fetch&&(0,Ye.o)("fetch",Ht),this.options.history&&(0,Ye.o)("history",zt)}addSentryBreadcrumb(e){this.options.sentry&&(0,Be.Gd)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,je.jH)(e)},{event:e})}}function Ut(e){for(let t=0;t<e.args.length;t++)if("ref=Ref<"===e.args[t]){e.args[t+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:(n=e.level,"warn"===n?"warning":Nt.includes(n)?n:"log"),message:(0,Ae.nK)(e.args," ")};var n;if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${(0,Ae.nK)(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}(0,Be.Gd)().addBreadcrumb(t,{input:e.args,level:e.level})}function Bt(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;const{method:t,url:n,status_code:i,body:r}=e.xhr.__sentry_xhr__||{};(0,Be.Gd)().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:i},type:"http"},{xhr:e.xhr,input:r})}}function Ht(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?(0,Be.Gd)().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):(0,Be.Gd)().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response.status},type:"http"},{input:e.args,response:e.response})))}function zt(e){let t=e.from,n=e.to;const i=Rt($t.location.href);let r=Rt(t);const o=Rt(n);r.path||(r=i),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),i.protocol===r.protocol&&i.host===r.host&&(t=r.relative),(0,Be.Gd)().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}Ft.__initStatic();class Vt extends yt{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Me}],version:Me},super(e),e.sendClientReports&&$t.document&&$t.document.addEventListener("visibilitychange",(()=>{"hidden"===$t.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,i){const r=Tt(e,t,n&&n.syntheticException||void 0,i);return(0,je.EG)(r),r.level="error",n&&n.event_id&&(r.event_id=n.event_id),(0,tt.WD)(r)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",i,r){const o=Et(e,t,i&&i.syntheticException||void 0,r);return o.level=n,i&&i.event_id&&(o.event_id=i.event_id),(0,tt.WD)(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}sendEvent(e,t){const n=this.getIntegrationById(It);n&&n.addSentryBreadcrumb&&n.addSentryBreadcrumb(e),super.sendEvent(e,t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log("No outcomes to send"));if(!this._dsn)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log("No dsn provided, will not send outcomes"));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log("Sending outcomes:",e);const t=ft(this._dsn,this._options),n=(i=e,ot((r=this._options.tunnel&&Je(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:(0,gt.yW)(),discarded_events:i}]]));var i,r;try{"[object Navigator]"===Object.prototype.toString.call($t&&$t.navigator)&&"function"==typeof $t.navigator.sendBeacon&&!this._options.transportOptions?$t.navigator.sendBeacon.bind($t.navigator)(t,ut(n)):this._sendEnvelope(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.error(e)}}}class Gt{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Gt.id}__init2(){this._installFunc={onerror:Qt,onunhandledrejection:Wt}}constructor(e){Gt.prototype.__init.call(this),Gt.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const i=this._installFunc[n];i&&e[n]&&(t=n,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log(`Global Handler attached: ${t}`),i(),this._installFunc[n]=void 0)}var t}}function Qt(){(0,Ye.o)("error",(e=>{const[t,n,i]=Zt();if(!t.getIntegration(Gt))return;const{msg:r,url:o,line:a,column:s,error:l}=e;if(Lt()||l&&l.__sentry_own_request__)return;const u=void 0===l&&(0,et.HD)(r)?function(e,t,n,i){let r=(0,et.VW)(e)?e.message:e,o="Error";const a=r.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(o=a[1],r=a[2]),Yt({exception:{values:[{type:o,value:r}]}},t,n,i)}(r,o,a,s):Yt(Tt(n,l||r,void 0,i,!1),o,a,s);u.level="error",Kt(t,l,u,"onerror")}))}function Wt(){(0,Ye.o)("unhandledrejection",(e=>{const[t,n,i]=Zt();if(!t.getIntegration(Gt))return;let r=e;try{"reason"in e?r=e.reason:"detail"in e&&"reason"in e.detail&&(r=e.detail.reason)}catch(e){}if(Lt()||r&&r.__sentry_own_request__)return!0;const o=(0,et.pt)(r)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(r)}`}]}}:Tt(n,r,void 0,i,!0);o.level="error",Kt(t,r,o,"onunhandledrejection")}))}function Yt(e,t,n,i){const r=e.exception=e.exception||{},o=r.values=r.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},l=s.frames=s.frames||[],u=isNaN(parseInt(i,10))?void 0:i,c=isNaN(parseInt(n,10))?void 0:n,d=(0,et.HD)(t)&&t.length>0?t:(0,Dt.l4)();return 0===l.length&&l.push({colno:u,filename:d,function:"?",in_app:!0,lineno:c}),e}function Kt(e,t,n,i){(0,je.EG)(n,{handled:!1,type:i}),e.captureEvent(n,{originalException:t})}function Zt(){const e=(0,Be.Gd)(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}Gt.__initStatic();const Jt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Xt{static __initStatic(){this.id="TryCatch"}__init(){this.name=Xt.id}constructor(e){Xt.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&(0,Ie.hl)($t,"setTimeout",en),this._options.setInterval&&(0,Ie.hl)($t,"setInterval",en),this._options.requestAnimationFrame&&(0,Ie.hl)($t,"requestAnimationFrame",tn),this._options.XMLHttpRequest&&"XMLHttpRequest"in $t&&(0,Ie.hl)(XMLHttpRequest.prototype,"send",nn);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:Jt).forEach(rn)}}function en(e){return function(...t){const n=t[0];return t[0]=At(n,{mechanism:{data:{function:(0,Qe.$P)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function tn(e){return function(t){return e.apply(this,[At(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,Qe.$P)(e)},handled:!0,type:"instrument"}})])}}function nn(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&(0,Ie.hl)(n,e,(function(t){const n={mechanism:{data:{function:e,handler:(0,Qe.$P)(t)},handled:!0,type:"instrument"}},i=(0,Ie.HK)(t);return i&&(n.mechanism.data.handler=(0,Qe.$P)(i)),At(t,n)}))})),e.apply(this,t)}}function rn(e){const t=$t,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,Ie.hl)(n,"addEventListener",(function(t){return function(n,i,r){try{"function"==typeof i.handleEvent&&(i.handleEvent=At(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,Qe.$P)(i),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[n,At(i,{mechanism:{data:{function:"addEventListener",handler:(0,Qe.$P)(i),target:e},handled:!0,type:"instrument"}}),r])}})),(0,Ie.hl)(n,"removeEventListener",(function(e){return function(t,n,i){const r=n;try{const n=r&&r.__sentry_wrapped__;n&&e.call(this,t,n,i)}catch(e){}return e.call(this,t,r,i)}})))}Xt.__initStatic();class on{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=on.id}constructor(e={}){on.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){const e=(0,Be.Gd)().getClient();e&&(0,He.c)(((t,n)=>{const i=(0,Be.Gd)().getIntegration(on);return i?function(e,t,n,i,r){if(!(i.exception&&i.exception.values&&r&&(0,et.V9)(r.originalException,Error)))return i;const o=an(e,n,r.originalException,t);return i.exception.values=[...o,...i.exception.values],i}(e.getOptions().stackParser,i._key,i._limit,t,n):t}))}}function an(e,t,n,i,r=[]){if(!(0,et.V9)(n[i],Error)||r.length+1>=t)return r;const o=_t(e,n[i]);return an(e,t,n[i],i,[o,...r])}on.__initStatic();class sn{constructor(){sn.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=sn.id}setupOnce(){(0,He.c)((e=>{if((0,Be.Gd)().getIntegration(sn)){if(!$t.navigator&&!$t.location&&!$t.document)return e;const t=e.request&&e.request.url||$t.location&&$t.location.href,{referrer:n}=$t.document||{},{userAgent:i}=$t.navigator||{},r={...e.request&&e.request.headers,...n&&{Referer:n},...i&&{"User-Agent":i}},o={...e.request,...t&&{url:t},headers:r};return{...e,request:o}}return e}))}}sn.__initStatic();class ln{constructor(){ln.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=ln.id}setupOnce(e,t){const n=e=>{const n=t().getIntegration(ln);if(n){try{if(function(e,t){return!!t&&(!!function(e,t){const n=e.message,i=t.message;return!(!n&&!i)&&(!(n&&!i||!n&&i)&&(n===i&&(!!cn(e,t)&&!!un(e,t))))}(e,t)||!!function(e,t){const n=dn(t),i=dn(e);return!(!n||!i)&&(n.type===i.type&&n.value===i.value&&(!!cn(e,t)&&!!un(e,t)))}(e,t))}(e,n._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){return n._previousEvent=e}return n._previousEvent=e}return e};n.id=this.name,e(n)}}function un(e,t){let n=pn(e),i=pn(t);if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;if(i.length!==n.length)return!1;for(let e=0;e<i.length;e++){const t=i[e],r=n[e];if(t.filename!==r.filename||t.lineno!==r.lineno||t.colno!==r.colno||t.function!==r.function)return!1}return!0}function cn(e,t){let n=e.fingerprint,i=t.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;try{return!(n.join("")!==i.join(""))}catch(e){return!1}}function dn(e){return e.exception&&e.exception.values&&e.exception.values[0]}function pn(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}ln.__initStatic();const hn="?";function fn(e,t,n,i){const r={filename:e,function:t,in_app:!0};return void 0!==n&&(r.lineno=n),void 0!==i&&(r.colno=i),r}const mn=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gn=/\((\S*)(?::(\d+))(?::(\d+))\)/,vn=[30,e=>{const t=mn.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=gn.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Sn(t[1]||hn,t[2]);return fn(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],yn=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,bn=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,wn=[50,e=>{const t=yn.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=bn.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||hn;return[n,e]=Sn(n,e),fn(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],_n=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,xn=[40,e=>{const t=_n.exec(e);return t?fn(t[2],t[1]||hn,+t[3],t[4]?+t[4]:void 0):void 0}],Cn=[vn,wn,xn],kn=(0,Qe.pE)(...Cn),Sn=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),i=-1!==e.indexOf("safari-web-extension");return n||i?[-1!==e.indexOf("@")?e.split("@")[0]:hn,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Tn(e,t,n=function(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(i){if(!(void 0===e||t.length<e))return(0,tt.$2)(new Ke("Not adding Promise because buffer limit was reached."));const r=i();return-1===t.indexOf(r)&&t.push(r),r.then((()=>n(r))).then(null,(()=>n(r).then(null,(()=>{})))),r},drain:function(e){return new tt.cW(((n,i)=>{let r=t.length;if(!r)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{(0,tt.WD)(e).then((()=>{--r||(clearTimeout(o),n(!0))}),i)}))}))}}}(e.bufferSize||30)){let i={};return{send:function(r){const o=[];if(st(r,((t,n)=>{const r=pt(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(i,r)){const i=En(t,n);e.recordDroppedEvent("ratelimit_backoff",r,i)}else o.push(t)})),0===o.length)return(0,tt.WD)();const a=ot(r[0],o),s=t=>{st(a,((n,i)=>{const r=En(n,i);e.recordDroppedEvent(t,pt(i),r)}))};return n.add((()=>t({body:ut(a,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),i=function(e,{statusCode:t,headers:n},i=Date.now()){const r={...e},o=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,n]=e.split(":",2),o=parseInt(t,10),a=1e3*(isNaN(o)?60:o);if(n)for(const e of n.split(";"))r[e]=i+a;else r.all=i+a}else a?r.all=i+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const i=Date.parse(`${e}`);return isNaN(i)?6e4:i-t}(a,i):429===t&&(r.all=i+6e4);return r}(i,e),e)),(e=>{throw s("network_error"),e})))).then((e=>e),(e=>{if(e instanceof Ke)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.error("Skipped sending event because buffer is full."),s("queue_overflow"),(0,tt.WD)();throw e}))},flush:e=>n.drain(e)}}function En(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}let Pn;function On(e,t=function(){if(Pn)return Pn;if((0,We.Du)($t.fetch))return Pn=$t.fetch.bind($t);const e=$t.document;let t=$t.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const i=n.contentWindow;i&&i.fetch&&(t=i.fetch),e.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return Pn=t.bind($t)}()){return Tn(e,(function(n){const i={body:n.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n.body.length<=65536,...e.fetchOptions};try{return t(e.url,i).then((e=>({statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return Pn=void 0,(0,tt.$2)(e)}}))}function qn(e){return Tn(e,(function(t){return new tt.cW(((n,i)=>{const r=new XMLHttpRequest;r.onerror=i,r.onreadystatechange=()=>{4===r.readyState&&n({statusCode:r.status,headers:{"x-sentry-rate-limits":r.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":r.getResponseHeader("Retry-After")}})},r.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&r.setRequestHeader(t,e.headers[t]);r.send(t.body)}))}))}const $n=[new Ne,new Ue,new Xt,new Ft,new Gt,new on,new ln,new sn];function Mn(e){e.startSession({ignoreDuration:!0}),e.captureSession()}var Ln=n(790);const jn=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$"),An="baggage",Dn=/^sentry-/;function Nn(e){return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce(((e,[t,n],i)=>{const r=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,o=0===i?r:`${e},${r}`;return o.length>8192?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):o}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`sentry-${t}`]=n),e)),{}))}function Rn(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}var In=n(6458),Fn=n(3233);const Un=qt.n2,Bn=(e,t,n)=>{let i,r;return o=>{t.value>=0&&(o||n)&&(r=t.value-(i||0),(r||void 0===i)&&(i=t.value,t.delta=r,e(t)))}},Hn=()=>Un.__WEB_VITALS_POLYFILL__?Un.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=Un.performance.timing,t=Un.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n})()):Un.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],zn=()=>{const e=Hn();return e&&e.activationStart||0},Vn=(e,t)=>{const n=Hn();let i="navigate";return n&&(i=Un.document.prerendering||zn()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:i}},Gn=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const i=new PerformanceObserver((e=>{t(e.getEntries())}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},Qn=(e,t)=>{const n=i=>{"pagehide"!==i.type&&"hidden"!==Un.document.visibilityState||(e(i),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)};let Wn=-1;const Yn=()=>(Wn<0&&(Wn="hidden"!==Un.document.visibilityState||Un.document.prerendering?1/0:0,Qn((({timeStamp:e})=>{Wn=e}),!0)),{get firstHiddenTime(){return Wn}}),Kn={};function Zn(e){return"number"==typeof e&&isFinite(e)}function Jn(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function Xn(){return Un&&Un.addEventListener&&Un.performance}let ei,ti,ni=0,ii={};function ri(){const e=Xn();e&&gt.Z1&&(e.mark&&Un.performance.mark("sentry-tracing-init"),(e=>{const t=Vn("CLS",0);let n,i=0,r=[];const o=e=>{e.forEach((e=>{if(!e.hadRecentInput){const o=r[0],a=r[r.length-1];i&&0!==r.length&&e.startTime-a.startTime<1e3&&e.startTime-o.startTime<5e3?(i+=e.value,r.push(e)):(i=e.value,r=[e]),i>t.value&&(t.value=i,t.entries=r,n&&n())}}))},a=Gn("layout-shift",o);a&&(n=Bn((e=>{const t=e.entries.pop();t&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log("[Measurements] Adding CLS"),ii.cls={value:e.value,unit:""},ti=t)}),t),Qn((()=>{o(a.takeRecords()),n(!0)})))})(),(e=>{const t=Yn(),n=Vn("LCP");let i;const r=e=>{const r=e[e.length-1];if(r){const e=Math.max(r.startTime-zn(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[r],i())}},o=Gn("largest-contentful-paint",r);if(o){i=Bn((e=>{const t=e.entries.pop();t&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log("[Measurements] Adding LCP"),ii.lcp={value:e.value,unit:"millisecond"},ei=t)}),n);const e=()=>{Kn[n.id]||(r(o.takeRecords()),o.disconnect(),Kn[n.id]=!0,i(!0))};["keydown","click"].forEach((t=>{addEventListener(t,e,{once:!0,capture:!0})})),Qn(e,!0)}})(),(e=>{const t=Yn(),n=Vn("FID");let i;const r=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),i(!0))},o=e=>{e.forEach(r)},a=Gn("first-input",o);i=Bn((e=>{const t=e.entries.pop();if(!t)return;const n=(0,Fn.XL)(gt.Z1),i=(0,Fn.XL)(t.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log("[Measurements] Adding FID"),ii.fid={value:e.value,unit:"millisecond"},ii["mark.fid"]={value:n+i,unit:"second"}}),n),a&&Qn((()=>{o(a.takeRecords()),a.disconnect()}),!0)})())}function oi(e,t,n,i,r,o){const a=o?t[o]:t[`${n}End`],s=t[`${n}Start`];s&&a&&Jn(e,{op:"browser",description:r||n,startTimestamp:i+(0,Fn.XL)(s),endTimestamp:i+(0,Fn.XL)(a)})}const ai=["localhost",/^\//],si={traceFetch:!0,traceXHR:!0,tracingOrigins:ai,tracePropagationTargets:ai};const li={idleTimeout:In.nT,finalTimeout:In.mg,heartbeatInterval:In.hd,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!Un||!Un.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn("Could not initialize routing instrumentation due to invalid location"));let i,r=Un.location.href;t&&(i=e({name:Un.location.pathname,op:"pageload",metadata:{source:"url"}})),n&&(0,Ye.o)("history",(({to:t,from:n})=>{void 0===n&&r&&-1!==r.indexOf(t)?r=void 0:n!==t&&(r=void 0,i&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=e({name:Un.location.pathname,op:"navigation",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...si};class ui{__init(){this.name="BrowserTracing"}constructor(e){ui.prototype.__init.call(this),this.options={...li,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),ri(),this.options.enableLongTask&&Gn("longtask",(e=>{for(const t of e){const e=(0,Fn.x1)();if(!e)return;const n=(0,Fn.XL)(gt.Z1+t.startTime),i=(0,Fn.XL)(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:n,endTimestamp:n+i})}}))}setupOnce(e,t){this._getCurrentHub=t;const{routingInstrumentation:n,startTransactionOnLocationChange:i,startTransactionOnPageLoad:r,markBackgroundTransactions:o,traceFetch:a,traceXHR:s,tracePropagationTargets:l,shouldCreateSpanForRequest:u,_experiments:c}=this.options;n((e=>this._createRouteTransaction(e)),r,i),o&&(Un&&Un.document?Un.document.addEventListener("visibilitychange",(()=>{const e=(0,Fn.x1)();if(Un.document.hidden&&e){const t="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),c.enableInteractions&&this._registerInteractionListener(),function(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:i,tracingOrigins:r,shouldCreateSpanForRequest:o}={traceFetch:si.traceFetch,traceXHR:si.traceXHR,...e},a="function"==typeof o?o:e=>!0,s=e=>function(e,t){return(0,Ae.U0)(e,t||ai)}(e,i||r),l={};t&&(0,Ye.o)("fetch",(e=>{!function(e,t,n,i){if(!(0,Fn.zu)()||!e.fetchData||!t(e.fetchData.url))return;if(e.endTimestamp){const t=e.fetchData.__span;if(!t)return;const n=i[t];return void(n&&(e.response?n.setHttpStatus(e.response.status):e.error&&n.setStatus("internal_error"),n.finish(),delete i[t]))}const r=(0,Be.Gd)().getScope(),o=r&&r.getSpan(),a=o&&o.transaction;if(o&&a){const t=o.startChild({data:{...e.fetchData,type:"fetch"},description:`${e.fetchData.method} ${e.fetchData.url}`,op:"http.client"});e.fetchData.__span=t.spanId,i[t.spanId]=t;const r=e.args[0];e.args[1]=e.args[1]||{};const s=e.args[1];n(e.fetchData.url)&&(s.headers=function(e,t,n,i){const r=Nn(t),o=n.toTraceparent(),a="undefined"!=typeof Request&&(0,et.V9)(e,Request)?e.headers:i.headers;if(a){if("undefined"!=typeof Headers&&(0,et.V9)(a,Headers)){const e=new Headers(a);return e.append("sentry-trace",o),r&&e.append(An,r),e}if(Array.isArray(a)){const e=[...a,["sentry-trace",o]];return r&&e.push([An,r]),e}{const e="baggage"in a?a.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),r&&t.push(r),{...a,"sentry-trace":o,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":o,baggage:r}}(r,a.getDynamicSamplingContext(),t,s),a.metadata.propagations++)}}(e,a,s,l)})),n&&(0,Ye.o)("xhr",(e=>{!function(e,t,n,i){if(!(0,Fn.zu)()||e.xhr&&e.xhr.__sentry_own_request__||!(e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url)))return;const r=e.xhr.__sentry_xhr__;if(e.endTimestamp){const t=e.xhr.__sentry_xhr_span_id__;if(!t)return;const n=i[t];return void(n&&(n.setHttpStatus(r.status_code),n.finish(),delete i[t]))}const o=(0,Be.Gd)().getScope(),a=o&&o.getSpan(),s=a&&a.transaction;if(a&&s){const t=a.startChild({data:{...r.data,type:"xhr",method:r.method,url:r.url},description:`${r.method} ${r.url}`,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=t.spanId,i[e.xhr.__sentry_xhr_span_id__]=t,e.xhr.setRequestHeader&&n(e.xhr.__sentry_xhr__.url))try{e.xhr.setRequestHeader("sentry-trace",t.toTraceparent());const n=Nn(s.getDynamicSamplingContext());n&&e.xhr.setRequestHeader(An,n),s.metadata.propagations++}catch(e){}}}(e,a,s,l)}))}({traceFetch:a,traceXHR:s,tracePropagationTargets:l,shouldCreateSpanForRequest:u})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:t,idleTimeout:n,finalTimeout:i,heartbeatInterval:r}=this.options,o="pageload"===e.op,a=o?ci("sentry-trace"):null,s=o?ci("baggage"):null,l=a?function(e){const t=e.match(jn);if(!e||!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}(a):void 0,u=s?function(e){if(!(0,et.HD)(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>({...e,...Rn(t)})),{});else{if(!e)return;t=Rn(e)}const n=Object.entries(t).reduce(((e,[t,n])=>(t.match(Dn)&&(e[t.slice("sentry-".length)]=n),e)),{});return Object.keys(n).length>0?n:void 0}(s):void 0,c={...e,...l,metadata:{...e.metadata,dynamicSamplingContext:l&&!u?{}:u},trimEnd:!0},d="function"==typeof t?t(c):c,p=void 0===d?{...c,sampled:!1}:d;p.metadata=p.name!==c.name?{...p.metadata,source:"custom"}:p.metadata,this._latestRouteName=p.name,this._latestRouteSource=p.metadata&&p.metadata.source,!1===p.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log(`[Tracing] Will not send ${p.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log(`[Tracing] Starting ${p.op} transaction on scope`);const h=this._getCurrentHub(),{location:f}=Un,m=(0,Ln.lb)(h,p,n,i,!0,{location:f},r);return m.registerBeforeFinishCallback((e=>{!function(e){const t=Xn();if(!t||!Un.performance.getEntries||!gt.Z1)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log("[Tracing] Adding & adjusting spans using Performance API");const n=(0,Fn.XL)(gt.Z1),i=t.getEntries();let r,o;if(i.slice(ni).forEach((t=>{const i=(0,Fn.XL)(t.startTime),a=(0,Fn.XL)(t.duration);if(!("navigation"===e.op&&n+i<e.startTimestamp))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((i=>{oi(e,t,i,n)})),oi(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),oi(e,t,"fetch",n,"cache","domainLookupStart"),oi(e,t,"domainLookup",n,"DNS"),function(e,t,n){Jn(e,{op:"browser",description:"request",startTimestamp:n+(0,Fn.XL)(t.requestStart),endTimestamp:n+(0,Fn.XL)(t.responseEnd)}),Jn(e,{op:"browser",description:"response",startTimestamp:n+(0,Fn.XL)(t.responseStart),endTimestamp:n+(0,Fn.XL)(t.responseEnd)})}(e,t,n)}(e,t,n),r=n+(0,Fn.XL)(t.responseStart),o=n+(0,Fn.XL)(t.requestStart);break;case"mark":case"paint":case"measure":{!function(e,t,n,i,r){const o=r+n,a=o+i;Jn(e,{description:t.name,endTimestamp:a,op:t.entryType,startTimestamp:o})}(e,t,i,a,n);const r=Yn(),o=t.startTime<r.firstHiddenTime;"first-paint"===t.name&&o&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log("[Measurements] Adding FP"),ii.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&o&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log("[Measurements] Adding FCP"),ii.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":{const r=t.name.replace(Un.location.origin,"");!function(e,t,n,i,r,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const a={};"transferSize"in t&&(a["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(a["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(a["Decoded Body Size"]=t.decodedBodySize);const s=o+i;Jn(e,{description:n,endTimestamp:s+r,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",startTimestamp:s,data:a})}(e,t,r,i,a,n);break}}})),ni=Math.max(i.length-1,0),function(e){const t=Un.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Zn(n.rtt)&&(ii["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Zn(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),Zn(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===e.op){"number"==typeof r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log("[Measurements] Adding TTFB"),ii.ttfb={value:1e3*(r-e.startTimestamp),unit:"millisecond"},"number"==typeof o&&o<=r&&(ii["ttfb.requestTime"]={value:1e3*(r-o),unit:"millisecond"})),["fcp","fp","lcp"].forEach((t=>{if(!ii[t]||n>=e.startTimestamp)return;const i=ii[t].value,r=n+(0,Fn.XL)(i),o=Math.abs(1e3*(r-e.startTimestamp)),a=o-i;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log(`[Measurements] Normalized ${t} from ${i} to ${o} (${a})`),ii[t].value=o}));const t=ii["mark.fid"];t&&ii.fid&&(Jn(e,{description:"first input delay",endTimestamp:t.value+(0,Fn.XL)(ii.fid.value),op:"ui.action",startTimestamp:t.value}),delete ii["mark.fid"]),"fcp"in ii||delete ii.cls,Object.keys(ii).forEach((t=>{e.setMeasurement(t,ii[t].value,ii[t].unit)})),function(e){ei&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log("[Measurements] Adding LCP Data"),ei.element&&e.setTag("lcp.element",(0,Dt.Rt)(ei.element)),ei.id&&e.setTag("lcp.id",ei.id),ei.url&&e.setTag("lcp.url",ei.url.trim().slice(0,200)),e.setTag("lcp.size",ei.size)),ti&&ti.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.log("[Measurements] Adding CLS Data"),ti.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,(0,Dt.Rt)(t.node)))))}(e)}ei=void 0,ti=void 0,ii={}}(e)})),m}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:i}=this.options,r="ui.action.click";if(e&&(e.finish(),e=void 0),!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn(`[Tracing] Did not create ${r} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn(`[Tracing] Did not create ${r} transaction because _latestRouteName is missing.`));const o=this._getCurrentHub(),{location:a}=Un,s={name:this._latestRouteName,op:r,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=(0,Ln.lb)(o,s,t,n,!0,{location:a},i)};["click"].forEach((e=>{addEventListener(e,t,{once:!1,capture:!0})}))}}function ci(e){const t=(0,Dt.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):null}var di;("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,Ln.ro)(),n(3234),n(293),(di={dsn:"https://b55b0e2663364fa9b80c6d9bded855ec@o1146290.ingest.sentry.io/6392816",environment:"production",integrations:[new ui],release:"1120c1e760006bdf3fc0f6fa9faee2c6be2ab58d",tracesSampleRate:.01})._metadata=di._metadata||{},di._metadata.sdk=di._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:Me}],version:Me},function(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=$n),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),$t.SENTRY_RELEASE&&$t.SENTRY_RELEASE.id&&(e.release=$t.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(0,Qe.Sq)(e.stackParser||kn),integrations:Ve(e),transport:e.transport||((0,We.Ak)()?On:qn)};!function(e,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?Le.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=(0,Be.Gd)(),i=n.getScope();i&&i.update(t.initialScope);const r=new e(t);n.bindClient(r)}(Vt,t),e.autoSessionTracking&&function(){if(void 0===$t.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Le.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const e=(0,Be.Gd)();e.captureSession&&(Mn(e),(0,Ye.o)("history",(({from:e,to:t})=>{void 0!==e&&e!==t&&Mn((0,Be.Gd)())})))}()}(di);const pi=$e().module("metacApp",["ngAnimate","ngFileUpload"]);function hi(e,t,n){return arguments.length<3&&(n=1e-12),0==t?0==e:Math.abs((e-t)/t)<n}function fi(e){return null===e?NaN:e}function mi(e,t,n,i){var r,o,a,s,l,u,c,d;if(!t.length)return NaN;for(r=0;r<t.length&&!(e<t[r][n]);r++);if(o=Math.max(r-1,0),a=Math.min(r,t.length-1),u=(e-t[o][n])/(t[a][n]-t[o][n]+1e-100),u=Math.max(Math.min(1,u),0),"object"==typeof i){for(d={},r=0;r<i.length;r++)c=i[r],s=fi(t[o][c]),l=fi(t[a][c]),d[c]=u*l+(1-u)*s;return d}return c=i,s=fi(t[o][c]),u*(l=fi(t[a][c]))+(1-u)*s}function gi(e,t){if(t.length<2||e<0||e>1)return 0;var n=e*(t.length-1),i=Math.floor(n),r=Math.ceil(n),o=t[i],a=t[r];return i==r?o:o*(r-n)+a*(n-i)}function vi(e,t,n){return Math.min(Math.max(e,t),n)}function yi(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function bi(e){return Math.log(Math.pow(2,e))}function wi(e){const t=e?Math.floor(Math.log10(Math.abs(e))):0,n=t<0?Math.pow(10,1-t):100;return Math.round(e*n)/n}function _i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function xi(e,t,n){var i,r;return _i(1,arguments),Ci(t)?r=t:n=t,new Intl.DateTimeFormat(null===(i=n)||void 0===i?void 0:i.locale,r).format(e)}function Ci(e){return void 0!==e&&!("locale"in e)}function ki(e){return _i(1,arguments),e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Si(e){_i(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Ti(e){if(_i(1,arguments),!ki(e)&&"number"!=typeof e)return!1;var t=Si(e);return!isNaN(Number(t))}function Ei(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Pi(e,t){_i(2,arguments);var n=Si(e).getTime(),i=Ei(t);return new Date(n+i)}function Oi(e,t){_i(2,arguments);var n=Ei(t);return Pi(e,-n)}var qi=864e5;function $i(e){_i(1,arguments);var t=1,n=Si(e),i=n.getUTCDay(),r=(i<t?7:0)+i-t;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function Mi(e){_i(1,arguments);var t=Si(e),n=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var r=$i(i),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=$i(o);return t.getTime()>=r.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Li(e){_i(1,arguments);var t=Mi(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var i=$i(n);return i}var ji=6048e5,Ai={};function Di(){return Ai}function Ni(e,t){var n,i,r,o,a,s,l,u;_i(1,arguments);var c=Di(),d=Ei(null!==(n=null!==(i=null!==(r=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==r?r:c.weekStartsOn)&&void 0!==i?i:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Si(e),h=p.getUTCDay(),f=(h<d?7:0)+h-d;return p.setUTCDate(p.getUTCDate()-f),p.setUTCHours(0,0,0,0),p}function Ri(e,t){var n,i,r,o,a,s,l,u;_i(1,arguments);var c=Si(e),d=c.getUTCFullYear(),p=Di(),h=Ei(null!==(n=null!==(i=null!==(r=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==r?r:p.firstWeekContainsDate)&&void 0!==i?i:null===(l=p.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(d+1,0,h),f.setUTCHours(0,0,0,0);var m=Ni(f,t),g=new Date(0);g.setUTCFullYear(d,0,h),g.setUTCHours(0,0,0,0);var v=Ni(g,t);return c.getTime()>=m.getTime()?d+1:c.getTime()>=v.getTime()?d:d-1}function Ii(e,t){var n,i,r,o,a,s,l,u;_i(1,arguments);var c=Di(),d=Ei(null!==(n=null!==(i=null!==(r=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==r?r:c.firstWeekContainsDate)&&void 0!==i?i:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),p=Ri(e,t),h=new Date(0);h.setUTCFullYear(p,0,d),h.setUTCHours(0,0,0,0);var f=Ni(h,t);return f}var Fi=6048e5;function Ui(e,t){for(var n=e<0?"-":"",i=Math.abs(e).toString();i.length<t;)i="0"+i;return n+i}var Bi={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Ui("yy"===t?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Ui(n+1,2)},d:function(e,t){return Ui(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Ui(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Ui(e.getUTCHours(),t.length)},m:function(e,t){return Ui(e.getUTCMinutes(),t.length)},s:function(e,t){return Ui(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds();return Ui(Math.floor(i*Math.pow(10,n-3)),t.length)}},Hi=Bi,zi={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var i=e.getUTCFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Hi.y(e,t)},Y:function(e,t,n,i){var r=Ri(e,i),o=r>0?r:1-r;return"YY"===t?Ui(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Ui(o,t.length)},R:function(e,t){return Ui(Mi(e),t.length)},u:function(e,t){return Ui(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Ui(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Ui(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return Hi.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return Ui(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var r=function(e,t){_i(1,arguments);var n=Si(e),i=Ni(n,t).getTime()-Ii(n,t).getTime();return Math.round(i/Fi)+1}(e,i);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):Ui(r,t.length)},I:function(e,t,n){var i=function(e){_i(1,arguments);var t=Si(e),n=$i(t).getTime()-Li(t).getTime();return Math.round(n/ji)+1}(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):Ui(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Hi.d(e,t)},D:function(e,t,n){var i=function(e){_i(1,arguments);var t=Si(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=t.getTime(),r=n-i;return Math.floor(r/qi)+1}(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):Ui(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var r=e.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ui(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var r=e.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ui(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),r=0===i?7:i;switch(t){case"i":return String(r);case"ii":return Ui(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i,r=e.getUTCHours();switch(i=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i,r=e.getUTCHours();switch(i=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var i=e.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Hi.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Hi.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):Ui(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):Ui(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Hi.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Hi.s(e,t)},S:function(e,t){return Hi.S(e,t)},X:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Gi(r);case"XXXX":case"XX":return Qi(r);default:return Qi(r,":")}},x:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();switch(t){case"x":return Gi(r);case"xxxx":case"xx":return Qi(r);default:return Qi(r,":")}},O:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Vi(r,":");default:return"GMT"+Qi(r,":")}},z:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Vi(r,":");default:return"GMT"+Qi(r,":")}},t:function(e,t,n,i){var r=i._originalDate||e;return Ui(Math.floor(r.getTime()/1e3),t.length)},T:function(e,t,n,i){return Ui((i._originalDate||e).getTime(),t.length)}};function Vi(e,t){var n=e>0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),o=i%60;if(0===o)return n+String(r);var a=t||"";return n+String(r)+a+Ui(o,2)}function Gi(e,t){return e%60==0?(e>0?"-":"+")+Ui(Math.abs(e)/60,2):Qi(e,t)}function Qi(e,t){var n=t||"",i=e>0?"-":"+",r=Math.abs(e);return i+Ui(Math.floor(r/60),2)+n+Ui(r%60,2)}var Wi=zi,Yi=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Ki=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Zi={p:Ki,P:function(e,t){var n,i=e.match(/(P+)(p+)?/)||[],r=i[1],o=i[2];if(!o)return Yi(e,t);switch(r){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Yi(r,t)).replace("{{time}}",Ki(o,t))}};function Ji(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Xi=["D","DD"],er=["YY","YYYY"];function tr(e){return-1!==Xi.indexOf(e)}function nr(e){return-1!==er.indexOf(e)}function ir(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var rr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function or(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,i=e.formats[n]||e.formats[e.defaultWidth];return i}}var ar={date:or({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:or({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:or({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},sr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function lr(e){return function(t,n){var i;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var r=e.defaultFormattingWidth||e.defaultWidth,o=null!=n&&n.width?String(n.width):r;i=e.formattingValues[o]||e.formattingValues[r]}else{var a=e.defaultWidth,s=null!=n&&n.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[a]}return i[e.argumentCallback?e.argumentCallback(t):t]}}var ur={ordinalNumber:function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:lr({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:lr({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:lr({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:lr({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:lr({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function cr(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=t.match(r);if(!o)return null;var a,s=o[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?pr(l,(function(e){return e.test(s)})):dr(l,(function(e){return e.test(s)}));a=e.valueCallback?e.valueCallback(u):u,a=n.valueCallback?n.valueCallback(a):a;var c=t.slice(s.length);return{value:a,rest:c}}}function dr(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function pr(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function hr(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.match(e.matchPattern);if(!i)return null;var r=i[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var s=t.slice(r.length);return{value:a,rest:s}}}var fr={ordinalNumber:hr({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:cr({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:cr({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:cr({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:cr({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:cr({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},mr={code:"en-US",formatDistance:function(e,t,n){var i,r=rr[e];return i="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i},formatLong:ar,formatRelative:function(e,t,n,i){return sr[e]},localize:ur,match:fr,options:{weekStartsOn:0,firstWeekContainsDate:1}},gr=mr,vr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,br=/^'([^]*?)'?$/,wr=/''/g,_r=/[a-zA-Z]/;function xr(e){var t=e.match(br);return t?t[1].replace(wr,"'"):e}Math.pow(10,8);var Cr=36e5,kr=604800,Sr=31556952,Tr=2629746,Er=7889238;function Pr(e){_i(1,arguments);var t=Si(e);return t.setHours(0,0,0,0),t}var Or=864e5;function qr(e,t){_i(2,arguments);var n=Pr(e),i=Pr(t),r=n.getTime()-Ji(n),o=i.getTime()-Ji(i);return Math.round((r-o)/Or)}function $r(e,t){_i(2,arguments);var n=Si(e),i=Si(t),r=n.getFullYear()-i.getFullYear(),o=n.getMonth()-i.getMonth();return 12*r+o}function Mr(e){_i(1,arguments);var t=Si(e),n=Math.floor(t.getMonth()/3)+1;return n}function Lr(e,t){_i(2,arguments);var n=Si(e),i=Si(t),r=n.getFullYear()-i.getFullYear(),o=Mr(n)-Mr(i);return 4*r+o}function jr(e,t){var n,i,r,o,a,s,l,u;_i(1,arguments);var c=Di(),d=Ei(null!==(n=null!==(i=null!==(r=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==r?r:c.weekStartsOn)&&void 0!==i?i:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Si(e),h=p.getDay(),f=(h<d?7:0)+h-d;return p.setDate(p.getDate()-f),p.setHours(0,0,0,0),p}var Ar=6048e5;function Dr(e,t,n){_i(2,arguments);var i=jr(e,n),r=jr(t,n),o=i.getTime()-Ji(i),a=r.getTime()-Ji(r);return Math.round((o-a)/Ar)}function Nr(e,t){_i(2,arguments);var n=Si(e),i=Si(t);return n.getFullYear()-i.getFullYear()}function Rr(e,t){return _i(2,arguments),Si(e).getTime()-Si(t).getTime()}var Ir,Fr,Ur,Br,Hr,zr,Vr={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function Gr(e){return e?Vr[e]:Vr.trunc}function Qr(e,t,n){_i(2,arguments);var i=Rr(e,t)/Cr;return Gr(null==n?void 0:n.roundingMethod)(i)}function Wr(e,t,n){_i(2,arguments);var i=Rr(e,t)/6e4;return Gr(null==n?void 0:n.roundingMethod)(i)}function Yr(e,t,n){_i(2,arguments);var i=Rr(e,t)/1e3;return Gr(null==n?void 0:n.roundingMethod)(i)}function Kr(e,t,n){return t=t||0,isFinite(e)&&null!==e?(100*e).toFixed(t)+"%":"string"==typeof n?n:"n/a"}function Zr(e,t){return isFinite(e)&&null!==e&&Math.round(1e3*e)/10%1!=0?Kr(e,1,t):Kr(e,0,t)}function Jr(e,t){return isFinite(e)&&null!==e&&(e<.1||e>.9)?Zr(e,t):Kr(e,0,t)}function Xr(e){return isFinite(e)&&null!==e?e.toFixed(3):"N/A"}function eo(e){return isFinite(e)&&null!==e?e<1e-4?"<0.0001":e>.9999?">0.9999":e.toFixed(4):"N/A"}function to(e,t){return(0===e?"":e>0?"+":"−")+Math.abs(e).toFixed(t||0)}function no(e,t){return(0===e||e>0?"":"−")+Math.abs(e).toFixed(t||0)}function io(e){return(e+="").replace(/\u2212/g,"–")}function ro(e,t,n){e=+e;var i,r,o=Math.max(0,Math.floor(Math.log10(Math.abs(e))))+1;for(i=0,r=1;i<t-o&&(n||!hi(Math.round(r*e),r*e));i++,r*=10);return no(e,i)}function oo(e,t,n){if(!(e=+e))return"0";void 0===t&&(t=3),void 0===n&&(n=1);let i=3*Math.floor(Math.log10(Math.abs(e))/3);i=Math.min(Math.max(0,i),9);let r={3:"k",6:"M",9:"B"}[i]||"";return e/=Math.pow(10,i),i=Math.floor(Math.log10(Math.abs(e))),t+=Math.max(0,Math.min(-i,n)),Math.abs(e)<=.5*Math.pow(10,1-t)&&(e=0),ro(e,t)+r}function ao(e,t,n){if(0==e)return["0"];let i=Math.floor(Math.log10(Math.abs(e))),r=ro(+e*Math.pow(10,-i),t,n);return i=no(i),n||"1"!=r?[{t:r},{t:"×10"},{t:i,super:!0}]:[{t:"10"},{t:i,super:!0}]}function so(e){return xi(new Date(e),{year:"numeric",month:"short",day:"numeric"},{locale:me.resolvedLanguage})}function lo(e){return xi(new Date(e),{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},{locale:me.resolvedLanguage})}function uo(e){return function(e,t,n){var i,r,o,a,s,l,u,c,d,p,h,f,m,g,v,y,b,w;_i(2,arguments);var _=String(t),x=Di(),C=null!==(i=null!==(r=null==n?void 0:n.locale)&&void 0!==r?r:x.locale)&&void 0!==i?i:gr,k=Ei(null!==(o=null!==(a=null!==(s=null!==(l=null==n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null==n||null===(u=n.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==s?s:x.firstWeekContainsDate)&&void 0!==a?a:null===(d=x.locale)||void 0===d||null===(p=d.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==o?o:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=Ei(null!==(h=null!==(f=null!==(m=null!==(g=null==n?void 0:n.weekStartsOn)&&void 0!==g?g:null==n||null===(v=n.locale)||void 0===v||null===(y=v.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==m?m:x.weekStartsOn)&&void 0!==f?f:null===(b=x.locale)||void 0===b||null===(w=b.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==h?h:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var T=Si(e);if(!Ti(T))throw new RangeError("Invalid time value");var E=Ji(T),P=Oi(T,E),O={firstWeekContainsDate:k,weekStartsOn:S,locale:C,_originalDate:T};return _.match(yr).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,Zi[t])(e,C.formatLong):e})).join("").match(vr).map((function(i){if("''"===i)return"'";var r=i[0];if("'"===r)return xr(i);var o=Wi[r];if(o)return null!=n&&n.useAdditionalWeekYearTokens||!nr(i)||ir(i,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||!tr(i)||ir(i,t,String(e)),o(P,i,C.localize,O);if(r.match(_r))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return i})).join("")}(new Date(e),"yyyy-MM-dd'T'HH:mm")}function co(e){return xi(new Date(e),{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"},{locale:me.resolvedLanguage})}function po(e){return xi(new Date(e),{year:"numeric",month:"short",timeZone:"UTC"},{locale:me.resolvedLanguage})}function ho(e){return xi(new Date(e),{year:"numeric",timeZone:"UTC"},{locale:me.resolvedLanguage})}function fo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={};t||(n.timeZone="UTC");const i={locale:me.resolvedLanguage};e=new Date(e);var r=t?e.getMilliseconds():e.getUTCMilliseconds(),o=t?e.getSeconds():e.getUTCSeconds(),a=t?e.getMinutes():e.getUTCMinutes(),s=t?e.getHours():e.getUTCHours(),l=t?e.getDate():e.getUTCDate(),u=t?e.getMonth():e.getUTCMonth(),c=e=>e<10?"0"+e:e;return o||r?":"+c(o+r/1e3):(a?(n.hour="numeric",n.minute="numeric"):s?n.hour="numeric":u||l>1?(n.month="short",n.day="numeric"):n.year="numeric",xi(e,n,i))}function mo(e,t){t={now:Date.now(),short:!0,relCutoff:6048e5,absPrefix:"",...t},e=new Date(e);const n=new Date(t.now),i=e-n;let r="";return r=Math.abs(i)<t.relCutoff?function(e,t,n){_i(2,arguments);var i,r=0,o=Si(e),a=Si(t);if(null!=n&&n.unit)"second"===(i=null==n?void 0:n.unit)?r=Yr(o,a):"minute"===i?r=Wr(o,a):"hour"===i?r=Qr(o,a):"day"===i?r=qr(o,a):"week"===i?r=Dr(o,a):"month"===i?r=$r(o,a):"quarter"===i?r=Lr(o,a):"year"===i&&(r=Nr(o,a));else{var s=Yr(o,a);Math.abs(s)<60?(r=Yr(o,a),i="second"):Math.abs(s)<3600?(r=Wr(o,a),i="minute"):Math.abs(s)<86400&&Math.abs(qr(o,a))<1?(r=Qr(o,a),i="hour"):Math.abs(s)<kr&&(r=qr(o,a))&&Math.abs(r)<7?i="day":Math.abs(s)<Tr?(r=Dr(o,a),i="week"):Math.abs(s)<Er?(r=$r(o,a),i="month"):Math.abs(s)<Sr&&Lr(o,a)<4?(r=Lr(o,a),i="quarter"):(r=Nr(o,a),i="year")}return new Intl.RelativeTimeFormat(null==n?void 0:n.locale,{localeMatcher:null==n?void 0:n.localeMatcher,numeric:(null==n?void 0:n.numeric)||"auto",style:null==n?void 0:n.style}).format(r,i)}(e,n,{locale:me.resolvedLanguage,numeric:"always",style:t.short?"short":"long"}):t.short?t.absPrefix+so(e):t.absPrefix+lo(e),r}function go(e,t){return(e||[]).map((function(e){var n=e.t.replace("<","&lt;").replace(">","&gt;"),i=e.super?"sup":"span",r=e.wraps?"":' style="white-space:nowrap"',o="<".concat(i).concat(r,">").concat(n,"</").concat(i,">");return(t&&!e.super||e.addBreak)&&(o="\n"+o),o})).join("")}function vo(e,t){return e.map((e=>e.t)).join(t?"​":"")}function yo(e){return encodeURIComponent(e)}function bo(e){return function(t,n,i){return i?e(t)+" "+(1==t?n:i):e(t)}}pi.filter("percent",(()=>Kr)).filter("binaryPercentPrecision",(()=>Zr)).filter("smartPercentPrecision",(()=>Jr)).filter("logScorePrecision",(()=>Xr)).filter("binaryBrierScorePrecision",(()=>eo)).filter("minusToEnDash",(()=>bo(io))).filter("signedNumber",(()=>bo(to))).filter("plural",(()=>bo((e=>e)))).filter("abbrNumber",(()=>oo)).filter("dateStr",(()=>so)).filter("datetimeStr",(()=>lo)).filter("relDateStr",(()=>mo)).filter("tlistToText",(()=>vo)).filter("tlistToHTML",(()=>go)).filter("uri",(()=>yo)).filter("translate",(()=>me.t)),pi.directive("replaceWith",(function(){return{restrict:"A",link:function(e,t,n){var i=({}||{})[n.replaceWith];"string"==typeof i&&t.html(i)}}})),pi.directive("jsonText",(function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$parsers.push((function(e){try{return JSON.parse(e)}catch(e){return!1}})),i.$formatters.push((function(e){return JSON.stringify(e,void 0,2)}))}}})),pi.run(["$http",function(e){Ir=e}]),pi.run(["$q",function(e){Fr=e}]),pi.run(["$sce",function(e){Ur=e}]),pi.run(["$timeout",function(e){Br=e}]),pi.run(["$anchorScroll",function(e){Hr=e}]),pi.run(["$location",function(e){zr=e}]),pi.directive("ngBindHtmlCompile",["$compile",function(e){return{restrict:"A",link:function(t,n,i){t.$watch((function(){return t.$eval(i.ngBindHtmlCompile)}),(function(r){n.html(r&&r.toString());var o=t;i.bindHtmlScope&&(o=t.$eval(i.bindHtmlScope)),e(n.contents())(o)}))}}}]);var wo={flashMessages:[],addMessage(e,t){e&&(e.html||e.text)&&(e.html&&(e.html=Ur.trustAsHtml(e.html)),wo.flashMessages.push(e),Br((()=>wo.removeMessage(e)),t||2e4))},genericErrorMessage:e=>wo.addMessage({html:"Error, something went wrong. Please try again or contact us."},200),removeMessage(e){var t=wo.flashMessages.indexOf(e);t>=0&&wo.flashMessages.splice(t,1)}},_o=[{typeid:"predictor",name:"Predictor",namePrefix:"a",rank1:"Make a prediction on a single question.",rank2:"Make predictions on 10 different questions.",rank3:"Make predictions on 100 different questions."},{typeid:"in_the_black",name:"In the Black",rank1:"Earn at least +25 point on a resolved question.",rank2:"Earn at least +50 points on a resolved question.",rank3:"Earn at least +100 points on a resolved question."},{typeid:"commenter",name:"Talkative",rank1:"Post a comment on a question.",rank2:"Post 10 different comments.",rank3:"Post 100 different comments."},{typeid:"likeable",name:"Likeable",rank1:"Make a comment that's liked 1 time.",rank2:"Make a comment that's liked 5 times.",rank3:"Make a comment that's liked 25 times."},{typeid:"engaged",name:"Engaged",rank1:"Update a prediction once, at least 24 hours after first making it.",rank2:"Update a prediction 5 times on 5 different days.",rank3:"Update a prediction 20 times on 20 different days."},{typeid:"beating_the_crowd",name:"Beating the Crowd",rank1:"Predict a question's resolution at 25% more likely than the community's prediction.",rank2:"Predict a question's resolution at 100% more likely than the community's prediction.",rank3:"Predict a question's resolution at 400% more likely than the community's prediction."},{typeid:"evangelist",name:"Evangelist",namePrefix:"an",rank1:"Share a link to Metaculus with at least 1 view.",rank2:"Share 3 links to Metaculus, each with 3 views.",rank3:"Share 10 links to Metaculus, each with 10 views."},{typeid:"viral_vector",name:"Viral Vector",namePrefix:"a",rank1:"Share a link to Metaculus and get 1 friend to sign up.",rank2:"Share links and get 3 friends to sign up.",rank3:"Share links and get 10 friends to sign up."},{typeid:"private_predictor",name:"Private Predictor",namePrefix:"a",rank1:"Make a prediction on a single private question.",rank2:"Resolve a private question that's at least 1 week old.",rank3:"Resolve 5 private questions that are at least 4 weeks old."}],xo={};for(let e of _o)xo[e.typeid]=e;function Co(e){if(e){var t=e.new_rank,n=xo[e.type],i=n&&n.namePrefix||"";return n?"You just earned a new achievement! "+"You are now ".concat(i," <p><strong>").concat(n.name,": rank ").concat(t,"</strong>.</p>")+"Check out your <a href=/accounts/my-profile/>profile page</a> to track your achievement progress.":null}}n(7727);var ko=JSON.parse('{"track_record":{"level_req":1,"name":"Personal track record","description":"<p>Your personal track record shows you a timeline of all of the resolved binary questions on which you’ve made predictions. You can use it to gauge your rate of success and average scores, compare yourself to the community and Metaculus predictions, and to find particular questions or categories of questions where your predictions are especially accurate.</p><p>You can view your personal track record on your profile page.</p>"},"buy_reminder":{"level_req":1,"name":"Set question reminders","description":"<p>Question reminders can be used to notify you at a specific date or when the question changes.</p>","cost":1},"hide_community_pred":{"level_req":2,"name":"Hide the community prediction","description":"<p>The Metaculus community often makes good predictions, and following the community can be an easy way to earn points. However, sometimes you want to make your own predictions free from the community’s influence. With this power you can <em>hide</em> the community prediction by default for all open questions, revealing it only when you want to see it.</p><p>You can change the default behavior at any time by going to your <a href=\\"/accounts/settings/\\">settings page</a>.</p>"},"buy_metac_prediction":{"level_req":5,"name":"Access the Metaculus prediction","description":"<p>The best way to know the future is to know the Metaculus prediction. This power lets you know the future now and access the Metaculus prediction before it becomes generally available at question close. However, you cannot both know the future and predict on it. Once you access the Metaculus prediction for a question, you won’t be able to predict on it again.</p><p>This is an acausal power, and therefore requires tachyons each time you use it.</p>","cost":25},"track_record_histogram":{"level_req":3,"name":"Personal track record histograms","description":"<p>This power enhances your personal track record with histograms of scores. This provides another view into your data and makes it easy to see whether or not your scores are consistent or dominated by outliers.</p><p><em>Note:</em> Histograms are most useful when they contain a lot of data. You may not want to activate this power unless you have a bunch of resolved predictions.</p>"},"track_record_calibration":{"level_req":4,"name":"Personal track record calibration","description":"<p>This power enhances your personal track record with calibration plots.</p><p>Ideally, exactly 50% of the questions on which you predict a 50% probability would, in fact, resolve positively. Likewise, only 5% of the questions on which you predict 95% should resolve negatively. That’s usually not the case though. Instead, you’re likely either overcautious or overconfident. A calibration plot will help you determine which one you are so that you can recalibrate yourself and make better predictions in the future.</p><p><em>Note:</em> Calibration is only useful if there’s a lot of data to calibrate. You may not want to activate this power unless you have a bunch of resolved predictions.</p>"},"buy_player_record":{"level_req":6,"name":"Access other players’ track records","description":"<p>Many Metaculus players are extremely good predictors, with track records that catalog their many successes and insights. Usually these track records are hidden, but with this power you can gain access to them.</p><p>Other players’ track records will still be <em>mostly</em> hidden. A tachyonic expenditure is required each time you want to access an individual’s record, and even then the access is temporary. Note that some players may opt out of having their records available at all.</p>","cost":50}}');function So(e){if(429!==e.status)return Promise.reject(e)}var To=new class{constructor(e){this.reloadFromData(e)}reloadFromData(e){for(var t in this.permissions={},this._powers=null,this._sortedPowers=null,e)this[t]=e[t];this.supporter_since&&(this.supporter_since=new Date(this.supporter_since)),this.date_joined&&(this.date_joined=new Date(this.date_joined))}get powers(){return this._powers||{}}set powers(e){this._sortedPowers=null,this._powers=e||{};for(let e in this._powers){let t=Object.create(ko[e]||{});t.id=e,this._powers[e]=Object.assign(t,this._powers[e])}}get sortedPowers(){return this._sortedPowers||(this._sortedPowers=Object.keys(this.powers).map((e=>this.powers[e])).filter((e=>e.name)).sort(((e,t)=>!e.level_req-!t.level_req||e.level_req-t.level_req||(e.name>t.name)-(e.name<t.name)))),this._sortedPowers}get showCPOnOpen(){return 0==(this.default_community_visibility||0)}get showCPOnPred(){return(this.default_community_visibility||0)<2}set showCPOnOpen(e){this.default_community_visibility=e?0:1}set showCPOnPred(e){this.default_community_visibility=e?1:2}reload(){return Ir.get(this.url).then((e=>{200==e.status&&this.reloadFromData(e.data)}),So)}logout(){this.submittingLogout||(this.submittingLogout=!0,Ir.post("/api2/accounts/logout/",{}).then((()=>{window.location.assign("/")})).finally((()=>{this.submittingLogout=!1})))}}(window.metacData&&window.metacData.user||{});function Eo(e){if(e&&!e.void){var t=e=>"<strong>"+e+(1==e?" tachyon":" tachyons")+"</strong>",n="";return e.amount<=0?n+="".concat(t(-e.amount)," spent."):n+="".concat(t(e.amount)," earned."),n+" New total: ".concat(t(e.balance),".")}}function Po(e){e&&(To.tachyons=e.balance)}pi.config(["$httpProvider",function(e){e.interceptors.push(["$q",function(e){return{response:function(e){const t=e.data;null!=t&&t.tachyon_transaction&&(wo.addMessage({html:Eo(t.tachyon_transaction)}),Po(t.tachyon_transaction));for(let e of t.achievements||[])wo.addMessage({html:Co(e)}),wo.addMessage({html:Eo(e.tachyon_transaction)}),Po(e.tachyon_transaction);return null!=t&&t.flash_message&&wo.addMessage(t.flash_message),e},responseError:function(t){const n=t.data;return null!=n&&n.tachyon_transaction&&Po(n.tachyon_transaction),null!=n&&n.flash_message&&wo.addMessage(n.flash_message),e.reject(t)}}}])}]);var Oo=n(556),qo=n.n(Oo),$o=(n(1703),n(3015)),Mo=n.n($o),Lo=n(1594),jo=n.n(Lo),Ao=n(6968),Do=n.n(Ao),No=n(7361),Ro=n.n(No),Io=n(4486),Fo=n.n(Io),Uo=n(2205),Bo=n.n(Uo),Ho=n(361),zo=n.n(Ho),Vo={clone:function(e,t){e=zo()(e||[]),t=t?+t/1e3:1/0;for(let n of e)n.time=n.time||new Date(1e3*(n.t_back&&n.t_back<t?n.t_back:n.t)),delete n.t,delete n.t_back;return e},removeAlternateHistories:function(e){for(let t=e.length-2;t>=0;t--)e[t].time>=e[t+1].time&&e.splice(t,1)},dataAtTime:function(e,t){return(e=e||[])[jo()(e,{time:t},"time")-1]},linearInterp:function(e,t,n,i){var r=jo()(e,{time:t},"time"),o=r<=0?1:r>=e.length?0:(t-e[r-1].time)/(e[r].time-e[r-1].time),a=function(e,t,r){if(n)e=e||{},Fo()(n,((n,o)=>{let a=Ro()(t,o),s=Ro()(e,n);a=void 0!==a?a:i?Ro()(i,o):0,s=void 0!==s?s:0,Do()(e,n,s+r*a)}));else{for(e=e||[],t=t||[];e.length<t.length;)e.push(0);for(let n=0;n<t.length;n++)e[n]+=r*(t[n]||0)}return e},s=a(null,e[r-1],1-o);return(s=a(s,e[r],o)).time=new Date(t),s},mergeTimeseries:function(e,t){if(!(e&&e.length&&t&&t.length))return[];for(var n,i,r,o,a=[],s=0,l=0;s<e.length||l<t.length;)if((r=s<e.length?e[s].time:1/0)<=(o=l<t.length?t[l].time:1/0)&&(n=e[s],s++),o<=r&&(i=t[l],l++),n&&i){let e=new Date(Math.min(r,o));a.push(Bo()({},n,i,{time:e}))}return a},smoothedTimeseries:function(e,t){let n,i=+t.start,r=+t.end,o=t.numPts||201,a=(r-i)/(o-1),s=i-.5*a,l=i+.5*a,u=[],c=-1,d=t.array||!t.vars,p=t.vars,h=t.default,f=t=>t<0?-1/0:t>=e.length?1/0:+e[t].time,m=function(e,t,n){if(d){for(e=e||[];e.length<t.length;)e.push(0);for(let i=0;i<t.length;i++)e[i]+=n*t[i]}return p&&(e=e||{},Fo()(p,((i,r)=>{let o=Ro()(t,r),a=Ro()(e,i);o=void 0!==o?o:h?Ro()(h,r):0,a=void 0!==a?a:0,Do()(e,i,a+n*o)}))),e};if(0===e.length||i>=r)return[];for(n=0;n<o;n++,s+=a,l+=a){for(;f(c+1)<=s;)c++;let t=null;for(;f(c)<=l;){let n=Math.max(s,f(c)),i=(Math.min(l,f(c+1))-n)/a;t=m(t,e[c]||{},i),c++}c--,null!==t&&(t.time=new Date(.5*(s+l)),u.push(t))}var g=Vo.dataAtTime(e,r);return u[u.length-1]=m(null,g,1),u[u.length-1].time=new Date(r),u}};class Go{copy(){}pdf(e){return 0}cdf(e){return 0}ctrlPts(){return[]}setCtrlPt(e,t){}serialize(){}ppf(e){let t=this.cdf(0)>e?-1:1,n=this.cdf(1)<e?2:0;for(;t-n>1e-4;){let i=.5*(t+n);this.cdf(i)>e?t=i:n=i}return.5*(t+n)}pdfArray(e){var t,n,i=1/((e=e||201)-1),r=[];for(t=0,n=0;t<e;t++,n+=i)r.push({x:n,pdf:this.pdf(n),cdf:this.cdf(n)});return r}odf(e,t){if(e<0||e>1)return 0;let n,i=0,r=1/((t=t||201)-1),o=this.pdf(e),a=this.pdf(0);for(let e=1;e<t;e++){n=this.pdf(e*r);let t=Math.min(a,n),s=a+n,l=(o*o-t*t)/(Math.abs(a-n)+1e-99);i+=Math.max(0,Math.min(s,l)),a=n}return.5*i*r}}class Qo extends Go{constructor(e,t,n,i){super(),this.x0=e||0,this.s=t||.5,this.w=n||1,this.a=i||0,this.centerSkew=1,this.min_s=.007,this.max_s=10,this.low=0,this.high=1}copy(){var e=new this.constructor;return e.x0=this.x0,e.s=this.s,e.w=this.w,e.a=this.a,e.centerSkew=this.centerSkew,e.min_s=this.min_s,e.max_s=this.max_s,e.low=this.low,e.high=this.high,e}serialize(){return{kind:this.kind,x0:yi(this.x0,4),s:yi(this.s,4),a:yi(this.a,4),w:yi(this.w,3),low:yi(this.low,3),high:yi(this.high,3)}}unclipped_cdf(e,t){let n=e<this.x0?-this.a:this.a,i=!!t^e>this.x0,r=1-2*i;return e=-Math.abs(e-this.x0)/this.s,i+r*(1+n)*this.f(e/(1+n))}cdf(e){let t=this.x0<.5,n=this.unclipped_cdf(e,t),i=this.unclipped_cdf(0,t),r=(n-i)/(this.unclipped_cdf(1,t)-i);return this.w*(this.low+(this.high-this.low)*r)}pdf(e){let t=this.x0<e,n=this.unclipped_cdf(0,t),i=this.unclipped_cdf(1,t),r=1-2*t,o=r*this.df((e-this.x0)/(this.s*(1-r*this.a)))/this.s;return this.w*((this.high-this.low)*o/(i-n))}get _center(){if(0==this.centerSkew)return this.x0;var e=1/Math.tanh(this.centerSkew);return(1+e*Math.tanh((2*this.x0-1)/e))/2}set _center(e){if(0==this.centerSkew)this.x0=e;else{var t=1/Math.tanh(this.centerSkew);e=vi((2*e-1)/t,-.999999,.999999),this.x0=(t*Math.atanh(e)+1)/2}}get _width(){return.5*Math.tanh(Math.pow(this.s,1/1.9))}get minWidth(){return.5*Math.tanh(Math.pow(this.min_s,1/1.9))}set _width(e){this.s=Math.pow(Math.atanh(vi(2*e,0,1)),1.9),this.s=vi(this.s,this.min_s,this.max_s)}ctrlPts(){return[vi(this._center-this._width*(1-this.a),0,1),vi(this._center+this._width*(1+this.a),0,1),vi(this._center,0,1)]}setCtrlPt(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(2==e)this._center=vi(t,0,1);else if(n)this.a=0,this._width=Math.abs(this._center-t);else{let n,i,r=this._width,o=this._center;0==e?(n=Math.min(o-this.minWidth,t),i=o+r*(1+this.a),this._width=.5*(i-n),this.a=(i-o)/this._width-1):(n=o-r*(1-this.a),i=Math.max(o+this.minWidth,t),this._width=.5*(i-n),this.a=1-(o-n)/this._width),this.a=vi(this.a,-.95,.95)}}updateBoundaries(e){let t=this.unclipped_cdf(0),n=this.unclipped_cdf(1),i=.01;if(e.low&&e.high?(this.low=t,this.high=n):e.low?(this.high=1,this.low=t/n):e.high?(this.low=0,this.high=1-(1-n)/(1-t)):(this.low=0,this.high=1),e.low&&(this.low=vi(this.low,i,.98)),e.high&&(this.high=vi(this.high,.02,.99)),this.high-this.low<i){var r=this.low+this.high;this.low=.5*(r-i),this.high=.5*(r+i)}}}class Wo extends Qo{constructor(e,t,n){super(e,t,n),this.kind="sqrt"}f(e){return.5*(1+e/Math.sqrt(3+e*e))}df(e){return 1.5*Math.pow(3+e*e,-1.5)}finv(e){return 3*(e=2*e-1)/Math.sqrt(3-3*e*e)}}const Yo=Math.log(3);class Ko extends Qo{constructor(e,t,n,i){super(e,t,n,i),this.kind="logistic"}f(e){return 1/(1+Math.exp(-e*Yo))}df(e){return Yo*Math.pow(2*Math.cosh(e*Yo/2),-2)}finv(e){return Math.log(e/(1-e))/Yo}get stdev(){return 1.4934677*this.s}set stdev(e){this.s=e/1.4934677}}const Zo=.67448975,Jo=Math.sqrt(2*Math.PI),Xo=Math.sqrt(2);class ea extends Qo{constructor(e,t,n,i){t=e.stdev*Zo||t,super(e=void 0!==e.avg?e.avg:e,t,n,i),this.centerSkew=0,this.kind="guassian"}f(e){return.5+.5*Mo().erf(e*Zo/Xo)}df(e){return Zo*Math.exp(-.5*Math.pow(e*Zo,2))/Jo}finv(e){return Xo*Mo().invErf(2*e-1)/Zo}get stdev(){return this.s/Zo}set stdev(e){this.s=e*Zo}}class ta extends Go{constructor(e,t,n,i,r){super(),this.low=i||0,this.high=r||1,this.data=[];var o,a,s,l=!t&&!n,u=e[0][t]||0,c=0,d=0;for(o=1;o<e.length;o++)c+=((a=l?o/(e.length-1):e[o][t])-u)*(s=l?e[o]:e[o][n]),u=a;u=e[0][t]||0;var p=(this.high-this.low)/c;for(o=0;o<e.length;o++)d+=((a=l?o/(e.length-1):e[o][t])-u)*(s=l?e[o]:e[o][n]),u=a,this.data.push({x:a,pdf:s*p,cdf:this.low+d*p})}copy(){var e=new this.constructor([1]);return e.data=this.data.slice(),e.low=this.low,e.high=this.high,e}pdfArray(){return this.data.slice()}pdf(e){return mi(e,this.data,"x","pdf")}cdf(e){return mi(e,this.data,"x","cdf")}ppf(e){return e<0?-.001:e>1?1.001:mi(e,this.data,"cdf","x")}}class na extends Go{constructor(e){super(),this.dists=(e||[]).slice(),this.removedDists=[]}copy(){return new this.constructor(this.dists.map((e=>e.copy())))}serialize(){return{kind:"multi",d:this.dists.map((e=>e.serialize()))}}get rescaledDists(){var e=1e-20;for(let t of this.dists)e+=t.w;return this.dists.map((t=>((t=t.copy()).w/=e,t)))}get low(){var e=0,t=1e-20;for(var n of this.dists)e+=n.w*n.low,t+=n.w;return e/t}get high(){var e=0,t=1e-20;for(var n of this.dists)e+=n.w*n.high,t+=n.w;return e/t}pdf(e){var t=0,n=1e-20;for(var i of this.dists)t+=i.pdf(e),n+=i.w;return t/n}cdf(e){var t=0,n=1e-20;for(var i of this.dists)t+=i.cdf(e),n+=i.w;return t/n}addDist(e){if(this.removedDists.length>0)this.dists.push(this.removedDists.pop());else{let t=new Ko(.5,.2);t.updateBoundaries(e||{}),this.dists.push(t)}}removeDist(e){if(!e&&this.dists.length>0)this.removedDists.push(this.dists.pop());else{var t=this.dists.indexOf(e);t>-1&&this.removedDists.push(this.dists.splice(t,1)[0])}}}function ia(e){var t;switch(e.kind||"gaussian"){case"gaussian":t=new ea(e);break;case"logistic":t=new Ko(e.x0,e.s,e.w,e.a);break;case"sqrt":t=new Wo(e.x0,e.s,e.w,e.a);break;case"multi":t=new na(e.d.map(ia));break;default:throw"unexpected distribution type"}return"multi"!=e.kind&&(t.low=e.low||0,t.high=e.high||1),t}function ra(e){if("multi"==e.kind)throw"unexpected distribution type";var t=ia(e),n=new Ko(t.x0,t.s,t.w,e.a);return n.low=t.low,n.high=t.high,n}function oa(e){return"multi"==e.kind?new na(e.d.map(ra)):new na([ra(e)])}var aa,sa,la={};function ua(e,t){if(null==e)return t;let n=Math.max(1,t.num-1),i=(t.avg-e)/n;return{num:Math.max(0,t.num-1),avg:(t.num*t.avg-e)/n,var:t.num*(t.var/n-i*i)}}function ca(e,t){return!e||t.num<=1?{num:0,avg:.5,stdev:1}:((t=Object.create(t)).num=(t.num||1)-1,t)}function da(e){let t=e.avg.reduce(((e,t)=>e+t*t),0),n=e.var.reduce(((e,t)=>e+t));n=Math.max(n,1e-12);let i=(1-t)/n-1;i=Math.max(1,Math.min(e.num,i));let r=e.avg.map((e=>Math.max(.5,e*i)));return r}function pa(e,t){let n=e.length,i=e[t];return Math.log(n*i)/Math.log(n)}function ha(e,t){let n=e[t];return Math.log2(n/.5)}function fa(e,t){return function(e,t){let n=0;for(let i=0;i<e.length;i++)n+=(e[i]-(i==t?1:0))**2;return n}(e,t)/2}function ma(e,t){return(t?30:45)+(t?10:15)*Math.log2(1+e/30)}function ga(e,t,n,i){return function(e,t,n,i){return t&&t.num?pa(e,n)*ma(t.num,i)+function(e,t,n){let i=da(e),r=i.reduce(((e,t)=>e+t),0),o=0;for(let e=0;e<t.length;e++){let a=i[e],s=r-a;o+=n==e?s*(2*Mo().incBeta(t[e],a,s+1)-1):a*(1-2*Mo().incBeta(t[e],a+1,s))}return o/r}(t,e,n)*function(e,t){return(t?20:30)*Math.log2(1+e/30)}(t.num,i):pa(e,n)*ma(0,i)}(e=[1-e,e],t=t?{num:t.num,avg:[1-t.avg,t.avg],var:[t.var,t.var]}:{num:0,avg:[.5,.5],var:[0,0]},n,i)}function va(e,t){if(e=ia(e),2==t)return e.low||.01;if(3==t)return 1-e.high||.01;var n=(e.high||1)-(e.low||0),i=Math.min(.02,n);return e.pdf(t)*(n-i)+i}function ya(e,t,n,i,r){if(!e||n<0)return 0;t=t||{num:0,avg:.5,stdev:1};const o=!!i.high+!!i.low,a=n<=1?1-.15*o:.15,s=va(t,n),l=va(e,n),u=r?20:30,c=(r?20:30)*Math.log2(1+t.num/30);return(u+c)*Math.log(l)-.8*c*Math.log(s)-(u+(1-.8)*c)*Math.log(a)}function ba(e){if(e)return"binary"===e.type||"probability"===e.type?new _a:"continuous"===e.type?new xa(e.format,e.scale):new wa;throw new Error("Missing possibilities in prediction formatter.")}la.absoluteCategoricalLogScores=(e,t)=>{if("binary"!=t.type)throw new Error("Not implemented for this question type: "+t.type);if(!e||!e.x)throw new Error("Requires new prediction for calculation");let n=[1-e.x,e.x];return[ha(n,0),ha(n,1)]},la.categoricalBrierScores=(e,t)=>{if("binary"!=t.type)throw new Error("Not implemented for this question type: "+t.type);if(!e||!e.x)throw new Error("Requires new prediction for calculation");let n=[1-e.x,e.x];return[fa(n,0),fa(n,1)]},la.scoresForPrediction=function(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("binary"===i.type)return t&&t.x?(e&&e.x&&n&&(n=ua(e.x,n)),[ga(t.x,n,0,r),ga(t.x,n,1,r)]):[0,0];if("continuous"===i.type){e&&n&&(n=ca(e,n));let o=[];for(let e=0;e<=100;e++)o.push(ya(t,n,.01*e,i,r));return o.low=ya(t,n,2,i,r),o.high=ya(t,n,3,i,r),o}return[]},la.scoreHistory=function(e,t,n){let i=[],r=e.my_predictions.map((e=>({my_prediction:e.void?null:e,time:e.time}))),o=e.possibilities,a=Date.now(),s=new Date(Math.min(a,e.close_time,e.resolve_time));if(n){let e={my_prediction:t,time:n},i=qo()(r,e,"time"),o=r[i-1]||null;r.splice(i),r.push({my_prediction:o&&o.my_prediction,time:n}),r.push(e)}let l=Vo.mergeTimeseries(e.community_prediction.history,r);i.ptype=o.type;const u=Boolean(e.closing_bonus);let c=la.scoresForPrediction(null,null,null,o,u);c.time=e.publish_time,i.push(c);for(let t of l)t.time<=e.publish_time||t.time>s||(c=la.scoresForPrediction(t.my_prediction,t.my_prediction,Object.assign({num:t.nu},t.x2),o,u),c.time=t.time,i.push(c));if(+e.resolve_time==+s&&(c=la.scoresForPrediction(null,null,null,o,u),c.time=s,i.push(c)),void 0!==t&&+a==+s){let n=l[l.length-1]||e.community_prediction.history[e.community_prediction.history.length-1]||{};c=la.scoresForPrediction(n.my_prediction,t,Object.assign({num:n.nu},n.x2),o,u),c.time=s,i.push(c)}const d=la.scoresForPrediction(null,null,null,o,u),p=la.scoresForPrediction(null,null,null,o,u),h=Math.max(e.close_time-e.publish_time,1);for(let t=-2*("continuous"==o.type);t<d.length;t++){let n=-2==t?"low":-1==t?"high":t,r=e.close_time,o=0;for(let e=i.length-1;e>=0;e--){let t=i[e].time,a=(r-t)/h;r=t,a>0&&(o+=a*i[e][n]||0)}d[n]=o;let a=i.length>0&&i[i.length-1][n]||0;p[n]=o+e.closing_bonus*a}return i.averageScores=d,i.finalScores=p,i},la.calcBetaDistribution=function(e){if(!e)return[];let t,n=da({num:e.num,avg:[1-e.avg,e.avg],var:[e.var,e.var]}),i=n[1],r=n[0],o=[];for(t=1;t<500;t++){let e=t/500,n=Math.pow(e,i-1)*Math.pow(1-e,r-1)/Mo().beta(i,r);o.push([e,n])}return o};class wa{formatPrediction(){return[{t:"n/a"}]}formatFullPrediction(){return[{t:"n/a"}]}formatCommunityPrediction(){return[{t:"n/a"}]}formatMetaculusPrediction(){return[{t:"n/a"}]}formatFullCommunityPrediction(){return[{t:"n/a"}]}formatResult(){return[{t:"n/a"}]}}class _a{formatValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kr;return null===e?[{t:"n/a"}]:("object"==typeof e&&(e=void 0!==e.q2?e.q2:e.x),[{t:t(e)}])}formatPrediction(e){return this.formatValue(e,Zr)}formatFullPrediction(e){return this.formatValue(e,Zr)}formatCommunityPrediction(e){return this.formatValue(e,Jr)}formatMetaculusPrediction(e){return this.formatValue(e,Jr)}formatFullCommunityPrediction(e){return this.formatValue(e,Jr)}formatResult(e){return null==e?[{t:fe("pending")}]:[{t:{"-1":fe("resolutionAmbiguous"),0:fe("No"),1:fe("Yes")}[e]}]}}class xa{constructor(e,t){let n,i,r;if("date"===e?(n=+new Date(t.min),i=+new Date(t.max)):(n=+t.min,i=+t.max),r=+t.deriv_ratio,!isFinite(n+i+r)||r<=0)throw"Invalid scale for formatter.";this._r=Math.log(r),0==this._r?(this._a=n,this._b=i-n):(this._b=(i-n)/(r-1),this._a=n-this._b),this._fmt=e+"","num"==this._fmt&&(n>0&&n<.01||i>=1e12)&&(this._fmt="sci"),this.isWide="num"!=this._fmt}scale(e){return this._a+this._b*(0==this._r?e:Math.exp(this._r*e))}unscale(e){return"date"==this._fmt&&(e=+new Date(e)),0==this._r?(e-this._a)/this._b:Math.log((e-this._a)/this._b)/this._r}formatUnscaled(e,t,n){let i,r,o;({y:i,dy:r,prefix:o,x:e,dx:t}=this._computeValue(e,t,n));var a=this.formatValue(i,r);return o&&a.unshift({t:o}),a}_computeValue(e,t,n){let i="";e<0||2==e?(e=0,i="short"!=n?"Not ≥ ":""):e>1&&(e=1,i="short"!=n?"Not ≤ ":""),t=t||0;let r=this.scale(e),o=this.scale(e+t),a=this.scale(e-t);return{y:r,dy:Math.min(Math.abs(r-o),Math.abs(r-a)),prefix:i,x:e,dx:t}}formatValue(e,t){if("date"===this._fmt){let n=864e5;return[{wraps:!0,t:t>1825*n?ho(e):t>90*n?po(e):co(e)}]}{let n=Math.abs(t||0)<.1*Math.abs(e)?3:2;return"sci"==this._fmt&&(e<.01||e>=1e12)?ao(e,n):"sci"==this._fmt?[{t:oo(e,n,2)}]:[{t:oo(e,n,1)}]}}formatPrediction(e){if(!e)return[{t:"n/a"}];let t=ia(e);return this.formatUnscaled(t.ppf(.5))}formatCommunityPrediction(e,t){return null===e||"object"!=typeof e?[{t:"n/a"}]:this.formatUnscaled(e.q2,null,t)}formatMetaculusPrediction(e,t){return this.formatCommunityPrediction(e,t)}formatFullPrediction(e,t){if(!e)return[{t:"n/a"}];let n=ia(e),i=n.ppf(.25),r=n.ppf(.75);return this.formatFullCommunityPrediction({q1:i,q3:r},t)}formatFullCommunityPrediction(e,t){if(t=Object.assign({to:" – "},t),!e)return[{t:"n/a"}];let n=e=>{var t=this.formatUnscaled(e,1);return(e<0||e>1)&&(t.unshift({t:"("}),t.push({t:")"})),t};var i=n(e.q1);return e.q1==e.q3?i:(i.push({t:t.to,wraps:!0}),i.concat(n(e.q3)))}formatResult(e){return null==e?[{t:"pending"}]:-1==e?[{t:"ambiguous"}]:this.formatUnscaled(e)}}class Ca{constructor(e){this.storage=e}setItem(e,t){try{return this.storage.setItem(e,JSON.stringify(t)),!0}catch(e){return!1}}getItem(e,t){arguments.length<2&&(t=null);try{let n=this.storage.getItem(e);return null===n?t:JSON.parse(n)}catch(e){return t}}removeItem(e){try{this.storage.removeItem(e)}catch(e){}}}try{aa=window.localStorage,sa=window.sessionStorage}catch(e){}var ka=new Ca(aa);new Ca(sa);class Sa{constructor(e){this.id=e.id,this.intro=e.intro,this.conclusion=e.conclusion,this.title="Tutorial ".concat(e.order,": ").concat(e.title),this.hide_page_count=e.hide_page_count,this.next_tutorial_id=e.next_tutorial_id,this.questions=[],this.hideGraph=!1,this._page=0;let t=!0;for(let n of e.questions){let e=new Ta(n);e.resetPrediction(t),e.hasPredicted?this._page+=1:t=!1,this.questions.push(e)}this._page===e.questions.length&&this.restart()}resetGraph(e){this.hideGraph=!0,Br((()=>this.hideGraph=!1),1).then(e)}scrollTop(){window.scrollTo({top:0,behavior:"smooth"})}nextPage(){this._page=Math.min(this._page+1,this.questions.length+1),this.resetGraph(this.scrollTop)}prevPage(){this._page=Math.max(this._page-1,0),this.resetGraph(this.scrollTop)}restart(){for(var e of(this._page=0,this.questions))e.resetPrediction();this.scrollTop()}get page(){switch(this._page){case 0:return"intro";case this.questions.length+1:return"conclusion";default:return this._page}}get activeQuestion(){return this.questions[this._page-1]||null}get bonusPts(){var e,t=0;for(e of this.questions)t+=e.bonusPts||0;return t}get totalPts(){var e,t=0;for(e of this.questions)t+=e.pointsWon||0;return t}}class Ta{constructor(e){this.id=e.id,this.storageId="tutorial-question-".concat(this.id),this.title=e.title,this.description=e.description,this.explanation=e.explanation,this.prompt=e.prompt,this.possibilities=e.possibilities,this.resolution=e.resolution,this.isTutorial=!0,this.predictionFormatter=ba(this.possibilities),this.my_prediction_is_active=!0}get isBinaryType(){return"binary"===this.possibilities.type}get isContinuousType(){return"continuous"===this.possibilities.type}get isProbabilityType(){return"probability"===this.possibilities.type}get isLive(){return!0}get isOpen(){return!this.hasPredicted}get isClosed(){return this.hasPredicted}playerPrediction(){return this.userPrediction}hasMetaculusPrediction(e){return!1}resetPrediction(e){let t=null;e&&(t=ka.getItem(this.storageId)),null!==t?(this.hasPredicted=!0,this.userPrediction=this.fixedPrediction=t):(ka.removeItem(this.storageId),this.hasPredicted=!1,this.userPrediction="continuous"==this.possibilities.type?{avg:.5,stdev:.1}:.5,this.fixedPrediction=null),this.bonusPts=null}expectedScore(e){e||(e=this.userPrediction);let t,n=this.unscaledResolution,i=this.possibilities.type;if("binary"==i&&(e={x:e}),t=this.currentScoresForPrediction(e),"binary"==i)return n*t[1]+(1-n)*t[0];if("probability"==i)return e=Math.log(e/(1-e)),n=Math.log(n/(1-n)),12/(.1+(e-n)*(e-n))-20;if("continuous"==i){let e=0,i=0,r=ia(n);for(let n=0;n<t.length;n++){let o=n/(t.length-1),a=r.pdf(o);0!=o&&1!=o||(a*=.5),e+=a,i+=a*t[n]}return i/e}}get unscaledResolution(){let e=this.resolution,t=this.possibilities.type;if("binary"==t||"probability"==t)return e;if("continuous"==t){if(Array.isArray(e)){let t=this.predictionFormatter.unscale(e[0]),n=this.predictionFormatter.unscale(e[1]);return{avg:.5*(n+t),stdev:.5*Math.abs(n-t)}}return{avg:this.predictionFormatter.unscale(e),stdev:.005}}return null}currentScoresForPrediction(e){if("binary"==this.possibilities.type){let t=94/Math.log(1.98),n=5,i=(e,i)=>t*Math.log(Math.abs(2*(1-i-e)))+n;return[Math.round(i(e.x,0)),Math.round(i(e.x,1))]}return"probability"==this.possibilities.type?[]:la.scoresForPrediction(null,e,null,this.possibilities)}availableScoresForPrediction(e){return[]}get formattedResolution(){let e=this.unscaledResolution,t=this.possibilities.type;return"binary"===t?[{t:[fe("no"),fe("yes")][e]||Kr(e)}]:"continuous"===t&&this.definiteOutcome?this.predictionFormatter.formatUnscaled(e.avg):"continuous"===t?this.predictionFormatter.formatFullPrediction(e):null}get formattedPrediction(){return this.predictionFormatter.formatFullPrediction(this.userPrediction)}get pointsWon(){return this.hasPredicted?this.expectedScore(this.fixedPrediction):0}get definiteOutcome(){return"binary"==this.possibilities.type?1==this.resolution||0==this.resolution:!Array.isArray(this.resolution)}predict(){this.hasPredicted=!0,this.fixedPrediction=this.userPrediction,ka.setItem(this.storageId,this.fixedPrediction),Ir.post("/api2/tutorial-questions/".concat(this.id,"/predict/"),{prediction:this.fixedPrediction}).then((e=>{this.bonusPts=e.data.bonus_pts}))}}pi.directive("metacTutorial",(function(){return{template:'<section ng-if="tutorial.page == \'intro\'"> <h1 class="page-title">{{tutorial.title}}</h1> <div bind-html-math="tutorial.intro" compile="true" class="content"></div> <div class="button-row"> <button class="button is-primary" ng-click="tutorial.nextPage()"> Start </button> </div> </section> <section ng-if="q"> <h1 class="page-title">{{tutorial.title}}</h1> <div class="page-action-bar"> <span ng-if="!tutorial.hide_page_count" class="mr-16">Question {{tutorial.page}}/{{tutorial.questions.length}}</span>Running Score: {{tutorial.totalPts | signedNumber}} Points </div> <div class="content" bind-html-math="q.description" compile="true"></div> <h3 class="mt-16 mb-16">{{q.prompt}}</h3> <div ng-if="!tutorial.hideGraph"> <continuous-prediction-control question="q" prediction="q.userPrediction" ng-if="q.isContinuousType" class="tutorial__prediction"></continuous-prediction-control> </div> <binary-prediction-control question="q" prediction="q.userPrediction" ng-if="q.isBinaryType || q.isProbabilityType" class="tutorial__prediction"></binary-prediction-control> <div class="button-row" ng-if="!q.hasPredicted"> <span><button class="button is-secondary" ng-click="tutorial.prevPage()"> Previous </button></span> <span><button class="button is-primary" ng-click="q.predict()"> Predict </button></span> <span></span> </div> <div ng-if="q.hasPredicted"> <div ng-if="q.isProbabilityType"> <p class="tutorial__prediction-result"> The correct probability is <strong>{{q.resolution | binaryPercentPrecision}}</strong>.<br/> Your guess of <strong>{{q.userPrediction | binaryPercentPrecision}}</strong> yields <strong>{{q.expectedScore() | signedNumber}}</strong> points. </p> </div> <div ng-if="q.isBinaryType && !q.definiteOutcome"> <p class="tutorial__prediction-result"> The actual probability for this event was <strong>{{q.resolution | binaryPercentPrecision}}</strong>.<br/> Given your predicted probability of <strong>{{q.userPrediction | binaryPercentPrecision}}</strong>, your <em>expected</em> score is <strong>{{q.expectedScore() | signedNumber}}</strong> points. </p> </div> <div ng-if="q.isBinaryType && q.definiteOutcome"> <p class="tutorial__prediction-result"> The outcome of this question is <strong bind-trusted-html="q.formattedResolution | tlistToHTML"></strong>.<br/> Your predicted probability of <strong>{{q.userPrediction | binaryPercentPrecision}}</strong> earns you <strong>{{q.expectedScore() | signedNumber}}</strong> points. </p> </div> <div ng-if="q.isContinuousType && !q.definiteOutcome"> <p class="tutorial__prediction-result"> The distribution of possible outcomes for this question has an interquartile range of <strong>(<span bind-trusted-html="q.formattedResolution | tlistToHTML"></span>)</strong>.<br/> Given your prediction of <strong>(<span bind-trusted-html="q.formattedPrediction | tlistToHTML"></span>)</strong>, your <em>expected</em> score is <strong>{{q.expectedScore() | signedNumber}}</strong> points. </p> </div> <div ng-if="q.isContinuousType && q.definiteOutcome"> <p class="tutorial__prediction-result"> The outcome of this question is <strong bind-trusted-html="q.formattedResolution | tlistToHTML"></strong>.<br/> Your prediction of <strong>(<span bind-trusted-html="q.formattedPrediction | tlistToHTML"></span>)</strong>, earns you <strong>{{q.expectedScore() | signedNumber}}</strong> points. </p> </div> <h2 class="section-header">Explanation</h2> <div class="content" bind-html-math="q.explanation" compile="true"></div> <div class="button-row"> <span><button ng-click="tutorial.prevPage()" class="button is-secondary"> Previous </button></span> <span><button ng-click="tutorial.nextPage()" class="button is-primary"> Next </button></span> </div> </div> </section> <section ng-if="tutorial.page == \'conclusion\'"> <h1 class="page-title">{{tutorial.title}}</h1> <div class="page-action-bar"> Final Score: {{tutorial.totalPts | signedNumber}} Points </div> <div> <p ng-if="tutorial.bonusPts" style="margin-bottom:2em"> <em>Thanks for completing this tutorial! As a bonus, you\'ve received</em> <strong>{{tutorial.bonusPts | signedNumber}} points</strong> <em>towards your next Metaculus level.</em> </p> <div class="content"> Congratulations, you have completed {{tutorial.title}}, receiving a final score of : </div> <div class="tutorial__final-score"> <h1>{{tutorial.totalPts | signedNumber}} points</h1> </div> <h2 class="section-header">Conclusion</h2> <div class="content" bind-html-math="tutorial.conclusion" compile="true"></div> <div class="button-row"> <span><a class="button is-secondary" href="/tutorials/">Tutorials list</a></span> <span><button ng-click="tutorial.restart()" class="button is-secondary"> Restart tutorial </button></span> <span><a class="button is-primary" href="/tutorials/{{tutorial.next_tutorial_id}}/" ng-if="tutorial.next_tutorial_id">Next tutorial</a></span> </div> </div> </section> ',link:function(e){e.tutorial=new Sa(window.metacData.tutorial),Object.defineProperty(e,"q",{get:()=>e.tutorial.activeQuestion})},restrict:"E",scope:{}}})),n(3792);var Ea="http://www.w3.org/1999/xhtml",Pa={svg:"http://www.w3.org/2000/svg",xhtml:Ea,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Oa(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Pa.hasOwnProperty(t)?{space:Pa[t],local:e}:e}function qa(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ea&&t.documentElement.namespaceURI===Ea?t.createElement(e):t.createElementNS(n,e)}}function $a(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ma(e){var t=Oa(e);return(t.local?$a:qa)(t)}function La(){}function ja(e){return null==e?La:function(){return this.querySelector(e)}}function Aa(){return[]}function Da(e){return null==e?Aa:function(){return this.querySelectorAll(e)}}var Na=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var Ra=document.documentElement;if(!Ra.matches){var Ia=Ra.webkitMatchesSelector||Ra.msMatchesSelector||Ra.mozMatchesSelector||Ra.oMatchesSelector;Na=function(e){return function(){return Ia.call(this,e)}}}}var Fa=Na;function Ua(e){return new Array(e.length)}function Ba(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Ha(e,t,n,i,r,o){for(var a,s=0,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],i[s]=a):n[s]=new Ba(e,o[s]);for(;s<l;++s)(a=t[s])&&(r[s]=a)}function za(e,t,n,i,r,o,a){var s,l,u,c={},d=t.length,p=o.length,h=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(h[s]=u="$"+a.call(l,l.__data__,s,t),u in c?r[s]=l:c[u]=l);for(s=0;s<p;++s)(l=c[u="$"+a.call(e,o[s],s,o)])?(i[s]=l,l.__data__=o[s],c[u]=null):n[s]=new Ba(e,o[s]);for(s=0;s<d;++s)(l=t[s])&&c[h[s]]===l&&(r[s]=l)}function Va(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ga(e){return function(){this.removeAttribute(e)}}function Qa(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wa(e,t){return function(){this.setAttribute(e,t)}}function Ya(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ka(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Za(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ja(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Xa(e){return function(){this.style.removeProperty(e)}}function es(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ts(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function ns(e,t){return e.style.getPropertyValue(t)||Ja(e).getComputedStyle(e,null).getPropertyValue(t)}function is(e){return function(){delete this[e]}}function rs(e,t){return function(){this[e]=t}}function os(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function as(e){return e.trim().split(/^|\s+/)}function ss(e){return e.classList||new ls(e)}function ls(e){this._node=e,this._names=as(e.getAttribute("class")||"")}function us(e,t){for(var n=ss(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function cs(e,t){for(var n=ss(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function ds(e){return function(){us(this,e)}}function ps(e){return function(){cs(this,e)}}function hs(e,t){return function(){(t.apply(this,arguments)?us:cs)(this,e)}}function fs(){this.textContent=""}function ms(e){return function(){this.textContent=e}}function gs(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function vs(){this.innerHTML=""}function ys(e){return function(){this.innerHTML=e}}function bs(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ws(){this.nextSibling&&this.parentNode.appendChild(this)}function _s(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xs(){return null}function Cs(){var e=this.parentNode;e&&e.removeChild(this)}function ks(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Ss(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}Ba.prototype={constructor:Ba,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},ls.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ts={},Es=null;function Ps(e,t,n){return e=Os(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function Os(e,t,n){return function(i){var r=Es;Es=i;try{e.call(this,this.__data__,t,n)}finally{Es=r}}}function qs(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function $s(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function Ms(e,t,n){var i=Ts.hasOwnProperty(e.type)?Ps:Os;return function(r,o,a){var s,l=this.__on,u=i(t,o,a);if(l)for(var c=0,d=l.length;c<d;++c)if((s=l[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=t);this.addEventListener(e.type,u,n),s={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function Ls(e,t,n,i){var r=Es;e.sourceEvent=Es,Es=e;try{return t.apply(n,i)}finally{Es=r}}function js(e,t,n){var i=Ja(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function As(e,t){return function(){return js(this,e,t)}}function Ds(e,t){return function(){return js(this,e,t.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ts={mouseenter:"mouseover",mouseleave:"mouseout"}));var Ns=[null];function Rs(e,t){this._groups=e,this._parents=t}function Is(){return new Rs([[document.documentElement]],Ns)}Rs.prototype=Is.prototype={constructor:Rs,select:function(e){"function"!=typeof e&&(e=ja(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=t[r],l=s.length,u=i[r]=new Array(l),c=0;c<l;++c)(o=s[c])&&(a=e.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new Rs(i,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=Da(e));for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(i.push(e.call(a,a.__data__,u,s)),r.push(a));return new Rs(i,r)},filter:function(e){"function"!=typeof e&&(e=Fa(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a=t[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new Rs(i,this._parents)},data:function(e,t){if(!e)return h=new Array(this.size()),u=-1,this.each((function(e){h[++u]=e})),h;var n=t?za:Ha,i=this._parents,r=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=i[u],d=r[u],p=d.length,h=e.call(c,c&&c.__data__,u,i),f=h.length,m=s[u]=new Array(f),g=a[u]=new Array(f);n(c,d,m,g,l[u]=new Array(p),h,t);for(var v,y,b=0,w=0;b<f;++b)if(v=m[b]){for(b>=w&&(w=b+1);!(y=g[w])&&++w<f;);v._next=y||null}}return(a=new Rs(a,i))._enter=s,a._exit=l,a},enter:function(){return new Rs(this._enter||this._groups.map(Ua),this._parents)},exit:function(){return new Rs(this._exit||this._groups.map(Ua),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,u=t[s],c=n[s],d=u.length,p=a[s]=new Array(d),h=0;h<d;++h)(l=u[h]||c[h])&&(p[h]=l);for(;s<i;++s)a[s]=t[s];return new Rs(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Va);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,u=r[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new Rs(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,o=t[n],a=0,s=o.length;a<s;++a)(r=o[a])&&e.call(r,r.__data__,a,o);return this},attr:function(e,t){var n=Oa(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?Qa:Ga:"function"==typeof t?n.local?Za:Ka:n.local?Ya:Wa)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Xa:"function"==typeof t?ts:es)(e,t,null==n?"":n)):ns(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?is:"function"==typeof t?os:rs)(e,t)):this.node()[e]},classed:function(e,t){var n=as(e+"");if(arguments.length<2){for(var i=ss(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?hs:t?ds:ps)(n,t))},text:function(e){return arguments.length?this.each(null==e?fs:("function"==typeof e?gs:ms)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?vs:("function"==typeof e?bs:ys)(e)):this.node().innerHTML},raise:function(){return this.each(ws)},lower:function(){return this.each(_s)},append:function(e){var t="function"==typeof e?e:Ma(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Ma(e),i=null==t?xs:"function"==typeof t?t:ja(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Cs)},clone:function(e){return this.select(e?Ss:ks)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,o=qs(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?Ms:$s,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],t,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(i=0,l=s[u];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?Ds:As)(e,t))}};var Fs=Is;function Us(e){return"string"==typeof e?new Rs([[document.querySelector(e)]],[document.documentElement]):new Rs([[e]],Ns)}var Bs=0;function Hs(){this._="@"+(++Bs).toString(36)}function zs(){for(var e,t=Es;e=t.sourceEvent;)t=e;return t}function Vs(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}function Gs(e){var t=zs();return t.changedTouches&&(t=t.changedTouches[0]),Vs(e,t)}function Qs(e,t,n){arguments.length<3&&(n=t,t=zs().changedTouches);for(var i,r=0,o=t?t.length:0;r<o;++r)if((i=t[r]).identifier===n)return Vs(e,i);return null}Hs.prototype=function(){return new Hs}.prototype={constructor:Hs,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var Ws=n(3105),Ys=n.n(Ws);const Ks={activeModal:null,data:null,isActive:e=>Ks.activeModal===e,setActive(e,t){"close"===t?window.ga("send","event","modal: "+Ks.activeModal,"close modal",window.location.href):e&&window.ga("send","event","modal: "+e,"open modal",t+""),Ks.activeModal=e,Ks.data=t||null}};function Zs(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Js(e){return 1===e.length&&(e=function(e){return function(t,n){return Zs(e(t),n)}}(e)),{left:function(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)<0?i=o+1:r=o}return i},right:function(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)>0?r=o:i=o+1}return i}}}var Xs=Js(Zs),el=Xs.right,tl=(Xs.left,el);function nl(e,t){var n,i,r,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(i=r=n;++a<o;)null!=(n=e[a])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(i=r=n;++a<o;)null!=(n=t(e[a],a,e))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]}var il=Array.prototype,rl=(il.slice,il.map,Math.sqrt(50)),ol=Math.sqrt(10),al=Math.sqrt(2);function sl(e,t,n){var i,r,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(a=ll(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(e-s)/a;return i&&o.reverse(),o}function ll(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=rl?10:o>=ol?5:o>=al?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=rl?10:o>=ol?5:o>=al?2:1)}function ul(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=rl?r*=10:o>=ol?r*=5:o>=al&&(r*=2),t<e?-r:r}function cl(e,t){var n,i,r=e.length,o=-1;if(null==t){for(;++o<r;)if(null!=(n=e[o])&&n>=n)for(i=n;++o<r;)null!=(n=e[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=t(e[o],o,e))&&n>=n)for(i=n;++o<r;)null!=(n=t(e[o],o,e))&&n>i&&(i=n);return i}function dl(e,t){var n,i,r=e.length,o=-1;if(null==t){for(;++o<r;)if(null!=(n=e[o])&&n>=n)for(i=n;++o<r;)null!=(n=e[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=t(e[o],o,e))&&n>=n)for(i=n;++o<r;)null!=(n=t(e[o],o,e))&&i>n&&(i=n);return i}function pl(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e+i*n;return o}const hl=1e3,fl=6e4,ml=36e5,gl=864e5,vl=6048e5,yl=31536e6;var bl=new Date,wl=new Date;function _l(e,t,n,i){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=function(t){return e(t=new Date(+t)),t},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,i,o){var a,s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<i);return s},r.filter=function(n){return _l((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}))},n&&(r.count=function(t,i){return bl.setTime(+t),wl.setTime(+i),e(bl),e(wl),Math.floor(n(bl,wl))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(i?function(t){return i(t)%e==0}:function(t){return r.count(0,t)%e==0}):r:null}),r}var xl=_l((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));xl.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?_l((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):xl:null};var Cl=xl,kl=(xl.range,_l((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*hl)}),(function(e,t){return(t-e)/hl}),(function(e){return e.getUTCSeconds()}))),Sl=kl,Tl=(kl.range,_l((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*hl)}),(function(e,t){e.setTime(+e+t*fl)}),(function(e,t){return(t-e)/fl}),(function(e){return e.getMinutes()}))),El=Tl,Pl=(Tl.range,_l((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*hl-e.getMinutes()*fl)}),(function(e,t){e.setTime(+e+t*ml)}),(function(e,t){return(t-e)/ml}),(function(e){return e.getHours()}))),Ol=Pl,ql=(Pl.range,_l((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fl)/gl),(e=>e.getDate()-1))),$l=ql;function Ml(e){return _l((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fl)/vl}))}ql.range;var Ll=Ml(0),jl=Ml(1),Al=Ml(2),Dl=Ml(3),Nl=Ml(4),Rl=Ml(5),Il=Ml(6),Fl=(Ll.range,jl.range,Al.range,Dl.range,Nl.range,Rl.range,Il.range,_l((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),Ul=Fl,Bl=(Fl.range,_l((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));Bl.every=function(e){return isFinite(e=Math.floor(e))&&e>0?_l((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var Hl=Bl,zl=(Bl.range,_l((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*fl)}),(function(e,t){return(t-e)/fl}),(function(e){return e.getUTCMinutes()}))),Vl=zl,Gl=(zl.range,_l((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*ml)}),(function(e,t){return(t-e)/ml}),(function(e){return e.getUTCHours()}))),Ql=Gl,Wl=(Gl.range,_l((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/gl}),(function(e){return e.getUTCDate()-1}))),Yl=Wl;function Kl(e){return _l((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/vl}))}Wl.range;var Zl=Kl(0),Jl=Kl(1),Xl=Kl(2),eu=Kl(3),tu=Kl(4),nu=Kl(5),iu=Kl(6),ru=(Zl.range,Jl.range,Xl.range,eu.range,tu.range,nu.range,iu.range,_l((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),ou=ru,au=(ru.range,_l((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));au.every=function(e){return isFinite(e=Math.floor(e))&&e>0?_l((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var su=au;function lu(e,t,n,i,r,o){const a=[[Sl,1,hl],[Sl,5,5e3],[Sl,15,15e3],[Sl,30,3e4],[o,1,fl],[o,5,3e5],[o,15,9e5],[o,30,18e5],[r,1,ml],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,gl],[i,2,1728e5],[n,1,vl],[t,1,2592e6],[t,3,7776e6],[e,1,yl]];function s(t,n,i){const r=Math.abs(n-t)/i,o=Js((([,,e])=>e)).right(a,r);if(o===a.length)return e.every(ul(t/yl,n/yl,i));if(0===o)return Cl.every(Math.max(ul(t,n,i),1));const[s,l]=a[r/a[o-1][2]<a[o][2]/r?o-1:o];return s.every(l)}return[function(e,t,n){const i=t<e;i&&([e,t]=[t,e]);const r=n&&"function"==typeof n.range?n:s(e,t,n),o=r?r.range(e,+t+1):[];return i?o.reverse():o},s]}au.range;const[uu,cu]=lu(su,ou,Zl,Yl,Ql,Vl),[du,pu]=lu(Hl,Ul,Ll,$l,Ol,El);function hu(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fu(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mu(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}var gu,vu,yu,bu,wu={"-":"",_:" ",0:"0"},_u=/^\s*\d+/,xu=/^%/,Cu=/[\\^$*+?|[\]().{}]/g;function ku(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function Su(e){return e.replace(Cu,"\\$&")}function Tu(e){return new RegExp("^(?:"+e.map(Su).join("|")+")","i")}function Eu(e){for(var t={},n=-1,i=e.length;++n<i;)t[e[n].toLowerCase()]=n;return t}function Pu(e,t,n){var i=_u.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Ou(e,t,n){var i=_u.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function qu(e,t,n){var i=_u.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function $u(e,t,n){var i=_u.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function Mu(e,t,n){var i=_u.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function Lu(e,t,n){var i=_u.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function ju(e,t,n){var i=_u.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Au(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Du(e,t,n){var i=_u.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function Nu(e,t,n){var i=_u.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function Ru(e,t,n){var i=_u.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function Iu(e,t,n){var i=_u.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function Fu(e,t,n){var i=_u.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function Uu(e,t,n){var i=_u.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function Bu(e,t,n){var i=_u.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function Hu(e,t,n){var i=_u.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function zu(e,t,n){var i=xu.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function Vu(e,t,n){var i=_u.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function Gu(e,t,n){var i=_u.exec(t.slice(n));return i?(e.Q=1e3*+i[0],n+i[0].length):-1}function Qu(e,t){return ku(e.getDate(),t,2)}function Wu(e,t){return ku(e.getHours(),t,2)}function Yu(e,t){return ku(e.getHours()%12||12,t,2)}function Ku(e,t){return ku(1+$l.count(Hl(e),e),t,3)}function Zu(e,t){return ku(e.getMilliseconds(),t,3)}function Ju(e,t){return Zu(e,t)+"000"}function Xu(e,t){return ku(e.getMonth()+1,t,2)}function ec(e,t){return ku(e.getMinutes(),t,2)}function tc(e,t){return ku(e.getSeconds(),t,2)}function nc(e){var t=e.getDay();return 0===t?7:t}function ic(e,t){return ku(Ll.count(Hl(e),e),t,2)}function rc(e,t){var n=e.getDay();return e=n>=4||0===n?Nl(e):Nl.ceil(e),ku(Nl.count(Hl(e),e)+(4===Hl(e).getDay()),t,2)}function oc(e){return e.getDay()}function ac(e,t){return ku(jl.count(Hl(e),e),t,2)}function sc(e,t){return ku(e.getFullYear()%100,t,2)}function lc(e,t){return ku(e.getFullYear()%1e4,t,4)}function uc(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ku(t/60|0,"0",2)+ku(t%60,"0",2)}function cc(e,t){return ku(e.getUTCDate(),t,2)}function dc(e,t){return ku(e.getUTCHours(),t,2)}function pc(e,t){return ku(e.getUTCHours()%12||12,t,2)}function hc(e,t){return ku(1+Yl.count(su(e),e),t,3)}function fc(e,t){return ku(e.getUTCMilliseconds(),t,3)}function mc(e,t){return fc(e,t)+"000"}function gc(e,t){return ku(e.getUTCMonth()+1,t,2)}function vc(e,t){return ku(e.getUTCMinutes(),t,2)}function yc(e,t){return ku(e.getUTCSeconds(),t,2)}function bc(e){var t=e.getUTCDay();return 0===t?7:t}function wc(e,t){return ku(Zl.count(su(e),e),t,2)}function _c(e,t){var n=e.getUTCDay();return e=n>=4||0===n?tu(e):tu.ceil(e),ku(tu.count(su(e),e)+(4===su(e).getUTCDay()),t,2)}function xc(e){return e.getUTCDay()}function Cc(e,t){return ku(Jl.count(su(e),e),t,2)}function kc(e,t){return ku(e.getUTCFullYear()%100,t,2)}function Sc(e,t){return ku(e.getUTCFullYear()%1e4,t,4)}function Tc(){return"+0000"}function Ec(){return"%"}function Pc(e){return+e}function Oc(e){return Math.floor(+e/1e3)}gu=function(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=Tu(r),c=Eu(r),d=Tu(o),p=Eu(o),h=Tu(a),f=Eu(a),m=Tu(s),g=Eu(s),v=Tu(l),y=Eu(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Qu,e:Qu,f:Ju,H:Wu,I:Yu,j:Ku,L:Zu,m:Xu,M:ec,p:function(e){return r[+(e.getHours()>=12)]},Q:Pc,s:Oc,S:tc,u:nc,U:ic,V:rc,w:oc,W:ac,x:null,X:null,y:sc,Y:lc,Z:uc,"%":Ec},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:cc,e:cc,f:mc,H:dc,I:pc,j:hc,L:fc,m:gc,M:vc,p:function(e){return r[+(e.getUTCHours()>=12)]},Q:Pc,s:Oc,S:yc,u:bc,U:wc,V:_c,w:xc,W:Cc,x:null,X:null,y:kc,Y:Sc,Z:Tc,"%":Ec},_={a:function(e,t,n){var i=h.exec(t.slice(n));return i?(e.w=f[i[0].toLowerCase()],n+i[0].length):-1},A:function(e,t,n){var i=d.exec(t.slice(n));return i?(e.w=p[i[0].toLowerCase()],n+i[0].length):-1},b:function(e,t,n){var i=v.exec(t.slice(n));return i?(e.m=y[i[0].toLowerCase()],n+i[0].length):-1},B:function(e,t,n){var i=m.exec(t.slice(n));return i?(e.m=g[i[0].toLowerCase()],n+i[0].length):-1},c:function(e,n,i){return k(e,t,n,i)},d:Nu,e:Nu,f:Hu,H:Iu,I:Iu,j:Ru,L:Bu,m:Du,M:Fu,p:function(e,t,n){var i=u.exec(t.slice(n));return i?(e.p=c[i[0].toLowerCase()],n+i[0].length):-1},Q:Vu,s:Gu,S:Uu,u:Ou,U:qu,V:$u,w:Pu,W:Mu,x:function(e,t,i){return k(e,n,t,i)},X:function(e,t,n){return k(e,i,t,n)},y:ju,Y:Lu,Z:Au,"%":zu};function x(e,t){return function(n){var i,r,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(r=wu[i=e.charAt(++s)])?i=e.charAt(++s):r="e"===i?" ":"0",(o=t[i])&&(i=o(n,r)),a.push(i),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function C(e,t){return function(n){var i,r,o=mu(1900);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=fu(mu(o.y))).getUTCDay(),i=r>4||0===r?Jl.ceil(i):Jl(i),i=Yl.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=t(mu(o.y))).getDay(),i=r>4||0===r?jl.ceil(i):jl(i),i=$l.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?fu(mu(o.y)).getUTCDay():t(mu(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,fu(o)):t(o)}}function k(e,t,n,i){for(var r,o,a=0,s=t.length,l=n.length;a<s;){if(i>=l)return-1;if(37===(r=t.charCodeAt(a++))){if(r=t.charAt(a++),!(o=_[r in wu?t.charAt(a++):r])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return b.x=x(n,b),b.X=x(i,b),b.c=x(t,b),w.x=x(n,w),w.X=x(i,w),w.c=x(t,w),{format:function(e){var t=x(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=C(e+="",hu);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=C(e,fu);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),vu=gu.format,gu.parse,yu=gu.utcFormat,bu=gu.utcParse;var qc="%Y-%m-%dT%H:%M:%S.%LZ";function $c(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Mc(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Lc(){}Date.prototype.toISOString||yu(qc),+new Date("2000-01-01T00:00:00.000Z")||bu(qc);var jc=.7,Ac=1/jc,Dc="\\s*([+-]?\\d+)\\s*",Nc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ic=/^#([0-9a-f]{3})$/,Fc=/^#([0-9a-f]{6})$/,Uc=new RegExp("^rgb\\("+[Dc,Dc,Dc]+"\\)$"),Bc=new RegExp("^rgb\\("+[Rc,Rc,Rc]+"\\)$"),Hc=new RegExp("^rgba\\("+[Dc,Dc,Dc,Nc]+"\\)$"),zc=new RegExp("^rgba\\("+[Rc,Rc,Rc,Nc]+"\\)$"),Vc=new RegExp("^hsl\\("+[Nc,Rc,Rc]+"\\)$"),Gc=new RegExp("^hsla\\("+[Nc,Rc,Rc,Nc]+"\\)$"),Qc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Wc(e){var t;return e=(e+"").trim().toLowerCase(),(t=Ic.exec(e))?new Xc((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=Fc.exec(e))?Yc(parseInt(t[1],16)):(t=Uc.exec(e))?new Xc(t[1],t[2],t[3],1):(t=Bc.exec(e))?new Xc(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Hc.exec(e))?Kc(t[1],t[2],t[3],t[4]):(t=zc.exec(e))?Kc(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Vc.exec(e))?ed(t[1],t[2]/100,t[3]/100,1):(t=Gc.exec(e))?ed(t[1],t[2]/100,t[3]/100,t[4]):Qc.hasOwnProperty(e)?Yc(Qc[e]):"transparent"===e?new Xc(NaN,NaN,NaN,0):null}function Yc(e){return new Xc(e>>16&255,e>>8&255,255&e,1)}function Kc(e,t,n,i){return i<=0&&(e=t=n=NaN),new Xc(e,t,n,i)}function Zc(e){return e instanceof Lc||(e=Wc(e)),e?new Xc((e=e.rgb()).r,e.g,e.b,e.opacity):new Xc}function Jc(e,t,n,i){return 1===arguments.length?Zc(e):new Xc(e,t,n,null==i?1:i)}function Xc(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function ed(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new id(e,t,n,i)}function td(e){if(e instanceof id)return new id(e.h,e.s,e.l,e.opacity);if(e instanceof Lc||(e=Wc(e)),!e)return new id;if(e instanceof id)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=t===o?(n-i)/s+6*(n<i):n===o?(i-t)/s+2:(t-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new id(a,s,l,e.opacity)}function nd(e,t,n,i){return 1===arguments.length?td(e):new id(e,t,n,null==i?1:i)}function id(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function rd(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}$c(Lc,Wc,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),$c(Xc,Jc,Mc(Lc,{brighter:function(e){return e=null==e?Ac:Math.pow(Ac,e),new Xc(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?jc:Math.pow(jc,e),new Xc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),$c(id,nd,Mc(Lc,{brighter:function(e){return e=null==e?Ac:Math.pow(Ac,e),new id(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?jc:Math.pow(jc,e),new id(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Xc(rd(e>=240?e-240:e+120,r,i),rd(e,r,i),rd(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var od=Math.PI/180,ad=180/Math.PI,sd=.95047,ld=1.08883,ud=4/29,cd=6/29,dd=3*cd*cd;function pd(e){if(e instanceof fd)return new fd(e.l,e.a,e.b,e.opacity);if(e instanceof _d){var t=e.h*od;return new fd(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof Xc||(e=Zc(e));var n=yd(e.r),i=yd(e.g),r=yd(e.b),o=md((.4124564*n+.3575761*i+.1804375*r)/sd),a=md((.2126729*n+.7151522*i+.072175*r)/1);return new fd(116*a-16,500*(o-a),200*(a-md((.0193339*n+.119192*i+.9503041*r)/ld)),e.opacity)}function hd(e,t,n,i){return 1===arguments.length?pd(e):new fd(e,t,n,null==i?1:i)}function fd(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function md(e){return e>.008856451679035631?Math.pow(e,1/3):e/dd+ud}function gd(e){return e>cd?e*e*e:dd*(e-ud)}function vd(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function yd(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function bd(e){if(e instanceof _d)return new _d(e.h,e.c,e.l,e.opacity);e instanceof fd||(e=pd(e));var t=Math.atan2(e.b,e.a)*ad;return new _d(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function wd(e,t,n,i){return 1===arguments.length?bd(e):new _d(e,t,n,null==i?1:i)}function _d(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}$c(fd,hd,Mc(Lc,{brighter:function(e){return new fd(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new fd(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=1*gd(e),new Xc(vd(3.2404542*(t=sd*gd(t))-1.5371385*e-.4985314*(n=ld*gd(n))),vd(-.969266*t+1.8760108*e+.041556*n),vd(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),$c(_d,wd,Mc(Lc,{brighter:function(e){return new _d(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new _d(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return pd(this).rgb()}}));var xd=-.14861,Cd=1.78277,kd=-.29227,Sd=-.90649,Td=1.97294,Ed=Td*Sd,Pd=Td*Cd,Od=Cd*kd-Sd*xd;function qd(e){if(e instanceof Md)return new Md(e.h,e.s,e.l,e.opacity);e instanceof Xc||(e=Zc(e));var t=e.r/255,n=e.g/255,i=e.b/255,r=(Od*i+Ed*t-Pd*n)/(Od+Ed-Pd),o=i-r,a=(Td*(n-r)-kd*o)/Sd,s=Math.sqrt(a*a+o*o)/(Td*r*(1-r)),l=s?Math.atan2(a,o)*ad-120:NaN;return new Md(l<0?l+360:l,s,r,e.opacity)}function $d(e,t,n,i){return 1===arguments.length?qd(e):new Md(e,t,n,null==i?1:i)}function Md(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function Ld(e,t,n,i,r){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*i+a*r)/6}function jd(e){return function(){return e}}function Ad(e,t){return function(n){return e+n*t}}function Dd(e,t){var n=t-e;return n?Ad(e,n>180||n<-180?n-360*Math.round(n/360):n):jd(isNaN(e)?t:e)}function Nd(e,t){var n=t-e;return n?Ad(e,n):jd(isNaN(e)?t:e)}$c(Md,$d,Mc(Lc,{brighter:function(e){return e=null==e?Ac:Math.pow(Ac,e),new Md(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?jc:Math.pow(jc,e),new Md(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*od,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),r=Math.sin(e);return new Xc(255*(t+n*(xd*i+Cd*r)),255*(t+n*(kd*i+Sd*r)),255*(t+n*(Td*i)),this.opacity)}}));var Rd=function e(t){var n=function(e){return 1==(e=+e)?Nd:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):jd(isNaN(t)?n:t)}}(t);function i(e,t){var i=n((e=Jc(e)).r,(t=Jc(t)).r),r=n(e.g,t.g),o=n(e.b,t.b),a=Nd(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=r(t),e.b=o(t),e.opacity=a(t),e+""}}return i.gamma=e,i}(1);function Id(e){return function(t){var n,i,r=t.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=Jc(t[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=e(o),a=e(a),s=e(s),i.opacity=1,function(e){return i.r=o(e),i.g=a(e),i.b=s(e),i+""}}}function Fd(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=Wd(e[n],t[n]);for(;n<i;++n)a[n]=t[n];return function(e){for(n=0;n<r;++n)a[n]=o[n](e);return a}}function Ud(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Bd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Hd(e,t){var n,i={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?i[n]=Wd(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}}Id((function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1],a=i>0?e[i-1]:2*r-o,s=i<t-1?e[i+2]:2*o-r;return Ld((n-i/t)*t,a,r,o,s)}})),Id((function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],o=e[i%t],a=e[(i+1)%t],s=e[(i+2)%t];return Ld((n-i/t)*t,r,o,a,s)}}));var zd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vd=new RegExp(zd.source,"g");function Gd(e,t){var n,i,r,o=zd.lastIndex=Vd.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=zd.exec(e))&&(i=Vd.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Bd(n,i)})),o=Vd.lastIndex;return o<t.length&&(r=t.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})}function Qd(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(n=0;n<i;++n)r[n]=e[n]*(1-o)+t[n]*o;return r}}function Wd(e,t){var n,i=typeof t;return null==t||"boolean"===i?jd(t):("number"===i?Bd:"string"===i?(n=Wc(t))?(t=n,Rd):Gd:t instanceof Wc?Rd:t instanceof Date?Ud:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Qd:Array.isArray(t)?Fd:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Hd:Bd)(e,t)}function Yd(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Kd(e){return+e}var Zd=[0,1];function Jd(e){return e}function Xd(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function ep(e,t,n){var i=e[0],r=e[1],o=t[0],a=t[1];return r<i?(i=Xd(r,i),o=n(a,o)):(i=Xd(i,r),o=n(o,a)),function(e){return o(i(e))}}function tp(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=Xd(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=tl(e,t,1,i)-1;return o[n](r[n](t))}}function np(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ip(){var e,t,n,i,r,o,a=Zd,s=Zd,l=Wd,u=Jd;function c(){var e=Math.min(a.length,s.length);return u!==Jd&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),i=e>2?tp:ep,r=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(r||(r=i(a.map(e),s,l)))(e(u(t)))}return d.invert=function(n){return u(t((o||(o=i(s,a.map(e),Bd)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,Kd),c()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Yd,c()},d.clamp=function(e){return arguments.length?(u=!!e||Jd,c()):u!==Jd},d.interpolate=function(e){return arguments.length?(l=e,c()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,i){return e=n,t=i,c()}}function rp(){return ip()(Jd,Jd)}function op(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function ap(e,t){var n,i=0,r=(e=e.slice()).length-1,o=e[i],a=e[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),e[i]=t.floor(o),e[r]=t.ceil(a),e}function sp(e){return new Date(e)}function lp(e){return e instanceof Date?+e:+new Date(+e)}function up(e,t,n,i,r,o,a,s,l,u){var c=rp(),d=c.invert,p=c.domain,h=u(".%L"),f=u(":%S"),m=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),y=u("%b %d"),b=u("%B"),w=u("%Y");function _(e){return(l(e)<e?h:s(e)<e?f:a(e)<e?m:o(e)<e?g:i(e)<e?r(e)<e?v:y:n(e)<e?b:w)(e)}return c.invert=function(e){return new Date(d(e))},c.domain=function(e){return arguments.length?p(Array.from(e,lp)):p().map(sp)},c.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?_:u(t)},c.nice=function(e){var n=p();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?p(ap(n,e)):c},c.copy=function(){return np(c,up(e,t,n,i,r,o,a,s,l,u))},c}function cp(){return op.apply(up(du,pu,Hl,Ul,Ll,$l,Ol,El,Sl,vu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dp(e){this._context=e}function pp(e){return new dp(e)}dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var hp=Math.PI,fp=2*hp,mp=1e-6,gp=fp-mp;function vp(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function yp(){return new vp}vp.prototype=yp.prototype={constructor:vp,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(e,t,n,i,r){e=+e,t=+t,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-e,l=i-t,u=o-e,c=a-t,d=u*u+c*c;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>mp)if(Math.abs(c*s-l*u)>mp&&r){var p=n-o,h=i-a,f=s*s+l*l,m=p*p+h*h,g=Math.sqrt(f),v=Math.sqrt(d),y=r*Math.tan((hp-Math.acos((f+d-m)/(2*g*v)))/2),b=y/v,w=y/g;Math.abs(b-1)>mp&&(this._+="L"+(e+b*u)+","+(t+b*c)),this._+="A"+r+","+r+",0,0,"+ +(c*p>u*h)+","+(this._x1=e+w*s)+","+(this._y1=t+w*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,i,r,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),l=e+a,u=t+s,c=1^o,d=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>mp||Math.abs(this._y1-u)>mp)&&(this._+="L"+l+","+u),n&&(d<0&&(d=d%fp+fp),d>gp?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):d>mp&&(this._+="A"+n+","+n+",0,"+ +(d>=hp)+","+c+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var bp,wp=yp;function _p(e){return function(){return e}}function xp(e){return e[0]}function Cp(e){return e[1]}function kp(){var e=xp,t=Cp,n=_p(!0),i=null,r=pp,o=null;function a(a){var s,l,u,c=a.length,d=!1;for(null==i&&(o=r(u=wp())),s=0;s<=c;++s)!(s<c&&n(l=a[s],s,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(l,s,a),+t(l,s,a));if(u)return o=null,u+""||null}return a.x=function(t){return arguments.length?(e="function"==typeof t?t:_p(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:_p(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:_p(!!e),a):n},a.curve=function(e){return arguments.length?(r=e,null!=i&&(o=r(i)),a):r},a.context=function(e){return arguments.length?(null==e?i=o=null:o=r(i=e),a):i},a}function Sp(e,t){this._context=e,this._t=t}function Tp(e){return new Sp(e,.5)}function Ep(e){return new Sp(e,1)}function Pp(){var e=xp,t=null,n=_p(0),i=Cp,r=_p(!0),o=null,a=pp,s=null;function l(l){var u,c,d,p,h,f=l.length,m=!1,g=new Array(f),v=new Array(f);for(null==o&&(s=a(h=wp())),u=0;u<=f;++u){if(!(u<f&&r(p=l[u],u,l))===m)if(m=!m)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=c;--d)s.point(g[d],v[d]);s.lineEnd(),s.areaEnd()}m&&(g[u]=+e(p,u,l),v[u]=+n(p,u,l),s.point(t?+t(p,u,l):g[u],i?+i(p,u,l):v[u]))}if(h)return s=null,h+""||null}function u(){return kp().defined(r).curve(a).context(o)}return l.x=function(n){return arguments.length?(e="function"==typeof n?n:_p(+n),t=null,l):e},l.x0=function(t){return arguments.length?(e="function"==typeof t?t:_p(+t),l):e},l.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:_p(+e),l):t},l.y=function(e){return arguments.length?(n="function"==typeof e?e:_p(+e),i=null,l):n},l.y0=function(e){return arguments.length?(n="function"==typeof e?e:_p(+e),l):n},l.y1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:_p(+e),l):i},l.lineX0=l.lineY0=function(){return u().x(e).y(n)},l.lineY1=function(){return u().x(e).y(i)},l.lineX1=function(){return u().x(t).y(n)},l.defined=function(e){return arguments.length?(r="function"==typeof e?e:_p(!!e),l):r},l.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),l):a},l.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),l):o},l}function Op(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function qp(e){return(e=Op(Math.abs(e)))?e[1]:NaN}function $p(e,t){var n=Op(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Sp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Mp={"":function(e,t){e:for(var n,i=(e=e.toPrecision(t)).length,r=1,o=-1;r<i;++r)switch(e[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return $p(100*e,t)},r:$p,s:function(e,t){var n=Op(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(bp=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Op(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Lp=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function jp(e){return new Ap(e)}function Ap(e){if(!(t=Lp.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",i=t[2]||">",r=t[3]||"-",o=t[4]||"",a=!!t[5],s=t[6]&&+t[6],l=!!t[7],u=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(l=!0,c="g"):Mp[c]||(c=""),(a||"0"===n&&"="===i)&&(a=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=a,this.width=s,this.comma=l,this.precision=u,this.type=c}function Dp(e){return e}jp.prototype=Ap.prototype,Ap.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Np,Rp,Ip,Fp=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Up(e){var t=e.domain;return e.ticks=function(e){var n=t();return sl(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return function(e,t,n,i){var r,o=ul(e,t,n);switch((i=jp(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(qp(t)/3)))-qp(Math.abs(e)))}(o,a))||(i.precision=r),Ip(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qp(t)-qp(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(e){return Math.max(0,-qp(Math.abs(e)))}(o))||(i.precision=r-2*("%"===i.type))}return Rp(i)}(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r,o=t(),a=0,s=o.length-1,l=o[a],u=o[s],c=10;for(u<l&&(r=l,l=u,u=r,r=a,a=s,s=r);c-- >0;){if((r=ll(l,u,n))===i)return o[a]=l,o[s]=u,t(o);if(r>0)l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r}i=r}return e},e}function Bp(){var e=rp();return e.copy=function(){return np(e,Bp())},op.apply(e,arguments),Up(e)}Np=function(e){var t,n,i=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,i){for(var r=e.length,o=[],a=0,s=t[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(e.substring(r-=s,r+s)),!((l+=s+1)>i));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}):Dp,r=e.currency,o=e.decimal,a=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(e.numerals):Dp,s=e.percent||"%";function l(e){var t=(e=jp(e)).fill,n=e.align,l=e.sign,u=e.symbol,c=e.zero,d=e.width,p=e.comma,h=e.precision,f=e.type,m="$"===u?r[0]:"#"===u&&/[boxX]/.test(f)?"0"+f.toLowerCase():"",g="$"===u?r[1]:/[%p]/.test(f)?s:"",v=Mp[f],y=!f||/[defgprs%]/.test(f);function b(e){var r,s,u,b=m,w=g;if("c"===f)w=v(e)+w,e="";else{var _=(e=+e)<0;if(e=v(Math.abs(e),h),_&&0==+e&&(_=!1),b=(_?"("===l?l:"-":"-"===l||"("===l?"":l)+b,w=("s"===f?Fp[8+bp/3]:"")+w+(_&&"("===l?")":""),y)for(r=-1,s=e.length;++r<s;)if(48>(u=e.charCodeAt(r))||u>57){w=(46===u?o+e.slice(r+1):e.slice(r))+w,e=e.slice(0,r);break}}p&&!c&&(e=i(e,1/0));var x=b.length+e.length+w.length,C=x<d?new Array(d-x+1).join(t):"";switch(p&&c&&(e=i(C+e,C.length?d-w.length:1/0),C=""),n){case"<":e=b+e+w+C;break;case"=":e=b+C+e+w;break;case"^":e=C.slice(0,x=C.length>>1)+b+e+w+C.slice(x);break;default:e=C+b+e+w}return a(e)}return h=null==h?f?6:12:/[gprs]/.test(f)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),b.toString=function(){return e+""},b}return{format:l,formatPrefix:function(e,t){var n=l(((e=jp(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(qp(t)/3))),r=Math.pow(10,-i),o=Fp[8+i/3];return function(e){return n(r*e)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Rp=Np.format,Ip=Np.formatPrefix;var Hp={value:function(){}};function zp(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i)throw new Error("illegal type: "+e);i[e]=[]}return new Vp(i)}function Vp(e){this._=e}function Gp(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Qp(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function Wp(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=Hp,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}Vp.prototype=zp.prototype={constructor:Vp,on:function(e,t){var n,i=this._,r=Gp(e+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=r[o]).type)i[n]=Wp(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Wp(i[n],e.name,null);return this}for(;++o<a;)if((n=(e=r[o]).type)&&(n=Qp(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Vp(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(i=this._[e]).length;o<n;++o)i[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};var Yp=zp;function Kp(){Es.stopImmediatePropagation()}function Zp(){Es.preventDefault(),Es.stopImmediatePropagation()}function Jp(e){var t=e.document.documentElement,n=Us(e).on("dragstart.drag",Zp,!0);"onselectstart"in t?n.on("selectstart.drag",Zp,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Xp(e){return function(){return e}}function eh(e,t,n,i,r,o,a,s,l,u){this.target=e,this.type=t,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=u}function th(){return!Es.button}function nh(){return this.parentNode}function ih(e){return null==e?{x:Es.x,y:Es.y}:e}function rh(){return"ontouchstart"in this}eh.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var oh=0,ah=0;class sh{constructor(e){this.id="metac-plot-"+oh++,this.xscale=Bp().domain([0,1]),this.yscale=Bp().domain([0,1]),this.artists=[],this.svg=e.node?e:Us(e),this.svg.classed("metac-graph",!0),this.content=this.svg.append("g"),this.clipPath=this.content.append("clipPath").attr("id",this.id+"-clip").append("rect"),this.backgroundRect=this.content.append("rect").classed("background-rect",!0),this.margins={top:15,right:25,bottom:25,left:45},this.clipPadding={top:0,right:0,bottom:0,left:0}}isVisible(){return this.svg&&!this.svg.empty()&&"none"!=this.svg.style("display")}liveResize(){return Us(window).on("resize."+this.id,(()=>this.display())),this}cleanup(){for(var e of(Us(window).on("resize."+this.id,null),this.artists))e.artist.cleanup(this,e.group)}svgSize(){return this.isVisible()?this.svg.node().getBoundingClientRect():{width:0,height:0}}addArtist(e,t){t=t||{};var n=this.content.append("g");return t.clipped&&n.attr("clip-path","url(#".concat(this.id,"-clip)")),t.classes&&n.classed(t.classes,!0),e.initDrawGroup(this,n),this.artists.push({artist:e,group:n}),this}display(e){e&=this.wasVisible;var t=this.svgSize(),n=this.margins,i=t.width-n.left-n.right,r=t.height-n.top-n.bottom,o=this.clipPadding;if(this.wasVisible=t.width>0&&t.height>0,this.wasVisible)for(var a of(this.size={width:i,height:r},this.content.attr("transform","translate(".concat(n.left,", ").concat(n.top,")")),this.clipPath.attr("width",Math.max(0,i-o.right-o.left)).attr("height",Math.max(0,r-o.top-o.bottom)).attr("x",o.left).attr("y",o.top),this.backgroundRect.attr("width",Math.max(0,i)).attr("height",Math.max(0,r)).attr("x",0).attr("y",0),this.xscale.range([0,i]),this.yscale.range([r,0]),this.artists))a.artist.resize(a.group,i,r),a.artist.display(this,a.group,e)}updateYRange(e){var t=(e=e||{}).minRange?e.minRange.slice():[void 0,void 0],n=e.maxbuffer||0,i=e.minbuffer||0;for(var r of this.artists){var o=r.artist.getDataRange();(void 0===t[0]||t[0]>o[0])&&(t[0]=o[0]),(void 0===t[1]||t[1]<o[1])&&(t[1]=o[1])}var a=t[1]-t[0];a>=0&&this.yscale.domain([t[0]-a*i,t[1]+a*n])}}class lh{constructor(e){this.data=[],this.id="metac-artist-"+ah++,this._params=Object.assign({},e||{})}defaultClass(){return"metac-artist"}applyTransition(e,t){return t?e.transition().duration(1e3):e}initDrawGroup(e,t){t.classed(this.defaultClass(),!0)}getDataRange(){return[]}xBounds(){}resize(){}display(){}cleanup(){}dfunc(e){var t=this._params[e];return"function"==typeof t?t:void 0===t?e=>{}:null===t?e=>e:e=>void 0!==e[t]?e[t]:t}scaleFunc(e,t,n){var i=this.dfunc(t),r=this.dfunc(n);return(t,n)=>e(i(t,n))+(r(t,n)||0)}}class uh extends lh{constructor(e,t,n,i){super({x1:e,y1:t,x2:n,y2:i}),this.data=[{}]}display(e,t,n){var i=t.selectAll("line").data(this.data);i.exit().remove(),i.enter().append("line").merge(i).attr("x1",this.scaleFunc(e.xscale,"x1")).attr("x2",this.scaleFunc(e.xscale,"x2")).attr("y1",this.scaleFunc(e.yscale,"y1")).attr("y2",this.scaleFunc(e.yscale,"y2"))}defaultClass(){return"line-seg-group"}getDataRange(){let e=nl(this.data,this.dfunc("y1")),t=nl(this.data,this.dfunc("y2"));return[e[0]<t[0]?e[0]:t[0],e[1]<t[1]?e[1]:t[1]]}}class ch extends lh{defaultClass(){return"horiz-line"}display(e,t,n){var i=t.selectAll("line").data(this.data),r=i.enter().append("line");this.applyTransition(i.merge(r),n).attr("x1",e.xscale.range()[0]).attr("x2",e.xscale.range()[1]).attr("y1",e.yscale).attr("y2",e.yscale),i.exit().remove()}}class dh extends lh{defaultClass(){return"vert-line"}display(e,t,n){var i=t.selectAll("line").data(this.data),r=i.enter().append("line");this.applyTransition(i.merge(r),n).attr("y1",e.yscale.range()[0]).attr("y2",e.yscale.range()[1]).attr("x1",e.xscale).attr("x2",e.xscale),i.exit().remove()}}class ph extends lh{constructor(e,t){super({x:e,y:t}),this.curve=pp,this.data=[]}get xkey(){return this._params.x}get ykey(){return this._params.y}set xkey(e){this._params.x=e}set ykey(e){this._params.y=e}display(e,t,n){var i=kp().x(this.scaleFunc(e.xscale,"x")).y(this.scaleFunc(e.yscale,"y")).curve(this.curve),r=t.select("path");r.empty()&&(r=t.append("path")),this.applyTransition(r,n).attr("d",i(this.data))}defaultClass(){return"line-group"}getDataRange(){return nl(this.data,this.dfunc("y"))}}class hh extends ph{display(e,t,n){var i=kp().x(this.scaleFunc(e.xscale,"x")).y(this.scaleFunc(e.yscale,"y")).curve(this.curve),r=t.selectAll("path").data(this.data),o=r.enter().append("path");r.merge(o).attr("d",i),r.exit().remove()}getDataRange(){var e=this.dfunc("y"),t=this.data.map((t=>nl(t,e)));return[dl(t,(e=>e[0])),cl(t,(e=>e[1]))]}}class fh extends ph{splitData(e){if(e.length<2)return[];var t=[],n=[],i=0,r=0,o=0;for(var a of e){let e=a[this._params.x],s=a[this._params.y];if(s*i<0){let i=0,a=+o+ +r*(e-o)/(r-s);n.class=s<0?"pos-line":"neg-line",n.push([a,i]),t.push(n),n=[[a,i]]}s<0&&(i=-1),s>0&&(i=1),n.push([e,s]),o=e,r=s}return n.length>1&&(n.class=i>=0?"pos-line":"neg-line",t.push(n)),t}display(e,t){var n=kp().x((t=>e.xscale(t[0]))).y((t=>e.yscale(t[1]))).curve(this.curve),i=t.selectAll("path").data(this.splitData(this.data));i.exit().remove(),i.enter().append("path").merge(i).attr("class",(e=>e.class)).attr("d",n)}}class mh extends ph{constructor(){super("x","y"),this.curve=Ep}defaultClass(){return"histogram"}setData(e,t){if(this.data=[],e&&t&&e.length+1==t.length){var n;for(this.data.push({x:t[0],y:0}),n=0;n<e.length;n++)this.data.push({x:t[n],y:e[n]});this.data.push({x:t[n],y:0})}return this}}class gh extends lh{constructor(e,t){super({x:e,y0:t[0],y1:t[1],y2:t[2]}),this.xkey=e,this.ykeys=t,this.data=[]}display(e,t){var n=Pp().x(this.scaleFunc(e.xscale,"x")).y0(this.scaleFunc(e.yscale,"y0")).y1(this.scaleFunc(e.yscale,"y2")),i=t.select("path.band-area");i.empty()&&(i=t.append("path").classed("band-area",!0)),i.attr("d",n(this.data));var r=t.selectAll("path.band-line").data([0,1,2]);r.exit().remove(),r.enter().append("path").attr("class",(e=>"band-line band-line-"+e)).merge(r).attr("d",(t=>kp().x(this.scaleFunc(e.xscale,"x")).y(this.scaleFunc(e.yscale,"y"+t))(this.data)))}getDataRange(){return[dl(["y0","y1","y2"],(e=>dl(this.data,this.dfunc(e)))),cl(["y0","y1","y2"],(e=>cl(this.data,this.dfunc(e))))]}}var vh={circle:e=>"m".concat(e,",0a").concat(e,",").concat(e,",0,1,1,").concat(-2*e,",0a").concat(e,",").concat(e,",0,1,1,").concat(2*e,",0"),outerCircle:e=>"m".concat(e+2,",0a").concat(e+2,",").concat(e+2,",0,1,1,").concat(-2*(e+2),",0a").concat(e+2,",").concat(e+2,",0,1,1,").concat(2*(e+2),",0"),square:e=>"m".concat(e*=.8862,",").concat(e,"l").concat(-2*e,",0l0,").concat(-2*e,"l").concat(2*e,",0z"),diamond:e=>"m0,".concat(e*=1.2533,"l").concat(e,",").concat(-e,"l").concat(-e,",").concat(-e,"l").concat(-e,",").concat(e,"z"),x:e=>"m".concat(e,",").concat(e,"l").concat(-2*e,",").concat(-2*e,"m0,").concat(2*e,"l").concat(2*e,",").concat(-2*e),star(e,t,n){n=n||5,arguments.length<2&&(t=.55*e,e*=1.3);var i,r,o,a=Math.cos(Math.PI/n),s=Math.sin(Math.PI/n),l=[0,-1],u=[],c=e=>e.toFixed(4);for(r=0;r<n;r++)u.push([l[0]*e,l[1]*e]),l=[l[0]*a-l[1]*s,l[0]*s+l[1]*a],u.push([l[0]*t,l[1]*t]),l=[l[0]*a-l[1]*s,l[0]*s+l[1]*a];for(i=u[0],o="m".concat(c(i[0]),",").concat(c(i[1])),r=1;r<2*n;r++)l=u[r],o+="l".concat(c(l[0]-i[0]),",").concat(c(l[1]-i[1])),i=l;return o+"z"},wedge(e,t,n){arguments.length<2&&(t=270),arguments.length<3&&(n=45),t*=Math.PI/180,n*=Math.PI/180;var i=e*Math.cos(t+n/2),r=e*Math.sin(t+n/2),o=e*Math.cos(t-n/2)-i,a=e*Math.sin(t-n/2)-r;return"m0,0l".concat(i,",").concat(r,"l").concat(o,",").concat(a,"z")}};class yh extends lh{constructor(e){super(Object.assign({x:null,y:null,shape:"circle",radius:3,hitRadius:12,nearest:!0,dragCallback:null},e||{}))}defaultClass(){return"scatter-group"}getDataRange(){return nl(this.data,this.dfunc("y"))}shapeFunc(){var e,t=this._params.shape;return"function"==typeof t?t:(e=this.dfunc("radius"),t=vh[t]||vh.circle,(n,i)=>t(e(n,i)))}display(e,t,n){var i=this._params,r=t.selectAll("g").data(this.data),o=r.enter().append("g");o.append("circle").attr("cx",0).attr("cy",0).attr("r",this.dfunc("hitRadius")),"double-circle"===i.shape&&o.append("path").attr("class","outer-point"),o.append("path").attr("class","inner-point");var a=this.scaleFunc(e.xscale,"x","dx"),s=this.scaleFunc(e.yscale,"y","dy");i.dragCallback&&o.call(function(){var e,t,n,i,r=th,o=nh,a=ih,s=rh,l={},u=Yp("start","drag","end"),c=0,d=0;function p(e){e.on("mousedown.drag",h).filter(s).on("touchstart.drag",g).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(){if(!i&&r.apply(this,arguments)){var a=b("mouse",o.apply(this,arguments),Gs,this,arguments);a&&(Us(Es.view).on("mousemove.drag",f,!0).on("mouseup.drag",m,!0),Jp(Es.view),Kp(),n=!1,e=Es.clientX,t=Es.clientY,a("start"))}}function f(){if(Zp(),!n){var i=Es.clientX-e,r=Es.clientY-t;n=i*i+r*r>d}l.mouse("drag")}function m(){Us(Es.view).on("mousemove.drag mouseup.drag",null),function(e,t){var n=e.document.documentElement,i=Us(e).on("dragstart.drag",null);t&&(i.on("click.drag",Zp,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(Es.view,n),Zp(),l.mouse("end")}function g(){if(r.apply(this,arguments)){var e,t,n=Es.changedTouches,i=o.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=b(n[e].identifier,i,Qs,this,arguments))&&(Kp(),t("start"))}}function v(){var e,t,n=Es.changedTouches,i=n.length;for(e=0;e<i;++e)(t=l[n[e].identifier])&&(Zp(),t("drag"))}function y(){var e,t,n=Es.changedTouches,r=n.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),e=0;e<r;++e)(t=l[n[e].identifier])&&(Kp(),t("end"))}function b(e,t,n,i,r){var o,s,d,h=n(t,e),f=u.copy();if(Ls(new eh(p,"beforestart",o,e,c,h[0],h[1],0,0,f),(function(){return null!=(Es.subject=o=a.apply(i,r))&&(s=o.x-h[0]||0,d=o.y-h[1]||0,!0)})))return function a(u){var m,g=h;switch(u){case"start":l[e]=a,m=c++;break;case"end":delete l[e],--c;case"drag":h=n(t,e),m=c}Ls(new eh(p,u,o,e,m,h[0]+s,h[1]+d,h[0]-g[0],h[1]-g[1],f),f.apply,f,[u,i,r])}}return p.filter=function(e){return arguments.length?(r="function"==typeof e?e:Xp(!!e),p):r},p.container=function(e){return arguments.length?(o="function"==typeof e?e:Xp(e),p):o},p.subject=function(e){return arguments.length?(a="function"==typeof e?e:Xp(e),p):a},p.touchable=function(e){return arguments.length?(s="function"==typeof e?e:Xp(!!e),p):s},p.on=function(){var e=u.on.apply(u,arguments);return e===u?p:e},p.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,p):Math.sqrt(d)},p}().subject(((e,t)=>{var n,r,o,l=(e,t)=>Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)),u=(e,t)=>({d:e,k:t,x:a(e),y:s(e)}),c=u(e,t),d=this.dfunc("radius");for(o=0;o<this.data.length;o++)n=u(r=this.data[o],o),i.nearest&&l(Es,n)<l(Es,c)+d(r,o)&&(c=n);return c})).on("drag",(()=>{i.dragCallback(Es.subject.d,Es.subject.k,{x:e.xscale.invert(Es.x),y:e.yscale.invert(Es.y)})}))),this.applyTransition(r.merge(o),n).attr("transform",(e=>"translate(".concat(a(e),",").concat(s(e),")"))).select(".inner-point").attr("d",this.shapeFunc()),"double-circle"===i.shape&&this.applyTransition(r.merge(o),n).attr("transform",(e=>"translate(".concat(a(e),",").concat(s(e),")"))).select(".outer-point").attr("d",((e,t)=>{const n=this.dfunc("radius");return vh.outerCircle(n(e,t))})),r.exit().remove()}}class bh extends lh{defaultClass(){return"crosshair"}initDrawGroup(e,t){super.initDrawGroup(e,t),e.svg.on("mousemove."+this.id,(()=>{this.data=Gs(t.node()),this.display(e,t,!1)})),e.svg.on("mouseleave."+this.id,(()=>{this.data=[],this.display(e,t,!1)}))}display(e,t){var n=t.selectAll("line").data(this.data);n.exit().remove(),n.enter().append("line").merge(n).attr("x1",((t,n)=>0==n?t:e.xscale.range()[0])).attr("x2",((t,n)=>0==n?t:e.xscale.range()[1])).attr("y1",((t,n)=>1==n?t:e.yscale.range()[0])).attr("y2",((t,n)=>1==n?t:e.yscale.range()[1]))}cleanup(e){e.svg.on("mousemove."+this.id,null),e.svg.on("mouseleave."+this.id,null)}}class wh extends lh{constructor(e,t){super(),this.data=[],this.mouseVal=null,this.cb=e||function(){},this.cbLeave=t||function(){},this.eventTypes=["mousemove","touchmove","touchstart"].map((e=>e+"."+this.id)).join(" ")}initDrawGroup(e,t){e.svg.on(this.eventTypes,(()=>{var n=Gs(t.node()),i=e.xscale.domain(),r=e.xscale.invert(n[0]);this.mouseVal=r<i[0]?i[0]:r>i[1]?i[1]:r,this.cb&&this.cb(this.mouseVal,this),this.display(e,t)})),e.svg.on("mouseleave."+this.id,(()=>{this.mouseVal=null,this.cbLeave&&this.cbLeave(this),this.display(e,t)}))}cleanup(e){e.svg.on(this.eventTypes,null),e.svg.on("mouseleave."+this.id,null)}}function _h(e){return 0==e?0:e<0?-Math.pow(10,Math.floor(Math.log10(-e))):+Math.pow(10,Math.floor(Math.log10(+e)))}function xh(e){var t=_h(e);return t*((e/=t)<2?2:e<5?5:10)}function Ch(e){var t=_h(e);return t*((e=1.001*e/t)<1?.1:e<2?.2:e<5?.5:1)}function kh(e,t,n){var i=e%t;Math.abs(i/t)>=1-1e-12&&(i=0);var r=e-i+t*(i>0);return r+t*(!!n&&hi(e,r))}function Sh(e){var t=12*(e=new Date(e)).getUTCFullYear()+e.getUTCMonth(),n=new Date(e);return n.setUTCDate(1),t+(e-n)/26784e5}function Th(e,t){if(e>t){var n=Th(t,e);return n[0]*=-1,n}e=new Date(e);var i=(t=new Date(t))-e;if(i<1e3)return[i,"msec"];if((i/=1e3)<60)return[i,"sec"];if((i/=60)<60)return[i,"min"];if((i/=60)<24)return[i,"hour"];i/=24;var r=Sh(e),o=Sh(t);return o-r<1?[i,"day"]:o-r<12?[o-r,"month"]:[(o-r)/12,"year"]}n(6699);const Eh={msec:[200,500,1e3],sec:[1,2,5,15,30,60],min:[1,2,5,15,30,60],hour:[1,2,6,12,24],day:[1,3,7,30.5],month:[1,3,6,12],year:[1,2]},Ph=["msec","sec","min","hour","day","month","year"];function Oh(e){var t,n,i,r,o,a,s=e[0],l=e[1];if(!Eh[l])throw"unknown interval '".concat(l,"'");if("msec"==l)return[Ch(s),l];if("year"==l){if((i=[Ch(s),l])[0]>=1)return i;s*=12,l="month"}for(a of Ph){if(l==a)break;o=a}for(t=Eh[o],r=(n=Eh[a]).length-1;r>=0&&n[r]>s;r--);return(r-=1)>=0?[n[r],a]:[t[t.length-1+r],o]}function qh(e){var t,n,i=e[0],r=e[1],o=Eh[r];if(!o)throw"unknown interval '".concat(r,"'");if("year"==r||"msec"==r&&i<500)t=[xh(i),r];else if(i>=o[o.length-2]){for(n=0;n<Ph.length&&Ph[n]!=r;n++);t=[1,Ph[n+1]]}else{for(n=0;n<=o.length&&!(o[n]>i);n++);t=[o[n],r]}return t}function $h(e,t,n){e=new Date(e);var i,r=t[0],o=t[1],a=+e;switch(o){case"year":e.setUTCMonth(0);case"month":e.setUTCDate(1);case"day":e.setUTCHours(0);case"hour":e.setUTCMinutes(0);case"min":e.setUTCSeconds(0);case"sec":e.setUTCMilliseconds(0)}n=n||+e!=a;var s={msec:"Milliseconds",sec:"Seconds",min:"Minutes",hour:"Hours",day:"Date",month:"Month",year:"FullYear"}[o],l=e["getUTC"+s]();return"day"==o?(l=kh(l-1,r,n)+1,a=new Date(e),i=new Date(e),e.setUTCDate(l),i.setUTCDate(l+r),i.getUTCMonth()!=a.getUTCMonth()&&i.getUTCDate()>1&&(e=i).setUTCDate(1)):(l=kh(l,r,n),e["setUTC"+s](l)),e}function Mh(e,t){var n=$h(e,t,!1);return $h(e-=1.5*(n-e),t,!1)}function Lh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=60*e.getTimezoneOffset()*1e3;t&&(n=-n);let i=new Date(e);return i.setTime(i.getTime()+n),i}function jh(e){const t=Th(e.major[0],e.minor[0])[1];if(["hour","day","month","year"].includes(t))return{major:e.major.map((e=>Lh(e))),minor:e.minor.map((e=>Lh(e)))}}function Ah(e,t){var n=e.range()[0],i=e.range()[1],r=i>n?1:-1;function o(t){let o=e(t);return r*(o-n)>-1&&r*(i-o)>-1}return{major:t.major.filter(o),minor:t.minor.filter(o)}}class Dh extends lh{constructor(e){super(),this.orientation=e,this._tickSpacing=60,this._expandedTicks=!1,this._offset=0,this._majorSize=5,this._minorSize=3,this._ticks={major:[],minor:[]},this._fmt=null,this._rescale=e=>e}defaultClass(){return"axis-group"}initDrawGroup(e,t){super.initDrawGroup(e,t),t.classed(this.orientation,!0),t.append("g").classed("tick minor",!0),t.append("g").classed("tick major",!0),t.append("g").classed("tick label",!0),t.append("line").classed("axis baseline",!0),t.append("text").classed("axis label",!0)}offset(e){return this._offset=e,this}fixedTicks(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var r=1e-6*n;this._ticks={major:[],minor:[]};for(let o=e;this._ticks.major.push(o),!((o+n-t)*n>=r*n);o+=n)for(let e=0;e<i;e++)this._ticks.minor.push(o+(1+e)*n/(1+i));return this._tickSpacing=-1,this}tickSpacing(e){return this._tickSpacing=e,this}tickSize(e,t){return this._majorSize=e||0,this._minorSize=t||0,this}tickFormat(e){e&&e.scale?this._rescale=t=>{t=t.copy();let n=n=>t(e.unscale(n));return n.invert=n=>e.scale(t.invert(n)),n.range=t.range,n}:this._rescale=e=>e.copy();let t=this.checkForDateFormat(e);return this._isDate=void 0!==t,this._datesInLocalTimeZone="localdate"==t,this._isDate?this._fmt=e=>[{t:fo(e,this._datesInLocalTimeZone)}]:e&&e.formatValue?this._fmt=t=>e.formatValue(t):this._fmt=e,this}checkForDateFormat(e){if(!e)return;const t=["date","localdate"];return t.includes(e)?e:t.includes(e._fmt)?e._fmt:void 0}resize(e,t,n){var i=this._offset;switch(this.orientation){case"right":e.attr("transform","translate(".concat(t+i,", 0)"));break;case"left":e.attr("transform","translate(".concat(-i,", 0)"));break;case"bottom":e.attr("transform","translate(0, ".concat(n+i,")"));break;case"top":e.attr("transform","translate(0, ".concat(-i,")"));break;default:throw"illegal axis orientation"}}label(e,t){return this.labelText=e,this.labelOffset=t,this}display(e,t,n){var i,r,o,a=this._fmt,s="bottom"==this.orientation||"top"==this.orientation,l=this._rescale(s?e.xscale:e.yscale),u=s?"x":"y",c=s?"y":"x",d=this.endLabel,p="bottom"==this.orientation||"right"==this.orientation?1:-1;if(this._tickSpacing>0){if(o=this._isDate?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[],r=[],o=e.range()[0],a=e.range()[1],s=a>o?1:-1,l=o,u=o+s*t,c=new Date(e.invert(l)),d=new Date(e.invert(u));n&&(c=Lh(c,!0),d=Lh(d,!0));let p=qh(Th(c,d)),h=Mh(c,p),f=e(h);for(isFinite(f)||(h=$h(c,p,!1),f=e(h));s*(a-f)>-1&&c<d;){for(i.push(h),c=h,d=new Date(e.invert(f+s*t)),p=qh(Th(c,d)),h=$h(c,p,!0);h<d;)h=$h(h,p,!0);for(f=e(h),p=Oh(Th(c,h)),d=$h(c,p,!0);d<h;)if(r.push(d),d=$h(d,p,!0),r.length>100){$h(d,p,!0);break}}let m={major:i,minor:r};return n&&(m=jh(m)),Ah(e,m)}(l,this._tickSpacing,this._datesInLocalTimeZone):function(e,t){var n=[],i=[],r=e.range()[0],o=e.range()[1];e.invert(r)>e.invert(o)&&(r=e.range()[1],o=e.range()[0]);var a=o>r?1:-1,s=r,l=r+a*t,u=e.invert(s),c=e.invert(l),d=xh(c-u),p=function(e,t,n){var i=e%t;return Math.abs(i/t)>=1-1e-12&&(i=0),e-i-t*(i<0)-!1*t}(u,d),h=e(p);for(isFinite(h)||(h=e(p=kh(u,d,!1)));a*(o-h)>-1&&u<c;){for(n.push(p),p=kh(u=p,d=xh((c=e.invert(h+a*t))-u),!0);p<c;)p=kh(p,d,!0);for(h=e(p),c=kh(u,d=Ch(.999*(p-u)),!0);c<p;)i.push(c),c=kh(c,d,!0)}return Ah(e,{major:n,minor:i})}(l,this._tickSpacing),d){let e=o.major[o.major.length-1],t=l(e),n=l.domain()[1],i=l.range()[1];Math.abs(i-t)<this._tickSpacing&&(o.major.pop(),o.minor.push(e)),o.major.push(n)}}else o=Ah(l,this._ticks);i=t.select("g.tick.minor").selectAll("line").data(o.minor,(e=>e)),r=i.enter().append("line").attr("opacity",0).attr(u+"1",t.oldScale||l).attr(u+"2",t.oldScale||l).attr(c+"1",0).attr(c+"2",this._minorSize*p),this.applyTransition(i.merge(r),n).attr("opacity",1).attr(u+"1",l).attr(u+"2",l),this.applyTransition(i.exit(),n).attr("opacity",0).attr(u+"1",l).attr(u+"2",l).remove(),i=t.select("g.tick.major").selectAll("line").data(o.major,(e=>e)),r=i.enter().append("line").attr("opacity",0).attr(u+"1",t.oldScale||l).attr(u+"2",t.oldScale||l).attr(c+"1",0).attr(c+"2",this._majorSize*p),this.applyTransition(i.merge(r),n).attr("opacity",1).attr(u+"1",l).attr(u+"2",l),this.applyTransition(i.exit(),n).attr("opacity",0).attr(u+"1",l).attr(u+"2",l).remove(),i=t.select("g.tick.label").selectAll("text").data(this._fmt?o.major:[],(e=>e)),r=i.enter().append("text").attr("opacity",0).attr(u,t.oldScale||l).attr(c,p*(this._majorSize+3)).attr("dy","bottom"==this.orientation?"0.75em":"top"==this.orientation?"0em":"0.325em").attr("text-anchor",s?"middle":"left"==this.orientation?"end":"start").each((function(e,t){var n=d&&t==o.major.length-1?d:a(e);Array.isArray(n)||(n=[{t:n}]);var i=Us(this).selectAll("tspan").data(n);i.merge(i.enter().append("tspan")).text((e=>e.t)).attr("baseline-shift",(e=>e.super?"super":0)).attr("font-size",(e=>e.super?"0.65em":"1em")),i.exit().remove()})),this.applyTransition(i.merge(r),n).attr("opacity",1).attr(u,l),this.applyTransition(i.exit(),n).attr("opacity",0).attr(u,l).remove();var h=l.range(),f=.5*(h[0]+h[1]),m="rotate(0)";"left"===this.orientation?(m="rotate(-90)",f*=-1):"right"===this.orientation&&(m="rotate(90)"),t.select("text.axis.label").style("text-anchor","middle").attr("x",f).attr("transform",m).attr("dy",this.labelOffset).text(this.labelText),t.select("line.axis.baseline").attr(u+"1",h[0]).attr(u+"2",h[1]).attr(c+"1",0).attr(c+"2",0),t.oldScale=l}}var Nh;const Rh=null!==(Nh=window.metacData.categoryList)&&void 0!==Nh?Nh:[];let Ih="/api2/categories/?limit=1000",Fh=!1;function Uh(e){for(var t=e.split("--"),n=[];t.length>0;)n.push(t.join("--")),t.pop();return n}Rh.load=function(){!Fh&&Ih&&(Fh=!0,Ir.get(Ih).then((function(e){let t=e.data;t.results.forEach((function(e){e.depth=e.id.split("--").length-1,e.indentedName=e.short_name;for(var t=0;t<e.depth;t++)e.indentedName="   "+e.indentedName;Rh.push(e)})),Rh.sort((function(e,t){return(e.id>t.id)-(e.id<t.id)})),Ih=t.next,Rh.load()}),(function(){})))};class Bh extends lh{constructor(){super(),this.hoverPt=null,this.clickPt=null,this.selectedIdx1={},this.selectedIdx2={},this.cb=()=>{}}display(e,t,n){var i=this.hoverPt||this.clickPt,r=i&&i.id||-1,o=t.selectAll("circle").data(this.data,(e=>e.id));this.applyTransition(o.exit(),n).attr("opacity",0).attr("cx",(t=>e.xscale(t.t))).attr("cy",(t=>e.yscale(t.y))).remove();var a=o.enter().append("circle").attr("r",5).attr("stroke-width",1).attr("class",(e=>"qpt-dot qpt-"+(e.cls||""))).attr("fill-opacity",0).attr("opacity",0).attr("cx",(t=>e.old_xscale(t.t))).attr("cy",(t=>e.old_yscale(t.y)));this.applyTransition(a.merge(o),n).attr("r",(e=>e.id==r?8:5)).attr("stroke-width",(e=>e.id==r?3:1)).attr("fill-opacity",(e=>e.id==(this.clickPt&&this.clickPt.id)||this.selectedIdx1[e.id]||this.selectedIdx2[e.id]?1:0)).attr("opacity",1).attr("cx",(t=>e.xscale(t.t))).attr("cy",(t=>e.yscale(t.y)));var s=[];for(let e of this.data)e.hist&&e.hist.length>0&&e.id==r&&s.push(e);var l=t.selectAll("path").data(s,(e=>e.id));l.exit().remove(),l.enter().append("path").merge(l).attr("class",(e=>"qpt-line")).attr("d",(t=>"M"+(t.flat?t.hist.slice(0,-1).map((t=>e.xscale(t.t1)+","+e.yscale(t.y)+","+e.xscale(t.t2)+","+e.yscale(t.y))):t.hist.map((t=>e.xscale(t.t1)+","+e.yscale(t.y)))).join("L")));var u=t.selectAll("line").data(s,(e=>e.id));u.exit().remove(),u.enter().append("line").merge(u).attr("class",(e=>"qpt-dashed-line")).attr("x1",(t=>e.xscale(t.hist[t.hist.length-1].t1))).attr("x2",(t=>e.xscale(t.hist[t.hist.length-1].t2))).attr("y1",(t=>e.yscale(t.hist[t.hist.length-1].y))).attr("y2",(t=>e.yscale(t.hist[t.hist.length-1].y)))}initDrawGroup(e,t){super.initDrawGroup(e,t),e.svg.on("mousemove."+this.id,(()=>{var n=this.closestDataPoint(e,t);n!==this.hoverPt&&(this.hoverPt=n,this.display(e,t,!1),this.cb())})),e.svg.on("mouseout."+this.id,(()=>{this.hoverPt&&(this.hoverPt=null,this.display(e,t,!1),this.cb())})),e.svg.on("mousedown."+this.id,(()=>{var n=this.closestDataPoint(e,t);n!==this.clickPt?(this.clickPt=n,this.display(e,t,!1),this.cb()):n&&(this.clickPt=null,this.display(e,t,!1),this.cb())}))}closestDataPoint(e,t){var n,i,r,o,a,s=Gs(t.node()),l=e.xscale.invert(s[0]-20),u=e.xscale.invert(s[0]+20),c=qo()(this.data,{t:l},"t"),d=qo()(this.data,{t:u},"t"),p=null,h=20;for(n=c;n<d;n++)a=this.data[n],i=e.xscale(a.t)-s[0],r=e.yscale(a.y)-s[1],(o=Math.sqrt(i*i+r*r))<h&&(h=o,p=a);return p}cleanup(e){e.svg.on("mousemove."+this.id,null),e.svg.on("mouseout."+this.id,null),e.svg.on("mousemdown."+this.id,null)}}class Hh extends lh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.clickBin=null,this.hoverBin=null,this.cb=()=>{},this.interactive=e,this.continuous=t}defaultClass(){return"calibration-group"}display(e,t,n){var i=t.selectAll("rect").data(this.data,(e=>e.x1));i.exit().remove();var r=i.enter().append("rect");this.interactive&&(r.on("mouseenter",(n=>{n.df>0&&(this.hoverBin=n,this.display(e,t,!1),this.cb())})),r.on("mouseout",(n=>{this.hoverBin===n&&(this.hoverBin=null,this.display(e,t,!1),this.cb())})),r.on("mousedown",(n=>{n.df>0&&(Es.stopPropagation(),this.clickBin=this.clickBin===n?null:n,this.display(e,t,!1),this.cb())}))),i=r.merge(i).classed("selected",(e=>e===(this.hoverBin||this.clickBin))),this.applyTransition(i,n).attr("x",(t=>e.xscale(.95*t.x1+.05*t.x2))).attr("width",(t=>Math.max(0,e.xscale(.9*(t.x2-t.x1))))).attr("y",(t=>e.yscale(t.ci_max))).attr("height",(t=>Math.max(0,e.yscale(t.ci_min)-e.yscale(t.ci_max)))).attr("opacity",(e=>this.opacity(e))).attr("fill-opacity",(e=>e===this.hoverBin&&e!==this.clickBin?.3:1));var o=t.selectAll("line").data(this.data,(e=>e.x1));o.exit().remove(),o=o.enter().append("line").merge(o),this.applyTransition(o,n).attr("x1",(t=>e.xscale(.95*t.x1+.05*t.x2))).attr("x2",(t=>e.xscale(.05*t.x1+.95*t.x2))).attr("y1",(t=>e.yscale(this.y(t)))).attr("y2",(t=>e.yscale(this.y(t)))).attr("opacity",(e=>this.opacity(e)))}y(e){return this.continuous?isFinite(e.y)?e.y:1:e.y/Math.max(e.y+e.n,1)}opacity(e){return this.continuous||e.y+e.n>0?1:0}initDrawGroup(e,t){super.initDrawGroup(e,t),e.svg.on("mousedown."+this.id,(()=>{this.clickBin=null,this.display(e,t,!1),this.cb()}))}getDataRange(){let e=0;for(let t of this.data)e=Math.max(e,t.ci_max);return[0,e]}}class zh extends lh{constructor(){super(),this.clickBin=null,this.hoverBin=null,this.hideEmpty=!1,this.minItemsPerBin=4,this.cb=!1}defaultClass(){return"calibration-group"}setBinaryData(e){var t=.005,n=[];if(this.hideEmpty=!0,e.length>=21*this.minItemsPerBin){for(;t<.12;)n.push({x1:t,x2:t+.04}),t+=.04;for(;t<.87;)n.push({x1:t,x2:t+.05}),t+=.05;for(;t<.99;)n.push({x1:t,x2:t+.04}),t+=.04}else if(e.length>=11*this.minItemsPerBin)for(;t<1;)n.push({x1:t,x2:t+.09}),t+=.09;else{if(!(e.length>0))return void(this.bins=[]);n=[{x1:.005,x2:.195},{x1:.195,x2:.395},{x1:.395,x2:.605},{x1:.605,x2:.805},{x1:.805,x2:.995}]}this.data=n;for(let e of n)e.n0=e.n1=0,e.ids={};for(let t of e){let e,i=qo()(n,{x1:t.p},"x1")-1,r=void 0===t.weight?1:t.weight;if(0===t.res)e="n0";else{if(1!==t.res)continue;e="n1"}i>=0&&i<n.length&&r>0&&(n[i][e]+=r,n[i].ids[t.id]=!0)}for(let e of n)e.n=e.n0+e.n1,e.avg=e.n>0?e.n1/e.n:.5,e.ci_max=0==e.n0?1:Mo().invIncBeta(.75,e.n1+.5,e.n0+.5),e.ci_min=0==e.n1?0:Mo().invIncBeta(.25,e.n1+.5,e.n0+.5)}setContinuousData(e){let t=[],n=0,i=e.length/this.minItemsPerBin;i=i>20?20:i>10?10:5;for(let e=0;e<i;e++)t.push({x1:e/i,x2:(e+1)/i,n:0,ids:{}});this.data=t,this.hideEmpty=!1;for(let i of e){let e=qo()(t,{x1:i.p},"x1")-1,r=void 0===i.weight?1:i.weight;e>=0&&e<t.length&&i.weight>0&&(t[e].n+=r,t[e].ids[i.id]=!0,n+=r)}if(n<=0)this.data=[];else for(let e of t){const t=e.n+1,r=n+1*i-t;e.avg=e.n/n,e.ci_max=e.n==n?1:Mo().invIncBeta(.75,t,r),e.ci_min=0==e.n?0:Mo().invIncBeta(.25,t,r),e.avg*=i,e.ci_max*=i,e.ci_min*=i}}display(e,t,n){var i=t.selectAll("rect").data(this.data,(e=>e.x1));i.exit().remove();var r=i.enter().append("rect");r.on("mouseenter",(n=>{this.cb&&(n.n>0||!this.hideEmpty)&&(this.hoverBin=n,this.display(e,t,!1),this.cb())})),r.on("mouseout",(n=>{this.cb&&this.hoverBin===n&&(this.hoverBin=null,this.display(e,t,!1),this.cb())})),r.on("mousedown",(n=>{this.cb&&(n.n>0||!this.hideEmpty)&&(Es.stopPropagation(),this.clickBin=this.clickBin===n?null:n,this.display(e,t,!1),this.cb())})),i=r.merge(i).classed("selected",(e=>e===(this.hoverBin||this.clickBin))),this.applyTransition(i,n).attr("x",(t=>e.xscale(.95*t.x1+.05*t.x2))).attr("width",(t=>Math.max(0,e.xscale(.9*(t.x2-t.x1))))).attr("y",(t=>e.yscale(t.ci_max))).attr("height",(t=>Math.max(0,e.yscale(t.ci_min)-e.yscale(t.ci_max)))).attr("opacity",(e=>this.hideEmpty&&0==e.n?0:1)).attr("fill-opacity",(e=>e===this.hoverBin&&e!==this.clickBin?.3:1));var o=t.selectAll("line").data(this.data,(e=>e.x1));o.exit().remove(),o=o.enter().append("line").merge(o),this.applyTransition(o,n).attr("x1",(t=>e.xscale(.95*t.x1+.05*t.x2))).attr("x2",(t=>e.xscale(.05*t.x1+.95*t.x2))).attr("y1",(t=>e.yscale(t.avg))).attr("y2",(t=>e.yscale(t.avg))).attr("opacity",(e=>this.hideEmpty&&0==e.n?0:1))}initDrawGroup(e,t){super.initDrawGroup(e,t),e.svg.on("mousedown."+this.id,(()=>{this.clickBin=null,this.display(e,t,!1),this.cb&&this.cb()}))}getDataRange(){let e=0;for(let t of this.data)e=Math.max(e,t.ci_max);return[0,e]}}class Vh extends sh{constructor(e){super(e),this.liveResize(),this.xscale.domain([0,1]),this.yscale.domain([0,1]),this.yAxis=new Dh("left").tickSize(5,3).tickFormat((e=>(100*e).toFixed(0)+"%")),this.xAxis=new Dh("bottom").fixedTicks(0,1,.25,4).tickSize(5,3).tickFormat((e=>(100*e).toFixed(0)+"%")),this.calibration=new zh,this.targetLine=new ph(0,1),this.addArtist(this.yAxis).addArtist(this.xAxis).addArtist(this.calibration,{clipped:!1}).addArtist(this.targetLine,{clipped:!0,classes:"dashed-line"})}setData(e){"binary"==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary")?(this.calibration.setBinaryData(e),this.targetLine.data=[[0,0],[1,1]],this.yAxis.label("Fraction resolved yes","-3.2em")):(this.calibration.setContinuousData(e),this.targetLine.data=[[0,1],[1,1]],this.yAxis.label("Relative frequency","-3.2em"))}}class Gh extends sh{constructor(e){super(e),this.liveResize(),this.xscale=cp(),this.baselineArtist=new ch,this.qptArtist=new Bh,this.movingAvgArtist=new ph("t","avg"),this.yAxis=new Dh("left").tickSpacing(40).tickSize(5,3).tickFormat((e=>e.toFixed(Math.abs(e)>10?0:1))),this.xAxis=new Dh("bottom").tickSpacing(60).tickSize(5,3).tickFormat("localdate"),this.addArtist(this.baselineArtist,{clipped:!0,classes:"dashed-line"}).addArtist(new bh,{clipped:!0}).addArtist(this.qptArtist,{clipped:!0}).addArtist(this.movingAvgArtist,{clipped:!0}).addArtist(this.yAxis).addArtist(this.xAxis),this.old_xscale=this.xscale.copy(),this.old_yscale=this.yscale.copy()}setData(e){this.old_xscale=this.xscale.copy(),this.old_yscale=this.yscale.copy(),this.baselineArtist.data=[e.baseline],this.qptArtist.data=e.records;let t=Math.min(.01*(e.maxDate-e.minDate),864e5);this.xscale.domain([new Date(e.minDate-t),new Date(+e.maxDate+t)]);let n=e.records.sort(((e,t)=>+e.t-t.t)),i=[];if(0==n.length);else{let t=n.length,r=n[0].y,o=1,a=.9*Math.tanh(.03*t),s=+n[0].t,l=+e.maxDate-s,u=0;for(let e=0;e<301;e++,s+=l/300){let e=new Date(s);for(;u+1<t&&e>=n[u+1].t;){let e=n[++u].y;null!==e&&(o*=a,r=(r*o+e)/++o)}i.push({t:e,avg:r})}}this.movingAvgArtist.data=i}}class Qh extends sh{constructor(e){super(e),this.liveResize(),this.xscale.domain([0,1]),this.xAxis=new Dh("bottom").tickSpacing(60).tickSize(5,3).tickFormat((e=>e.toFixed(1))),this.yAxis=new Dh("left").tickSpacing(30).tickSize(5,3).tickFormat((e=>(100*e).toFixed(0)+"%")).label("Frequency","-3.2em"),this.baselineArtist=new dh,this.histArtist=new mh,this.addArtist(this.xAxis).addArtist(this.yAxis).addArtist(this.baselineArtist,{clipped:!0,classes:"dashed-line"}).addArtist(this.histArtist)}setData(e){this.baselineArtist.data=[e.baseline];let t=[],n=[e.minVal],i=(e.maxVal-e.minVal)/25,r=1e-40;for(let r=1;r<=25;r++)n.push(e.minVal+r*i),t.push(0);function o(n,i){if(null===n)return;let o=n>=e.maxVal?24:n<=e.minVal?0:Math.floor(25*(n-e.minVal)/(e.maxVal-e.minVal));t[o]+=i,r+=i}for(let t of e.records)if(e.timeAvg&&t.hist&&t.hist.length>0)for(let e of t.hist)o(e.y,e.weight);else o(t.y,1);for(let e=0;e<25;e++)t[e]/=r;this.histArtist.setData(t,n)}}const Wh=36e5,Yh=Math.log(43800);class Kh{constructor(e,t){this.buildRecords(e),this.timeType="resolve_time",this.timeType2="timeFrac",this.timePrior=0,this.timeFrac=1,this.access="any",this.resolutionFilter="any",this.categories=[],this.categoriesAnd=[],this.categoriesNot=[],this.continuousCalibrationType="surprise",this.ptype=this.hasPlayerPredictions?"ppred":"mpred",this.scoreType="brier",this.date1=this.date2=null,this.timelineGraph=new Gh(t.select("#track-record-timeseries")),this.histogramGraph=new Qh(t.select("#track-record-histogram")),this.bCalGraph=new Vh(t.select("#track-record-binary-calibration")),this.cCalGraph=new Vh(t.select("#track-record-continuous-calibration"));let n={top:10,bottom:40,right:25,left:70};this.timelineGraph.margins=n,this.histogramGraph.margins=n,this.bCalGraph.margins=n,this.cCalGraph.margins=n,this.timelineGraph.clipPadding.top=-10,this.recordsById={},this.selectedId=null}get access(){return this._access}set access(e){this._access=e,"public"!=e&&(this.ptype="ppred")}get ptype(){return this._ptype}set ptype(e){this._ptype=e,"mpost"==e&&"end_time"!=this.timeType&&(this.timeType="resolve_time"),"pts"==this.scoreType&&"ppred"!=e&&(this.scoreType=this.hasBinary?"brier":this.hasContinuous?"log_continuous":this.hasDiscrete?"log_discrete":"pts")}get scoreType(){return this._scoreType}set scoreType(e){this._scoreType=e,("brier"==e&&"in-range"==this.resolutionFilter||"brier"==e&&"out-range"==this.resolutionFilter||"log_discrete"==e&&"in-range"==this.resolutionFilter||"log_continuous"==e&&"in-range"!=this.resolutionFilter)&&(this.resolutionFilter="any"),"pts"==e&&(this._ptype="ppred","end_time"!=this.timeType&&(this.timeType="resolve_time"))}get selectedPt(){return this.recordsById[this.selectedId]||null}set selectedPt(e){this.selectedId=e&&e.id||null}get timeSlider(){return"timeFrac"==this.timeType2?this.timeFrac:0==this.timePrior?1:1-Math.log(this.timePrior/Wh)/Yh}set timeSlider(e){"timeFrac"==this.timeType2?this.timeFrac=e:this.timePrior=1==e?0:Math.exp((1-e)*Yh)*Wh}get priorTimeStr(){if("timeFrac"==this.timeType2)return(100*this.timeFrac).toFixed(1)+"%";{let e=" hr",t=this.timePrior/36e5;return t>=23.5&&(t/=24,e=" day"),t>=364.5&&(t/=365,e=" yr"),t.toFixed(t<9.95?1:0)+e}}timeForRecord(e){if("all_time"==this.timeType)return e.resolve_time;if("other"==this.timeType&&"timeFrac"==this.timeType2){let t=+e.publish_time,n=+e.end_time-t;return new Date(t+this.timeFrac*n)}return"other"==this.timeType?new Date(+e.resolve_time-this.timePrior):e[this.timeType]}buildRecords(e){this.records=Ys()(e||[],(e=>e.resolution>=0)),this.usedCats={},this.hasPublic=!1,this.hasPrivate=!1,this.hasBinary=!1,this.hasDiscrete=!1,this.hasContinuous=!1,this.hasPlayerPredictions=!1,this.hasData=!!e;for(let e of this.records){e.url="/questions/".concat(e.id,"/"),e.resolve_time=new Date(e.resolve_time),e.close_time=new Date(e.close_time),e.publish_time=new Date(e.publish_time),e.end_time=e.close_time<e.resolve_time?e.close_time:e.resolve_time,this.hasPublic|="A"==e.status,this.hasPrivate|="V"==e.status,this.hasPlayerPredictions|=!!e.ppred;let t=e.possibilities.type;e.resolutionType=e.resolution<0?"ambiguous":"binary"==t&&0==e.resolution?"negative":"binary"==t&&1==e.resolution?"positive":"continuous"==t&&e.resolution<=1?"in-range":"continuous"==t&&e.resolution>1?"out-range":"ambiguous",this.hasBinary|="positive"==e.resolutionType||"negative"==e.resolutionType,this.hasDiscrete|="out-range"==e.resolutionType,this.hasContinuous|="in-range"==e.resolutionType;for(let t of e.categories||[])for(let e of Uh(t))this.usedCats[e]|=0,this.usedCats[e]++;if("continuous"==t)for(let t of e.ppred||[]){let n=ia(t),i=n.cdf(0),r=n.cdf(1);e.resolution<=1&&(t.pdf=n.pdf(e.resolution),t.cdf=(n.cdf(e.resolution)-i)/(r-i),t.odf=n.odf(e.resolution)/(r-i)),t.low=n.low,t.high=n.high}let n=[];for(let t of e.ppred||[]){for(t.t=t.t_back||t.t;n.length>0&&n[n.length-1].t>=t.t;)n.pop();n.push(t)}e.ppred=e.ppred&&n;let i=e=>e.pdf;"continuous"==t&&2==e.resolution?i=e=>e.low:"continuous"==t&&3==e.resolution?i=e=>1-e.high:"binary"==t&&0==e.resolution?i=e=>void 0!==e.x?1-e.x:1-e.q2:"binary"==t&&1==e.resolution&&(i=e=>void 0!==e.x?e.x:e.q2),e.minPDF=e.maxPDF=1;let r=t=>{if(!t||0==t.length)return null;let n=[],r=e.end_time;for(let o=t.length-1;o>=0;o--){let a=t[o],s=a.t_back||a.t;s=s&&new Date(1e3*s),!a||!s||s>r||(a.t2=r,r=a.t1=s,a.pdf=i(a),e.minPDF=Math.min(e.minPDF,a.pdf),e.maxPDF=Math.max(e.maxPDF,a.pdf),n.push(a))}if(n.reverse(),n.length>0){let t=n[n.length-1];n.push(Object.assign({},t,{t:+e.end_time,t1:e.end_time,t2:e.resolve_time}))}return n};e.ppred=r(e.ppred),e.cpred=r(e.cpred),e.mpred=r(e.mpred),e.mpost&&(e.mpost.pdf=i(e.mpost),e.minPDF=Math.min(e.minPDF,e.mpost.pdf),e.maxPDF=Math.max(e.maxPDF,e.mpost.pdf));let o=ba(e.possibilities);if(e.ppred&&e.ppred.length>0){let t=e.ppred[e.ppred.length-1],n=o.formatFullPrediction(t,{to:" to "});e.ppred.str=go(n)}if(e.cpred&&e.cpred.length>0){let t=e.cpred[e.cpred.length-1],n=o.formatFullCommunityPrediction(t,{to:" to "});e.cpred.str=go(n)}if(e.mpred&&e.mpred.length>0){let t=e.mpred[e.mpred.length-1],n=o.formatFullCommunityPrediction(t,{to:" to "});e.mpred.str=go(n)}if(e.mpost){let t=o.formatFullCommunityPrediction(e.mpost,{to:" to "});e.mpost.str=go(t)}e.resStr=go(o.formatResult(e.resolution))}this.hasDiscrete|=this.hasBinary,this.access=this.hasPublic?this.hasPrivate?this.access||"any":"public":"private"}filterRecord(e){var t={private:"V",public:"A"}[this.access];if(t&&e.status!=t)return!1;let n,i,r=e.resolutionType;if(e.resolution<0)return!1;if("any"!=this.resolutionFilter&&this.resolutionFilter!=r)return!1;if("log_continuous"==this.scoreType&&"in-range"!=r)return!1;if("log_discrete"==this.scoreType&&"in-range"==r)return!1;if("brier"==this.scoreType&&"positive"!=r&&"negative"!=r)return!1;if("all_time"==this.timeType?(n=e.publish_time,i=e.resolve_time):n=i=this.timeForRecord(e),this.date1&&this.date1>n||this.date2&&this.date2<i)return!1;if(this.categoriesNot.length)for(let t of this.categoriesNot)for(let n of e.categories||[])if(n.substr(0,t.length)===t)return!1;if(this.categories.length||this.categoriesAnd.length){let t=!1,n=!1;for(let n of this.categories)for(let i of e.categories||[])i.substr(0,n.length)===n&&(t=!0);for(let t of this.categoriesAnd)for(let i of e.categories||[])i.substr(0,t.length)===t&&(n=!0);return this.categories.length&&this.categoriesAnd.length?t&&n:t||n}return!0}updateGraphData(){let e=Ys()(this.records,this.filterRecord.bind(this)),t=[],n=[],i=[],r=0,o=0,a="all_time"==this.timeType;this.recordsById={},this.numBinaryQs=0,this.numContinuousQs=0;let s=null,l=0,u=1,c=0,d=0,p=0,h=new Date;switch(this.scoreType){case"brier":p=.25,s=e=>(1-e)*(1-e);break;case"log_discrete":c=.1,s=e=>1+Math.log2(e+.001);break;case"log_continuous":l=-1,c=d=.1,s=e=>Math.log2(e+.001);break;case"pts":l=-83,u=83,c=d=.1}for(let c of e){let e,d,p={id:c.id,t:this.timeForRecord(c),cls:c.resolutionType,y:null,flat:"ppred"==this.ptype};if("pts"==this.scoreType){if(null===c.points_won||void 0===c.points_won)continue;p.y=c.points_won,l=Math.min(l,c.points_won),u=Math.max(u,c.points_won),h=Math.min(+h,+p.t),r+=c.points_won,o++}else if("mpost"==this.ptype){if(!c.mpost)continue;p.y=s(c.mpost.pdf),l=Math.min(l,s(c.minPDF)),u=Math.max(u,s(c.maxPDF)),h=Math.min(+h,+p.t),r+=p.y,o++}else{let e="mpred"==this.ptype?c.mpred||c.cpred:c[this.ptype];if(!e||0==e.length)continue;l=Math.min(l,s(c.minPDF)),u=Math.max(u,s(c.maxPDF)),p.hist=[];let t=+c.resolve_time-e[0].t1,n=0,i=0;for(let r=0;r<e.length;r++){let o=e[r],l=o.t1<p.t&&p.t<=o.t2,u={t1:o.t1,t2:o.t2,y:o.void?null:s(o.pdf),weight:o.void?0:a?(+o.t2-o.t1)/t:l?1:0};if(n+=u.weight,p.flat||r+1>=e.length)i+=u.y*u.weight,l&&(p.y=u.y);else{let t=s(e[r+1].pdf);i+=.5*(u.y+t)*u.weight,l&&(p.y=u.y+(t-u.y)*(+p.t-u.t1)/(+u.t2-u.t1))}p.hist.push(u)}if(null===p.y)continue;if(c.ppred&&c.ppred[0]&&c.ppred[0].t1>p.t)continue;a&&n>0&&(p.y=i/n),r+=i,o+=n,h=Math.min(+h,+p.hist[0].t1)}if(t.push(p),this.recordsById[c.id]=c,"binary"==c.possibilities.type)this.numBinaryQs++,e=n,d=e=>1==c.resolution?e.pdf:1-e.pdf;else{if("in-range"!=c.resolutionType)continue;this.numContinuousQs++,e=i,d="cdf"==this.continuousCalibrationType?e=>e.cdf:e=>1-e.odf}if("mpost"==this.ptype)e.push({id:c.id,p:d(c.mpost),res:c.resolution,weight:1});else{let t="mpred"==this.ptype?c.mpred||c.cpred:c[this.ptype];if(!t||0==t.length)continue;let n=+c.resolve_time-t[0].t1;for(let i of t)e.push({id:c.id,p:d(i),res:c.resolution,weight:i.void?0:a?(+i.t2-i.t1)/n:i.t1<p.t&&p.t<=i.t2?1:0})}}{let e=0,t=0,r=0,o=0;for(let i of n){let n=1==i.res?1-i.p:i.p,r=n-.5;e+=i.weight*n*r,t+=i.weight*r*r}for(let e of i)r+=e.weight,o+=e.weight*e.p;this.bCalOverconfidence=t>0?e/t:0,this.cCalAvg=r>0?o/r:.5}if(this.timelineGraph.setData({baseline:p,records:t,minDate:this.date1||new Date(h),maxDate:this.date2||new Date}),this.histogramGraph.setData({baseline:p,minVal:l,maxVal:u,records:t,timeAvg:a}),this.bCalGraph.setData(n,"binary"),this.cCalGraph.setData(i,"continuous"),"brier"==this.scoreType)this.timelineGraph.yscale.domain([1,0]),this.histogramGraph.xscale.domain([1,0]);else{let e=u-l;l-=e*c,u+=e*d,this.timelineGraph.yscale.domain([l,u]),this.histogramGraph.xscale.domain([l,u])}this.histogramGraph.updateYRange({minRange:[0,void 0]}),this.cCalGraph.updateYRange({minRange:[0,1]}),this.numQuestions=t.length,this.avgScore=o>0?r/o:0}displayGraphs(e){this.timelineGraph.yAxis.label({mpred:"Metaculus ",mpost:"Metaculus (post) ",cpred:"Community ",ppred:"Player "}[this.ptype]+{brier:"Brier score",log_discrete:"Log score",log_continuous:"Log score",pts:"points won"}[this.scoreType],"-3.2em"),this.timelineGraph.xAxis.label({end_time:"Closing time",all_time:"Closing time",resolve_time:"Resolution time",other:"Time"}[this.timeType],"2.5em"),this.bCalGraph.xAxis.label({mpred:"Metaculus prediction",mpost:"Metaculus postdiction",cpred:"Community prediction",ppred:"Player prediction"}[this.ptype],"2.5em"),this.cCalGraph.xAxis.label({mpred:"Metaculus prediction ",mpost:"Metaculus postdiction ",cpred:"Community prediction ",ppred:"Player prediction "}[this.ptype]+{cdf:"CDF",surprise:"surprisal"}[this.continuousCalibrationType],"2.5em"),this.histogramGraph.xAxis.label({brier:"Brier scores",log_discrete:"Discrete log scores",log_continuous:"Continuous log scores",pts:"Points won"}[this.scoreType]+" for "+{mpred:"Metaculus predictions",mpost:"Metaculus postdictions",cpred:"community predictions",ppred:"player predictions"}[this.ptype],"2.5em"),this.timelineGraph.display(e),this.histogramGraph.display(e),this.bCalGraph.display(e),this.cCalGraph.display(e)}}function Zh(e,t,n){var i=e.data=new Kh(window.metacData.trackRecord,Us(t[0]));e.user=To,e.modals=Ks,e.hasPlayerRecord=!!n.playerId,e.hasTimeline=function(){var e=To.powers;return i.records.length>0&&(!n.playerId||e&&e.track_record.active)},e.hasHistogram=function(){var e=To.powers;return i.records.length>0&&(!n.playerId||e&&e.track_record_histogram.active)},e.hasBinaryCalibration=function(){var e=To.powers;return i.hasBinary&&["brier","log_discrete","pts"].indexOf(i.scoreType)>=0&&(!n.playerId||e&&e.track_record_calibration.active)},e.hasContinuousCalibration=function(){var e=To.powers;return i.hasContinuous&&["log_continuous","pts"].indexOf(i.scoreType)>=0&&(!n.playerId||e&&e.track_record_calibration.active)},e.hasGraphs=function(){return e.hasTimeline()||e.hasHistogram()||e.hasBinaryCalibration()||e.hasContinuousCalibration()},e.intro=function(){return n.playerId&&!i.hasData?"purchase":0==i.records.length&&e.playerId==To.id?"no-user-preds":0==i.records.length&&n.playerId?"no-player-preds":0==i.records.length?"no-preds":To.powers&&!e.hasHistogram()?"no-histogram":!To.powers||e.hasBinaryCalibration()||e.hasContinuousCalibration()?"no-intro":"no-calibration"},e.usedCats=function(e){return i.usedCats[e.id]},e.showTimeline=e.showHistogram=e.showBinaryCalibration=e.showContinuousCalibration=!0,e.purchaseTrackRecord=function(){return Ir.post("/api2/users/".concat(e.playerId,"/purchase-track-record/")).then((function(e){i.buildRecords(e.data.records),Ks.setActive(null)})).catch((function(t){e.purchaseError=t.data.error}))},e.hasScoreType=function(e){var t=i.hasDiscrete||i.hasContinuous;switch(e){case"brier":return i.hasBinary||!t;case"log_discrete":return i.hasDiscrete||!t;case"log_continuous":return i.hasContinuous||!t;case"pts":return i.hasPlayerPredictions}},i.timelineGraph.qptArtist.cb=function(){var t=i.timelineGraph.qptArtist;e.$apply((function(){i.selectedPt=t.hoverPt||t.clickPt}))},i.bCalGraph.calibration.cb=function(){var e=i.bCalGraph.calibration,t=e.hoverBin||e.clickBin;i.timelineGraph.qptArtist.selectedIdx1=t&&t.ids||{},i.timelineGraph.display(!1)},i.cCalGraph.calibration.cb=function(){var e=i.cCalGraph.calibration,t=e.hoverBin||e.clickBin;i.timelineGraph.qptArtist.selectedIdx2=t&&t.ids||{},i.timelineGraph.display(!1)};var r=!1,o=!1,a=!1;function s(){(r||o)&&e.$apply((()=>{o&&i.updateGraphData(),i.displayGraphs(a),r=!1,o=!1,a=!0}))}e.$watchCollection((()=>[i.timeType,i.timeType2,i.timePrior,i.timeFrac,i.access,i.resolutionFilter,i.categories,i.categoriesAnd,i.categoriesNot,i.continuousCalibrationType,i.ptype,i.scoreType,i.date1,i.date2]),(function(){o=!0,setTimeout(s)})),e.$watchCollection((()=>[i.timeFrac,i.timePrior]),(function(){a=!1})),e.$watchCollection((()=>[e.hasGraphs(),e.showTimeline,e.showHistogram,e.showBinaryCalibration&&e.hasBinaryCalibration(),e.showContinuousCalibration&&e.hasContinuousCalibration()]),(function(){r=!0,setTimeout(s)})),e.$on("$destroy",(function(){i.timelineGraph.cleanup()}))}function Jh(e,t,n){t.addClass("track-record-graph"),t.addClass("narrow-graph");var i=new sh(t[0]).liveResize();i.xscale.domain([0,1]),i.yscale.domain([0,1]),i.addArtist(new Dh("left").fixedTicks(0,1,.25,4).tickFormat((e=>(100*e).toFixed(0)+"%")).label("Fraction resolved yes","-3.2em")),i.addArtist(new Dh("bottom").fixedTicks(0,1,.25,4).tickFormat((e=>(100*e).toFixed(0)+"%")).label("Your prediction","2.5em"));var r=new Hh(!1),o=new ph(0,1);o.data=[[0,0],[1,1]],i.addArtist(r,{clipped:!0}),i.addArtist(o,{clipped:!0,classes:"dashed-line"}),i.margins={top:10,bottom:40,right:70,left:70};var a=!1,s=.005,l=[];if("small"==n.binSize)for(;s<.99;)l.push({x1:s,x2:s+.01}),s+=.01;else if("medium"==n.binSize){for(;s<.12;)l.push({x1:s,x2:s+.04}),s+=.04;for(;s<.87;)l.push({x1:s,x2:s+.05}),s+=.05;for(;s<.99;)l.push({x1:s,x2:s+.04}),s+=.04}else for(;s<1;)l.push({x1:s,x2:s+.09}),s+=.09;r.data=l,e.$watch("tutorial.activeQuestion.hasPredicted",(function(){for(let e of l)e.y=e.n=0;for(let t of e.tutorial.questions)if(t.hasPredicted&&"binary"==t.possibilities.type){let e=qo()(l,{x1:t.fixedPrediction},"x1")-1;e>=0&&e<l.length&&(l[e].y+=t.resolution,l[e].n+=1-t.resolution)}for(let e of l)e.ci_max=0==e.n?1:Mo().invIncBeta(.75,e.y+.5,e.n+.5),e.ci_min=0==e.y?0:Mo().invIncBeta(.25,e.y+.5,e.n+.5);i.display(a),a=!0})),e.$on("$destroy",(function(){i.cleanup()}))}pi.directive("metacTrackRecord",(function(){return{scope:{playerId:"=",playerName:"@"},restrict:"A",link:Zh,template:'<p ng-if="intro() === \'purchase\'"> <button class="btn _centered _semi-bright" ng-click="modals.setActive(\'purchase-track-record\')"> View the track record </button> </p> <p ng-if="intro() === \'no-user-preds\'" class="dark"> <em>{{"trackRecordNoUserPredictions" | translate}}</em> </p> <p ng-if="intro() === \'no-player-preds\'" class="dark"> <em>None of this {{playerName}}\'s predictions have resolved yet, so they don\'t have a track record.</em> </p> <p ng-if="intro() === \'no-preds\'" class="dark"> <em>No predictions have resolved yet, so there is no track record.</em> </p> <p ng-if="intro() === \'no-histogram\'"> At level {{user.powers.track_record_histogram.level_req}} you\'ll be able to see histograms of all scores, and at level {{user.powers.track_record_calibration.level_req}} you\'ll get access to calibration plots as well. </p> <p ng-if="intro() === \'no-calibration\'"> At level {{user.powers.track_record_calibration.level_req}} you\'ll get access to calibration plots as well. </p> <metac-modal name="purchase-track-record"> <h4>Purchase <em>{{playerName}}</em>\'s track record</h4> <p class="dark"> With a hefty dose of tachyons, you can peek into another player\'s history and scrutinize their predictive prowess. </p> <ajax-button class="btn _bright _centered" submit="purchaseTrackRecord()">Purchase</ajax-button> <div class="power-up__error">{{purchaseError}}</div> <p style="text-align:center"> Cost: <strong>{{user.powers.buy_player_record.cost | plural:\'tachyon\':\'tachyons\'}}</strong>. Lasts 24 hours. </p> <p style="text-align:center"> Available tachyons: <strong>{{user.tachyons}}</strong> </p> </metac-modal> <div class="track-record-options" ng-if="hasGraphs()"> <div class="track-record-options--top"> <span class="select-wrapper"> <select ng-model="data.scoreType"> <option value="brier" ng-if="hasScoreType(\'brier\')">Brier score</option> <option value="log_discrete" ng-if="hasScoreType(\'log_discrete\')"> Log score (discrete) </option> <option value="log_continuous" ng-if="hasScoreType(\'log_continuous\')"> Log score (continuous) </option> <option value="pts" ng-if="hasScoreType(\'pts\')">Points won</option> </select> </span> <span>for the</span> <span class="select-wrapper"> <select ng-model="data.ptype"> <option value="ppred" ng-if="hasPlayerRecord">player prediction</option> <option value="cpred" ng-if="data.access!=\'private\'"> community prediction </option> <option value="mpred" ng-if="data.access!=\'private\'"> Metaculus prediction </option> <option value="mpost" ng-if="data.access!=\'private\'"> Metaculus postdiction </option> </select> </span> <span>evaluated at</span> <span class="select-wrapper"> <select ng-model="data.timeType"> <option value="all_time" ng-if="data.ptype!=\'mpost\' && data.scoreType!=\'pts\'"> all times </option> <option value="resolve_time">resolve time</option> <option value="end_time">close time</option> <option value="other" ng-if="data.ptype!=\'mpost\' && data.scoreType!=\'pts\'"> other time… </option> </select> </span> </div> <p class="dark" ng-if="data.timeType==\'all_time\'"> Each point is displayed at its average value over the lifetime of the question, and, if the prediction has changed, it is spread across multiple bins in the histogram and calibration plots. </p> <div ng-if="data.timeType==\'other\'" class="track-record-options--other-time-type"> <span class="select-wrapper"> <select ng-model="data.timeType2"> <option value="timeFrac">fraction of question lifetime</option> <option value="timePrior">prior to resolve time</option> </select> </span> <input type="range" min="0" max="1" step="0.001" ng-model="data.timeSlider"/> <span>{{data.priorTimeStr}}</span> </div> <div detail-box="Show Filter"> <div class="track-record-options--filter"> <span ng-if="data.hasPublic && data.hasPrivate" class="select-wrapper"><select ng-model="data.access"> <option value="public">Public questions</option> <option value="private">Private questions</option> <option value="any">Public and private questions</option> </select></span> <span ng-if="data.scoreType!=\'log_continuous\'" class="select-wrapper"><select ng-model="data.resolutionFilter"> <option value="any">Any resolution</option> <option value="positive">Positive resolution</option> <option value="negative">Negative resolution</option> <option value="in-range" ng-if="data.scoreType==\'pts\'"> Resolution in range (continuous) </option> <option value="out-range" ng-if="data.scoreType!=\'brier\'"> Resolution out of range (continuous) </option> </select></span> <span>date range <input type="date" ng-model="data.date1"/> – <input type="date" ng-model="data.date2"/></span> </div> <div class="track-record-category-filter"> <div> <h5>Categories include<br/>(at least one of)</h5> <category-picker category-ids="data.categories" restrict-to="usedCats" prompt="{{data.categories.length ? \'Additional categories to include\' : \'All categories\'}}"></category-picker> </div> <div> <h5>Categories also include<br/>(at least one of)</h5> <category-picker category-ids="data.categoriesAnd" restrict-to="usedCats" prompt="{{data.categoriesAnd.length ? \'Additional categories to include\' : \'All categories\'}}"></category-picker> </div> <div> <h5>&nbsp;<br/>Excluded categories</h5> <category-picker category-ids="data.categoriesNot" restrict-to="usedCats" prompt="{{data.categoriesAnd.length ? \'Additional categories to exclude\' : \'None excluded\'}}"></category-picker> </div> </div> </div> </div> <div class=""> <div ng-show="hasTimeline()" class="track-record-subsection"> <h3 class="subsection-header" toggle-details="showTimeline">Timeline</h3> <div class="track-record-qstats" ng-if="showTimeline"> <span>Total questions: <strong>{{data.numQuestions}}</strong></span> <span>Average score: <strong>{{data.avgScore | abbrNumber}}</strong></span> </div> <svg id="track-record-timeseries" class="track-record-graph" ng-show="showTimeline"></svg> <div class="track-record-question" ng-class="{\'long-record\': hasPlayerRecord}" ng-if="!data.selectedPt && showTimeline"></div> <ul class="track-record-question" ng-class="{\'long-record\': hasPlayerRecord}" ng-if="data.selectedPt && showTimeline"> <li> <a ng-href="{{data.selectedPt.url}}">{{data.selectedPt.title}}</a> </li> <li> Resolution: <strong bind-trusted-html="data.selectedPt.resStr" class="_resolution {{data.selectedPt.cls}}"></strong> </li> <li ng-if="data.selectedPt.ppred.str"> Player prediction: <strong bind-trusted-html="data.selectedPt.ppred.str"></strong> </li> <li ng-if="data.selectedPt.cpred.str"> Community prediction: <strong bind-trusted-html="data.selectedPt.cpred.str"></strong> </li> <li ng-if="data.selectedPt.mpred.str"> Metaculus prediction: <strong bind-trusted-html="data.selectedPt.mpred.str"></strong> (<span bind-trusted-html="data.selectedPt.mpost.str"></span> postdiction) </li> </ul> </div> <div ng-show="hasHistogram()" class="track-record-subsection"> <h3 class="subsection-header" toggle-details="showHistogram"> Score Histogram </h3> <div class="track-record-qstats" ng-if="showHistogram"> <span>Total questions: <strong>{{data.numQuestions}}</strong></span> <span>Average score: <strong>{{data.avgScore | abbrNumber}}</strong></span> </div> <svg id="track-record-histogram" class="track-record-graph _short" ng-show="showHistogram"></svg> </div> <div ng-show="hasBinaryCalibration()" class="track-record-subsection"> <h3 class="subsection-header" toggle-details="showBinaryCalibration"> Binary Calibration </h3> <div class="track-record-qstats" ng-if="showBinaryCalibration"> <span>Total questions: <strong>{{data.numBinaryQs}}</strong></span> <span ng-if="data.bCalOverconfidence >= 0">Overconfidence: <strong>{{data.bCalOverconfidence | percent}}</strong></span> <span ng-if="data.bCalOverconfidence < 0">Underconfidence: <strong>{{-data.bCalOverconfidence | percent}}</strong></span> </div> <svg id="track-record-binary-calibration" class="track-record-graph" ng-show="showBinaryCalibration"></svg> <div class="track-record-details" ng-class="{collapsed:!tsDetails}" ng-if="showBinaryCalibration"> <div detail-box="Details"> <p> The binary prediction calibration graph shows how often a prediction at a particular percentage actually resolves positively. This is accomplished by placing the predictions into different bins, and counting up the number of positive resolutions in each prediction range. For example, if a perfectly calibrated predictor (represented by the dashed line) predicts 80% on 10 different questions, then we expect that 8 out of those 10 would resolve positively. On the other hand an <em>ideal</em> predictor would only predict with absolute certainty and would be correct every time, and so wouldn\'t have any data at all for the center of the graph. </p> <p> The thick gray line in each bin shows that bin\'s proportion of positive predictions. The vertical range of each bin corresponds to the 50% <a href="https://en.wikipedia.org/wiki/Binomial_proportion_confidence_interval#Jeffreys_interval">Jeffreys confidence interval</a>. </p> <p> The over- (or under-)confidence score shows how much the predictions would need to be rescaled in order to optimize the average Brier score. An overconfidence score of 100% means that the predictor would have been better off predicting 50% for each question, and an overconfidence of 200% means that the predictor would have better off making the <em>opposite</em> prediction for each question. Overconfidence is defined as <script type="math/tex;mode=display"> OC = \\frac{  \\sum_i (p(r_i) - 1) (p(r_i) - ½)  }{  \\sum_i (p(r_i) - ½)^2  }, <\/script> where <script type="math/tex"> p(r_i) <\/script> is the predicted probability of each resolved outcome <script type="math/tex"> r_i <\/script> . Underconfidence is just the negative of overconfidence. If a predictor is overconfident, then they should try to make fewer risky predictions. If a predictor is underconfident, then they should take more risky predictions, and not be afraid to get a few wrong. </p> </div> </div> </div> <div ng-show="hasContinuousCalibration()" class="track-record-subsection"> <h3 class="subsection-header" toggle-details="showContinuousCalibration"> Continuous Calibration </h3> <p class="track-record-options--top" ng-if="showContinuousCalibration"> <label for="continuous-calibration-type-select"> Function: </label> <span class="select-wrapper"><select id="continuous-calibration-type-select" ng-model="data.continuousCalibrationType"> <option value="surprise">Surprisal</option> <option value="cdf">Cumulative distribution function (CDF)</option> </select></span> </p> <div class="track-record-qstats" ng-if="showContinuousCalibration"> <span>Total questions: <strong>{{data.numContinuousQs}}</strong></span> <span>Average {{data.continuousCalibrationType == \'cdf\' ? \'CDF\' : \'Surprisal\'}}: <strong>{{data.cCalAvg | percent}}</strong></span> </div> <svg id="track-record-continuous-calibration" class="track-record-graph" ng-show="showContinuousCalibration"></svg> <div class="track-record-details" ng-class="{collapsed:!tsDetails}" ng-if="showContinuousCalibration"> <div detail-box="Details"> <p> The continuous calibration graph shows how under- or overconfident different predictions tend to be. In addition, it can show you whether the predictions overshoot or undershoot the resolution values. </p> <p> For each continuous prediction that resolves within range, we calculate the prediction\'s <em>surprisal</em> and <em>cumulative distribution function</em> at the resolution value. We define the surprisal at the resolution to be the total probability assigned to all possible (in-range) resolution values that were thought to be more likely than the resolution itself. A resolution at the mode (peak) of the distribution has a surprisal of zero, whereas a resolution at the minimum of the distribution is maximally surprising. A well-calibrated predictor will have surprisal values uniformly distributed from 0% to 100%. If most resolutions are unsurprising, then the predictions are underconfident; they are so broad that their tails are underpopulated. Conversely, if most resolutions are highly surprising, then the predictions are overconfident; the peaks are too narrow to contain many actual resolutions. The average surprisal for a set of well-calibrated predictions should be close to 50%. </p> <p> The <a href="https://en.wikipedia.org/wiki/Cumulative_distribution_function">cumulative distribution function</a> at the resolution value is defined to be the total probability assigned to all possible (in-range) resolution values that were less than the resolution itself. Like the surprisal, a well-calibrated predictor will find CDF values to be uniformly distributed, and the average value should be 50%. A low CDF means that the resolution was lower than the predictor thought that it would be; conversely, a high CDF means that the resolution was higher than expected. </p> <p> In both cases, the surprisal and CDF of each prediction are assigned to bins. The average density of each is measured relative to a well-calibrated predictor (uniform CDF and surprisal) and shown as a thick gray line across each bin. The error bars are calculated by modeling the number of items in each bin as draws from an unknown categorical distribution with a <a href="https://en.wikipedia.org/wiki/Dirichlet_distribution">Dirichlet prior distribution</a> (α<sub>i</sub> = &frac12;). The error shown is the 50% confidence interval for the mean of the categorical distribution, calculated similarly to the <a href="https://en.wikipedia.org/wiki/Binomial_proportion_confidence_interval#Jeffreys_interval">Jeffreys confidence interval</a> used in binary calibration. </p> <p> Note that probabilities for values outside of the prediction ranges are discarded before the surprisal and CDF are calculated, and only resolutions that lie within the prediction range are used in calibration. </p> </div> </div> </div> </div> '}})),pi.directive("tutorialCalibration",(()=>({link:Jh,restrict:"A"}))),pi.directive("ajaxButton",(function(){return{restrict:"E",replace:!0,transclude:!0,scope:{submit:"&",animate:"=",isDisabled:"=",runScopeApply:"="},template:'<button class="button ajax-button" ng-disabled="isDisabled || isSubmitting" ng-click="btnSubmit()"> <span ng-transclude ng-style="{opacity: animate && isSubmitting ? 0 : 1}"></span> <svg class="loading-animation" ng-if="animate && isSubmitting"></svg> </button> ',link:function(e){e.isSubmitting=!1,e.btnSubmit=function(){e.isSubmitting||(e.isSubmitting=!0,Fr.when(e.submit()).finally((function(){e.isSubmitting=!1})))}}}})),pi.directive("categoryPicker",(function(){return{restrict:"E",replace:!0,template:'<div class="category-picker"> <div> <input class="input" type="text" angular-tribute-dropdown tribute="tributeInstance" values="categoryList" add-category="addCategory" id="categoryPickerInput" ng-model="inputText"/> </div> <p class="max-categories" ng-if="categoryIds.length >= maxCategories"> No more than 5 categories are allowed. </p> <ul class="mt-4"> <li ng-if="categoryIds.length == 0" class="no-categories"> No selected categories </li> <li style="display:flex;align-items:center" ng-repeat="catid in categoryIds"> {{categoryMap[catid].long_name}} <svg class="action" icon-name="remove" ng-click="removeCategory(catid)"></svg> </li> </ul> </div> ',scope:{categoryIds:"=",prompt:"@",maxCategories:"=",restrictTo:"="},link:function(e){e.categoryMap={},e.categoryList=Rh,Rh.load(),e.categoryIds||(e.categoryIds=[]),e.addCategory=function(t){e.canAddCategory(t)&&(-1==e.categoryIds.indexOf(t)&&(e.categoryIds.push(t),e.categoryIds.sort()),e.categoryIds=e.categoryIds.slice()),e.selectedCategory=null,e.inputText=null},e.removeCategory=function(t){var n=e.categoryIds.indexOf(t);n>=0&&(e.categoryIds.splice(n,1),e.categoryIds=e.categoryIds.slice())},e.canAddCategory=function(t){var n=e.selectedCategory||t;return n&&-1===e.categoryIds.indexOf(n.id)&&(!e.maxCategories||e.categoryIds.length<e.maxCategories)},e.$watchCollection("categoryList",(function(){for(var t of(e.categoryMap={},e.categoryList))e.categoryMap[t.id]=t}))}}})),pi.directive("metacCheckbox",(function(){return{restrict:"E",transclude:!0,replace:!0,template:'<label class="checkbox" for="{{ name }}" ng-class="{disabled:disabled}"> <input type="checkbox" class="checkbox" name="{{ name }}" id="{{ name }}" ng-disabled="disabled" ng-model="checked" ng-click="toggle()"/> <svg ng-if="checked" width="16" height="16"> <path d="M0.888889 0H15.1111C15.3469 0 15.573 0.0936505 15.7397 0.260349C15.9064 0.427048 16 0.653141 16 0.888889V15.1111C16 15.3469 15.9064 15.573 15.7397 15.7397C15.573 15.9064 15.3469 16 15.1111 16H0.888889C0.653141 16 0.427048 15.9064 0.260349 15.7397C0.0936505 15.573 0 15.3469 0 15.1111V0.888889C0 0.653141 0.0936505 0.427048 0.260349 0.260349C0.427048 0.0936505 0.653141 0 0.888889 0ZM1.77778 1.77778V14.2222H14.2222V1.77778H1.77778ZM7.11378 11.5556L3.34222 7.784L4.59911 6.52711L7.11378 9.04178L12.1413 4.01333L13.3991 5.27022L7.11378 11.5556Z" fill="currentColor"></path> </svg> <svg ng-if="!checked" width="16" height="16"> <path d="M0.888889 0H15.1111C15.3469 0 15.573 0.0936505 15.7397 0.260349C15.9064 0.427048 16 0.653141 16 0.888889V15.1111C16 15.3469 15.9064 15.573 15.7397 15.7397C15.573 15.9064 15.3469 16 15.1111 16H0.888889C0.653141 16 0.427048 15.9064 0.260349 15.7397C0.0936505 15.573 0 15.3469 0 15.1111V0.888889C0 0.653141 0.0936505 0.427048 0.260349 0.260349C0.427048 0.0936505 0.653141 0 0.888889 0ZM1.77778 1.77778V14.2222H14.2222V1.77778H1.77778Z" fill="currentColor"></path> </svg> <span ng-transclude>Checkbox label</span> </label> ',scope:{toggle:"&",name:"@",checked:"=",disabled:"="},link:function(e,t){e.model||(e.model=null)}}})),pi.directive("metacRadio",(function(){return{restrict:"E",transclude:!0,replace:!0,template:'<label class="radio-control" ng-class="{\'radio-control--disabled\':disabled, \'radio-control--small\': isSmall}"> <input type="radio" name="{{ name }}" ng-disabled="disabled" ng-checked="checked"/> <span ng-transclude>Radio label text</span> </label> ',scope:{name:"@",checked:"=",disabled:"=",isSmall:"@"},link:function(e,t){}}}));var Xh,ef=JSON.parse('{"linear":["263038","2b363d","2f3d42","324347","354a4c","3c5452","47625b","507163","5a806a","649070"],"linear_border":"#4A5D59","staff_color":"#6E8CA7"}'),tf=JSON.parse('{"linear":["fdfdfd","f3f8f4","e9f2ea","dfede0","d5e8d6","cbe3cb","c0dfc1","b6dab6","abd6ab","a0d1a0"],"linear_border":"#C7EBC7","staff_color":"#758EA9"}'),nf=JSON.parse('{"divergent":["ca0e05","c52514","c03320","ba3d2a","b54633","af4d3c","a95444","a35a4b","9d5f53","96645a","906860","8a6c66","84706c","7e7371","787676","747574","6d706d","656b66","5e665f","576259","505d52","49584b","415444","3a4f3d","324a36","2a462f","224128","193c21","0f3819","033312"],"linear":["839fbe","809db5","7d9aad","7998a5","76969e","729397","6d9190","688f89","638d81","5d8b7a","578a72","518869","4b8660","448457","3e824d","378043","2f7e38","287c2c","207a1f","16780c","127202","126904","116005","105805","0e4f05","0b4705","093e04","063602","032d01","012500"],"staff_color":"#EC7607"}');Xh=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";var rf=window.metacData.colorScheme||Xh,of=window.metacData.colorSchemeCounted;function af(e){var t=window.document.getElementsByTagName("body")[0];t.classList.remove("theme-"+rf),t.classList.add("theme-"+e),rf=e,window.document.cookie="colorScheme=".concat(e,"; SameSite=Lax; path=/; expires=Tue, 19 Jan 2038 03:14:06 UTC; "),window.ga("send","event","colorScheme","change",rf)}function sf(){return of||(window.ga("send","event","colorScheme","track",rf),window.document.cookie="colorSchemeCounted=true; SameSite=Lax; path=/; expires=Tue, 19 Jan 2038 03:14:06 UTC; ",of=!0),rf}function lf(){switch(sf()){case"finance":return nf;case"dark":return ef;default:return tf}}function uf(e,t){e=Math.max(0,Math.min(e,1));var n=t.length-1,i=Math.floor(e*n),r=Math.ceil(e*n),o=e*n-i,a=(e,t)=>parseInt(e.slice(t,t+2),16),s=e=>(e=>(e<15.5?"0":"")+Math.round(e).toString(16))((1-o)*a(t[i],e)+o*a(t[r],e));return"#"+s(0)+s(2)+s(4)}var cf={pts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:70;return uf(((e<0?-Math.sqrt(e/t):Math.sqrt(e/n))+1)/2,lf().divergent)},level(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;if("staff"==e||"∞"==e)return lf().staff_color;var n=((e=Math.max(1,Math.min(e,t)))-1)/(t-1);return uf(n=Math.pow(n,.5),lf().linear)},levelBorder:e=>"staff"==e||"∞"==e?lf().staff_color:lf().linear_border,commentLikes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return uf(.7*(1-Math.pow(2,-e/t||0)),lf().linear)}};pi.directive("cmap",(function(){return{restrict:"A",scope:{cval:"="},link:function(e,t,n){var i=cf[n.cmap],r=n.cstyle||"color";e.$watchGroup(["cval",sf],(function(){t[0].style.setProperty(r,i(e.cval)),"level"==n.cmap&&t[0].style.setProperty("--level-border",cf.levelBorder(e.cval))}))}}})),pi.directive("contextMenu",["$document",function(e){return{restrict:"E",template:'<span class="context-menu" ng-class="uniqueId"> <svg ng-if="icon == \'ellipsis\'" icon-name="ellipsis" ng-click="toggle()" ng-class="{\'active\': isOpen}"></svg> <svg ng-if="icon == \'share\'" icon-name="share" ng-click="toggle()" ng-class="{\'active\': isOpen}"></svg> <ul ng-if="isOpen" ng-click="close()"> <ng-transclude></ng-transclude> </ul> </span> ',transclude:!0,link:function(t,n){t.uniqueId="id"+Math.random().toString(16).slice(2),t.isOpen=!1,t.toggle=function(){t.isOpen=!t.isOpen},t.close=function(){t.isOpen=!1},e.bind("click",(function(e){t.isOpen&&(e.target.closest(".context-menu."+t.uniqueId)||t.$apply((()=>{t.isOpen=!1})))}))},scope:{items:"=",icon:"@"}}}]);var df=n(8751);class pf{constructor(e,t){this.el=e,this.doc=t,this.handler={}}on(e,t){return this.el.on(e,t)}getSelection(){var e=this.el[0];if(this.doc.activeElement==e){var t=e.selectionStart,n=e.selectionEnd;return null!=t&&null!=n?{start:t,end:n}:this.getSelectionIE()}}getSelectionIE(){var e=this.el[0],t=this.doc.selection.createRange().getBookmark(),n=e.createTextRange(),i=n.duplicate();n.moveToBookmark(t),i.setEndPoint("EndToStart",n);var r=i.text.length;return{start:r,end:r+n.text.length}}setSelection(e,t){var n=this.el[0];this.doc.activeElement==n&&(n.setSelectionRange?n.setSelectionRange(e,t):this.setSelectionIE(e,t))}setSelectionIE(e,t){var n=this.el[0].createTextRange();n.moveStart("character",e),n.collapse(),n.moveEnd("character",t-e),n.select()}val(){return this.el.val(...arguments)}}var hf={year:{type:"number",minLength:4,maxLength:4,min:2001,placeholder:"YYYY",extract:e=>e.getFullYear(),restore:(e,t)=>e.setFullYear(t),add:(e,t)=>e.setFullYear(e.getFullYear()+t)},month:{type:"number",minLength:2,maxLength:2,placeholder:"MM",extract:e=>e.getMonth()+1,restore:(e,t)=>e.setMonth(t-1),add:(e,t)=>e.setMonth((12+e.getMonth()+t)%12)},date:{type:"number",minLength:2,maxLength:2,placeholder:"DD",extract:e=>e.getDate(),restore:(e,t)=>e.setDate(t),add:(e,t)=>e.setDate(e.getDate()+t)},hours:{type:"number",minLength:1,maxLength:2,placeholder:"h",extract:e=>e.getHours()%12||12,restore:(e,t)=>e.setHours(t%12)+(e.getHours()>11?12:0),add:(e,t)=>e.setHours((e.getHours()+t+24)%24)},mins:{type:"number",minLength:2,maxLength:2,placeholder:"mm",extract:e=>e.getMinutes(),restore:(e,t)=>e.setMinutes(t%60),add:(e,t)=>e.setMinutes((e.getMinutes()+t+60)%60)},ampm:{type:"select",select:["AM","PM"],placeholder:"—",extract:e=>e.getHours()<12?1:2,restore:(e,t)=>e.setHours(e.getHours()%12+12*(t-1)),add:(e,t)=>e.setHours((e.getHours()+12)%24)}},ff=[hf.year,{type:"static",value:"-"},hf.month,{type:"static",value:"-"},hf.date,{type:"static",value:" at "},hf.hours,{type:"static",value:":"},hf.mins,{type:"static",value:" "},hf.ampm],mf=["$document",function(e){return{priority:100,restrict:"E",require:"?ngModel",link:function(t,n,i,r){if("text"===n[0].type&&("datetime-local"===i.type||"date"===i.type)){var o=new Date;o.setSeconds(0),o.setMilliseconds(0),o.setMinutes(0),o.setHours(0);var a=new df.TextParser({tokens:"date"===i.type?ff.slice(0,5):ff,value:o,copyValue:e=>new Date(e)}),s=new pf(n,e[0]),l=new df.InputMask(s,a);r&&(l.on("digest",(e=>{"NOT_INIT"!=e.code&&r.$setValidity("datetime",!1)})),a.on("change",(()=>{t.$evalAsync((()=>{l.err?r.$setValidity("datetime",!1):(a.isInit()||a.isEmpty()?r.$setValidity("datetime",!0):r.$setValidity("datetime",!1),a.getText()!=r.$viewValue&&r.$setViewValue(a.getText()))}))})),r.$render=function(){},r.$isEmpty=function(e){return!e||a.isEmpty(e+"")},r.$formatters[0]=function(e){if(r.$setValidity("datetime",!0),!(0,qe.isDate)(e)||isNaN(+e)){for(var n=0;n<5;n++)a.nodes[n].empty=!0;return a.setValue(a.value,!1),t.$evalAsync((()=>{r.$setViewValue(a.getText())})),a.getText()}return a.setValue(e),a.getText()},r.$parsers[1]=function(e){if(void 0!==e)return(0,qe.isString)(e)?(l.digest(null,e),a.isInit()?a.getValue():void 0):e;e=a.getText()})}}}}];function gf(e){var t=/^(?:[a-z]{2,30}:)?(?:\/\/)([^:/?]*)/i.exec(e);return!(!t||t.length<2)&&t[1].toLowerCase()!==window.location.hostname.toLowerCase()}function vf(e){gf(e.getAttribute("href"))&&!e.getAttribute("target")&&e.setAttribute("target","_blank");for(var t=0;t<e.children.length;t++)vf(e.children[t])}pi.directive("input",mf),pi.directive("a",(function(){return{restrict:"E",link:function(e,t,n){function i(e){n.$set("target",gf(e)?"_blank":null)}n.target||(n.$observe("href",i),n.$observe("ng-href",i))}}}));var yf='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <circle cx="15" cy="15" r="4.5" stroke-width="1" stroke="currentColor"/> <line x1="18.2" y1="18.2" x2="22" y2="22" stroke-width="1" stroke="currentColor"/> </svg> ',bf='<svg width="13" height="11" viewBox="2 2.5 16 11" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg"> <path d="M8.63993 12.4C8.63993 12.4 7.67993 12.4 7.67993 11.6C7.67993 10.8 8.63993 8.40005 12.4799 8.40005C16.3199 8.40005 17.2799 10.8 17.2799 11.6C17.2799 12.4 16.3199 12.4 16.3199 12.4H8.63993ZM12.4799 7.60005C13.2438 7.60005 13.9763 7.34719 14.5164 6.8971C15.0565 6.44702 15.3599 5.83657 15.3599 5.20005C15.3599 4.56353 15.0565 3.95308 14.5164 3.50299C13.9763 3.05291 13.2438 2.80005 12.4799 2.80005C11.7161 2.80005 10.9836 3.05291 10.4435 3.50299C9.90336 3.95308 9.59993 4.56353 9.59993 5.20005C9.59993 5.83657 9.90336 6.44702 10.4435 6.8971C10.9836 7.34719 11.7161 7.60005 12.4799 7.60005Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M6.92728 12.4C6.78497 12.1503 6.71399 11.8764 6.71992 11.6C6.71992 10.516 7.37272 9.4 8.57848 8.624C7.97665 8.46947 7.34963 8.3939 6.71992 8.4C2.87992 8.4 1.91992 10.8 1.91992 11.6C1.91992 12.4 2.87992 12.4 2.87992 12.4H6.92728Z" fill="currentColor"/> <path d="M6.23984 7.6001C6.87636 7.6001 7.48681 7.38938 7.9369 7.01431C8.38699 6.63924 8.63985 6.13053 8.63985 5.6001C8.63985 5.06966 8.38699 4.56096 7.9369 4.18588C7.48681 3.81081 6.87636 3.6001 6.23984 3.6001C5.60332 3.6001 4.99288 3.81081 4.54279 4.18588C4.0927 4.56096 3.83984 5.06966 3.83984 5.6001C3.83984 6.13053 4.0927 6.63924 4.54279 7.01431C4.99288 7.38938 5.60332 7.6001 6.23984 7.6001Z" fill="currentColor"/> </svg> ',wf='<svg width="10" height="10" viewBox="4 4 9 9" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M5.98634 12.2691V6.26043L7.57278 12.2691H8.38634L9.97278 6.26043V12.2691H11.5999V3.76001H9.32194L7.97956 7.99542L6.63719 3.76001H4.3999V12.2691H5.98634Z" fill="currentColor"/> </svg> ',_f='<svg xmlns="http://www.w3.org/2000/svg" width="13" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path> <circle cx="12" cy="7" r="4"></circle> </svg> ',xf='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect class="icon-bg-rect" x="0" y="0" width="32" height="32" rx="4" ry="4"/> <path d="M17.1739 15.9993L20.7537 12.4272C20.9105 12.2704 20.9986 12.0578 20.9986 11.8361C20.9986 11.6143 20.9105 11.4017 20.7537 11.2449C20.597 11.0881 20.3843 11 20.1626 11C19.9409 11 19.7283 11.0881 19.5715 11.2449L16 14.8253L12.4285 11.2449C12.2717 11.0881 12.0591 11 11.8374 11C11.6157 11 11.403 11.0881 11.2463 11.2449C11.0895 11.4017 11.0014 11.6143 11.0014 11.8361C11.0014 12.0578 11.0895 12.2704 11.2463 12.4272L14.8261 15.9993L11.2463 19.5713C11.1682 19.6488 11.1063 19.7408 11.064 19.8423C11.0218 19.9438 11 20.0526 11 20.1625C11 20.2724 11.0218 20.3813 11.064 20.4827C11.1063 20.5842 11.1682 20.6763 11.2463 20.7537C11.3237 20.8317 11.4157 20.8937 11.5172 20.936C11.6186 20.9782 11.7275 21 11.8374 21C11.9473 21 12.0561 20.9782 12.1575 20.936C12.259 20.8937 12.3511 20.8317 12.4285 20.7537L16 17.1733L19.5715 20.7537C19.6489 20.8317 19.741 20.8937 19.8425 20.936C19.9439 20.9782 20.0527 21 20.1626 21C20.2725 21 20.3814 20.9782 20.4828 20.936C20.5843 20.8937 20.6763 20.8317 20.7537 20.7537C20.8318 20.6763 20.8937 20.5842 20.936 20.4827C20.9782 20.3813 21 20.2724 21 20.1625C21 20.0526 20.9782 19.9438 20.936 19.8423C20.8937 19.7408 20.8318 19.6488 20.7537 19.5713L17.1739 15.9993Z" fill="currentColor"/> </svg> ',Cf='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M21.8646 20.7727H10.2188V10.1364C10.2188 10.0614 10.1578 10 10.0833 10H9.13542C9.06094 10 9 10.0614 9 10.1364V21.8636C9 21.9386 9.06094 22 9.13542 22H21.8646C21.9391 22 22 21.9386 22 21.8636V20.9091C22 20.8341 21.9391 20.7727 21.8646 20.7727ZM11.4375 19.6818H20.5104C20.5849 19.6818 20.6458 19.6205 20.6458 19.5455V18C18.5 17.5 19 13 17 13C15 13 14.5 18 13 18C11.5 18 11.3145 15.9875 11.3145 15.9875C11.3021 16 11.3188 16.7467 11.3121 16.7631C11.3054 16.7795 11.302 16.7971 11.3021 16.8148V19.5455C11.3021 19.6205 11.363 19.6818 11.4375 19.6818Z" fill="currentColor"/> </svg> ',kf={arrowDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"> <path style="fill:currentColor" d="M13 16.172l5.364-5.364 1.414 1.414L12 20l-7.778-7.778 1.414-1.414L11 16.172V4h2v12.172z"/> </svg> ',arrowUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"> <path style="fill:currentColor" d="M13 7.828V20h-2V7.828l-5.364 5.364-1.414-1.414L12 4l7.778 7.778-1.414 1.414L13 7.828z"/> </svg> ',oldComment:'<svg class="icon" xmlns="http://www.w3.org/2000/svg" version="1.1" width="20" height="20" viewBox="0 0 20 20"> <path class="stroked" style="stroke-width:5%" d="M4.4,14a8,6,0,1,1,2.4,1.2q-1.7,1.6-4,2 q1.2,-1.4,1.6,-3.2z"></path> </svg> ',report:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M13.936 0.5L19.5 6.067V13.937L13.936 19.5H6.066L0.5 13.936V6.066L6.066 0.5H13.936ZM13.107 2.5H6.894L2.501 6.895V13.108L6.894 17.502H13.107L17.501 13.108V6.894L13.107 2.501V2.5ZM9 13H11V15H9V13ZM9 5H11V11H9V5Z" fill="#2F4355"/> </svg> ',dollar:'<svg class="dollar-icon" xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="-15 -15 30 30"> <path class="filled" d="m 2.8,-11.5 c 0.31,0.05 0.63,0.12 0.95,0.21 0.33,0.09 0.69,0.20 1.07,0.33 0.14,-0.28 0.33,-0.50 0.56,-0.64 0.24,-0.15 0.55,-0.23 0.91,-0.23 0.63,0 1.08,0.16 1.34,0.48 0.26,0.31 0.39,0.88 0.41,1.71 l 0.03,2.40 0,0.11 c 0,0.65 -0.18,1.14 -0.54,1.48 -0.35,0.33 -0.87,0.50 -1.56,0.50 -0.42,0 -0.76,-0.08 -1.01,-0.25 -0.23,-0.16 -0.49,-0.53 -0.78,-1.09 -0.33,-0.66 -0.80,-1.17 -1.40,-1.52 -0.58,-0.35 -1.25,-0.52 -1.99,-0.52 -1.06,0 -1.90,0.22 -2.5,0.68 -0.59,0.44 -0.89,1.05 -0.89,1.83 0,0.59 0.17,1.08 0.52,1.46 0.35,0.36 1.15,0.80 2.42,1.30 l 3.63,1.38 c 1.79,0.71 3.06,1.54 3.80,2.48 0.74,0.92 1.11,2.14 1.11,3.65 0,2.14 -0.61,3.79 -1.85,4.94 -1.22,1.13 -3.00,1.69 -5.33,1.69 l -0.11,0 -0.17,1.90 c -0.03,0.58 -0.20,1.00 -0.50,1.26 -0.29,0.27 -0.84,0.73 -1.48,0.73 -0.53,0 -0.84,-0.45 -1.09,-0.69 -0.23,-0.24 -0.35,-0.65 -0.35,-1.23 l 0,-0.31 0.21,-2.16 c -0.44,-0.07 -0.88,-0.18 -1.32,-0.33 -0.44,-0.15 -0.89,-0.35 -1.36,-0.58 -0.19,0.26 -0.41,0.44 -0.66,0.56 -0.23,0.10 -0.58,0.15 -1.05,0.15 -0.70,0 -1.18,-0.16 -1.44,-0.50 -0.26,-0.35 -0.39,-0.98 -0.39,-1.89 l 0,-2.36 c 0,-0.84 0.15,-1.45 0.46,-1.83 0.31,-0.37 0.80,-0.56 1.48,-0.56 1.01,0 1.72,0.54 2.12,1.64 0.10,0.27 0.18,0.47 0.23,0.60 0.28,0.61 0.83,1.10 1.66,1.48 0.82,0.36 1.76,0.54 2.83,0.54 0.96,0 1.71,-0.21 2.24,-0.64 0.54,-0.44 0.82,-1.05 0.82,-1.83 0,-1.04 -1.13,-1.99 -3.39,-2.87 l -0.11,-0.03 -3.59,-1.40 c -1.41,-0.53 -2.48,-1.29 -3.18,-2.28 -0.70,-1.00 -1.05,-2.22 -1.05,-3.67 0,-1.95 0.56,-3.45 1.69,-4.51 1.14,-1.06 2.84,-1.66 5.09,-1.79 l 0.15,-1.56 c 0.03,-0.52 0.21,-0.91 0.52,-1.19 0.31,-0.27 0.73,-0.41 1.26,-0.41 0.54,0 0.97,0.12 1.26,0.37 0.29,0.23 0.44,0.57 0.44,1.01 l 0,0.25 -0.15,1.71 z"/> <path class="filled" d="M -0.6,-11 L -1.75,10 L 1.55,10 L 2.6,-11z"/> </svg> ',smiley:'<svg class="smiley" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-5 -5 110 110" xml:space="preserve" width="14px" height="14px"> <circle cx="50" cy="50" r="48" style="stroke:currentColor;stroke-width:7;fill:none"></circle> <circle cx="35" cy="35" r="6" style="fill:currentColor"></circle> <circle cx="65" cy="35" r="6" style="fill:currentColor"></circle> <path d="M 20 60 A 40 50 0 0 0 80 60" style="stroke:currentColor;stroke-width:7;fill:none"></path> </svg> ',frowny:'<svg class="smiley" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-5 -5 110 110" xml:space="preserve" width="14px" height="14px"> <circle cx="50" cy="50" r="48" style="stroke:currentColor;stroke-width:7;fill:none"></circle> <circle cx="35" cy="35" r="6" style="fill:currentColor"></circle> <circle cx="65" cy="35" r="6" style="fill:currentColor"></circle> <path d="M 25 70 A 40 50 0 0 1 75 70" style="stroke:currentColor;stroke-width:7;fill:none"></path> </svg> ',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"> <path fill-rule="evenodd" style="fill:currentColor" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/> </svg> ',spam:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" width="14px" height="14px" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-1.1 -1.1 2.2 2.2"> <path style="stroke:currentColor;fill:none;stroke-width:.15" d="M1,0.414L0.414,1L-0.414,1L-1,0.414L-1,-0.414L-0.414,-1L0.414,-1L1,-0.414z"/> <line style="stroke:currentColor;stroke-width:.18;stroke-linecap:round" x1="0" x2="0" y1="-0.6" y2="0.1"/> <circle style="fill:currentColor" cx="0" cy="0.5" r="0.12"/> </svg> ',embedButton:'<svg class="social-sharing-button icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-10 -10 506 506"> <path class="fill-on-hover" style="stroke-width:20" d="M395,0H91C40,0,0,40,0,91v303c0,50,40,91,91,91h303c50,0,91-40,91-91V91C486,40,445,0,395,0z"></path> <path class="stroked" style="stroke-width:25;stroke-linecap:round" d="M248,248 m-90,-110 l-80,110 l+80,110"></path> <path class="stroked" style="stroke-width:25;stroke-linecap:round" d="M248,248 m+90,-110 l+80,110 l-80,110"></path> <path class="stroked" style="stroke-width:25;stroke-linecap:round" d="M248,248 m-40,+100 l+80,-200"></path> <a ng-if="trustedLink" class="invisible" xlink:href="{{trustedLink}}" target="_blank"> <rect x="-10" y="-10" width="510" height="510"></rect> </a> </svg> ',facebookButton:'<svg class="social-sharing-button icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-2 -2 94 94"> <path class="fill-on-hover" d="M90,15C90,7,82,0,75,0H15C7,0,0,7,0,15v59   C0,82,7,90,15,90H45V56H34V41h11v-5C45,25,52,16,61,16H74v15H61C60,31,59,32,59,35V41   h15v15H59v34h16c7,0,15-7,15-15V15z" style="stroke-width:4px"></path> <a class="invisible" xlink:href="{{trustedLink}}" target="_blank"> <rect x="-2" y="-2" width="94" height="94"></rect> </a> </svg> ',linkedinButton:'<svg class="social-sharing-button icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 505 505"> <g transform="translate(-30.348186,-51.290776)"> <path style="stroke-width:20" class="fill-on-hover" d="m 435.34819,61.290776 -304,0 c -51.000004,0 -91.000004,40.000004 -91.000004,91.000004 l 0,302.99999 c 0,50 40,91 91.000004,91 l 303,0 c 50,0 91,-40 91,-91 l 0,-302.99999 c 1,-51 -40,-91.000004 -90,-91.000004 z"/> <path class="filled" d="m 122.71433,186.79181 c 0,-10.34894 3.62217,-18.88666 10.86619,-25.61315 7.24402,-6.72676 16.66159,-10.08999 28.25209,-10.08999 11.38374,0 20.59392,3.3114 27.63118,9.93481 7.24403,6.83018 10.86618,15.72982 10.86618,26.69973 0,9.93483 -3.51846,18.21358 -10.55571,24.83701 -7.24403,6.83017 -16.76499,10.24525 -28.56256,10.24525 l -0.31048,0 c -11.38372,0 -20.5939,-3.41508 -27.63116,-10.24525 -7.03727,-6.83018 -10.55573,-15.41973 -10.55573,-25.76841 z m 4.03602,271.6548 0,-207.38904 68.92269,0 0,207.38904 -68.92269,0 z m 107.10958,0 68.92269,0 0,-115.8025 c 0,-7.24438 0.82801,-12.83272 2.48371,-16.76499 2.89754,-7.03728 7.29586,-12.98789 13.19465,-17.85166 5.8988,-4.86395 13.29805,-7.29587 22.19809,-7.29587 23.18129,0 34.7718,15.62657 34.7718,46.87989 l 0,110.83513 68.92271,0 0,-118.90714 c 0,-30.63245 -7.24403,-53.86524 -21.73239,-69.69893 -14.48835,-15.83358 -33.63334,-23.75034 -57.43558,-23.75034 -26.69978,0 -47.50077,11.48709 -62.40299,34.46139 l 0,0.62088 -0.31044,0 0.31044,-0.62088 0,-29.49402 -68.92269,0 c 0.41385,6.62315 0.62093,27.217 0.62093,61.78208 0,34.56473 -0.20708,83.10033 -0.62093,145.60696 z"/> </g> <a class="invisible" xlink:href="{{trustedLink}}" target="_blank"> <rect x="0" y="0" width="505" height="505"></rect> </a> </svg> ',readModeButton:'<svg class="social-sharing-button icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-10 -10 506 506" xml:space="preserve"> <path class="fill-on-hover" style="stroke-width:20" d="M395,0H91C40,0,0,40,0,91v303c0,50,40,91,91,91h303c50,0,91-40,91-91V91C486,40,445,0,395,0z"></path> <path class="filled" style="transform:scale(.87) translate(25px,25px)" d="M495.66,239.66h-8.69c-7.861-49.447-50.791-87.367-102.416-87.367c-34.264,0-64.695,16.708-83.589,42.398 c-28.282-13.648-61.585-13.678-89.93,0.001c-18.894-25.692-49.325-42.399-83.59-42.399c-51.625,0-94.555,37.92-102.416,87.367 H16.34C7.316,239.66,0,246.976,0,256c0,9.024,7.316,16.34,16.34,16.34h8.69c7.861,49.447,50.792,87.367,102.416,87.367 c57.184,0,103.707-46.523,103.707-103.707c0-11.253-1.808-22.09-5.139-32.244c18.532-8.653,40.651-9.021,59.97,0 c-3.33,10.154-5.139,20.991-5.139,32.244c0,57.184,46.523,103.707,103.707,103.707c51.625,0,94.556-37.92,102.416-87.367h8.689 c9.024,0,16.34-7.316,16.34-16.34C512,246.976,504.684,239.66,495.66,239.66z M127.445,327.026 c-39.164,0-71.026-31.863-71.026-71.026c0-39.164,31.863-71.026,71.026-71.026s71.026,31.863,71.026,71.026 C198.472,295.164,166.609,327.026,127.445,327.026z M384.555,327.026c-39.164,0-71.026-31.863-71.026-71.026 c0-39.164,31.863-71.026,71.026-71.026c39.164,0,71.026,31.863,71.026,71.026C455.581,295.164,423.718,327.026,384.555,327.026z"/> </svg> ',redditButton:'<svg class="social-sharing-button icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-10 -10 506 506"> <path class="fill-on-hover" style="stroke-width:20" d="M395,0H91C40,0,0,40,0,91v303c0,50,40,91,91,91h303c50,0,91-40,91-91V91C486,40,445,0,395,0z"></path> <g transform="matrix(14,0,0,-14,-25,-20)"> <g class="stroked" style="stroke-width:1.3;stroke-linecap:round"> <path d="M8.19,-17.61m-0.92,-2.54a2.7,2.7 0 1,0 2.99,4.27"/> <path d="M30.29,-17.612m0.92,-2.54a2.7,2.7 0 1,1 -2.99,4.27"/> <g transform="translate(26.72,-8.13)"> <path d="M 0,0 -5.40,1.27 -7.39,-5.0"/> </g> <circle cx="28.96" cy="-8.57" r="2.15"/> <g transform="translate(31.4176,-21.3305)"> <path d="m 0,0 c 0,-4.411 -5.479,-7.986 -12.239,-7.986 -6.759,0 -12.238,3.575 -12.238,7.986 0,4.411 5.479,7.987 12.238,7.987 C -5.479,7.987 0,4.411 0,0"/> </g> <g transform="translate(19.2224,-26.2777)"> <path d="M -4.21,1.27 C -3.15,0.21 -1.43,0 0,0 C 1.43,0 3.15,0.21 4.21,1.27"/> </g> </g> <g class="filled"> <circle cx="14.96" cy="-19.77" r="2"/> <circle cx="23.58" cy="-19.77" r="2"/> </g> </g> <a class="invisible" xlink:href="{{trustedLink}}" target="_blank"> <rect x="-10" y="-10" width="510" height="510"></rect> </a> </svg> ',twitterButton:'<svg class="social-sharing-button icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-10 -10 506 506"> <path class="fill-on-hover" style="stroke-width:20" d="M395,0H91C40,0,0,40,0,91v303c0,50,40,91,91,91h303c50,0,91-40,91-91V91C486,40,445,0,395,0z"></path> <path class="stroked" style="stroke-width:20" d="M364,188l0,7c0,79-60,170-170,170c-33,0-65-9-91-26c4,0,9,0,14,0c28,0,53-9,74-25c-26-0-48-17-55-41c3,0,7,1,11,1c5,0,10-0,15-2c-27-5-48-29-48-58v-0c8,4,17,7,27,7c-16-10-26-29-26-49c0-10,2-21,8-30c29,36,73,60,123,62c-1-4-1-8-1-13c0-33,26-59,59-59c17,0,32,7,43,18c13-2,26-7,38-14c-4,13-13,25-26,33c12-1,23-4,34-9C386,169,375,180,364,188z"></path> <a class="invisible" xlink:href="{{trustedLink}}" target="_blank"> <rect x="-10" y="-10" width="510" height="510"></rect> </a> </svg> ',paste:'<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect width="24" height="23.25" transform="translate(1)" fill="#151B21"/> <path d="M3 4.84375H10.5L14 5.32812L14.5 9.20312H17.5L18 14.5312V24.2188H3V4.84375Z" fill="white"/> <path d="M18 6.69318V16.9916C18.0007 17.0957 17.9803 17.1989 17.9399 17.2953C17.8995 17.3918 17.8398 17.4796 17.7644 17.5537C17.6889 17.6278 17.5992 17.6868 17.5002 17.7273C17.4012 17.7678 17.295 17.789 17.1875 17.7898H4.08516C3.86982 17.7898 3.6633 17.7069 3.51096 17.5595C3.35862 17.4121 3.27292 17.2121 3.27271 17.0035V2.72377C3.27271 2.29814 3.64007 1.9375 4.09252 1.9375H13.0884L18 6.69318ZM16.3636 7.48579H12.2727V3.52273H4.90907V16.2045H16.3636V7.48579Z" fill="black"/> <path d="M14.7273 9.864V21.8788C14.728 22.0003 14.7076 22.1207 14.6672 22.2332C14.6268 22.3457 14.5671 22.4481 14.4917 22.5346C14.4162 22.6211 14.3265 22.6899 14.2275 22.7371C14.1285 22.7844 14.0223 22.8092 13.9148 22.81H0.812454C0.597119 22.81 0.390593 22.7134 0.238251 22.5414C0.0859102 22.3694 0.000216852 22.1361 0 21.8927V5.23302C0 4.73645 0.367363 4.3157 0.819817 4.3157H9.81572L14.7273 9.864ZM13.0909 10.7887H8.99999V6.16513H1.63636V20.9606H13.0909V10.7887Z" fill="black"/> </svg> ',reminder:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect width="24" height="24" fill="white"/> <path d="M12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22ZM13 12V7H11V14H17V12H13Z" fill="#151B21"/> </svg> ',hamburger:'<svg width="18" height="16" viewBox="0 0 18 16" xmlns="http://www.w3.org/2000/svg"> <path style="fill:currentColor" d="M0 0H18V2H0V0ZM0 7H18V9H0V7ZM0 14H18V16H0V14Z"/> </svg> ',dropdown:'<svg width="10" height="6" viewBox="0 0 10 6" xmlns="http://www.w3.org/2000/svg"> <path style="fill:currentColor" d="M5.00008 6.00002L0.75708 1.75702L2.17208 0.343018L5.00008 3.17202L7.82808 0.343018L9.24308 1.75702L5.00008 6.00002Z"/> </svg> ',comment:'<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"> <path d="M11.15 19.25 a6.55 5.89 0 1 1 2.7 1.6 a8 8 0 0 1 -3.3 1.1 A8 8 0 0 0 11.15 19.25z" stroke="currentColor" fill="none"></path> </svg> ',reply:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill="currentColor" d="M14.9981 12.0105C15.0201 12.0008 15.0443 11.9968 15.0684 11.9988C15.0924 12.0009 15.1156 12.009 15.1357 12.0223C15.1558 12.0357 15.1722 12.0538 15.1835 12.0752C15.1947 12.0965 15.2004 12.1204 15.2001 12.1445V13.2975C15.2001 13.4301 15.2527 13.5573 15.3465 13.6511C15.4403 13.7448 15.5675 13.7975 15.7001 13.7975C16.3671 13.7975 17.7131 13.8025 19.0001 14.6195C19.9841 15.2435 20.9901 16.3795 21.5951 18.4955C20.5751 17.5125 19.4101 16.9795 18.3901 16.6965C17.7631 16.5234 17.1188 16.4207 16.4691 16.3905C16.2031 16.3788 15.9367 16.3815 15.6711 16.3985H15.6581L15.6531 16.3995H15.6521L15.7001 16.8975L15.6501 16.3995C15.5266 16.4119 15.4122 16.4698 15.3291 16.5618C15.2459 16.6538 15.1999 16.7735 15.2001 16.8975V18.0505C15.2001 18.1585 15.0901 18.2265 14.9981 18.1845L11.0141 15.2515C11.0005 15.2415 10.9865 15.2321 10.9721 15.2235C10.9503 15.2105 10.9323 15.192 10.9198 15.1699C10.9073 15.1478 10.9008 15.1229 10.9008 15.0975C10.9008 15.0722 10.9073 15.0472 10.9198 15.0251C10.9323 15.0031 10.9503 14.9846 10.9721 14.9715C10.9865 14.9629 11.0005 14.9536 11.0141 14.9435L14.9981 12.0105ZM16.2001 17.3835C16.2681 17.3835 16.3431 17.3865 16.4231 17.3895C16.8571 17.4095 17.4571 17.4755 18.1231 17.6605C19.4491 18.0285 21.0191 18.8625 22.0631 20.7405C22.1195 20.8419 22.2095 20.9205 22.3175 20.9628C22.4256 21.0051 22.545 21.0085 22.6552 20.9725C22.7655 20.9364 22.8599 20.8631 22.922 20.7652C22.9842 20.6672 23.0104 20.5507 22.9961 20.4355C22.5321 16.7255 21.1101 14.7735 19.5361 13.7755C18.2911 12.9855 17.0091 12.8335 16.2001 12.8045V12.1445C16.2002 11.9386 16.1447 11.7364 16.0394 11.5594C15.9342 11.3824 15.7831 11.2371 15.6022 11.1388C15.4212 11.0405 15.2171 10.9928 15.0113 11.0009C14.8056 11.0089 14.6058 11.0724 14.4331 11.1845L10.4391 14.1245C10.2739 14.2276 10.1378 14.371 10.0434 14.5412C9.94895 14.7114 9.89941 14.9029 9.89941 15.0975C9.89941 15.2922 9.94895 15.4836 10.0434 15.6538C10.1378 15.8241 10.2739 15.9674 10.4391 16.0705L14.4331 19.0105C14.6058 19.1227 14.8056 19.1861 15.0113 19.1942C15.2171 19.2022 15.4212 19.1546 15.6022 19.0563C15.7831 18.958 15.9342 18.8126 16.0394 18.6356C16.1447 18.4586 16.2002 18.2564 16.2001 18.0505V17.3835Z" fill="black"/> </svg> ',voteDown:'<svg width="32" height="32" viewBox="-16 -16 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect class="icon-bg-rect" x="-16" y="-16" width="32" height="32" rx="4" ry="4"/> <path d="M-5,-2.5l5,5l5,-5" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-linecap="round"/> </svg> ',voteUp:'<svg width="32" height="32" viewBox="-16 -16 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect class="icon-bg-rect" x="-16" y="-16" width="32" height="32" rx="4" ry="4"/> <path d="M-5,2.5l5,-5l5,5" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-linecap="round"/> </svg> ',cancel:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M16.3333 22.3333C20.0153 22.3333 23 19.3487 23 15.6667C23 11.9847 20.0153 9 16.3333 9C12.6513 9 9.66667 11.9847 9.66667 15.6667C9.66667 19.3487 12.6513 22.3333 16.3333 22.3333ZM16.3333 21C14.9188 21 13.5623 20.4381 12.5621 19.4379C11.5619 18.4377 11 17.0812 11 15.6667C11 14.2522 11.5619 12.8956 12.5621 11.8954C13.5623 10.8952 14.9188 10.3333 16.3333 10.3333C17.7478 10.3333 19.1044 10.8952 20.1046 11.8954C21.1048 12.8956 21.6667 14.2522 21.6667 15.6667C21.6667 17.0812 21.1048 18.4377 20.1046 19.4379C19.1044 20.4381 17.7478 21 16.3333 21ZM16.3333 14.724L14.448 12.838L13.5047 13.7813L15.3907 15.6667L13.5047 17.552L14.448 18.4953L16.3333 16.6093L18.2187 18.4953L19.162 17.552L17.276 15.6667L19.162 13.7813L18.2187 12.838L16.3333 14.724Z" fill="currentColor"/> </svg> ',community:bf,metaculus:wf,player:_f,ellipsis:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect class="icon-bg-rect" x="0" y="0" width="32" height="32" rx="4" ry="4"/> <rect x="20.1499" y="14.7002" width="2.6" height="2.6" rx="0.7" fill="currentColor"/> <rect x="14.7" y="14.7002" width="2.6" height="2.6" rx="0.7" fill="currentColor"/> <rect x="9.25" y="14.7002" width="2.6" height="2.6" rx="0.7" fill="currentColor"/> </svg> ',share:'<svg width="32" height="32" viewBox="6 6 20 20" preserveAspectRatio="none" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect x="0" y="0" width="32" height="32" opacity="0"/> <path d="M19.375 18.5C18.9297 18.5 18.5187 18.6562 18.1969 18.9172L14.9594 16.575C15.0136 16.2774 15.0136 15.9726 14.9594 15.675L18.1969 13.3328C18.5187 13.5937 18.9297 13.75 19.375 13.75C20.4094 13.75 21.25 12.9094 21.25 11.875C21.25 10.8406 20.4094 10 19.375 10C18.3406 10 17.5 10.8406 17.5 11.875C17.5 12.0563 17.525 12.2297 17.5734 12.3953L14.4984 14.6219C14.0422 14.0172 13.3172 13.625 12.5 13.625C11.1187 13.625 10 14.7438 10 16.125C10 17.5062 11.1187 18.625 12.5 18.625C13.3172 18.625 14.0422 18.2328 14.4984 17.6281L17.5734 19.8547C17.525 20.0203 17.5 20.1953 17.5 20.375C17.5 21.4094 18.3406 22.25 19.375 22.25C20.4094 22.25 21.25 21.4094 21.25 20.375C21.25 19.3406 20.4094 18.5 19.375 18.5ZM19.375 11.0625C19.8234 11.0625 20.1875 11.4266 20.1875 11.875C20.1875 12.3234 19.8234 12.6875 19.375 12.6875C18.9266 12.6875 18.5625 12.3234 18.5625 11.875C18.5625 11.4266 18.9266 11.0625 19.375 11.0625ZM12.5 17.5C11.7422 17.5 11.125 16.8828 11.125 16.125C11.125 15.3672 11.7422 14.75 12.5 14.75C13.2578 14.75 13.875 15.3672 13.875 16.125C13.875 16.8828 13.2578 17.5 12.5 17.5ZM19.375 21.1875C18.9266 21.1875 18.5625 20.8234 18.5625 20.375C18.5625 19.9266 18.9266 19.5625 19.375 19.5625C19.8234 19.5625 20.1875 19.9266 20.1875 20.375C20.1875 20.8234 19.8234 21.1875 19.375 21.1875Z" fill="currentColor"/> </svg> ',search:yf,remove:xf,checkmark:'<svg width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M1 4L4 7L9 1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/> </svg> ',dot:'<svg width="2" height="2" viewBox="0 0 2 2" fill="none" xmlns="http://www.w3.org/2000/svg"> <circle cx="1" cy="1" r="1" fill="currentColor"/> </svg> ',dotdotdot:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect width="2.6" height="2.6" rx="0.7" transform="matrix(-1 0 0 1 11.8501 14.7)" fill="currentColor"/> <rect width="2.6" height="2.6" rx="0.7" transform="matrix(-1 0 0 1 17.2998 14.7)" fill="currentColor"/> <rect width="2.6" height="2.6" rx="0.7" transform="matrix(-1 0 0 1 22.75 14.7)" fill="currentColor"/> </svg> ',admin:'<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M8.9413 16.1879L10.3119 15.2638C12.0642 14.0813 13.4204 12.4317 14.2145 10.5171C15.0086 8.60249 15.2059 6.50616 14.7823 4.48506C14.7614 4.38546 14.717 4.29184 14.6525 4.21145C14.588 4.13105 14.5052 4.06604 14.4105 4.02144L7.99995 1L1.5902 4.02144C1.49533 4.06594 1.41237 4.13091 1.34775 4.21132C1.28313 4.29172 1.2386 4.38539 1.2176 4.48506C0.794093 6.50624 0.991549 8.60262 1.78576 10.5172C2.57997 12.4318 3.93642 14.0814 5.68883 15.2638L7.05941 16.1879C7.33524 16.3739 7.66373 16.4737 8.00036 16.4737C8.33699 16.4737 8.66548 16.3739 8.9413 16.1879Z" fill="#A9C0D6" stroke="var(--blue700)" stroke-linecap="round" stroke-linejoin="round"/> <path d="M11.931 12L8.763 4.3H7.113L3.945 12H5.485L6.266 9.899H9.544L10.314 12H11.931ZM7.597 6.28C7.718 5.972 7.817 5.708 7.916 5.389C8.004 5.708 8.092 5.961 8.213 6.28L9.093 8.678H6.717L7.597 6.28Z" fill="var(--blue100)"/> </svg> ',moderator:'<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M8.9413 16.1879L10.3119 15.2638C12.0642 14.0813 13.4204 12.4317 14.2145 10.5171C15.0086 8.60249 15.2059 6.50616 14.7823 4.48506C14.7614 4.38546 14.717 4.29184 14.6525 4.21145C14.588 4.13105 14.5052 4.06604 14.4105 4.02144L7.99995 1L1.5902 4.02144C1.49533 4.06594 1.41237 4.13091 1.34775 4.21132C1.28313 4.29172 1.2386 4.38539 1.2176 4.48506C0.794093 6.50624 0.991549 8.60262 1.78576 10.5172C2.57997 12.4318 3.93642 14.0814 5.68883 15.2638L7.05941 16.1879C7.33524 16.3739 7.66373 16.4737 8.00036 16.4737C8.33699 16.4737 8.66548 16.3739 8.9413 16.1879Z" fill="var(--blue300)" stroke="var(--blue800)" stroke-linecap="round" stroke-linejoin="round"/> <path d="M5.616 11V7.232C5.616 6.944 5.608 6.68 5.592 6.432L7.216 11H8.496L10.032 6.432C10.016 6.672 10.016 6.944 10.016 7.232V11H11.024V5.4H9.368L8 9.448C7.928 9.64 7.896 9.8 7.856 9.96C7.824 9.8 7.776 9.64 7.712 9.448L6.288 5.4H4.616V11H5.616Z" fill="var(--blue900)"/> </svg> ',patreon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M1.5718 4.28867L8 0.57735L14.4282 4.28867V11.7113L8 15.4226L1.5718 11.7113V4.28867Z" fill="var(--olive500)" stroke="var(--olive700)"/> <path d="M8 3L9.12257 6.45492H12.7553L9.81636 8.59017L10.9389 12.0451L8 9.90983L5.06107 12.0451L6.18364 8.59017L3.24472 6.45492H6.87743L8 3Z" fill="var(--gray000)"/> </svg> ',userCircles:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect x="1" y="1" width="18" height="18" rx="9" stroke="var(--level-border, currentColor)" stroke-width="2"/> <circle cx="10" cy="10" r="6" fill="currentColor" stroke="currentColor" stroke-width="2"/> </svg> ',info:'<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M8.4689 5.91107C8.81255 5.91107 9.09112 5.63249 9.09112 5.28885C9.09112 4.9452 8.81255 4.66663 8.4689 4.66663C8.12526 4.66663 7.84668 4.9452 7.84668 5.28885C7.84668 5.63249 8.12526 5.91107 8.4689 5.91107Z" fill="currentColor"/> <path d="M9.83328 10.2222H8.94439V6.66663H7.61106C7.49318 6.66663 7.38014 6.71345 7.29679 6.7968C7.21344 6.88015 7.16661 6.9932 7.16661 7.11107C7.16661 7.22894 7.21344 7.34199 7.29679 7.42534C7.38014 7.50869 7.49318 7.55551 7.61106 7.55551H8.0555V10.2222H7.16661C7.04874 10.2222 6.93569 10.269 6.85234 10.3524C6.76899 10.4357 6.72217 10.5488 6.72217 10.6666C6.72217 10.7845 6.76899 10.8975 6.85234 10.9809C6.93569 11.0642 7.04874 11.1111 7.16661 11.1111H9.83328C9.95115 11.1111 10.0642 11.0642 10.1475 10.9809C10.2309 10.8975 10.2777 10.7845 10.2777 10.6666C10.2777 10.5488 10.2309 10.4357 10.1475 10.3524C10.0642 10.269 9.95115 10.2222 9.83328 10.2222Z" fill="currentColor"/> <path d="M8.50008 2.66663C7.44525 2.66663 6.4141 2.97942 5.53704 3.56545C4.65998 4.15149 3.97639 4.98444 3.57273 5.95898C3.16906 6.93352 3.06344 8.00588 3.26923 9.04044C3.47502 10.075 3.98297 11.0253 4.72885 11.7712C5.47473 12.5171 6.42504 13.025 7.4596 13.2308C8.49417 13.4366 9.56652 13.331 10.5411 12.9273C11.5156 12.5236 12.3486 11.8401 12.9346 10.963C13.5206 10.0859 13.8334 9.05479 13.8334 7.99996C13.8334 6.58547 13.2715 5.22892 12.2713 4.22872C11.2711 3.22853 9.91457 2.66663 8.50008 2.66663ZM8.50008 12.4444C7.62106 12.4444 6.76177 12.1837 6.03088 11.6954C5.3 11.207 4.73034 10.5129 4.39395 9.70077C4.05756 8.88866 3.96955 7.99503 4.14104 7.13289C4.31253 6.27075 4.73582 5.47883 5.35739 4.85726C5.97895 4.2357 6.77088 3.8124 7.63302 3.64091C8.49515 3.46942 9.38878 3.55744 10.2009 3.89383C11.013 4.23022 11.7071 4.79987 12.1955 5.53076C12.6839 6.26164 12.9445 7.12093 12.9445 7.99996C12.9445 8.58361 12.8296 9.16155 12.6062 9.70077C12.3829 10.24 12.0555 10.73 11.6428 11.1427C11.2301 11.5554 10.7401 11.8827 10.2009 12.1061C9.66167 12.3294 9.08374 12.4444 8.50008 12.4444Z" fill="currentColor"/> </svg> ',question:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M11 9.14286C10.6839 9.14286 10.4286 9.39822 10.4286 9.71429C10.4286 10.0304 10.1732 10.2857 9.85714 10.2857C9.54106 10.2857 9.28571 10.0304 9.28571 9.71429C9.28571 8.76786 10.0536 8 11 8H12.7321C13.9839 8 15 9.01607 15 10.2679C15 11.2036 14.425 12.0429 13.5536 12.3822L12.4286 12.8197V13.1429C12.4286 13.4589 12.1732 13.7143 11.8571 13.7143C11.5411 13.7143 11.2857 13.4589 11.2857 13.1429V12.8197C11.2857 12.3482 11.575 11.925 12.0143 11.7554L13.1393 11.3179C13.5714 11.1482 13.8571 10.7322 13.8571 10.2679C13.8571 9.64643 13.3536 9.14286 12.7321 9.14286H11ZM11.8571 16C11.4625 16 11.1429 15.6804 11.1429 15.2857C11.1429 14.8911 11.4625 14.5714 11.8571 14.5714C12.2518 14.5714 12.5714 14.8911 12.5714 15.2857C12.5714 15.6804 12.2518 16 11.8571 16Z" fill="currentColor"/> <path d="M12 4C10.4178 4 8.87104 4.46919 7.55544 5.34824C6.23985 6.22729 5.21447 7.47672 4.60897 8.93853C4.00347 10.4003 3.84504 12.0089 4.15372 13.5607C4.4624 15.1126 5.22433 16.538 6.34315 17.6569C7.46197 18.7757 8.88743 19.5376 10.4393 19.8463C11.9911 20.155 13.5997 19.9965 15.0615 19.391C16.5233 18.7855 17.7727 17.7602 18.6518 16.4446C19.5308 15.129 20 13.5823 20 12C20 9.87827 19.1571 7.84344 17.6569 6.34315C16.1566 4.84285 14.1217 4 12 4V4ZM12 18.6667C10.6815 18.6667 9.39253 18.2757 8.2962 17.5431C7.19987 16.8106 6.34539 15.7694 5.84081 14.5512C5.33622 13.333 5.2042 11.9926 5.46144 10.6994C5.71867 9.40619 6.35361 8.2183 7.28596 7.28595C8.21831 6.3536 9.4062 5.71867 10.6994 5.46143C11.9926 5.2042 13.3331 5.33622 14.5512 5.8408C15.7694 6.34539 16.8106 7.19987 17.5431 8.2962C18.2757 9.39253 18.6667 10.6815 18.6667 12C18.6667 12.8755 18.4942 13.7424 18.1592 14.5512C17.8242 15.3601 17.3331 16.095 16.714 16.714C16.095 17.3331 15.3601 17.8242 14.5512 18.1592C13.7424 18.4942 12.8755 18.6667 12 18.6667V18.6667Z" fill="currentColor"/> </svg> ',newsplaceholder:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect width="32" height="32" fill="#F7F7F8"/> <path d="M21.8333 24.3334H10.1667C9.50363 24.3334 8.86775 24.07 8.39891 23.6012C7.93006 23.1323 7.66667 22.4965 7.66667 21.8334V8.50008C7.66667 8.27907 7.75447 8.06711 7.91075 7.91083C8.06703 7.75455 8.27899 7.66675 8.50001 7.66675H20.1667C20.3877 7.66675 20.5997 7.75455 20.7559 7.91083C20.9122 8.06711 21 8.27907 21 8.50008V18.5001H24.3333V21.8334C24.3333 22.4965 24.07 23.1323 23.6011 23.6012C23.1323 24.07 22.4964 24.3334 21.8333 24.3334ZM21 20.1667V21.8334C21 22.0544 21.0878 22.2664 21.2441 22.4227C21.4004 22.579 21.6123 22.6668 21.8333 22.6668C22.0544 22.6668 22.2663 22.579 22.4226 22.4227C22.5789 22.2664 22.6667 22.0544 22.6667 21.8334V20.1667H21ZM19.3333 22.6668V9.33342H9.33334V21.8334C9.33334 22.0544 9.42114 22.2664 9.57742 22.4227C9.7337 22.579 9.94566 22.6668 10.1667 22.6668H19.3333ZM11 11.8334H17.6667V13.5001H11V11.8334ZM11 15.1667H17.6667V16.8334H11V15.1667ZM11 18.5001H15.1667V20.1667H11V18.5001Z" fill="currentColor"/> </svg> ',add:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M15.3333 15.3333V11.3333H16.6666V15.3333H20.6666V16.6666H16.6666V20.6666H15.3333V16.6666H11.3333V15.3333H15.3333Z" fill="currentColor"/> </svg> ',addBordered:'<svg width="52" height="36" viewBox="0 0 52 36" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect x="8.45" y="8.45" width="35.1" height="19.1" rx="9.55" fill="none" stroke="currentColor" stroke-width="0.9"/> <path d="M25.3334 17.3333V13.3333H26.6667V17.3333H30.6667V18.6666H26.6667V22.6666H25.3334V18.6666H21.3334V17.3333H25.3334Z" fill="currentColor"/> </svg> ',facebook:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M12 2C6.477 2 2 6.477 2 12C2 16.991 5.657 21.128 10.438 21.879V14.89H7.898V12H10.438V9.797C10.438 7.291 11.93 5.907 14.215 5.907C15.309 5.907 16.453 6.102 16.453 6.102V8.562H15.193C13.95 8.562 13.563 9.333 13.563 10.124V12H16.336L15.893 14.89H13.563V21.879C18.343 21.129 22 16.99 22 12C22 6.477 17.523 2 12 2Z" fill="currentColor"/> <a opacity="0" xlink:href="{{trustedLink}}" target="_blank"> <rect width="24" height="24"/> </a> </svg> ',twitter:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <path d="M22.162 6.656C21.3986 6.99369 20.589 7.21547 19.76 7.314C20.6337 6.79143 21.2877 5.96901 21.6 5C20.78 5.488 19.881 5.83 18.944 6.015C18.3146 5.34158 17.4804 4.89496 16.5709 4.74458C15.6615 4.59421 14.7279 4.74849 13.9153 5.18345C13.1026 5.61841 12.4564 6.30968 12.0771 7.14979C11.6978 7.9899 11.6067 8.93178 11.818 9.829C10.1551 9.74565 8.52832 9.31352 7.04328 8.56066C5.55823 7.8078 4.24812 6.75105 3.19799 5.459C2.82628 6.09745 2.63095 6.82323 2.63199 7.562C2.63199 9.012 3.36999 10.293 4.49199 11.043C3.828 11.0221 3.17862 10.8428 2.59799 10.52V10.572C2.59819 11.5377 2.93236 12.4736 3.54384 13.2211C4.15532 13.9685 5.00647 14.4815 5.95299 14.673C5.33661 14.84 4.6903 14.8647 4.06299 14.745C4.32986 15.5762 4.85 16.3032 5.55058 16.8241C6.25117 17.345 7.09712 17.6338 7.96999 17.65C7.10247 18.3313 6.10917 18.835 5.04687 19.1322C3.98458 19.4294 2.87412 19.5143 1.77899 19.382C3.69069 20.6114 5.91609 21.2641 8.18899 21.262C15.882 21.262 20.089 14.889 20.089 9.362C20.089 9.182 20.084 9 20.076 8.822C20.8949 8.23017 21.6016 7.49702 22.163 6.657L22.162 6.656Z" fill="currentColor"/> <a opacity="0" xlink:href="{{trustedLink}}" target="_blank"> <rect width="24" height="24"/> </a> </svg> ',sun:'<svg width="10" height="10" viewBox="-6 -6 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"> <circle cx="0" cy="0" r="3" fill="currentColor" stroke="none"/> <path d="M0,6V-6M6,0H-6M4.2,4.2L-4.2,-4.2M4.2,-4.2L-4.2,4.2" fill="none" stroke="currentColor" stroke-width="1"/> </svg> ',moon:'<svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M3.16816 0.51887C3.21214 0.56897 3.23908 0.630283 3.24551 0.694887C3.25193 0.759491 3.23755 0.824418 3.20421 0.881276C2.94373 1.32963 2.80771 1.83219 2.80864 2.34273C2.80864 4.04114 4.28549 5.41642 6.10564 5.41642C6.34307 5.41642 6.57419 5.39319 6.79631 5.34884C6.86439 5.33502 6.93532 5.34031 7.00022 5.36404C7.06512 5.38778 7.12112 5.42892 7.16124 5.48232C7.20358 5.53784 7.22517 5.60492 7.22265 5.67314C7.22012 5.74135 7.19362 5.80687 7.14727 5.85951C6.79391 6.26645 6.34814 6.59433 5.84245 6.81924C5.33677 7.04416 4.78392 7.16044 4.22421 7.15961C2.14726 7.15961 0.464966 5.59087 0.464966 3.65804C0.464966 2.20334 1.41739 0.955616 2.7735 0.42679C2.84105 0.400024 2.91604 0.394531 2.98721 0.411135C3.05837 0.427739 3.12187 0.465543 3.16816 0.51887Z" fill="currentColor"/> </svg> ',statusClosed:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <circle r="5.44737" transform="matrix(-1 -8.74228e-08 -8.74228e-08 1 16 16)" stroke="currentColor" stroke-width="1.10526"/> <circle cx="16" cy="16" r="2.5" fill="currentColor"/> </svg> ',statusDraft:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M18.4853 14.4574L17.5427 13.5147L11.3333 19.7241V20.6667H12.276L18.4853 14.4574ZM19.428 13.5147L20.3707 12.5721L19.428 11.6294L18.4853 12.5721L19.428 13.5147ZM12.828 22.0001H10V19.1714L18.9567 10.2147C19.0817 10.0897 19.2512 10.0195 19.428 10.0195C19.6048 10.0195 19.7743 10.0897 19.8993 10.2147L21.7853 12.1007C21.9103 12.2257 21.9805 12.3953 21.9805 12.5721C21.9805 12.7488 21.9103 12.9184 21.7853 13.0434L12.8287 22.0001H12.828Z" fill="currentColor"/> </svg> ',statusModerating:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <circle r="5.44737" transform="matrix(-1 -8.74228e-08 -8.74228e-08 1 16 16)" stroke="currentColor" stroke-width="1.10526"/> <path d="M14.3497 18V15.174C14.3497 14.958 14.3437 14.76 14.3317 14.574L15.5497 18H16.5097L17.6617 14.574C17.6497 14.754 17.6497 14.958 17.6497 15.174V18H18.4057V13.8H17.1637L16.1377 16.836C16.0837 16.98 16.0597 17.1 16.0297 17.22C16.0057 17.1 15.9697 16.98 15.9217 16.836L14.8537 13.8H13.5997V18H14.3497Z" fill="currentColor"/> </svg> ',statusRejected:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <circle r="5.44737" transform="matrix(-1 -8.74228e-08 -8.74228e-08 1 16.5 16)" stroke="currentColor" stroke-width="1.10526"/> <path d="M15.1563 18.5L16.2483 16.988C16.3253 16.876 16.4233 16.736 16.5003 16.603C16.5703 16.736 16.6543 16.869 16.7313 16.974L17.8093 18.5H18.9363L17.0113 15.931L18.7473 13.6H17.6623L16.7173 14.965C16.6473 15.056 16.5773 15.154 16.5143 15.273C16.4513 15.154 16.3813 15.056 16.3183 14.965L15.3523 13.6H14.2393L15.9963 15.945L14.0713 18.5H15.1563Z" fill="currentColor"/> </svg> ',statusResolved:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <circle r="5.44737" transform="matrix(-1 -8.74228e-08 -8.74228e-08 1 16 16)" stroke="currentColor" stroke-width="1.10526"/> <rect x="16" y="12.4571" width="4.9871" height="4.9871" transform="rotate(45 16 12.4571)" fill="currentColor" stroke="currentColor"/> </svg> ',statusUpcoming:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <circle r="5.44737" transform="matrix(-1 -8.74228e-08 -8.74228e-08 1 16 16)" stroke="currentColor" stroke-width="1.10526"/> </svg> ',statusPending:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M16.0429 11.264C18.696 11.264 20.8558 13.4303 20.8558 16.0914C20.8558 18.7526 18.696 20.9189 16.0429 20.9189C13.3898 20.9189 11.2301 18.7526 11.2301 16.0914C11.2301 13.4303 13.3898 11.264 16.0429 11.264ZM16.0429 10.0571C12.7203 10.0571 10.0269 12.7587 10.0269 16.0914C10.0269 19.4242 12.7203 22.1257 16.0429 22.1257C19.3656 22.1257 22.059 19.4242 22.059 16.0914C22.059 12.7587 19.3656 10.0571 16.0429 10.0571ZM18.4775 18.7859C18.7617 18.5724 18.7963 18.1589 18.5517 17.901L17.2653 16.5449C16.8667 16.1247 16.6445 15.5676 16.6445 14.9885V13.173C16.6445 12.8408 16.3752 12.5714 16.0429 12.5714C15.7107 12.5714 15.4413 12.8408 15.4413 13.173V15.2449C15.4413 15.9183 15.6954 16.5669 16.1529 17.061L17.6835 18.7145C17.8907 18.9384 18.2337 18.9692 18.4775 18.7859Z" fill="currentColor"/> </svg> ',attach:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M16 8.5C16 8.36739 15.9473 8.24021 15.8536 8.14645C15.7598 8.05268 15.6326 8 15.5 8C15.3674 8 15.2402 8.05268 15.1464 8.14645C15.0527 8.24021 15 8.36739 15 8.5V15H8.5C8.36739 15 8.24021 15.0527 8.14645 15.1464C8.05268 15.2402 8 15.3674 8 15.5C8 15.6326 8.05268 15.7598 8.14645 15.8536C8.24021 15.9473 8.36739 16 8.5 16H15V22.5C15 22.6326 15.0527 22.7598 15.1464 22.8536C15.2402 22.9473 15.3674 23 15.5 23C15.6326 23 15.7598 22.9473 15.8536 22.8536C15.9473 22.7598 16 22.6326 16 22.5V16H22.5C22.6326 16 22.7598 15.9473 22.8536 15.8536C22.9473 15.7598 23 15.6326 23 15.5C23 15.3674 22.9473 15.2402 22.8536 15.1464C22.7598 15.0527 22.6326 15 22.5 15H16V8.5Z" fill="currentColor"/> </svg> ',blockCode:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M12.8498 11L8 16L12.8498 21L14.0514 19.7612L10.4032 16L14.0514 12.2388L12.8498 11ZM19.1502 21L24 16L19.1502 11L17.9486 12.2388L21.5968 16L17.9486 19.7612L19.1502 21Z" fill="currentColor"/> </svg> ',bold:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M20 13.9546C19.999 13.1711 19.6817 12.4201 19.1178 11.8662C18.5538 11.3123 17.7892 11.0008 16.9918 11H11.9254C11.68 11 11.4446 11.0958 11.271 11.2663C11.0975 11.4368 11 11.668 11 11.9092C11 12.1503 11.0975 12.3815 11.271 12.552C11.4446 12.7225 11.68 12.8183 11.9254 12.8183H12.3186V19.1817H11.9254C11.68 19.1817 11.4446 19.2775 11.271 19.448C11.0975 19.6185 11 19.8497 11 20.0908C11 20.332 11.0975 20.5632 11.271 20.7337C11.4446 20.9042 11.68 21 11.9254 21H16.9931C17.5827 21 18.1593 20.8297 18.6511 20.5102C19.1429 20.1907 19.5281 19.7361 19.759 19.2031C19.9898 18.6701 20.0559 18.0821 19.9492 17.5124C19.8424 16.9427 19.5675 16.4165 19.1586 15.9992L19.1594 16C19.6994 15.4519 20.0007 14.7186 19.9996 13.9558V13.9546H20ZM16.9931 15.0908H14.1698V12.8179H16.9922C17.299 12.8179 17.5931 12.9376 17.81 13.1507C18.0269 13.3638 18.1488 13.6528 18.1488 13.9542C18.1488 14.2555 18.0269 14.5445 17.81 14.7576C17.5931 14.9707 17.299 15.0904 16.9922 15.0904L16.9931 15.0908ZM16.9931 19.1817H14.1698V16.9092H16.9922C17.299 16.9092 17.5931 17.0289 17.81 17.242C18.0269 17.4551 18.1488 17.7441 18.1488 18.0454C18.1488 18.3468 18.0269 18.6358 17.81 18.8489C17.5931 19.062 17.299 19.1817 16.9922 19.1817H16.9931Z" fill="currentColor"/> </svg> ',bulletedList:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M9.81219 19.2258C10.0276 19.2258 10.2342 19.3193 10.3865 19.4856C10.5388 19.652 10.6244 19.8776 10.6244 20.1129C10.6244 20.3482 10.5388 20.5738 10.3865 20.7402C10.2342 20.9065 10.0276 21 9.81219 21C9.59678 21 9.3902 20.9065 9.23789 20.7402C9.08557 20.5738 9 20.3482 9 20.1129C9 19.8776 9.08557 19.652 9.23789 19.4856C9.3902 19.3193 9.59678 19.2258 9.81219 19.2258ZM12.0863 19.5806H21.5077C21.6321 19.5793 21.7522 19.6299 21.8435 19.7221C21.9348 19.8143 21.9904 19.9411 21.9989 20.0766C22.0073 20.2121 21.9681 20.346 21.8891 20.451C21.8101 20.5559 21.6974 20.6238 21.574 20.6409L21.5077 20.6452H12.0863C11.9629 20.6451 11.844 20.5939 11.7538 20.5018C11.6636 20.4098 11.6087 20.2837 11.6003 20.1492C11.5919 20.0146 11.6305 19.8816 11.7084 19.777C11.7864 19.6724 11.8977 19.604 12.02 19.5856L12.0863 19.5806ZM9.81219 14.6129C10.0276 14.6129 10.2342 14.7064 10.3865 14.8727C10.5388 15.0391 10.6244 15.2647 10.6244 15.5C10.6244 15.7353 10.5388 15.9609 10.3865 16.1273C10.2342 16.2936 10.0276 16.3871 9.81219 16.3871C9.59678 16.3871 9.3902 16.2936 9.23789 16.1273C9.08557 15.9609 9 15.7353 9 15.5C9 15.2647 9.08557 15.0391 9.23789 14.8727C9.3902 14.7064 9.59678 14.6129 9.81219 14.6129ZM12.0863 14.9677H21.5077C21.6321 14.9664 21.7522 15.017 21.8435 15.1092C21.9348 15.2014 21.9904 15.3282 21.9989 15.4637C22.0073 15.5992 21.9681 15.7331 21.8891 15.838C21.8101 15.943 21.6974 16.0109 21.574 16.028L21.5077 16.0323H12.0863C11.9629 16.0322 11.844 15.981 11.7538 15.8889C11.6636 15.7969 11.6087 15.6708 11.6003 15.5363C11.5919 15.4017 11.6305 15.2687 11.7084 15.1641C11.7864 15.0595 11.8977 14.9911 12.02 14.9727L12.0863 14.9677ZM9.81219 10C10.0276 10 10.2342 10.0935 10.3865 10.2598C10.5388 10.4262 10.6244 10.6518 10.6244 10.8871C10.6244 11.1224 10.5388 11.348 10.3865 11.5144C10.2342 11.6807 10.0276 11.7742 9.81219 11.7742C9.60085 11.7677 9.40016 11.6714 9.25279 11.5058C9.10542 11.3402 9.02297 11.1184 9.02297 10.8875C9.02297 10.6565 9.10542 10.4347 9.25279 10.2691C9.40016 10.1035 9.60085 10.0065 9.81219 10ZM12.0863 10.3548H21.5077C21.6321 10.3535 21.7522 10.4041 21.8435 10.4963C21.9348 10.5885 21.9904 10.7153 21.9989 10.8508C22.0073 10.9863 21.9681 11.1202 21.8891 11.2251C21.8101 11.3301 21.6974 11.398 21.574 11.4151L21.5077 11.4194H12.0863C11.9629 11.4193 11.844 11.3681 11.7538 11.276C11.6636 11.184 11.6087 11.0579 11.6003 10.9234C11.5919 10.7888 11.6305 10.6558 11.7084 10.5512C11.7864 10.4466 11.8977 10.3782 12.02 10.3598L12.0863 10.3548Z" fill="currentColor"/> </svg> ',code:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M13.4556 12.789C13.3667 12.6485 13.2299 12.552 13.0753 12.5207C12.9207 12.4894 12.7609 12.5259 12.6311 12.6221L8.75794 15.479C8.67842 15.5379 8.61338 15.617 8.56843 15.7093C8.52349 15.8015 8.5 15.9043 8.5 16.0086C8.5 16.1129 8.52349 16.2157 8.56843 16.308C8.61338 16.4003 8.67842 16.4793 8.75794 16.5383L12.6311 19.3952C12.6954 19.4441 12.7679 19.4786 12.8446 19.4969C12.9212 19.5152 13.0005 19.5169 13.0777 19.5017C13.155 19.4866 13.2287 19.4551 13.2946 19.4089C13.3605 19.3627 13.4173 19.3028 13.4616 19.2327C13.506 19.1626 13.5371 19.0837 13.553 19.0005C13.569 18.9173 13.5695 18.8315 13.5546 18.7481C13.5397 18.6647 13.5096 18.5853 13.4662 18.5145C13.4227 18.4437 13.3667 18.383 13.3014 18.3359L10.1459 16.0118L13.3014 13.6942C13.3673 13.6465 13.4237 13.585 13.4673 13.5133C13.5109 13.4416 13.5408 13.3612 13.5551 13.2768C13.5695 13.1924 13.5681 13.1058 13.551 13.022C13.5339 12.9382 13.5015 12.859 13.4556 12.789Z" fill="currentColor"/> <path d="M23.2421 15.4779L19.3689 12.621C19.2375 12.5248 19.0762 12.489 18.9205 12.5215C18.7648 12.554 18.6273 12.6521 18.5385 12.7943C18.4496 12.9365 18.4165 13.111 18.4466 13.2796C18.4766 13.4482 18.5673 13.5969 18.6986 13.6931L21.8541 16.0236L18.6986 18.354C18.5709 18.4512 18.4838 18.5989 18.456 18.7651C18.4283 18.9313 18.4622 19.1027 18.5503 19.242C18.6385 19.3814 18.7739 19.4775 18.9271 19.5096C19.0803 19.5417 19.239 19.5071 19.3689 19.4134L23.2421 16.5564C23.3216 16.4975 23.3866 16.4184 23.4316 16.3261C23.4765 16.2339 23.5 16.1311 23.5 16.0268C23.5 15.9225 23.4765 15.8197 23.4316 15.7274C23.3866 15.6351 23.3216 15.5561 23.2421 15.4971V15.4779Z" fill="currentColor"/> <path d="M17.1501 11.0168C17.0819 10.9986 17.0111 10.9951 16.9417 11.0066C16.8723 11.018 16.8057 11.0442 16.7456 11.0835C16.6856 11.1229 16.6333 11.1747 16.5917 11.236C16.5502 11.2972 16.5202 11.3668 16.5036 11.4406L14.4632 20.3002C14.4463 20.374 14.4431 20.4506 14.4537 20.5258C14.4643 20.6009 14.4884 20.673 14.5248 20.738C14.5612 20.803 14.609 20.8596 14.6656 20.9046C14.7222 20.9495 14.7864 20.982 14.8546 21H14.9851C15.1037 20.9996 15.2188 20.9565 15.3123 20.8774C15.4057 20.7984 15.4722 20.6879 15.5012 20.5634L17.5416 11.6974C17.5703 11.5512 17.5456 11.3986 17.4726 11.2717C17.3996 11.1448 17.284 11.0534 17.1501 11.0168Z" fill="currentColor"/> </svg> ',divider:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <line x1="8" y1="15.5" x2="24" y2="15.5" stroke="currentColor"/> </svg> ',equation:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M16.8884 21L18.6044 18.624C18.7254 18.448 18.8794 18.228 19.0004 18.019C19.1104 18.228 19.2424 18.437 19.3634 18.602L21.0574 21H22.8284L19.8034 16.963L22.5314 13.3H20.8264L19.3414 15.445C19.2314 15.588 19.1214 15.742 19.0224 15.929C18.9234 15.742 18.8134 15.588 18.7144 15.445L17.1964 13.3H15.4474L18.2084 16.985L15.1834 21H16.8884Z" fill="currentColor"/> <path d="M25.5 10H13L11 21L8 16.5H6" stroke="currentColor"/> </svg> ',graph:Cf,heading:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M11.078 21V16.758H15.6V21H17.434V11.2H15.6V15.204H11.078V11.2H9.24402V21H11.078ZM21.232 11.2C20.98 12.292 20.084 12.922 18.81 13.104V14.77C19.86 14.728 20.616 14.252 21.064 13.482C21.022 13.706 21.008 13.93 21.008 14.168V21H22.758V11.2H21.232Z" fill="currentColor"/> </svg> ',italic:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M14.2686 20.7778L16.4114 12.2222H14.8571C14.7056 12.2222 14.5602 12.1578 14.4531 12.0432C14.3459 11.9286 14.2857 11.7732 14.2857 11.6111C14.2857 11.449 14.3459 11.2936 14.4531 11.179C14.5602 11.0644 14.7056 11 14.8571 11H19.4286C19.5801 11 19.7255 11.0644 19.8326 11.179C19.9398 11.2936 20 11.449 20 11.6111C20 11.7732 19.9398 11.9286 19.8326 12.0432C19.7255 12.1578 19.5801 12.2222 19.4286 12.2222H17.5954L15.4514 20.7778H17.1429C17.2944 20.7778 17.4398 20.8422 17.5469 20.9568C17.6541 21.0714 17.7143 21.2268 17.7143 21.3889C17.7143 21.551 17.6541 21.7064 17.5469 21.821C17.4398 21.9356 17.2944 22 17.1429 22H12.5714C12.4199 22 12.2745 21.9356 12.1674 21.821C12.0602 21.7064 12 21.551 12 21.3889C12 21.2268 12.0602 21.0714 12.1674 20.9568C12.2745 20.8422 12.4199 20.7778 12.5714 20.7778H14.2686Z" fill="currentColor"/> </svg> ',link2:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M18.2409 16.2849L18.218 17.5063C18.2075 18.0674 18.0866 18.6209 17.8622 19.1353C17.6378 19.6497 17.3142 20.1149 16.91 20.5042C16.5058 20.8936 16.0289 21.1995 15.5065 21.4045C14.9841 21.6096 14.4264 21.7097 13.8653 21.6992L13.5602 21.6931C12.427 21.672 11.3487 21.2015 10.5625 20.3853C9.77622 19.5691 9.34645 18.474 9.3677 17.3408C9.38895 16.2076 9.85948 15.1293 10.6758 14.343C11.4921 13.5566 12.5873 13.1268 13.7204 13.1479L13.6975 14.3693C13.2957 14.36 12.896 14.4302 12.5213 14.5758C12.1467 14.7215 11.8044 14.9397 11.5143 15.2179C11.2242 15.4962 10.9919 15.829 10.8308 16.1972C10.6696 16.5654 10.5828 16.9619 10.5752 17.3638C10.5677 17.7656 10.6396 18.165 10.7869 18.539C10.9341 18.913 11.1538 19.2543 11.4332 19.5431C11.7127 19.832 12.0465 20.0628 12.4154 20.2223C12.7844 20.3818 13.1812 20.4669 13.5831 20.4726L13.8886 20.4783C14.6978 20.4933 15.4799 20.1862 16.0628 19.6247C16.6457 19.0632 16.9818 18.2932 16.9971 17.484L17.02 16.2626L18.2409 16.2858L18.2409 16.2849ZM18.443 21.7842L18.4659 20.5637C18.8678 20.5729 19.2675 20.5027 19.6422 20.3571C20.0168 20.2114 20.359 19.9932 20.6491 19.715C20.9392 19.4368 21.1715 19.104 21.3327 18.7357C21.4939 18.3675 21.5807 17.971 21.5882 17.5692C21.5958 17.1673 21.5238 16.7679 21.3766 16.3939C21.2294 16.0199 21.0097 15.6787 20.7302 15.3898C20.4508 15.1009 20.117 14.8701 19.748 14.7106C19.3791 14.5511 18.9823 14.4661 18.5804 14.4603L18.2748 14.4546C17.4656 14.4397 16.6836 14.7467 16.1006 15.3082C15.5177 15.8697 15.1817 16.6398 15.1664 17.449L15.1435 18.6703L13.9225 18.6471L13.9454 17.4266C13.9559 16.8655 14.0768 16.312 14.3013 15.7976C14.5257 15.2832 14.8492 14.8181 15.2534 14.4287C15.6576 14.0394 16.1345 13.7334 16.657 13.5284C17.1794 13.3233 17.7371 13.2232 18.2982 13.2337L18.6033 13.2398C19.7364 13.261 20.8147 13.7314 21.601 14.5476C22.3872 15.3638 22.817 16.459 22.7958 17.5921C22.7745 18.7253 22.304 19.8036 21.4877 20.59C20.6714 21.3763 19.5762 21.8062 18.443 21.785L18.443 21.7842Z" fill="currentColor"/> </svg> ',numberedList:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M22 15.6375C22 15.7469 21.9563 15.8518 21.8785 15.9292C21.8008 16.0065 21.6953 16.05 21.5853 16.05H13.8438C13.7338 16.05 13.6283 16.0065 13.5506 15.9292C13.4728 15.8518 13.4291 15.7469 13.4291 15.6375C13.4291 15.5281 13.4728 15.4232 13.5506 15.3458C13.6283 15.2684 13.7338 15.225 13.8438 15.225H21.5853C21.6953 15.225 21.8008 15.2684 21.8785 15.3458C21.9563 15.4232 22 15.5281 22 15.6375ZM13.8438 11.65H21.5853C21.6953 11.65 21.8008 11.6065 21.8785 11.5291C21.9563 11.4518 22 11.3469 22 11.2375C22 11.1281 21.9563 11.0231 21.8785 10.9458C21.8008 10.8684 21.6953 10.825 21.5853 10.825H13.8438C13.7338 10.825 13.6283 10.8684 13.5506 10.9458C13.4728 11.0231 13.4291 11.1281 13.4291 11.2375C13.4291 11.3469 13.4728 11.4518 13.5506 11.5291C13.6283 11.6065 13.7338 11.65 13.8438 11.65ZM21.5853 19.625H13.8438C13.7338 19.625 13.6283 19.6685 13.5505 19.7458C13.4727 19.8232 13.429 19.9281 13.429 20.0375C13.429 20.1469 13.4727 20.2518 13.5505 20.3292C13.6283 20.4065 13.7338 20.45 13.8438 20.45H21.5853C21.6953 20.45 21.8008 20.4065 21.8785 20.3292C21.9563 20.2518 22 20.1469 22 20.0375C22 19.9281 21.9563 19.8232 21.8785 19.7458C21.8008 19.6685 21.6953 19.625 21.5853 19.625ZM9.60555 11.3314L10.1113 11.0799V14.2621C10.1113 14.3715 10.155 14.4764 10.2328 14.5537C10.3106 14.6311 10.416 14.6746 10.526 14.6746C10.636 14.6746 10.7415 14.6311 10.8193 14.5537C10.8971 14.4764 10.9408 14.3715 10.9408 14.2621V10.4125C10.9407 10.3421 10.9227 10.273 10.8882 10.2116C10.8538 10.1502 10.8042 10.0986 10.7441 10.0616C10.6839 10.0246 10.6153 10.0036 10.5447 10.0004C10.4741 9.99726 10.4038 10.0121 10.3406 10.0435L9.23465 10.5935C9.18513 10.6173 9.14085 10.6506 9.10439 10.6915C9.06793 10.7324 9.04 10.7801 9.02224 10.8319C9.00448 10.8836 8.99724 10.9383 9.00094 10.9929C9.00464 11.0474 9.0192 11.1007 9.04378 11.1496C9.06837 11.1985 9.10248 11.2421 9.14413 11.2777C9.18579 11.3134 9.23416 11.3405 9.28643 11.3574C9.3387 11.3743 9.39383 11.3807 9.44862 11.3763C9.5034 11.3718 9.55675 11.3565 9.60555 11.3314ZM11.5339 18.469C11.6417 18.31 11.7148 18.1304 11.7487 17.9416C11.7825 17.7528 11.7763 17.559 11.7304 17.3728C11.6844 17.1865 11.5999 17.0119 11.4821 16.86C11.3643 16.7082 11.2158 16.5826 11.0463 16.4912C10.8768 16.3998 10.69 16.3447 10.4978 16.3295C10.3056 16.3142 10.1123 16.339 9.93033 16.4025C9.74838 16.4659 9.58177 16.5665 9.44121 16.6977C9.30066 16.829 9.18926 16.9881 9.11417 17.1647C9.09251 17.2147 9.081 17.2684 9.08031 17.3228C9.07962 17.3772 9.08976 17.4312 9.11014 17.4817C9.13053 17.5322 9.16075 17.5782 9.19908 17.617C9.23741 17.6558 9.28308 17.6867 9.33346 17.7079C9.38385 17.7291 9.43795 17.7402 9.49266 17.7405C9.54736 17.7408 9.60159 17.7304 9.65221 17.7097C9.70284 17.6891 9.74886 17.6587 9.78762 17.6203C9.82639 17.5819 9.85714 17.5363 9.87809 17.486C9.90798 17.4158 9.95225 17.3524 10.0081 17.3001C10.0639 17.2477 10.1301 17.2075 10.2023 17.182C10.2746 17.1564 10.3515 17.1461 10.428 17.1517C10.5045 17.1573 10.579 17.1787 10.6468 17.2145C10.7145 17.2502 10.7741 17.2996 10.8216 17.3595C10.8692 17.4194 10.9036 17.4885 10.9229 17.5624C10.9421 17.6362 10.9457 17.7133 10.9334 17.7886C10.9211 17.8639 10.8932 17.9359 10.8514 17.9999L9.08818 20.3401C9.042 20.4014 9.01389 20.4743 9.007 20.5506C9.00011 20.6269 9.01471 20.7036 9.04917 20.7721C9.08362 20.8406 9.13658 20.8982 9.20209 20.9384C9.2676 20.9787 9.34309 21 9.4201 21H11.3555C11.4655 21 11.571 20.9565 11.6487 20.8792C11.7265 20.8018 11.7702 20.6969 11.7702 20.5875C11.7702 20.4781 11.7265 20.3732 11.6487 20.2958C11.571 20.2185 11.4655 20.175 11.3555 20.175H10.2491L11.5221 18.4855C11.5262 18.4801 11.5301 18.4747 11.5339 18.469Z" fill="currentColor"/> </svg> ',paragraph:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M12 13.07C12 15.3178 14.0467 17.14 16.5714 17.14V9C14.0467 9 12 10.8222 12 13.07Z" fill="currentColor"/> <line x1="17.1429" y1="9" x2="17.1429" y2="23" stroke="currentColor" stroke-width="1.14286"/> <line x1="19.4286" y1="9" x2="19.4286" y2="23" stroke="currentColor" stroke-width="1.14286"/> <line x1="16.5714" y1="9.57139" x2="20" y2="9.57139" stroke="currentColor" stroke-width="1.14286"/> </svg> ',photo:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M20.6667 11.3333V20.6667H11.3333V11.3333H20.6667ZM20.6667 10H11.3333C10.6 10 10 10.6 10 11.3333V20.6667C10 21.4 10.6 22 11.3333 22H20.6667C21.4 22 22 21.4 22 20.6667V11.3333C22 10.6 21.4 10 20.6667 10ZM17.4267 15.9067L15.4267 18.4867L14 16.76L12 19.3333H20L17.4267 15.9067Z" fill="currentColor"/> </svg> ',quote:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M14.012 10.656C11.96 10.836 10.124 12.348 10.124 15.696V19.98H13.904V16.02H12.212V15.552C12.212 13.572 13.076 12.78 14.012 12.456V10.656ZM20.42 10.656C18.368 10.836 16.532 12.348 16.532 15.696V19.98H20.312V16.02H18.62V15.552C18.62 13.572 19.484 12.78 20.42 12.456V10.656Z" fill="currentColor"/> </svg> ',subheading:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M10.9672 21V17.667H14.5202V21H15.9612V13.3H14.5202V16.446H10.9672V13.3H9.5262V21H10.9672ZM22.7953 21V19.713H19.0993C19.1983 19.504 19.4073 19.35 20.1553 18.811L20.6723 18.448C21.7833 17.667 22.7953 16.864 22.7953 15.445C22.7953 14.114 21.8383 13.102 20.1773 13.102C18.3733 13.102 17.2953 14.235 17.2953 15.94V16.006H18.7693V15.929C18.7693 14.917 19.2423 14.279 20.1773 14.279C20.9363 14.279 21.3983 14.708 21.3983 15.434C21.3983 16.193 20.8153 16.721 19.9793 17.315L19.5283 17.634C18.2413 18.547 17.2403 19.273 17.1963 21H22.7953Z" fill="currentColor"/> </svg> ',resolution:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect x="8" y="3.81066" width="5.92462" height="5.92462" transform="rotate(45 8 3.81066)" stroke-width="1.5"/> </svg> '},Sf=["$sce",function(e){return{restrict:"A",replace:!0,scope:{link:"@"},link:function(t,n,i){let r=+(n=n[0]).getAttribute("width"),o=+n.getAttribute("height"),a=+n.getAttribute("crop"),s=n.getAttribute("viewBox").split(" "),l=+s[0]||0,u=+s[1]||0,c=+s[2]||r,d=+s[3]||o;if(a&&r&&o){let e=c*a/r;l+=(c-e)/2,u+=(d-e)/2,n.setAttribute("width",a),n.setAttribute("height",a),n.setAttribute("viewBox","".concat(l," ").concat(u," ").concat(e," ").concat(e))}t.trustedLink="",t.$watch("link",(n=>{t.trustedLink=e.trustAsResourceUrl(n)}))},template:function(e,t){return kf[t.iconName]||"<em>Missing icon</em>"}}}];pi.directive("iconName",Sf),pi.directive("clockIcon",(function(){return{restrict:"A",replace:!0,scope:{question:"="},link:function(e,t){e.$watch("question",(function(e){if(!e)return;let n=(Date.now()-e.publish_time)/(e.close_time-e.publish_time),i=5.44737,r=t[0].children;r[0].setAttribute("r",1-n+2.5*n),r[2].setAttribute("x2",i*Math.sin(2*Math.PI*n)),r[2].setAttribute("y2",-i*Math.cos(2*Math.PI*n))}))},template:'<svg width="32" height="32" viewBox="-16 -16 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <circle r="0" fill="currentColor" stroke-width="0"/> <circle r="5.44737" stroke="currentColor" stroke-width="1.10526"/> <line x1="0" y1="0" x2="0" y2="0" stroke-width="1.10526" stroke="currentColor"/> </svg> '}})),pi.directive("iconGallery",(function(){return{restrict:"C",template(){var e="";for(var t in kf)e+='<div><svg icon-name="'.concat(t,'" crop="32"></svg><div>').concat(t,"</div></div>");return e}}}));var Tf,Ef,Pf=0,Of=0,qf=0,$f=0,Mf=0,Lf=0,jf="object"==typeof performance&&performance.now?performance:Date,Af="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Df(){return Mf||(Af(Nf),Mf=jf.now()+Lf)}function Nf(){Mf=0}function Rf(){this._call=this._time=this._next=null}function If(e,t,n){var i=new Rf;return i.restart(e,t,n),i}function Ff(){Mf=($f=jf.now())+Lf,Pf=Of=0;try{!function(){Df(),++Pf;for(var e,t=Tf;t;)(e=Mf-t._time)>=0&&t._call.call(null,e),t=t._next;--Pf}()}finally{Pf=0,function(){for(var e,t,n=Tf,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Tf=t);Ef=e,Bf(i)}(),Mf=0}}function Uf(){var e=jf.now(),t=e-$f;t>1e3&&(Lf-=t,$f=e)}function Bf(e){Pf||(Of&&(Of=clearTimeout(Of)),e-Mf>24?(e<1/0&&(Of=setTimeout(Ff,e-jf.now()-Lf)),qf&&(qf=clearInterval(qf))):(qf||($f=jf.now(),qf=setInterval(Uf,1e3)),Pf=1,Af(Ff)))}function Hf(e,t,n){var i=new Rf;return t=null==t?0:+t,i.restart((function(n){i.stop(),e(n+t)}),t,n),i}Rf.prototype=If.prototype={constructor:Rf,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Df():+n)+(null==t?0:+t),this._next||Ef===this||(Ef?Ef._next=this:Tf=this,Ef=this),this._call=e,this._time=n,Bf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bf())}};var zf=Yp("start","end","interrupt"),Vf=[];function Gf(e,t,n,i,r,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function o(l){var u,c,d,p;if(1!==n.state)return s();for(u in r)if((p=r[u]).name===n.name){if(3===p.state)return Hf(o);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[u]):+u<t&&(p.state=6,p.timer.stop(),delete r[u])}if(Hf((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(d=n.tween.length),u=0,c=-1;u<d;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function a(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=i.length;++o<a;)i[o].call(null,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var i in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=If((function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:i,group:r,on:zf,tween:Vf,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Qf(e,t){var n=Yf(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Wf(e,t){var n=Yf(e,t);if(n.state>2)throw new Error("too late; already started");return n}function Yf(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var Kf,Zf,Jf,Xf,em=180/Math.PI,tm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nm(e,t,n,i,r,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*em,skewX:Math.atan(l)*em,scaleX:a,scaleY:s}}function im(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,i,r,o,a,s){if(e!==r||i!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:Bd(e,r)},{i:l-2,x:Bd(i,o)})}else(r||o)&&a.push("translate("+r+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Bd(e,t)})):t&&n.push(r(n)+"rotate("+t+i)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Bd(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}(o.skewX,a.skewX,s,l),function(e,t,n,i,o,a){if(e!==n||t!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Bd(e,n)},{i:s-2,x:Bd(t,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,i=l.length;++n<i;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var rm=im((function(e){return"none"===e?tm:(Kf||(Kf=document.createElement("DIV"),Zf=document.documentElement,Jf=document.defaultView),Kf.style.transform=e,e=Jf.getComputedStyle(Zf.appendChild(Kf),null).getPropertyValue("transform"),Zf.removeChild(Kf),nm(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),om=im((function(e){return null==e?tm:(Xf||(Xf=document.createElementNS("http://www.w3.org/2000/svg","g")),Xf.setAttribute("transform",e),(e=Xf.transform.baseVal.consolidate())?nm((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):tm)}),", ",")",")");function am(e,t){var n,i;return function(){var r=Wf(this,e),o=r.tween;if(o!==n)for(var a=0,s=(i=n=o).length;a<s;++a)if(i[a].name===t){(i=i.slice()).splice(a,1);break}r.tween=i}}function sm(e,t,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Wf(this,e),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=s;break}l===u&&r.push(s)}o.tween=r}}function lm(e,t,n){var i=e._id;return e.each((function(){var e=Wf(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Yf(e,i).value[t]}}function um(e,t){var n;return("number"==typeof t?Bd:t instanceof Wc?Rd:(n=Wc(t))?(t=n,Rd):Gd)(e,t)}function cm(e){return function(){this.removeAttribute(e)}}function dm(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pm(e,t,n){var i,r;return function(){var o=this.getAttribute(e);return o===n?null:o===i?r:r=t(i=o,n)}}function hm(e,t,n){var i,r;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===i?r:r=t(i=o,n)}}function fm(e,t,n){var i,r,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(e))===s?null:a===i&&s===r?o:o=t(i=a,r=s);this.removeAttribute(e)}}function mm(e,t,n){var i,r,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(e.space,e.local))===s?null:a===i&&s===r?o:o=t(i=a,r=s);this.removeAttributeNS(e.space,e.local)}}function gm(e,t){function n(){var n=this,i=t.apply(n,arguments);return i&&function(t){n.setAttributeNS(e.space,e.local,i(t))}}return n._value=t,n}function vm(e,t){function n(){var n=this,i=t.apply(n,arguments);return i&&function(t){n.setAttribute(e,i(t))}}return n._value=t,n}function ym(e,t){return function(){Qf(this,e).delay=+t.apply(this,arguments)}}function bm(e,t){return t=+t,function(){Qf(this,e).delay=t}}function wm(e,t){return function(){Wf(this,e).duration=+t.apply(this,arguments)}}function _m(e,t){return t=+t,function(){Wf(this,e).duration=t}}function xm(e,t){if("function"!=typeof t)throw new Error;return function(){Wf(this,e).ease=t}}function Cm(e,t,n){var i,r,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Qf:Wf;return function(){var a=o(this,e),s=a.on;s!==i&&(r=(i=s).copy()).on(t,n),a.on=r}}var km=Fs.prototype.constructor;function Sm(e,t,n){function i(){var i=this,r=t.apply(i,arguments);return r&&function(t){i.style.setProperty(e,r(t),n)}}return i._value=t,i}var Tm=0;function Em(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Pm(){return++Tm}var Om=Fs.prototype;Em.prototype=function(e){return Fs().transition(e)}.prototype={constructor:Em,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=ja(e));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,u=i[a],c=u.length,d=o[a]=new Array(c),p=0;p<c;++p)(s=u[p])&&(l=e.call(s,s.__data__,p,u))&&("__data__"in s&&(l.__data__=s.__data__),d[p]=l,Gf(d[p],t,n,p,d,Yf(s,n)));return new Em(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Da(e));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,u=i[s],c=u.length,d=0;d<c;++d)if(l=u[d]){for(var p,h=e.call(l,l.__data__,d,u),f=Yf(l,n),m=0,g=h.length;m<g;++m)(p=h[m])&&Gf(p,t,n,m,h,f);o.push(h),a.push(l)}return new Em(o,a,t,n)},filter:function(e){"function"!=typeof e&&(e=Fa(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a=t[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new Em(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,u=t[s],c=n[s],d=u.length,p=a[s]=new Array(d),h=0;h<d;++h)(l=u[h]||c[h])&&(p[h]=l);for(;s<i;++s)a[s]=t[s];return new Em(a,this._parents,this._name,this._id)},selection:function(){return new km(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Pm(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=Yf(a,t);Gf(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Em(i,this._parents,e,n)},call:Om.call,nodes:Om.nodes,node:Om.node,size:Om.size,empty:Om.empty,each:Om.each,on:function(e,t){var n=this._id;return arguments.length<2?Yf(this.node(),n).on.on(e):this.each(Cm(n,e,t))},attr:function(e,t){var n=Oa(e),i="transform"===n?om:um;return this.attrTween(e,"function"==typeof t?(n.local?mm:fm)(n,i,lm(this,"attr."+e,t)):null==t?(n.local?dm:cm)(n):(n.local?hm:pm)(n,i,t+""))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=Oa(e);return this.tween(n,(i.local?gm:vm)(i,t))},style:function(e,t,n){var i="transform"==(e+="")?rm:um;return null==t?this.styleTween(e,function(e,t){var n,i,r;return function(){var o=ns(this,e),a=(this.style.removeProperty(e),ns(this,e));return o===a?null:o===n&&a===i?r:r=t(n=o,i=a)}}(e,i)).on("end.style."+e,function(e){return function(){this.style.removeProperty(e)}}(e)):this.styleTween(e,"function"==typeof t?function(e,t,n){var i,r,o;return function(){var a=ns(this,e),s=n(this);return null==s&&(this.style.removeProperty(e),s=ns(this,e)),a===s?null:a===i&&s===r?o:o=t(i=a,r=s)}}(e,i,lm(this,"style."+e,t)):function(e,t,n){var i,r;return function(){var o=ns(this,e);return o===n?null:o===i?r:r=t(i=o,n)}}(e,i,t+""),n)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,Sm(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(lm(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=Yf(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((null==t?am:sm)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?ym:bm)(t,e)):Yf(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?wm:_m)(t,e)):Yf(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(xm(t,e)):Yf(this.node(),t).ease}},function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),Math.PI;var qm=1.70158,$m=(function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(qm),function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(qm),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(qm),2*Math.PI),Mm=(function e(t,n){var i=Math.asin(1/(t=Math.max(1,t)))*(n/=$m);function r(e){return t*Math.pow(2,10*--e)*Math.sin((i-e)/n)}return r.amplitude=function(t){return e(t,n*$m)},r.period=function(n){return e(t,n)},r}(1,.3),function e(t,n){var i=Math.asin(1/(t=Math.max(1,t)))*(n/=$m);function r(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+i)/n)}return r.amplitude=function(t){return e(t,n*$m)},r.period=function(n){return e(t,n)},r}(1,.3),function e(t,n){var i=Math.asin(1/(t=Math.max(1,t)))*(n/=$m);function r(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((i-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((i+e)/n))/2}return r.amplitude=function(t){return e(t,n*$m)},r.period=function(n){return e(t,n)},r}(1,.3),{time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}});function Lm(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Mm.time=Df(),Mm;return n}Fs.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,i,r,o=e.__transition,a=!0;if(o){for(r in t=null==t?null:t+"",o)(n=o[r]).name===t?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),i&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete e.__transition}}(this,e)}))},Fs.prototype.transition=function(e){var t,n;e instanceof Em?(t=e._id,e=e._name):(t=Pm(),(n=Mm).time=Df(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)(a=s[u])&&Gf(a,e,t,u,s,n||Lm(a,t));return new Em(i,this._parents,e,t)},pi.directive("loadingAnimation",(function(){var e=0;return{restrict:"C",link:function(t,n,i){e+=1;var r,o=Us(n[0]),a=o.append("g"),s="loading-animation"+e+"--";r=o.append("defs").selectAll("linearGradient").data([["L",1,0],["R",0,1]]).enter().append("linearGradient").attr("id",(function(e){return s+e[0]})).attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%"),r.append("stop").attr("offset","0%").attr("style",(function(e){return"stop-opacity:"+e[1]})),r.append("stop").attr("offset","100%").attr("style",(function(e){return"stop-opacity:"+e[2]}));var l=o.append("rect").attr("x",0).attr("y",0).attr("width",7.5).attr("fill","url(#"+s+"L)"),u=o.append("rect").attr("y",0).attr("width",7.5).attr("fill","url(#"+s+"R)");function c(){var e,t,n,i=parseInt(o.style("width"),10),r=parseInt(o.style("height"),10),s=[];for(e=0;e<3;e++)t=12*(e-1),s.push(t),s.push(i+t);(n=a.selectAll("circle").data(s)).enter().append("circle").attr("cx",(function(e){return e})).attr("cy",0).attr("r",2.5),n.attr("cx",(function(e){return e})),a.attr("transform","translate("+i/2+","+r/2+")"),a.transition().duration(1500).attr("transform","translate("+-i/2+","+r/2+")"),u.attr("x",i-7.5).attr("height",r),l.attr("x",0).attr("height",r)}c();var d=window.setInterval(c,1700);t.$on("$destroy",(function(){window.clearInterval(d)}))}}})),pi.directive("localDate",(function(){return{restrict:"A",template:"{{dateStr()}}",scope:{localDate:"@"},link:function(e){e.dateStr=function(){return so(new Date(e.localDate))}}}})),pi.directive("localDatetime",(function(){return{restrict:"A",template:"{{dateStr()}}",scope:{localDatetime:"@"},link:function(e){e.dateStr=function(){return lo(new Date(e.localDatetime))}}}})),pi.directive("metacModal",(function(){return{transclude:!0,template:'<div ng-if="isActive()"> <div class="modal__wrapper old-design theme-modal" ng-if="!newTemplate" ng-click="close()"> <div class="modal__box" ng-click="$event.stopPropagation()"> <div class="modal__close-wrapper"> <div class="modal__close" ng-click="close()"></div> </div> <div class="modal__content" ng-transclude></div> </div> </div> <div class="modal__wrapper" ng-if="newTemplate" ng-click="close()"> <div class="modal-box" ng-click="$event.stopPropagation()"> <div class="modal-close-wrapper"> <svg icon-name="remove" ng-click="close()"></svg> </div> <div class="modal-content" ng-transclude></div> </div> </div> </div> ',restrict:"E",scope:{name:"@",newTemplate:"@"},link:function(e,t){e.isActive=function(){return Ks.isActive(e.name)},e.close=function(){Ks.setActive(null,"close")},e.$watch("isActive()",(function(e){e?t.addClass("active"):t.removeClass("active")}))}}})),pi.directive("multiselect",(function(){return{template:'<div class="form__row"> <span class="form__label">{{label}}</span> <select name="" id="" ng-model="activeItem" ng-change="addItem()"> <option value="">Please select</option> <option value="{{option.value}}" ng-repeat="option in data track by $index" ng-click="addItem(option)"> {{ option.label }} </option> </select> </div> <div style="margin-left:30%"> <ul> <li ng-repeat="item in selected"> {{ item.label }} <a href="#" ng-click="removeItem(item)">Delete</a> </li> </ul> </div> ',restrict:"E",scope:{data:"=",selected:"=",label:"@"},link:function(e,t){e.activeItem=null,e.addItem=()=>{if(e.selected.findIndex((t=>t.value===e.activeItem))>=0)return;let t=e.data.findIndex((t=>t.value===e.activeItem));t>=0&&e.selected.push(e.data[t])},e.removeItem=t=>{e.selected=e.selected.filter((e=>e.value!==t.value))}}}}));var jm={start:"mousedown",move:"mousemove",end:"mouseup"},Am={start:"touchstart",move:"touchmove",end:"touchend"};pi.directive("slider",["$timeout",function(e){return{restrict:"E",scope:{newGuess:"=",oldGuess:"=",avgGuess:"=",fixed:"="},template:'<div class="bar"></div> <div class="handle avg-guess" ng-show="avgGuess || avgGuess === 0"> <svg width="16" height="20"><path d="M 1 1 L 7 16 L 13 1 Z"></path></svg> </div> <div class="label avg-guess" ng-show="avgGuess || avgGuess === 0"> {{"community" | translate}}: {{ avgGuess | smartPercentPrecision }} </div> <div class="handle old-guess"></div> <div class="nudges-container"> <div class="handle nudge nudge-down" ng-click="nudgeDown()" ng-if="!fixed"> <svg width="20" height="20"> <path d="M4.36617 10.633C3.87802 10.1449 3.87802 9.35212 4.36617 8.86397L11.8641 1.36602C12.3523 0.877876 13.145 0.877876 13.6332 1.36602C14.1213 1.85417 14.1213 2.64692 13.6332 3.13507L7.01778 9.75044L13.6293 16.3658C14.1174 16.854 14.1174 17.6467 13.6293 18.1349C13.1411 18.623 12.3484 18.623 11.8602 18.1349L4.36226 10.6369L4.36617 10.633Z"></path> </svg> </div> <div class="nudge nudge-up" ng-click="nudgeUp()" ng-if="!fixed"> <svg width="20" height="20"> <path d="M15.6331 9.11723C16.1212 9.60538 16.1212 10.3981 15.6331 10.8863L8.13516 18.3842C7.64701 18.8724 6.85426 18.8724 6.36611 18.3842C5.87796 17.8961 5.87796 17.1033 6.36611 16.6152L12.9815 9.9998L6.37002 3.38442C5.88187 2.89628 5.88187 2.10353 6.37002 1.61538C6.85816 1.12723 7.65091 1.12723 8.13906 1.61538L15.637 9.11332L15.6331 9.11723Z"></path> </svg> </div> </div> <div class="handle new-guess" ng-class="{movable: !fixed, gray: !oldGuess}"></div> <div class="label new-guess" ng-class="{gray: !oldGuess}"> {{"you" | translate}}: {{newGuess | binaryPercentPrecision}} </div> ',link:function(t,n,i){let r=$e().element(document),o=!1,a=.001,s=.999,l=$e().element(n.children()[0]),u=$e().element(n.children()[1]),c=$e().element(n.children()[2]),d=$e().element(n.children()[3]),p=$e().element(n.children()[4]),h=$e().element(n.children()[5]),f=$e().element(n.children()[6]);t.nudgeUp=()=>{t.newGuess<s&&(t.newGuess+=.001,v())},t.nudgeDown=()=>{t.newGuess>a&&(t.newGuess-=.001,v())};var m=function(e,t){var n,i,r=(n=t,i=l[0].offsetWidth,(n-a)/.998*(i-20)+10),o=e[0].offsetWidth;e.css({left:r-o/2+"px"})};function g(e){return null!==e&&isFinite(e)}var v=()=>{g(t.newGuess)?(m(h,t.newGuess),h.css({opacity:1}),m(f,t.newGuess),f.css({opacity:1}),m(p,t.newGuess),p.css({opacity:1})):(h.css({opacity:0}),f.css({opacity:0}),p.css({opacity:0})),g(t.oldGuess)?(m(d,t.oldGuess),d.css({opacity:1})):d.css({opacity:0}),g(t.avgGuess)?(m(u,t.avgGuess),m(c,t.avgGuess),u.css({opacity:1}),c.css({opacity:1})):(u.css({opacity:0}),c.css({opacity:0}))},y=function(){var e=function(e,i,o){var u=function(){i.removeClass("active"),e.removeClass("active"),r.unbind(o.move),r.unbind(o.end),t.$apply()},c=e=>{var i,r;i=e.clientX||(r=e.touches)&&r[0]&&r[0].clientX||(r=e.originalEvent)&&(r=r.changedTouches)&&r[0]&&r[0].clientX||0,i-=n[0].getBoundingClientRect().left,t.newGuess=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=l[0].offsetWidth,i=(e-10)/(n-20)*.998+a;return t?(i=Math.round(100*i)/100,Math.min(.99,Math.max(i,.01))):Math.min(s,Math.max(i,a))}(i,!0),v(),t.$apply()};e.bind(o.start,(function(n){t.fixed||(i.addClass("active"),e.addClass("active"),v(),n.stopPropagation(),n.preventDefault(),r.bind(o.move,c),r.bind(o.end,u))}))};o||(e(h,f,Am),e(h,f,jm),o=!0),v()};e(y),t.$watchCollection("[newGuess, oldGuess, avgGuess]",y),window.addEventListener("resize",y)}}}]),pi.directive("supporterBadge",(function(){return{restrict:"A",scope:{level:"="},link(e){e.stars=()=>[].constructor(Math.max(0,Math.min(e.level,5)))},template:'<svg icon-name="patreon" ng-repeat="s in stars() track by $index"></svg>'}}));var Dm='<fieldset class="detail-box" ng-class="{collapsed:!showDetails}">\n  <div class="detail-box__hit-area" ng-click="showDetails=!showDetails"></div>\n  <legend toggle-details="showDetails">{{tagName()}}</legend>\n  <div ng-show="showDetails" ng-transclude></div>\n</fieldset>',Nm=["$parse",function(e){return{restrict:"A",link:function(t,n,i){var r=document.createElement("div");r.innerHTML="LEGEND"==n[0].tagName||"cross"==i.toggleIcon?'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-6 -6 12 12"\nxml:space="preserve" width="1em" height="1em" class="disclosure-cross">\n  <circle r="5.5"/>\n  <line x1="-4" x2="4" y1="0" y2="0" class="hbar"/>\n  <line y1="-4" y2="4" x1="0" x2="0" class="vbar"/>\n</svg>':'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 4 4"\nxml:space="preserve" width="0.85em" height="0.85em" class="disclosure-triangle">\n    <path d="M1,0V4L3,2"/>\n</svg>',n[0].insertBefore(r.firstChild,n[0].firstChild),n.on("click",(function(n){n.preventDefault(),t.$apply((function(){var n=e(i.toggleDetails);n.assign(t,!n(t))}))})),t.$watch(i.toggleDetails,(function(e){e?i.$addClass("show-details"):i.$removeClass("show-details")}))}}}];pi.directive("toggleDetails",Nm).directive("disclosureTriangle",(function(){return{restrict:"E",replace:!0,transclude:!0,template:(e,t)=>'<span toggle-details="'.concat(t.disclosed,'"><span ng-transclude></span></span>')}})).directive("finePrint",(function(){return{restrict:"C",transclude:!0,template:Dm,scope:{},link:function(e){e.tagName=()=>fe("finePrint")}}})).directive("spoilerWarning",(function(){return{restrict:"C",transclude:!0,template:Dm,scope:{},link:function(e){e.tagName=()=>e.showDetails?fe("hideSpoiler"):fe("showSpoiler")}}})).directive("hideComment",(function(){return{restrict:"C",transclude:!0,template:Dm,scope:{},link:function(e){e.tagName=()=>fe("commentHidden")}}})).directive("detailBox",(function(){return{restrict:"A",replace:!0,transclude:!0,template:Dm,scope:{detailBox:"@"},link:function(e){e.tagName=()=>e.detailBox}}})),pi.directive("themeToggle",(function(){return{restrict:"E",replace:!0,template:'\n      <label class="toggle-switch">\n        <input type="checkbox" ng-model="brightMode">\n        <span class="slider" ng-class="{saturated: saturated}"><svg icon-name="moon" ng-if="!brightMode"></svg><svg icon-name="sun" ng-if="brightMode"></svg></span>\n      </label>',scope:{},link:function(e){function t(t){e.brightMode="light"==t,e.saturated=!1}e.$watch(sf,t),e.$watch("brightMode",(function(e){af(e?"light":"dark")})),e.toggle=function(){var e="light"==sf()?"dark":"light";t(e),af(e)},window.document.onkeydown=function(t){"\\"==t.key&&t.ctrlKey&&e.$apply(e.toggle)}}}}));var Rm=n(6577),Im=n.n(Rm);pi.directive("angularTribute",(function(){return{restrict:"A",scope:{values:"=",options:"="},link:function(e,t){var n=Object.create(e.options||{});n.values=e.values,n.selectTemplate=n.selectTemplate?n.selectTemplate:e=>{let t=e.original.value;return null===t.match(/^\w([\w.@+-]*\w)?$/gim)?"@(".concat(t,")"):"@"+t};var i=new(Im())(n);i.attach(t[0]),e.$on("$destroy",(function(){i&&i.hideMenu()}))}}})),pi.directive("angularTributeDropdown",(function(){return{restrict:"A",scope:{values:"=",options:"=",tribute:"=",addCategory:"="},link:function(e,t){const n=t[0],i=Object.create(e.options||{});i.values=(t,n)=>{n(e.values)},i.autocompleteMode=!0,i.allowSpaces=!0,i.lookup="indentedName",i.fillAttr="indentedName",i.containerClass="tribute-container tribute-container-autocomplete tribute-category-select",i.menuContainer=t[0].parentElement,n.parentElement.style.position="relative",i.positionMenu=!1,i.selectTemplate=function(t){return e.$apply((function(){e.addCategory(t.original.id)})),null},e.tribute=new(Im())(i),e.tribute.attach(t[0]),n.onclick=()=>{e.tribute.showMenuForCollection(n)},document.querySelector("body").onclick=function(n){n.target!=document.querySelector(".tribute-container")&&n.target!=t[0]&&e.tribute&&e.tribute.hideMenu()},e.$on("$destroy",(function(){e.tribute&&e.tribute.hideMenu()}))}}})),pi.directive("angularSearchTribute",(function(){return{restrict:"A",scope:{values:"=",options:"="},link:function(e,t){var n=Object.create(e.options||{});n.values=e.values,n.trigger="+",n.requireLeadingSpace=!0,n.containerClass="tribute-container tribute-container-autocomplete",n.selectTemplate=e=>"include:"+e.original.value;var i=Object.assign({},n);i.trigger="-",i.selectTemplate=e=>"exclude:"+e.original.value,n=[n,i];var r=new(Im())({collection:n});r.attach(t[0]),e.$on("$destroy",(function(){r&&r.hideMenu()}))}}})),pi.directive("metacVoter",(function(){return{scope:{resource:"="},restrict:"A",link:function(e){e.vote=function(t){e.resource.vote(t).then((e=>{}),(e=>{Ks.setActive("welcome-modal")}))}},template:'<svg ng-click="vote(+1)" icon-name="voteUp" class="action-icon" ng-class="{hasvoted: (resource.user_vote > 0)}"></svg><span ng-if="resource.votes !== 0">{{resource.votes}}</span><svg ng-click="vote(-1)" icon-name="voteDown" class="action-icon" ng-class="{hasvoted: (resource.user_vote < 0)}"></svg>'}})),pi.directive("expandableTextarea",(function(){return{restrict:"A",replace:!0,template:function(e,t){return"<textarea ng-keydown='update()' ng-paste='update()'></textarea>"},transclude:!0,scope:{},link:function(e,t,n){let i=t[0];e.update=()=>{i.style.maxHeight="500px",i.style.height="auto",i.style.height=i.scrollHeight+2+"px",setTimeout((()=>{i.style.overflow=i.scrollHeight>500?"auto":"hidden",i.style.height="auto",i.style.height=i.scrollHeight+2+"px"}),0)},e.update()}}})),pi.directive("onEsc",(function(){return function(e,t,n){t.bind("keydown",(function(t){27===t.which&&(e.$apply((function(){e.$eval(n.onEsc)})),t.preventDefault())}))}}));var Fm=["$compile",function(e){return{restrict:"A",link:function(t,n,i){t.$watch(i.bindHtmlMath,(function(r){n.html(r);var o=window.MathJax&&window.MathJax.Hub;o&&o.Queue(["Reprocess",o,n[0]]),i.compile&&t.$eval(i.compile)?e(n.contents())(t):vf(n[0])}))}}}];pi.directive("bindHtmlMath",Fm),pi.directive("bindTrustedHtml",["$compile",function(e){return{restrict:"A",link:function(e,t,n){e.$watch(n.bindTrustedHtml,(function(e){t.html(e)}))}}}]);var Um=n(7338),Bm=n.n(Um);function Hm(e,t){return e.sub_questions.find((e=>e.conditioned_on_resolution===t))}function zm(e,t,n){return e*t+(1-e)*n}function Vm(e){return new Date(1e3*e)}function Gm(e){return 2==e?0:vi(e,0,1)}pi.directive("angularAutocompleter",(function(){return{restrict:"A",scope:{values:"="},link:function(e,t){e.$watch("values",(function(e){if(void 0===e){var n=e,i=t[0];Bm()({input:i,debounceWaitMs:0,minLength:3,fetch:function(e,t){e=e.toLowerCase(),n(e,t)},onSelect:function(e){"Question"===e.group?window.location.href="/questions/"+e.value:"Category"===e.group?i.value="cat:"+e.value:"User"===e.group?i.value="author:"+e.value:e.value&&(i.value=e.label)},render:function(e,t){let n=document.createElement("div"),i=new RegExp("("+t.split(" ").join("|")+")","gi"),r=e.label.replace(i,"<b>$&</b>");return n.innerHTML=r,n}})}}))}}}));class Qm extends lh{constructor(){super(),this.data=[]}set data(e){this._data=(e||[]).map((e=>{var t=ia(e);return{time:e.time,q1:t.ppf(.25),q2:t.ppf(.5),q3:t.ppf(.75)}}))}get data(){return this._data}display(e,t){var n=t.selectAll("line").data(this.data);n.exit().remove(),n.enter().append("line").merge(n).attr("x1",(t=>e.xscale(t.time))).attr("x2",(t=>e.xscale(t.time))).attr("y1",(t=>e.yscale(t.q1))).attr("y2",(t=>e.yscale(t.q3)));var i=t.selectAll("circle").data(this.data);i.exit().remove(),i.enter().append("circle").attr("r",3).merge(i).attr("cx",(t=>e.xscale(t.time))).attr("cy",(t=>e.yscale(t.q2)))}}class Wm extends wh{constructor(e){super(),this.bottomAxis=e}display(e,t){const n={},i={locale:me.resolvedLanguage};var r,o,a,s,l,u=e.xscale.domain(),c=Date.now()-u[0],d=this.mouseVal||new Date;c<864e5?(n.hour="numeric",n.minute="numeric"):c<6048e5?(n.weekday="short",n.hour="numeric",n.minute="numeric"):c<31536e6?(n.month="short",n.day="numeric"):(n.year="numeric",n.month="short"),d<u[0]?d=u[0]:d>u[1]&&(d=u[1]),(r=t.select("line")).empty()&&(r=t.append("line")),r.attr("x1",e.xscale(d)).attr("x2",e.xscale(d)).attr("y1",e.yscale(0)).attr("y2",e.yscale(1)),(o=t.select(".mousedate")).empty()&&(o=t.append("text").classed("mousedate",!0).style("text-anchor","middle")),o.attr("x",e.xscale(d)).attr("y",e.yscale(0)).attr("dy","1.5em").text(xi(new Date(d),n,i)),d>=u[1]?(this.bottomAxis.selectAll(".label").style("display","initial"),o.style("display","none")):(this.bottomAxis.selectAll(".label").style("display","none"),o.style("display","initial")),s=(a=o.node().getBBox()).x,(l=a.x-(4-e.margins.left))<0&&(o.attr("x",e.xscale(d)-l),s-=l),(l=s+a.width-(e.xscale.range()[1]+e.margins.right-1))>0&&(o.attr("x",e.xscale(d)-l),s-=l)}}class Ym extends sh{constructor(e,t,n){super(e),n=Object.assign({interactive:!0,hasYLabel:!0,yLabel:null,margins:{top:15,bottom:20,left:45,right:15},ticks:{major:5,minor:3},ticksSpacing:{xAxis:40,yAxis:15}},n),this.hasYLabel=n.hasYLabel,this.yLabel=n.yLabel,this.margins=n.margins,this.xscale=cp(),this.yscale=Bp().domain([0,1]),this.question=t,this.selectedDate=null,this.yAxis=new Dh("left").offset(0).tickSize(n.ticks.major,n.ticks.minor).tickFormat(t.predictionFormatter).tickSpacing(n.ticksSpacing.yAxis),this.xAxis=new Dh("bottom").tickSpacing(n.ticksSpacing.xAxis).tickSize(n.ticks.major,n.ticks.minor).tickFormat("localdate"),this.addArtist(this.yAxis).addArtist(this.xAxis),this.liveResize(),"binary"===t.possibilities.type?(this.communityBand=new gh("time",[e=>Gm(e.q1),e=>Gm(e.q2),e=>Gm(e.q3)]),this.metacLine=new ph("time","x"),this.userPreds=new yh({x:"time",y:"x"}),this.voidUserPreds=new yh({x:"time",y:.5,radius:3,shape:"x"}),this.addArtist(this.communityBand,{clipped:!0,classes:"community-band"}).addArtist(this.metacLine,{clipped:!0,classes:"metaculus-line"}).addArtist(this.userPreds,{clipped:!1,classes:"binary-user-pred"}).addArtist(this.voidUserPreds,{clipped:!1,classes:"binary-user-pred"})):(this.communityBand=new gh("time",[e=>Gm(e.q1),e=>Gm(e.q2),e=>Gm(e.q3)]),this.metaculusBand=new gh("time",[e=>Gm(e.q1),e=>Gm(e.q2),e=>Gm(e.q3)]),this.userPreds=new Qm,this.voidUserPreds=new yh({x:"time",y:.5,radius:3,shape:"x"}),this.resolutionPt=new yh({x:t.end_time,y:Gm,radius:3,shape:"diamond"}),this.addArtist(this.communityBand,{clipped:!1,classes:"community-band"}).addArtist(this.metaculusBand,{clipped:!1,classes:"metaculus-band"}).addArtist(this.userPreds,{clipped:!1,classes:"continuous-user-pred"}).addArtist(this.voidUserPreds,{clipped:!1,classes:"binary-user-pred"}).addArtist(this.resolutionPt,{clipped:!1,classes:"resolution-pt"})),n.interactive&&(this.mouseLine=new Wm(this.svg.select(".axis-group.bottom")),this.addArtist(this.mouseLine,{clipped:!1,classes:"mouseline"}))}updateLineData(e,t){let n=this.question,i=n.community_prediction.history,r=n.metaculus_prediction.history,o=Math.max(n.publish_time,i[0]&&i[0].time||0),a=Math.max(n.publish_time,r[0]&&r[0].time||0),s=Math.min(Date.now(),n.end_time),l=this.xscale.domain();if(this.xscale.domain([o,s]),this.userPreds.data=(n.my_predictions||[]).filter((e=>!e.void)),this.voidUserPreds.data=(n.my_predictions||[]).filter((e=>e.void)),"binary"===n.possibilities.type?(this.communityBand.data=e?[]:Vo.smoothedTimeseries(i,{start:o,end:s,numPts:200,vars:{"x1.q1":"q1","x1.q2":"q2","x1.q3":"q3"},default:{"x1.q1":.5,"x1.q2":.5,"x1.q3":.5}}),this.metacLine.data=t?[]:Vo.smoothedTimeseries(r,{start:a,end:s,numPts:200,vars:{x:"x"},default:{x:.5}})):"continuous"===n.possibilities.type&&(this.communityBand.data=e?[]:Vo.smoothedTimeseries(i,{start:o,end:s,numPts:200,vars:{"x1.q1":"q1","x1.q2":"q2","x1.q3":"q3"},default:{"x1.q1":.5,"x1.q2":.5,"x1.q3":.5}}),this.metaculusBand.data=t?[]:Vo.smoothedTimeseries(r,{start:o,end:s,numPts:200,vars:{"x.q1":"q1","x.q2":"q2","x.q3":"q3"},default:{"x.q1":.5,"x.q2":.5,"x.q3":.5}}),this.resolutionPt.data=n.isResolved&&n.resolution>=0?[n.resolution]:[]),this.xAxis.endLabel=s<+n.end_time?fe("now"):null,this.mouseLine&&(this.mouseLine.mouseVal>=l[1]?this.mouseLine.mouseVal=new Date(s):this.mouseLine.mouseVal=new Date(Math.min(Math.max(o,this.mouseLine.mouseVal||s),s))),this.hasYLabel){let n;n=this.yLabel?this.yLabel:fe(e&&!t?"metaculusPredictionLabel":!e&&t?"communityPredictionLabel":"predictionLabel"),this.yAxis.label(n,"-".concat(this.margins.left-8,"px"))}}}class Km extends sh{constructor(e,t,n,i,r){super(e),this.margins={top:15,bottom:20,left:45,right:15},this.parentQuestion=t,this.yesQuestion=n,this.noQuestion=i,this.options=r,this.xscale=cp(),this.xAxis=new Dh("bottom").tickSpacing(40).tickSize(5,3).tickFormat("localdate"),this.addArtist(this.xAxis),this.yscale=Bp().domain([0,1]),this.yAxis=new Dh("left").offset(0).tickSize(5,3).tickFormat(this.yesQuestion.predictionFormatter).tickSpacing(15),this.yAxis.label("community"===this.options.aggregateType?fe("communityPredictionLabel"):fe("metaculusPredictionLabel"),"-".concat(this.margins.left-8,"px")),this.addArtist(this.yAxis),this.combinedLine=new ph("time","x"),this.addArtist(this.combinedLine,{clipped:!0,classes:"combined-line"}),this.yesResolutionPoint=new yh({x:n.end_time,y:Gm,radius:5,shape:"diamond"}),this.addArtist(this.yesResolutionPoint,{clipped:!1,classes:"yes-resolution-point"}),this.noResolutionPoint=new yh({x:i.end_time,y:Gm,radius:5,shape:"diamond"}),this.addArtist(this.noResolutionPoint,{clipped:!1,classes:"no-resolution-point"}),"binary"===this.yesQuestion.possibilities.type?(this.yesLine=new ph("time","x"),this.addArtist(this.yesLine,{clipped:!0,classes:"yes-line"}),this.yesUserPredictions=new yh({x:"time",y:"x",shape:"double-circle"}),this.addArtist(this.yesUserPredictions,{clipped:!1,classes:"yes-binary-user-predictions"})):(this.yesBand=new gh("time",[e=>Gm(e.q1),e=>Gm(e.q2),e=>Gm(e.q3)]),this.addArtist(this.yesBand,{clipped:!0,classes:"yes-band"}),this.yesUserPredictions=new Qm,this.addArtist(this.yesUserPredictions,{clipped:!1,classes:"yes-continuous-user-predictions"})),"binary"===this.noQuestion.possibilities.type?(this.noLine=new ph("time","x"),this.addArtist(this.noLine,{clipped:!0,classes:"no-line"}),this.noUserPredictions=new yh({x:"time",y:"x",shape:"double-circle"}),this.addArtist(this.noUserPredictions,{clipped:!1,classes:"no-binary-user-predictions"})):(this.noBand=new gh("time",[e=>Gm(e.q1),e=>Gm(e.q2),e=>Gm(e.q3)]),this.addArtist(this.noBand,{clipped:!0,classes:"no-band"}),this.noUserPredictions=new Qm,this.addArtist(this.noUserPredictions,{clipped:!1,classes:"no-continuous-user-predictions"})),this.mouseLine=new Wm(this.svg.select(".axis-group.bottom")),this.addArtist(this.mouseLine,{clipped:!1,classes:"mouseline"}),this.liveResize()}updateLineData(){var e,t,n;const{hasYes:i,hasNo:r,hasCombined:o,aggregateType:a}=this.options,s=Date.now(),l="community"===a?this.yesQuestion.community_prediction.history:this.yesQuestion.metaculus_prediction.history,u=Math.max(this.yesQuestion.publish_time,(null===(e=l[0])||void 0===e?void 0:e.time)||0),c=Math.min(s,this.yesQuestion.end_time),d="community"===a?this.noQuestion.community_prediction.history:this.noQuestion.metaculus_prediction.history,p=Math.max(this.noQuestion.publish_time,(null===(t=d[0])||void 0===t?void 0:t.time)||0),h=Math.min(s,this.noQuestion.end_time),f=function(e,t,n,i){const r=new Set;for(const{time:t}of e)r.add(t);for(const{time:e}of t)r.add(e);for(const{time:e}of n)r.add(e);const o=Array.from(r).sort(((e,t)=>e.getTime()-t.getTime())),a=[];for(const r of o){const o=Vo.dataAtTime(e,r),s=Vo.dataAtTime(t,r),l=Vo.dataAtTime(n,r);if(null!=o&&null!=s&&null!=l){const e="community"===i?zm(o.x1.q2,s.x1.q2,l.x1.q2):zm(o.x,s.x,l.x);a.push({x:e,time:r})}}return a}("community"===a?this.parentQuestion.community_prediction.history:this.parentQuestion.metaculus_prediction.history,l,d,a),m=(null===(n=f[0])||void 0===n?void 0:n.time)||0,g=Math.min(c,h);this.xscale.domain([Math.min(u,p),Math.max(c,h)]),"binary"===this.yesQuestion.possibilities.type?this.yesLine.data="community"===a?i?Vo.smoothedTimeseries(l,{start:u,end:c,numPts:200,vars:{"x1.q2":"x"},default:{"x1.q2":.5}}):[]:i?Vo.smoothedTimeseries(l,{start:u,end:c,numPts:200,vars:{x:"x"},default:{x:.5}}):[]:this.yesBand.data="community"===a?i?Vo.smoothedTimeseries(l,{start:u,end:c,numPts:200,vars:{"x1.q1":"q1","x1.q2":"q2","x1.q3":"q3"},default:{"x1.q1":.5,"x1.q2":.5,"x1.q3":.5}}):[]:i?Vo.smoothedTimeseries(l,{start:u,end:c,numPts:200,vars:{"x.q1":"q1","x.q2":"q2","x.q3":"q3"},default:{"x.q1":.5,"x.q2":.5,"x.q3":.5}}):[],"binary"===this.noQuestion.possibilities.type?this.noLine.data="community"===a?r?Vo.smoothedTimeseries(d,{start:p,end:h,numPts:200,vars:{"x1.q2":"x"},default:{"x1.q2":.5}}):[]:r?Vo.smoothedTimeseries(d,{start:p,end:h,numPts:200,vars:{x:"x"},default:{x:.5}}):[]:this.noBand.data="community"===a?r?Vo.smoothedTimeseries(d,{start:p,end:h,numPts:200,vars:{"x1.q1":"q1","x1.q2":"q2","x1.q3":"q3"},default:{"x1.q1":.5,"x1.q2":.5,"x1.q3":.5}}):[]:r?Vo.smoothedTimeseries(d,{start:p,end:h,numPts:200,vars:{"x.q1":"q1","x.q2":"q2","x.q3":"q3"},default:{"x.q1":.5,"x.q2":.5,"x.q3":.5}}):[],this.combinedLine.data=o?Vo.smoothedTimeseries(f,{start:m,end:g,numPts:200,vars:{x:"x"},default:{x:.5}}):[],this.yesUserPredictions.data=i?(this.yesQuestion.my_predictions||[]).filter((e=>!e.void)):[],this.noUserPredictions.data=r?(this.noQuestion.my_predictions||[]).filter((e=>!e.void)):[],this.yesResolutionPoint.data=this.yesQuestion.isResolved&&this.yesQuestion.resolution>=0?[this.yesQuestion.resolution]:[],this.noResolutionPoint.data=this.noQuestion.isResolved&&this.noQuestion.resolution>=0?[this.noQuestion.resolution]:[],this.xAxis.endLabel=Math.max(c,h)<Math.max(this.yesQuestion.end_time,this.noQuestion.end_time)?fe("now"):null}}pi.directive("metacTimeSeriesGraph",(function(){return{scope:{question:"=",selectedDate:"=",hideMetac:"=",hideComm:"=",params:"="},restrict:"A",link:function(e,t,n){e.theGraph=null,e.initialRender=()=>{e.theGraph=new Ym(t[0],e.question,e.params),n.selectedDate&&e.theGraph.mouseLine&&(e.theGraph.mouseLine.cb=function(t){e.$apply((function(){e.selectedDate=t}))},e.theGraph.mouseLine.cbLeave=function(){e.$apply((function(){e.selectedDate=new Date}))})},e.updateData=()=>{e.theGraph.updateLineData(e.hideComm,e.hideMetac),e.theGraph.display(),n.selectedDate&&e.theGraph.mouseLine&&(e.selectedDate=e.theGraph.mouseLine.mouseVal)},e.initialRender(),e.$watchCollection("[question.lastUpdated, hideMetac, hideComm]",(function(){e.updateData()})),e.$watchCollection("[question.id]",(function(){t[0].innerHTML="",e.initialRender(),e.updateData()})),e.$on("$destroy",(function(){e.theGraph.cleanup()}))}}})),pi.directive("metacQuestionHistogram",(function(){return{scope:{question:"=",recentOnly:"=",params:"="},restrict:"A",link:function(e,t,n){let i=new sh(Us(t[0])).liveResize(),r=new sh(Us(t[0])).liveResize(),o=Object.assign({margins:{left:15,right:15,top:2,bottom:20},ticks:{major:5,minor:3,spacing:60}},e.params);i.margins=r.margins=o.margins;let a=new ph(0,1),s=new ph(0,1);a.curve=Tp,r.addArtist(a,{classes:"hist-line"}),r.addArtist(new Dh("bottom").fixedTicks(-.1,1.2,.2,3).tickSize(o.ticks.major,o.ticks.minor).tickSpacing(o.ticks.spacing).tickFormat((e=>(100*e).toFixed(0)+"%"))),i.addArtist(s,{classes:"fit-line"}),e.$watchCollection("[question.community_prediction.full.y, question.community_prediction.unweighted.y, recentOnly]",(function(){let t=e.question.community_prediction[e.recentOnly?"full":"unweighted"].y,n=t.length,o={num:0,sumx:0,sumx2:0};for(let e=0;e<n;e++){let i=(e+1)/(n+1),r=t[e];o.num+=r,o.sumx+=i*r,o.sumx2+=i*i*r}o.num=Math.max(1,o.num),o.avg=o.sumx/o.num,o.var=o.sumx2/o.num-o.avg*o.avg,e.recentOnly&&(o.num*=2),s.data=la.calcBetaDistribution(o),a.ykey=1,a.data=t.map(((e,t)=>[(t+1)/(n+1),e])),a.data.unshift([0,0,0]),a.data.push([1,0,0]),r.updateYRange(),i.updateYRange(),r.display(),i.display()})),e.$on("$destroy",(function(){r.cleanup(),i.cleanup()}))}}}));class Zm extends wh{constructor(e,t){super(e),this.labels=t,this.mouseVal=new Date}getMouseData(){var e=this.data.length,t=this.data[0].time,n=this.data[e-1].time,i=Math.max(t,Math.min(this.mouseVal,n)),r=Vo.linearInterp(this.data,i),o=Vo.linearInterp(this.data,i,{z:"z"});return r.z=o.z,r}getLabelData(){var e=[],t=this.getMouseData(),n=this.labels&&this.labels.length||0,i=0;for(let r=0;r<n;r++)e.push({time:t.time,label:this.labels[r],y:t[r],dy:0,idx:r}),i+=t[r];return this.labels||(e.push({time:t.time,y:t.z,dy:0,idx:1}),i+=t.z),i/=Math.max(1,n),2==e.length&&(e[0].dy=e[0].y>i?"-1em":"0.8em",e[1].dy=e[1].y>=i?"-1em":"0.8em"),e}display(e,t){var n=this.getLabelData(),i=t.selectAll(".mouse-pt").data(n);i.exit().remove(),i.enter().append("circle").attr("r",4).attr("class",(e=>"mouse-pt mouse-pt-"+e.idx)).merge(i).attr("cx",(t=>e.xscale(t.time))).attr("cy",(t=>e.yscale(t.y)));var r=t.selectAll(".mouse-label").data(n);r.exit().remove(),r.enter().append("text").style("text-anchor","middle").attr("class",(e=>"mouse-label mouse-label-"+e.idx)).attr("dominant-baseline","central").merge(r).attr("x",(t=>e.xscale(t.time))).attr("y",(t=>e.yscale(t.y))).attr("dy",(e=>e.dy)).text((e=>e.label||""))}}class Jm extends ph{display(e,t,n){super.display(e,t,n);var i=this.data[this.data.length-1];if(i){var r=this.scaleFunc(e.xscale,"x")(i),o=this.scaleFunc(e.yscale,"y")(i),a=e.xscale.range()[1],s=t.select("line");s.empty()&&(s=t.append("line").classed("line-extension",!0)),this.applyTransition(s,n).attr("x1",r).attr("x2",a).attr("y1",o).attr("y2",o)}}}class Xm extends gh{display(e,t){super.display(e,t);var n=this.data[this.data.length-1];if(n){var i=this.scaleFunc(e.xscale,"x")(n),r=[0,1,2].map((t=>this.scaleFunc(e.yscale,"y"+t)(n))),o=e.xscale.range()[1],a=t.select("rect.band-area");a.empty()&&(a=t.append("rect").classed("band-area",!0)),a.attr("x",i).attr("y",Math.min(r[0],r[2])).attr("width",Math.max(0,o-i)).attr("height",Math.abs(r[0]-r[2]));var s=t.selectAll("line.band-line").data([0,1,2]);s.exit().remove(),s.enter().append("line").attr("class",(e=>"line-extension band-line band-line-"+e)).merge(s).attr("x1",i).attr("x2",o).attr("y1",(e=>r[e])).attr("y2",(e=>r[e]))}}}class eg extends sh{constructor(e,t,n){if(super(e),this.margins={left:40,right:20,top:5,bottom:22},this.possibilities=t,this.addArtist(new Dh("left").tickSpacing(20).tickFormat((e=>e+""))),this.addArtist(new Dh("bottom").tickSpacing(60).tickFormat("localdate")),t.labels)for(var i=0;i<t.labels.length;i++)this.addArtist(new Jm("time",i),{classes:"line-".concat(i)});else this.addArtist(new Xm("time",[e=>dl(e),e=>0,e=>cl(e)])),this.addArtist(new Jm("time","z"),{classes:"line-1"});n&&(this.hoverArtist=new Zm(n,t.labels),this.addArtist(this.hoverArtist)),this.liveResize()}setData(e,t,n){e=e||[];var i=[-10,10];for(let t=0;t<e.length;t++){let r=e[t];if(i[0]=Math.min(r.low||0,r.high||0,i[0]),i[1]=Math.max(r.low||0,r.high||0,i[1]),n<0&&this.possibilities.low)r.z=r.low;else if(n>1&&this.possibilities.high)r.z=r.high;else{let e=n*(r.length-1)||0,t=r[Math.floor(e)]||0,i=r[Math.ceil(e)]||0;e=Math.ceil(e)-e,r.z=e*t+(1-e)*i}}for(let t of this.artists)t.artist.data=e||[];return this.updateYRange({minRange:i,maxbuffer:.2,minbuffer:.2}),this.xscale=cp().domain(t||[e[0].time,e[e.length-1].time]),this}}pi.directive("scoreHistoryGraph",(function(){return{scope:{data:"=",domain:"=",mouseData:"=",possibilities:"=",highlight:"="},restrict:"A",link:function(e,t,n){var i=new eg(t[0],e.possibilities,n.mouseData?function(t,n){e.$apply((function(){e.mouseData=n.getMouseData()}))}:null);e.$watchCollection("[data, domain, highlight]",(function(){i.setData(e.data||[],e.domain,e.highlight),i.display(),n.mouseData&&i.hoverArtist&&(e.mouseData=i.hoverArtist.getMouseData())})),e.$on("$destroy",(function(){i.cleanup()}))}}}));class tg extends wh{constructor(e){super(),this.mouseVal=.5}getMouseData(){let e=Math.max(0,Math.min(this.mouseVal,1));return{x:e,y:gi(e,this.data)}}display(e,t){var n=t.select("circle");n.empty()&&(n=t.append("circle").attr("r",4));var i=this.getMouseData();n.attr("cx",e.xscale(i.x)).attr("cy",e.yscale(i.y))}}class ng extends sh{constructor(e){super(e),this.margins={left:45,right:45,top:5,bottom:5},this.addArtist(new Dh("left").tickSpacing(20).tickFormat((e=>e+""))),this.addArtist(new uh(0,0,1,0),{classes:"baseline"}),this.scoreline=new fh(0,1),this.vertlines=new uh("x",0,"x","y"),this.vertlines.data=[],this.addArtist(this.scoreline,{classes:"scoreline"}),this.addArtist(this.vertlines,{classes:"quartile"}),this.boundarypts=new yh({x:"x",y:"y"}),this.addArtist(this.boundarypts,{classes:"boundary-pts"}),this.mouseartist=new tg,this.mouseartist.data=[],this.addArtist(this.mouseartist,{classes:"mouse-pt"}),this.liveResize()}setData(e,t){e=e||[],this.scoreline.data=[],this.boundarypts.data=[],this.mouseartist.data=e;for(var n=0;n<e.length;n++)this.scoreline.data.push([n/(e.length-1),e[n]]);return this.vertlines.data=(t||[]).map((t=>({x:t,y:gi(t,e)}))),null!==e.low&&this.boundarypts.data.push({x:0,y:e.low}),null!==e.high&&this.boundarypts.data.push({x:1,y:e.high}),this.updateYRange({minRange:[-10,10],maxbuffer:.2,minbuffer:.2}),this}}pi.directive("continuousScoreGraph",(function(){return{scope:{data:"=",vertLines:"=",mouseData:"="},restrict:"A",link:function(e,t,n){var i=new ng(t[0]);i.mouseartist.cb=function(){e.$apply((function(){e.mouseData=i.mouseartist.getMouseData()}))},e.$watchCollection("[data, vertLines]",(function(){i.setData(e.data,e.vertLines),i.display(),e.mouseData=i.mouseartist.getMouseData()})),e.$on("$destroy",(function(){i.cleanup()}))}}})),pi.directive("achievementList",(function(){return{restrict:"A",template:'<span ng-if="!earned.length && !showAll" style="margin-right:1em">None yet</span> <span achievement-badge="a" class="earned" ng-repeat="a in earned"></span> <span achievement-badge="a" class="unearned" ng-repeat="a in unearned" ng-if="showAll"></span> <span class="achievement-list__showall" ng-if="showShowAll()" ng-click="toggleShowAll()">show all…</span> <span class="achievement-list__showall" ng-if="showShowLess()" ng-click="toggleShowAll()">show less…</span> <small class="dark" style="width:100%" ng-if="user.isAuthenticated"><em>Complete achievements to earn more <a href="/help/faq/#tachyons">tachyons</a>!</em></small> ',scope:{},link:function(e){var t=window.metacData.profileAchievements||{};e.user=To,e.showAll=!1,e.toggleShowAll=function(){e.showAll=!e.showAll},e.showShowAll=()=>!e.showAll&&e.unearned.length>0,e.showShowLess=()=>e.showAll,e.earned=[],e.unearned=[];for(let n of _o)n=Object.create(n),n.playerRank=t[n.typeid]||0,n.playerRank>0?e.earned.push(n):e.unearned.push(n)}}})),pi.directive("achievementBadge",(function(){return{restrict:"A",template:'<div class="achievement-badge" ng-click="expand=!expand"> <div class="achievement-name" ng-class="[achievementBadge.playerRank >= 1 ? \'earned\' : \'unearned\', \'rank\'+achievementBadge.playerRank]"> <span class="circle"></span>{{achievementBadge.name}} </div> <div ng-if="expand"> <div class="achievement-desc rank1" ng-class="achievementBadge.playerRank >= 1 ? \'earned\' : \'unearned\'" ng-if="achievementBadge.rank1"> <span class="circle"></span>Rank 1: {{achievementBadge.rank1}} </div> <div class="achievement-desc rank2" ng-class="achievementBadge.playerRank >= 2 ? \'earned\' : \'unearned\'" ng-if="achievementBadge.rank2"> <span class="circle"></span>Rank 2: {{achievementBadge.rank2}} </div> <div class="achievement-desc rank3" ng-class="achievementBadge.playerRank >= 3 ? \'earned\' : \'unearned\'" ng-if="achievementBadge.rank3"> <span class="circle"></span>Rank 3: {{achievementBadge.rank3}} </div> </div> </div> ',replace:!0,scope:{achievementBadge:"="}}}));var ig=["$scope","$http",function(e,t){this.delegates=window.metacData.api_delegates,this.selectedDelegate=null,this.revokeSelectedDelegate=function(){var e=this.selectedDelegate;e&&t.delete("/accounts/delegate-api-access/?delegate-id="+e._id).then((()=>{this.delegates=this.delegates.filter((t=>t._id!=e._id)),Ks.setActive(null)}))}}];pi.controller("delegateCtrl",ig);var rg=["$http","$scope","$sce",function(e,t,n){t.bulletins=(window.metacData.bulletins||[]).map((e=>({title:n.trustAsHtml(e.title),body:n.trustAsHtml(e.body),actionName:e.action_name||"dismiss",actionURL:e.action_URL||e.url&&e.url+"read/",read:!1}))),t.unreadFilter=e=>!e.read,t.hasBulletins=()=>t.bulletins.reduce(((e,t)=>e||!t.read),!1),t.dismiss=function(t){t.read=!0,t.actionURL&&e.post(t.actionURL,{}).catch(So)}}];pi.directive("metacBulletins",(function(){return{template:'<div class="bulletins" ng-if="hasBulletins()"> <div class="bulletins__item" ng-repeat="bulletin in bulletins | filter:unreadFilter"> <div> <h3 ng-bind-html="bulletin.title"></h3> <p ng-bind-html="bulletin.body"></p> </div> <svg icon-name="remove" class="dismiss-icon" ng-click="dismiss(bulletin)"></svg> </div> </div> ',controller:rg,restrict:"E",replace:!0}}));const og=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/;var ag=["$http","$scope",function(e,t){let n="/api2/mailing/subscriptions/"+To.id+"/",i={lists:{},tags:{}};function r(e){t.subscriptions=e.data,i=$e().copy(e.data)}t.subscriptions={lists:{},tags:{}},e.get(n).then(r,So),t.$watch("subscriptions",(function(t,o){$e().equals(t,i)||e.patch(n,{lists:t.lists,tags:t.tags}).then(r)}),!0),t.changeEmail={apiErrors:{},data:{},isSubmitting:!1,submit(){var n=t.changeEmail;n.isSubmitting||n.form.$invalid||(n.isSubmitting=!0,e.post("/api2/accounts/change_email/",n.data).then((function(e){Ks.setActive("change-email-request-sent"),n.isSubmitting=!1,n.apiErrors={}}),(function(e){n.isSubmitting=!1,n.apiErrors=e.data})))}}}],sg=["$http","$scope",function(e,t){t.emailAddresses="",t.emailError=null,t.canSendInvites=!1;var n=[];t.$watch("emailAddresses",(function(e){for(var i of(n=t.emailAddresses.split(",").map((e=>e.trim())).filter((e=>e)),t.emailError=null,t.canSendInvites=!1,n.length>0&&(t.canSendInvites=!0),n))if(!i.match(og)){t.emailError='"'.concat(i,'" is not a valid email address'),t.canSendInvites=!1;break}})),t.sendInvites=function(){if(t.canSendInvites)return e.post("/api2/accounts/email_invite/",{emails:n}).then((function(e){Ks.setActive("blank-modal",{content:Ur.trustAsHtml('<p style="text-align:center">'.concat(n.length)+" invite(s) successfully sent.")}),t.emailAddresses=""})).catch((function(e){t.canSendInvites=!1,t.emailError="email invites failed"}))}}];pi.controller("emailCtrl",ag),pi.controller("emailInviteCtrl",sg),pi.directive("commonModals",(function(){return{template:'<metac-modal name="blank-modal"> <div ng-bind-html="modals.data.content"></div> </metac-modal> <metac-modal name="contact-form"> <div style="text-align:center"> <h3>Contact us</h3> <div ng-if="!contact.success" class="form-inputs"> <p> Please reach out to learn more about working with Metaculus or with any questions, comments, or concerns. We\'ll get back to you soon. Feel free to just say hello, too—we love hearing from the forecasting community! </p> <p style="margin-top:2em" class="form-inputs"> <input type="text" placeholder="Your Email" ng-model="contact.data.email" style="width:180px" class="_bright"/> </p> <p> <select class="" ng-model="contact.data.subject" ng-options="reason as reason for reason in contact.reasons track by reason" style="width:180px"> <option disabled="disabled" selected="selected" value="">Select Reason</option> </select> </p> <div style="margin-top:2em"> <textarea ng-model="contact.data.message" class="comment__entry" placeholder="Your message..." class="_bright"></textarea> </div> <p class="error" ng-if="contact.errorMessage">{{contact.errorMessage}}</p> <button class="btn _bright" ng-click="contact.send()" style="margin-top:.5rem"> Submit </button> </div> <div ng-if="contact.success"> Thank you for getting in touch. We’ll get back to you soon! </div> </div> </metac-modal> ',restrict:"E",scope:{},link:function(e){e.modals=Ks,e.contact={data:{email:"",subject:null,message:""},reasons:["Partnership inquiry","General feedback","Bug report","Feature request","Other"],errorMessage:"",success:!1,send:()=>{let t=e.contact;t.data.email&&t.data.subject&&t.data.message?t.data.email.match(og)?Ir.post("/api2/mailing/contact-form/",t.data).then((e=>{t.success=!0}),(e=>{t.errorMessage="Something went wrong. You might contact us directly at feedback@metaculus.com"})):t.errorMessage="Invalid Email":t.errorMessage="All fields are required"}},window.metacData&&window.metacData.user&&(e.contact.data.email=window.metacData.user.email)}}}));class lg{constructor(e){this.loading=!1,this.loadFromData(e)}loadFromData(e){this.url=e.url,this.url_id=e.url_id,this.name=e.name,this.start_date=new Date(e.start_date),this.end_date=new Date(e.end_date),this.description=Ur.trustAsHtml(e.description),this.rankings=e.rankings,this.num_questions=e.num_questions}loadRankings(){return this.loading||this.rankings?Fr.when(!0):(this.loading=!0,Ir.get(this.url).then((e=>{this.loadFromData(e.data)})).finally((()=>{this.loading=!1})))}}class ug{constructor(e,t,n){this.cdict={},this.next=n,this.loading=!1;for(let t of e)this.cdict[t.url_id]=new lg(t);(t=t||e&&e[0])&&(this.selectedContest=this.cdict[t.url_id]=new lg(t),this.selectedContest.loadRankings()),this.makeSortedList()}makeSortedList(){for(var e in this.contests=[],this.cdict)this.contests.push(this.cdict[e]);this.contests.sort(((e,t)=>t.end_date-e.end_date))}loadMore(){return this.loading||!this.next?Fr.when(!0):(this.loading=!0,Ir.get(this.next).then((e=>{this.next=e.data.next;for(let t of e.data.results)this.cdict[t.url_id]||(this.cdict[t.url_id]=new lg(t));this.makeSortedList()})).finally((()=>{this.loading=!1})))}selectContest(e){var t=this.cdict[e]||this.contests[0];t&&t.loadRankings().then((()=>{this.selectedContest=t}))}}var cg=["$location",function(e){return{link:function(t){var n=window.metacData.contests;t.clist=new ug(n.list,n.selected,n.next_url),t.select=function(t){e.search("selected",t)},t.$on("$locationChangeSuccess",(function(){t.clist.selectContest(e.search().selected)}))},scope:{},restrict:"A",template:'<table class="contests-table" ng-class="{\'contests-table--more-data\':clist.next}" ng-if="clist.contests.length > 0"> <tbody> <tr> <th>Contest</th> <th>Start</th> <th>End</th> <th>Questions</th> </tr> <tr ng-repeat="contest in clist.contests" ng-class="{selected: clist.selectedContest===contest}" ng-click="select(contest.url_id)"> <td>{{contest.name}}</td> <td>{{contest.start_date | date : \'MMM d, y\'}}</td> <td>{{contest.end_date | date : \'MMM d, y\'}}</td> <td> {{contest.num_questions}} (<a href="/questions/?search=contest:{{contest.url_id}}" ng-click="stop($event)">link</a>) </td> </tr> </tbody> </table> <div class="button-row"> <ajax-button class="button is-secondary" submit="clist.loadMore()" ng-if="clist.next">Load More</ajax-button> </div> <div class="contest-description" ng-bind-html="clist.selectedContest.description" ng-if="clist.selectedContest.description"></div> <div class="rankings-table-wrapper"> <table class="rankings-table" ng-if="clist.selectedContest && clist.selectedContest.rankings.length > 0" style="margin:0 auto"> <tbody> <tr> <th>Rank</th> <th class="rankings__username"><span></span>Player</th> <th>Level</th> <th>Score</th> </tr> <tr ng-repeat="player in clist.selectedContest.rankings"> <td>{{player.rank}}</td> <td class="rankings__username"> <span cmap="level" cval="player.level" cstyle="background-color"></span> <a href="/accounts/profile/{{player.id}}/">{{player.username}}</a> </td> <td>{{player.level}}: {{player.level_title}}</td> <td>{{player.points}}</td> </tr> </tbody> </table> </div> <p ng-if="clist.selectedContest && clist.selectedContest.rankings.length == 0" class="contest-description"> <em>No rankings yet! Check back after the first question resolves.</em> </p> '}}];pi.directive("contestsPage",cg);var dg=n(8446),pg=n.n(dg);class hg extends wh{constructor(e,t,n){super(e,t),this.formatter=n}getMouseData(e,t){if(!e||0===e.length)return null;let n=Math.max(0,Math.min(t,1));return{x:n,y:gi(n,e)}}display(e,t){var n=this.getMouseData(this.data,this.mouseVal);if(n){var i=t.select("circle#mousePtCircle");i.empty()&&(i=t.append("circle").attr("r",4).attr("id","mousePtCircle")),i.attr("cx",e.xscale(n.x)).attr("cy",e.yscale(n.y))}else t.select("circle#mousePtCircle").remove();var r=this.getMouseData(this.dataAlt,this.mouseVal);if(r){var o=t.select("circle#mousePtCircleAlt");o.empty()&&(o=t.append("circle").attr("r",4).attr("id","mousePtCircleAlt")),o.attr("cx",e.xscale(r.x)).attr("cy",e.yscale(r.y))}else t.select("circle#mousePtCircleAlt").remove()}}class fg extends sh{constructor(e,t,n,i){super(e),this.margins={left:15,right:15,top:15,bottom:20},this.yrangeParams={minRange:[0,1],maxbuffer:0},this.mainDist=null,this.altDist=null,this.mainPDF_line=new ph("x","pdf"),this.mainPDF_area=new ph("x","pdf"),this.mainPDF_components=new hh("x","pdf"),this.mainQuartiles=new uh("x",0,"x","pdf"),this.altPDF_line=new ph("x","pdf"),this.altPDF_area=new ph("x","pdf"),this.altQuartiles=new uh("x",0,"x","pdf"),this.resultArtist=new yh({x:null,y:0,shape:"diamond",radius:3,hitRadius:0}),this.ticks=new Dh("bottom").tickFormat(t),this.addArtist(this.altPDF_area,{classes:"alt pdf-area"}),this.addArtist(this.altQuartiles,{classes:"alt quartiles"}),this.addArtist(this.altPDF_line,{classes:"alt pdf-line"}),this.addArtist(this.mainPDF_area,{classes:"main pdf-area player-prediction-color"}),this.addArtist(this.mainPDF_components,{classes:"pdf-components"}),this.addArtist(this.mainQuartiles,{classes:"main quartiles player-prediction-color"}),this.addArtist(this.mainPDF_line,{classes:"main pdf-line player-prediction-color"}),this.addArtist(this.ticks),this.addArtist(this.resultArtist,{classes:"result"}),this.mouseLine=new hg(n,i,t),this.addArtist(this.mouseLine,{classes:"mouse-pt"}),this.updateData()}setResult(e){this.resultArtist.data=e&&0<e&&e<1?[e]:[]}updateData(){function e(e){if(!e)return[];var t,n,i=[];for(t of[.25,.5,.75])n=vi(e.ppf(t),0,1),i.push({x:n,pdf:e.pdf(n),cdf:t});return i}var t=this.mainDist?this.mainDist.pdfArray():[];this.mainPDF_line.data=t.slice(),this.mainPDF_components.data=this.mainDist?this.mainDist.rescaledDists.map((e=>e.pdfArray())):[],t.unshift({x:0,pdf:0}),t.push({x:1,pdf:0}),this.mainPDF_area.data=t,this.mainQuartiles.data=e(this.mainDist);var n=this.altDist?this.altDist.pdfArray():[];this.altPDF_line.data=n.slice(),n.unshift({x:0,pdf:0}),n.push({x:1,pdf:0}),this.altPDF_area.data=n,this.altQuartiles.data=e(this.altDist),this.updateYRange(this.yrangeParams)}}class mg extends sh{constructor(e,t,n,i){super(e),this.margins={left:45,right:15,top:15,bottom:20},this.yrangeParams={minRange:[0,1],maxbuffer:0},this.mainDist=null,this.altDist=null,this.mainPDF_line=new ph("x","cdf"),this.mainPDF_area=new ph("x","cdf"),this.mainPDF_components=new hh("x","cdf"),this.mainQuartiles=new uh("x",0,"x","cdf"),this.altPDF_line=new ph("x","cdf"),this.altPDF_area=new ph("x","cdf"),this.altQuartiles=new uh("x",0,"x","cdf"),this.mainLine=new uh("x1","y1","x2","y2"),this.resultArtist=new yh({x:null,y:0,shape:"diamond",radius:3,hitRadius:0}),this.ticks=new Dh("bottom").tickFormat(t),this.addArtist(this.altPDF_area,{classes:"alt pdf-area"}),this.addArtist(this.altQuartiles,{classes:"alt quartiles"}),this.addArtist(this.altPDF_line,{classes:"alt pdf-line"}),this.addArtist(this.mainPDF_area,{classes:"main pdf-area player-prediction-color"}),this.addArtist(this.mainPDF_components,{classes:"pdf-components"}),this.addArtist(this.mainQuartiles,{classes:"main quartiles player-prediction-color"}),this.addArtist(this.mainPDF_line,{classes:"main pdf-line player-prediction-color"}),this.addArtist(this.ticks),this.addArtist(new Dh("left").tickSpacing(30).tickFormat((e=>(100*e).toFixed(0)+"%"))),this.addArtist(this.resultArtist,{classes:"result"}),this.mouseLine=new hg(n,i,t),this.addArtist(this.mouseLine,{classes:"mouse-pt"}),this.updateData()}setResult(e){this.resultArtist.data=e&&0<e&&e<1?[e]:[]}updateData(){function e(e){if(!e)return[];var t,n,i=[];for(t of[.25,.5,.75])e.ppf(t)>1||(n=vi(e.ppf(t),0,1),i.push({x:n,pdf:e.pdf(n),cdf:t}));return i}var t=this.mainDist?this.mainDist.pdfArray():[];this.mainPDF_line.data=t.slice(),this.mainPDF_components.data=this.mainDist?this.mainDist.rescaledDists.map((e=>e.pdfArray())):[],t.unshift({x:0,pdf:0,cdf:0}),t.push({x:1,pdf:0,cdf:0}),this.mainPDF_area.data=t,this.mainQuartiles.data=e(this.mainDist),this.mainLine.data=[{x1:0,y1:.5,x2:1,y2:.5}];var n=this.altDist?this.altDist.pdfArray():[];this.altPDF_line.data=n.slice(),n.unshift({x:0,pdf:0,cdf:0}),n.push({x:1,pdf:0,cdf:0}),this.altPDF_area.data=n,this.altQuartiles.data=e(this.altDist),this.updateYRange(this.yrangeParams)}}let gg,vg,yg,bg;!function(e){e.NUMERIC="num",e.DATE="date"}(gg||(gg={})),function(e){e.CONTINUOUS="continuous"}(vg||(vg={})),function(e){e.LOGISTIC="logistic"}(yg||(yg={})),function(e){e.MULTI="multi"}(bg||(bg={}));const wg=Object.freeze({FOR_DISCUSSION:Symbol("forDiscussion"),OPENS:Symbol("opens"),CLOSES:Symbol("closes"),RESOLVES:Symbol("resolves"),RESOLUTION_PENDING:Symbol("resolutionPending"),RESOLVED:Symbol("resolved")});function _g(e){const t={now:new Date,short:!0};switch(e.statusSummary()){case wg.FOR_DISCUSSION:return[fe("forDiscussion"),""];case wg.OPENS:return[fe("opens"),mo(e.publish_time,t)];case wg.CLOSES:return[fe("closes"),mo(e.close_time,t)];case wg.RESOLVES:return[fe("resolves"),mo(e.resolve_time,t)];case wg.RESOLUTION_PENDING:return[fe("resolutionPending"),""];case wg.RESOLVED:if(!e.isGroupType)return[fe("resolved"),go(e.resolutionString())];break;default:return}}function xg(e,t){const n=[{t:"—"}];if(!t.predictionInput)return n;const i=ia(t.predictionInput);if(!i)return n;const r={q1:i.ppf(.25),q2:i.ppf(.5),q3:i.ppf(.75)};return t.predictionFormatter.formatUnscaled(r[e],r.q3-r.q1)}function Cg(e,t){const n=e.get("sub-question");if(!n)return;const i=parseInt(n,10);return t.find((e=>e.id===i))}pi.directive("continuousPredictionControl",(function(){return{template:'<div class="continuous-prediction-control centered"> <div class="continuous-prediction-control__control-row columns space-between mb-12" ng-if="!question.isTutorial"> <span class="select-wrapper"> <select ng-model="graph.type"> <option value="PDF">{{"pdfLabel" | translate}}</option> <option value="CDF">{{"cdfLabel" | translate}}</option> </select> </span> <div class="continuous-prediction-control__status" ng-if="showStatus" bind-trusted-html="statusSummary()"></div> <div ng-transclude="altPredictionToggle"></div> </div> <div ng-show="graph.type === \'PDF\'"> <svg class="prediction-graph" id="prediction-graph-pdf"></svg> <div ng-style="hovered ? {\'opacity\': 1} : {\'opacity\': 0}" class="mouse-pdf-detail"> <span>P(x = <strong bind-trusted-html="hovered.value | tlistToHTML"></strong>):</span> <span ng-if="hovered.pdf"><strong>{{hovered.pdf.toFixed(2)}}</strong> ({{"you" | translate}});</span> <span ng-if="hoveredAlt.pdf"><strong>{{hoveredAlt.pdf.toFixed(2)}}</strong> ({{(showMetacPrediction ? \'Metaculus\' : \'community\') | translate}})</span> </div> </div> <div ng-show="graph.type === \'CDF\'"> <svg class="prediction-graph" id="prediction-graph-cdf"></svg> <div ng-style="hovered ? {\'opacity\': 1} : {\'opacity\': 0}" class="mouse-pdf-detail"> <span>P(x &lt; <strong bind-trusted-html="hovered.value | tlistToHTML"></strong>):</span> <span ng-if="hovered.cdf"><strong>{{hovered.cdf | percent}}</strong> ({{"you" | translate}});</span> <span ng-if="hoveredAlt.cdf"><strong>{{hoveredAlt.cdf | percent}}</strong> ({{(showMetacPrediction ? \'Metaculus\' : \'community\') | translate}})</span> </div> </div> <div ng-if="pdist && canPredict()"> <div continuous-prediction-slider ng-repeat="component in pdist.dists" prediction="component" editable="canPredict()" callback="updateFromUserInput" weighted="pdist.dists.length > 1" possibilities="question.possibilities" pdist="pdist" symmetric="d.symmetric"></div> <div class="button-row" ng-if="question.isSubQuestion"> <button class="button is-secondary" ng-if="pdist.dists.length < 5" ng-click="pdist.addDist(question.possibilities)"> {{"addComponentButton" | translate}} </button> </div> </div> <predict question="question" prediction="prediction" ng-if="!question.isSubQuestion"> <button class="button is-secondary" ng-if="pdist.dists.length < 5" ng-click="pdist.addDist(question.possibilities)"> {{"addComponentButton" | translate}} </button> </predict> <div class="_ptable" ng-class="predictionDisplayClass()"> <div class="_header"> <span></span> <span class="player-prediction-color">{{"myPredictionLabel" | translate}}</span> <span><span ng-class="{\n            clickable: question.hasMetaculusPrediction(), \n            \'metac-prediction\':showMetacPrediction,\n            \'community-prediction-color\':!showMetacPrediction\n          }" ng-click="toggleMetacPrediction()">{{(showMetacPrediction ? \'aggregateToggleMetaculus\' : \'aggregateToggleCommunity\') | translate}}</span></span> </div> <div class="_predictions"> <div ng-if="question.possibilities.low"> <span bind-trusted-html="question.predictionFormatter.formatUnscaled(-0.1) | tlistToHTML"></span> <span ng-if="d.userMadePrediction || d.sliderHasMoved">{{pdist ? pdist.low : NaN | binaryPercentPrecision}}</span> <span ng-if="!d.userMadePrediction && !d.sliderHasMoved">…</span> <span ng-if="!showMetacPrediction">{{question.communityPrediction() ? question.communityPrediction().low : NaN | binaryPercentPrecision}}</span> <span ng-if="showMetacPrediction">{{question.metaculusPrediction() ? question.metaculusPrediction().low : NaN | binaryPercentPrecision}}</span> </div> <div> <span>{{"firstQuartileLabel" | translate}}</span> <span ng-if="d.userMadePrediction || d.sliderHasMoved" bind-trusted-html="playerPrediction(\'q1\') | tlistToHTML"></span> <span ng-if="!d.userMadePrediction && !d.sliderHasMoved">…</span> <span bind-trusted-html="communityPrediction(\'q1\') | tlistToHTML"></span> </div> <div> <span>{{"secondQuartileLabel" | translate}}</span> <span ng-if="d.userMadePrediction || d.sliderHasMoved" bind-trusted-html="playerPrediction(\'q2\') | tlistToHTML"></span> <span ng-if="!d.userMadePrediction && !d.sliderHasMoved">…</span> <span bind-trusted-html="communityPrediction(\'q2\') | tlistToHTML"></span> </div> <div> <span>{{"thirdQuartileLabel" | translate}}</span> <span ng-if="d.userMadePrediction || d.sliderHasMoved" bind-trusted-html="playerPrediction(\'q3\') | tlistToHTML"></span> <span ng-if="!d.userMadePrediction && !d.sliderHasMoved">…</span> <span bind-trusted-html="communityPrediction(\'q3\') | tlistToHTML"></span> </div> <div ng-if="question.possibilities.high"> <span bind-trusted-html="question.predictionFormatter.formatUnscaled(1.1) | tlistToHTML"></span> <span ng-if="d.userMadePrediction || d.sliderHasMoved">{{pdist ? 1 - pdist.high : NaN | binaryPercentPrecision}}</span> <span ng-if="!d.userMadePrediction && !d.sliderHasMoved">…</span> <span ng-if="!showMetacPrediction">{{question.communityPrediction() ? 1 - question.communityPrediction().high : NaN | binaryPercentPrecision}}</span> <span ng-if="showMetacPrediction">{{question.metaculusPrediction() ? 1 - question.metaculusPrediction().high : NaN | binaryPercentPrecision}}</span> </div> </div> </div> <div question-resolution-view question="question"></div> <p class="disclaimer text-center" ng-if="!question.isLive"> <span ng-if="question.isActive()"> {{"questionWillOpenAt" | translate:({date: (question.publish_time | relDateStr)})}} </span> <span ng-if="!question.isActive()"> {{"questionNotOpenYet" | translate}} </span> </p> <div class="min-max-pts" ng-if="prediction && !question.isEmbed && !question.isTutorial && user.isAuthenticated && !question.isResolved && (d.userMadePrediction || d.sliderHasMoved)"> <fieldset class="detail-box" ng-class="{collapsed:!d.showPointDetails}"> <div class="detail-box__hit-area" ng-click="d.showPointDetails=!d.showPointDetails"></div> <legend toggle-details="d.showPointDetails" style="margin:0 auto"> <span ng-if="d.showCurrent">{{"currentPointsLabel" | translate}}</span> <span ng-if="!d.showCurrent">{{"availablePointsLabel" | translate}}</span> <span bind-trusted-html="\'pointsRange\' | translate:({min: (minScore | signedNumber), max: (maxScore | signedNumber)})"></span> </legend> <div ng-if="d.showPointDetails"> <div class="slider__subtext" style="justify-content:center;margin-top:0"> <div class="slider__subtext__pt-label"> <span ng-click="d.showCurrent=true" ng-class="{active:d.showCurrent}">{{"currentPointsLink" | translate}}</span> <span ng-click="d.showCurrent=false" ng-class="{active:!d.showCurrent}">{{"availablePointsLabel" | translate}}</span> </div> </div> <svg continuous-score-graph data="scores" vert-lines="quartiles" mouse-data="d.mouseData"></svg> <div class="mouse-score-detail"> <div> <span>An outcome of <strong bind-trusted-html="formatMousePt() | tlistToHTML">--</strong></span> <span>is worth <strong>{{d.mouseData.y | signedNumber}}</strong> points</span> </div> <div ng-if="question.possibilities.low"> <span><strong bind-trusted-html="question.predictionFormatter.formatUnscaled(-0.1) | tlistToHTML"></strong></span> <span>is worth <strong>{{scores.low | signedNumber}}</strong> points</span> </div> <div ng-if="question.possibilities.high"> <span><strong bind-trusted-html="question.predictionFormatter.formatUnscaled(1.1) | tlistToHTML"></strong></span> <span>is worth <strong>{{scores.high | signedNumber}}</strong> points</span> </div> </div> </div> </fieldset> </div> <div class="slider__subtext" style="margin-top:1em" ng-if="prediction && question.isTutorial"> <div class="slider__subtext__left"> <div>worst case</div> <div><em>{{minScore | signedNumber}}</em> points</div> </div> <div class="slider__subtext__right"> <div>best case</div> <div><em>{{maxScore | signedNumber}}</em> points</div> </div> </div> </div> '.replace(/>[\t ]+</g,"><"),transclude:{altPredictionToggle:"?altPredictionToggle"},scope:{question:"=",prediction:"=",showMetacPrediction:"=?",showStatus:"=?",graph:"=?"},link:function(e,t,n){e.user=To,e.graph=e.graph||{type:"PDF"},e.d={showCurrent:!(e.question&&e.question.isClosed),userMadePrediction:!0,sliderHasMoved:!1,symmetric:!1},$e().isDefined(e.showMetacPrediction)||(e.showMetacPrediction=e.question.hasMetaculusPrediction());let i=e.question.community_prediction;i&&i.full&&i.full.y&&i.full.y.length>0&&(e.altDist=new ta(i.full.y,null,null,i.full.low,i.full.high));let r=function(t,n){e.$apply((function(){let i={},r={};"date"===n.formatter._fmt?i.value=n.formatter.formatUnscaled(t,.1):i.value=n.formatter.formatUnscaled(t),e.pdist&&(i.pdf=e.pdist.pdf(t),i.cdf=e.pdist.cdf(t)),e.altDist&&(r.pdf=e.altDist.pdf(t),r.cdf=e.altDist.cdf(t)),e.hovered=i,e.hoveredAlt=r,"PDF"===e.graph.type&&(n.data=e.pdist?e.pdist.pdfArray().map((e=>e.pdf)):null,n.dataAlt=e.altDist?e.altDist.data.map((e=>e.pdf)):null),"CDF"===e.graph.type&&(n.data=e.pdist?e.pdist.pdfArray().map((e=>e.cdf)):null,n.dataAlt=e.altDist?e.altDist.data.map((e=>e.cdf)):null)}))},o=function(t){e.$apply((function(){e.hovered=null,e.hoveredAlt=null,t.data=null,t.dataAlt=null}))},a=new fg(Us(t[0]).select("svg#prediction-graph-pdf"),e.question.predictionFormatter,r,o),s=new mg(Us(t[0]).select("svg#prediction-graph-cdf"),e.question.predictionFormatter,r,o);a.liveResize(),s.liveResize();let l=function(t,n){if(e.d.userMadePrediction!==n.my_prediction_is_active&&(e.d.userMadePrediction=n.my_prediction_is_active,t.svg.select(".main.pdf-line").classed("dotted",!n.my_prediction_is_active)),t.svg.select(".alt.pdf-line").classed("metac-prediction",e.showMetacPrediction).classed("community-prediction-color",!e.showMetacPrediction),t.svg.select(".alt.pdf-area").classed("metac-prediction",e.showMetacPrediction).classed("community-prediction-color",!e.showMetacPrediction),n.isTutorial)n.hasPredicted?n.definiteOutcome?(t.altDist=null,t.setResult(n.unscaledResolution.avg)):(t.altDist=ia(n.unscaledResolution),t.setResult(null)):(t.setResult(null),t.altDist=null);else{if(t.altDist=null,e.showMetacPrediction){if(n.hasMetaculusPrediction()){let i=n.metaculus_prediction.full;t.altDist=new ta(i.y,null,null,i.low,i.high),e.altDist=t.altDist}}else{let i=!n.communityIsHidden&&n.community_prediction;i&&i.full&&i.full.y&&i.full.y.length>0?(t.altDist=new ta(i.full.y,null,null,i.full.low,i.full.high),e.altDist=t.altDist):e.altDist=t.altDist=null}t.setResult(e.question.resolution)}t.mainDist=e.pdist,t.ticks.formatter=e.question.predictionFormatter,setTimeout((()=>{t.updateData(),t.display()}),1)};e.orig_pdist=-1,e.$watchCollection((e=>[e.question.lastUpdated,e.question.hasPredicted,e.question.fixedPrediction,e.prediction,e.d.showCurrent,e.graph.type,e.d.symmetric]),(function(){var t,n=e.question;if(!(t=e.prediction=e.question.predictionInput=e.question.predictionInput||n.playerPrediction(null,!0))&&e.canPredict()&&(t={kind:"logistic",x0:.5,s:.05},n.possibilities.low&&(t.low=.01),n.possibilities.high&&(t.high=.99)),t){var i=oa(t),r=e.pdist&&e.pdist.serialize();pg()(i.serialize(),r)||(e.pdist=i)}else e.pdist=null;if(-1===e.orig_pdist&&(e.orig_pdist=i&&i.serialize()),t&&n){let i=e.d.showCurrent||n.isTutorial?n.currentScoresForPrediction(t):n.availableScoresForPrediction(t);e.minScore=Math.min.apply(Math,i),e.maxScore=Math.max.apply(Math,i),n.possibilities.low?(e.minScore=Math.min(i.low,e.minScore),e.maxScore=Math.max(i.low,e.maxScore)):i.low=null,n.possibilities.high?(e.minScore=Math.min(i.high,e.minScore),e.maxScore=Math.max(i.high,e.maxScore)):i.high=null,e.scores=i;let r=e.pdist;e.quartiles=[r.ppf(.25),r.ppf(.5),r.ppf(.75)]}else e.minScore=e.maxScore=e.scores=null,e.quartiles=[];n.isTutorial&&(n.metaculus_prediction={history:[],full:null}),"PDF"===e.graph.type?l(a,n):"CDF"===e.graph.type&&l(s,n)})),e.refreshGraph=function(){"PDF"===e.graph.type?l(a,e.question):"CDF"===e.graph.type&&l(s,e.question)},e.$watch("showMetacPrediction",e.refreshGraph),e.toggleMetacPrediction=function(){e.showMetacPrediction=!e.showMetacPrediction},e.updateFromUserInput=function(){if(e.pdist){var t=e.pdist.serialize();pg()(t,e.orig_pdist)||(e.d.sliderHasMoved=!0),e.d.sliderHasMoved&&!pg()(e.prediction,t)&&(e.prediction=t,e.question.predictionInput=t)}},e.$watchCollection((t=>e.pdist&&e.pdist.dists),e.updateFromUserInput),e.canPredict=function(){let t=e.question;return t&&!t.isEmbed&&t.isOpen},e.playerPrediction=function(t){let n=e.pdist;if(!n)return[{t:"n/a"}];let i=e.question.predictionFormatter,r={q1:n.ppf(.25),q2:n.ppf(.5),q3:n.ppf(.75)};return i.formatUnscaled(r[t],r.q3-r.q1)},e.communityPrediction=function(t){if(e.question.isTutorial)return[{t:"n/a"}];let n=e.question,i=e.showMetacPrediction?n.metaculusPrediction():n.communityPrediction(),r=n.predictionFormatter;return i&&r.formatUnscaled(i[t],i.q3-i.q1)},e.predictionDisplayClass=function(){var t=e.question,n=e.canPredict()||e.prediction,i="A"==t.status&&t.communityPrediction();return i&&n?"_columns":i?"_community":n?"_player":"_hidden"},e.formatMousePt=function(){var t=e.d.mouseData?e.d.mouseData.x:.5;return e.question.predictionFormatter.formatUnscaled(t)},e.statusSummary=function(){const e={now:new Date,short:!0};let t;switch(this.question.statusSummary()){case wg.OPENS:t=[fe("opens"),mo(this.question.publish_time,e)];break;case wg.CLOSES:t=[fe("closes"),mo(this.question.close_time,e)];break;case wg.RESOLVES:t=[fe("resolves"),mo(this.question.resolve_time,e)];break;case wg.RESOLUTION_PENDING:t=[fe("resolutionPending"),""];break;default:t=["",""]}return"".concat(t[0]," ").concat(t[1])},/(android)/i.test(navigator.userAgent)&&(document.querySelector(".continuous-prediction-control").style.userSelect="none")}}}));class kg extends sh{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e),this.kind=t,this.margins={left:"main"==t?12:10,right:"main"==t?12:10,top:0,bottom:0},this.symmetric=n,this.knobs=new yh({x:null,y:.5,shape:(e,t)=>2==t?vh.square(12):vh.circle(8),dragCallback:(e,n,i)=>{if(this.editable&&this.mainDist){var r=this.mainDist;"main"==t?r.setCtrlPt(n,i.x,this.symmetric^event.shiftKey):r.w=vi(i.x||0,.01,1),this.dragCallback?this.dragCallback(this.mainDist):(this.updateData(),this.display())}},hitRadius:40}),this.addArtist(new uh(0,.5,1,.5)),this.addArtist(this.knobs,{classes:"main-knobs draggable"}),this.display()}get symmetric(){return this._symmetric}set symmetric(e){this._symmetric=!!e;var t=this.mainDist;e&&t&&"main"==this.kind&&(t.a=0,this.dragCallback&&this.dragCallback(t))}setEditable(e){this.editable=e,this.svg.selectAll(".main-knobs").classed("draggable",e)}updateData(){var e=this.mainDist;this.knobs.data=e&&"main"==this.kind?e.ctrlPts():e&&"weight"==this.kind?[e.w]:[]}}pi.directive("continuousPredictionSlider",(function(){return{restrict:"A",template:'<svg class="slider _main"></svg> <div ng-show="weighted"> <span>{{"weight" | translate}}:</span><svg class="slider _weight"></svg> <svg icon-name="remove" ng-if="pdist && editable" class="action-icon" ng-click="pdist.removeDist(prediction)"></svg> </div> '.replace(/>[\t ]+</g,"><"),scope:{pdist:"=",prediction:"=",weighted:"=",editable:"=",possibilities:"=",callback:"=",symmetric:"="},link:function(e,t,n){let i=Us(t[0]),r=new kg(i.select("svg._main"),"main",e.symmetric),o=new kg(i.select("svg._weight"),"weight");function a(){e.prediction||(e.prediction=new Ko),r.mainDist=o.mainDist=e.prediction,r.updateData(),r.display(),o.updateData(),o.display()}r.liveResize(),o.liveResize(),e.$watchCollection("symmetric",(()=>{r.symmetric=e.symmetric})),e.$watchCollection("prediction",a),e.$watchCollection("weighted",(()=>e.$applyAsync(a)));let s=window.screen.availWidth<690?80:0,l=-1,u=!0;r.dragCallback=o.dragCallback=function(){let t=e.possibilities||{};e.prediction.updateBoundaries(t),a(),u&&e.callback&&(u=!1,Br((function(){e.callback(),u=!0,l=Date.now()}),Math.max(0,l+s-Date.now())))},e.$watch("editable",(function(e){r.editable=e,o.editable=e}))}}})),pi.directive("distributionGraph",(function(){return{restrict:"A",scope:{question:"=",hideMetac:"=",hideComm:"="},link:function(e,t,n){e.user=To,e.d={showCurrent:!(e.question&&e.question.isClosed),userMadePrediction:!0,showMetacPrediction:!1};let i=e.question.community_prediction;i&&i.full&&i.full.y&&i.full.y.length>0&&(e.altDist=new ta(i.full.y,null,null,i.full.low,i.full.high));let r=new fg(Us(t[0]),e.question.predictionFormatter);r.margins={top:2,bottom:16,left:14,right:14},r.ticks.tickSize(3,2).tickSpacing(30),r.liveResize(),e.$watchCollection((e=>[e.hideMetac,e.hideComm]),(function(){var t,n=e.question;if(t=e.prediction=e.prediction||n.playerPrediction(null,!0)){var i=oa(t),o=e.pdist&&e.pdist.serialize();pg()(i.serialize(),o)||(e.pdist=i)}else e.pdist=null;-1===e.orig_pdist&&(e.orig_pdist=i&&i.serialize());let a=n.metaculus_prediction.history;e.d.hasMetacPrediction=a.length>0&&a[0].time<n.end_time,function(t,n){if(e.d.userMadePrediction!==n.my_prediction_is_active&&(e.d.userMadePrediction=n.my_prediction_is_active,t.svg.select(".main.pdf-line").classed("dotted",!n.my_prediction_is_active)),t.svg.select(".alt.pdf-line").classed("metac-prediction",!e.hideMetac).classed("community-prediction-color",e.hideMetac),t.svg.select(".alt.pdf-area").classed("metac-prediction",!e.hideMetac).classed("community-prediction-color",e.hideMetac),t.altDist=null,e.hideMetac){if(!e.hideComm){let i=!n.communityIsHidden&&n.community_prediction;i&&i.full&&i.full.y&&i.full.y.length>0?(t.altDist=new ta(i.full.y,null,null,i.full.low,i.full.high),e.altDist=t.altDist):e.altDist=t.altDist=null}}else{let i=n.metaculus_prediction.full;t.altDist=new ta(i.y,null,null,i.low,i.high),e.altDist=t.altDist}t.setResult(e.question.resolution),t.mainDist=e.pdist,t.ticks.formatter=e.question.predictionFormatter,setTimeout((()=>{t.updateData(),t.display()}),1)}(r,n)}))}}}));var Sg=n(2762),Tg=n.n(Sg);n(1637),pi.directive("continuousGroupPredictionControl",(function(){return{template:'<div> <div class="group-prediction-toggle-wrapper"> <div class="group-prediction-legend group-prediction-legend--player mr-20"> <svg icon-name="graph" crop="13"></svg> {{"myPredictionLabel" | translate}} </div> <div ng-if="data.showMetacPrediction" class="group-prediction-legend group-prediction-legend--metaculus"> <svg icon-name="graph" crop="13"></svg> {{"metaculusPredictionLabel" | translate}} </div> <div ng-if="!data.showMetacPrediction" class="group-prediction-legend group-prediction-legend--community"> <svg icon-name="graph" crop="13"></svg> {{"communityPredictionLabel" | translate}} </div> <prediction-label-toggle class="modeless-theme ml-auto" active="data.showMetacPrediction ? \'metaculus\' : \'community\'" on-click="hasMetaculusPrediction() ? toggleAggregatePrediction : undefined"></prediction-label-toggle> </div> <div class="question-group-table pb-12"> <table> <thead ng-if="hasClosedQuestion()"> <tr> <th class="question_group_table__radio-col"> {{question.group_label}} </th> <th colspan="4">{{"resolution" | translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="subquestion in question.sub_questions" ng-if="subquestion.isClosed" ng-click="selectQuestion(subquestion)" ng-class="{\'selected\': questionIsSelected(subquestion)}"> <td class="question_group_table__radio-col"> <metac-radio name="selectedQuestion" checked="questionIsSelected(subquestion)" is-small="true">{{subquestion.sub_question_label}}</metac-radio> </td> <td colspan="4"> <div class="columns"> <div class="flex-center flex-grow"> <svg icon-name="resolution" class="question-group-table__resolution-icon"></svg> <span ng-if="subquestion.isResolved" class="resolution-color" bind-trusted-html="subquestion.resolutionString() | tlistToHTML"></span> <span ng-if="!subquestion.isResolved" class="resolution-color">&mdash;</span> </div> <div ng-if="data.selectedQuestion.has_perm(\'RESOLVE\')"> <context-menu icon="ellipsis"> <li ng-if="subquestion.isLive && !subquestion.isResolved" ng-click="showModal(\'resolve\')"> Resolve </li> <li ng-if="subquestion.isLive && subquestion.isResolved" ng-click="showModal(\'unresolve\')"> Unresolve </li> </context-menu> </div> </div> </td> </tr> </tbody> <tbody ng-if="hasNotClosedQuestion()"> <tr class="selected is-bold"> <th> <span ng-if="!hasClosedQuestion()">{{question.group_label}}</span> </th> <th>{{"questionGroupTableFirstQuartileLabel" | translate}}</th> <th>{{"questionGroupTableSecondQuartileLabel" | translate}}</th> <th colspan="2"> {{"questionGroupTableThirdQuartileLabel" | translate}} </th> </tr> </tbody> <tbody> <tr ng-repeat="subquestion in question.sub_questions" ng-if="!subquestion.isClosed" ng-click="selectQuestion(subquestion)" ng-class="{\'selected\': questionIsSelected(subquestion), \'input-changed\': subquestion.canClickPredict()}"> <td class="question_group_table__radio-col"> <metac-radio name="selectedQuestion" checked="questionIsSelected(subquestion)" is-small="true">{{subquestion.sub_question_label}}</metac-radio> </td> <td class="quartile"> <div ng-class="getAltPredictionClass()" bind-trusted-html="communityPrediction(\'q1\', subquestion) | tlistToHTML"></div> <div class="player-prediction-color" bind-trusted-html="playerPrediction(\'q1\', subquestion) | tlistToHTML"></div> </td> <td class="quartile"> <div ng-class="getAltPredictionClass()" bind-trusted-html="communityPrediction(\'q2\', subquestion) | tlistToHTML"></div> <div class="player-prediction-color" bind-trusted-html="playerPrediction(\'q2\', subquestion) | tlistToHTML"></div> </td> <td class="quartile"> <div ng-class="getAltPredictionClass()" bind-trusted-html="communityPrediction(\'q3\', subquestion) | tlistToHTML"></div> <div class="player-prediction-color" bind-trusted-html="playerPrediction(\'q3\', subquestion) | tlistToHTML"></div> </td> <td ng-if="user.isAuthenticated"> <context-menu icon="ellipsis"> <li ng-click="showModal(\'set-reminder\', subquestion)"> {{"reminders" | translate}} </li> <li ng-if="subquestion.canHideCommunity" ng-click="subquestion.communityIsHidden = !subquestion.communityIsHidden"> {{subquestion.communityIsHidden ? ("showCommunityPrediction" | translate) : ("hideCommunityPrediction" | translate)}} </li> <li ng-if="subquestion.canPurchaseMetacPred" ng-click="showModal(\'purchase-metac-pred\', subquestion)"> {{"viewMetaculusPrediction" | translate}} </li> <li ng-if="subquestion.isLive && data.selectedQuestion.has_perm(\'RESOLVE\')" ng-click="showModal(\'resolve\')"> {{"resolveButton" | translate}} </li> </context-menu> </td> </tr> </tbody> </table> </div> <div class="group-prediction-input-control centered" ng-class="{\n      \'group-prediction-input-control--metaculus\': data.showMetacPrediction,\n      \'group-prediction-input-control--community\': !data.showMetacPrediction\n    }" ng-repeat="subquestion in question.sub_questions" ng-if="questionIsSelected(subquestion)"> <continuous-prediction-control question="subquestion" prediction="prediction" show-metac-prediction="data.showMetacPrediction" show-status="true" graph="graph"> </continuous-prediction-control> <predict-bulk ng-if="subquestion.isLive && !subquestion.isClosed" question="question"></predict-bulk> </div> <question-resolver question="data.selectedQuestion" ng-if="data.selectedQuestion.has_perm(\'RESOLVE\')"></question-resolver> </div> ',scope:{question:"=",prediction:"="},link:function(e,t,n){var i;e.graph={type:"PDF"},e.data={selectedQuestion:null,showMetacPrediction:null},e.showModal=function(e,t){Ks.setActive(e,t)},e.user=window.metacData.user,e.data.selectedQuestion=(i=e.question.sub_questions,Cg(new URLSearchParams(window.location.search),i)||(i.some((e=>e.isOpen))?Tg()(i.filter((e=>e.isOpen)),"close_time"):Tg()(i,"close_time"))),e.data.showMetacPrediction=e.data.selectedQuestion.hasMetaculusPrediction(),e.toggleAggregatePrediction=()=>{e.data.showMetacPrediction=!e.data.showMetacPrediction,e.$apply()},e.selectQuestion=t=>{e.data.selectedQuestion=t},e.questionIsSelected=t=>e.data.selectedQuestion.id===t.id,e.hasNotClosedQuestion=()=>e.question.sub_questions.some((e=>!e.isClosed)),e.hasClosedQuestion=()=>e.question.sub_questions.some((e=>e.isClosed)),e.hasMetaculusPrediction=()=>e.question.sub_questions.some((e=>e.hasMetaculusPrediction())),e.playerPrediction=xg,e.communityPrediction=function(t,n){if(e.question.isTutorial)return[{t:"—"}];let i=n,r=e.data.showMetacPrediction?i.metaculusPrediction():i.communityPrediction(),o=i.predictionFormatter;return r&&o.formatUnscaled(r[t],r.q3-r.q1)||[{t:"—"}]},e.getAltPredictionClass=function(){return{"question-group-table__community-prediction":!e.data.showMetacPrediction,"question-group-table__metaculus-prediction":e.data.showMetacPrediction}}}}})),pi.directive("binaryPredictionControl",(function(){return{restrict:"E",template:'<div ng-if="!question.isTutorial && !question.communityIsHidden"> <p ng-if="hasStats" class="dark binary_community_weighting_stats"> <span class="mr-8" bind-trusted-html="\'communityWeighting\' | translate"></span> <span class="select-wrapper"> <select ng-model="data.timeframe"> <option value="recent"> {{"communityWeightingRecent" | translate}} </option> <option value="alltime"> {{"communityWeightingUniform" | translate}} </option> </select> </span> </p> <div ng-if="hasStats" class="binary_stats"> <div> <span><strong>{{median() | smartPercentPrecision}}</strong></span> <span>{{"medianPredictionLabel" | translate}}</span> </div> <div> <span><strong>{{mean() | smartPercentPrecision}}</strong></span> <span>{{"meanPredictionLabel" | translate}}</span> </div> <div ng-if="question.metaculusPrediction()"> <span><strong class="metac-prediction">{{question.metaculusPrediction() | binaryPercentPrecision}}</strong></span><span>{{"metaculusPredictionLabel" | translate}}</span> </div> </div> <svg metac-question-histogram ng-if="hasHistogram" class="_full-width" question="question" recent-only="data.timeframe==\'recent\'"></svg> </div> <div class="slider--container" ng-if="question.isLive && !question.isTutorial"> <slider new-guess="pval.x" old-guess="question.playerPrediction().x" avg-guess="(question.status == \'A\' || question.status == \'V\') && question.communityPrediction() && question.communityPrediction().q2" fixed="question.isClosed"></slider> </div> <div class="slider--container" ng-if="question.isTutorial"> <slider new-guess="pval.x" old-guess="question.fixedPrediction" fixed="question.isClosed"></slider> </div> <predict question="question" prediction="prediction" ng-if="!question.isSubQuestion"></predict> <div question-resolution-view question="question"></div> <fieldset class="detail-box" ng-class="{collapsed:!d.showPointDetails}"> <div class="detail-box__hit-area" ng-click="d.showPointDetails=!d.showPointDetails"></div> <legend toggle-details="d.showPointDetails" style="margin:0 auto"> <span ng-if="d.showPointDetails">Hide Scores for Prediction</span> <span ng-if="!d.showPointDetails">Show Scores for Prediction</span> </legend> <div ng-if="d.showPointDetails"> <div class="binary_points" ng-if="!question.isResolved && currentPts && currentPts.length >= 2 && !(question.isTutorial && question.isClosed)"> <table class="binary_points_table"> <thead> <tr> <th></th> <th>{{"categoricalMetaculusPointsCurrentLabel" | translate}}</th> <th>{{"categoricalMetaculusPointsTotalLabel" | translate}}</th> <th>{{"absoluteLogScore" | translate}}</th> <th>{{"brierScore" | translate}}</th> </tr> </thead> <tbody> <tr> <td class="primary-col">{{"scoreIfNo" | translate}}</td> <td>{{currentPts[0] | signedNumber}}</td> <td>{{availablePts[0] | signedNumber}}</td> <td> {{newPredictionAbsoluteCategoricalLogScore[0] | logScorePrecision}} </td> <td> {{newPredictionCategoricalBrierScore[0] | binaryBrierScorePrecision}} </td> </tr> <tr> <td class="primary-col">{{"scoreIfYes" | translate}}</td> <td>{{currentPts[1] | signedNumber}}</td> <td>{{availablePts[1] | signedNumber}}</td> <td> {{newPredictionAbsoluteCategoricalLogScore[1] | logScorePrecision}} </td> <td> {{newPredictionCategoricalBrierScore[1] | binaryBrierScorePrecision}} </td> </tr> </tbody> </table> </div> </div> </fieldset> <p class="disclaimer text-center" ng-if="!question.isLive"> <span ng-if="question.isActive()"> {{"questionWillOpenAt" | translate:({date: (question.publish_time | relDateStr)})}} </span> <span ng-if="!question.isActive()"> {{"questionNotOpenYet" | translate}} </span> </p> ',scope:{prediction:"=",question:"=",hasHistogram:"=?",hasStats:"=?"},link:function(e,t,n){e.data={ptType:e.question&&e.question.isClosed?"total":"current",timeframe:"recent"},e.pval={x:NaN},e.question.isTutorial?e.pval.x=e.prediction:e.question.playerPrediction()?e.prediction=e.pval.x=e.question.playerPrediction().x:e.question.isClosed?e.pval.x=NaN:e.pval.x=.5,e.hasMoved=!1;var i=e.pval.x;e.$watch("pval.x",(function(){e.hasMoved=e.hasMoved||i!==e.pval.x,e.hasMoved&&(e.question.predictionInput=e.prediction=Math.round(1e3*e.pval.x)/1e3)})),e.$watchCollection("[question.lastUpdated, prediction]",(function(){let t=e.question,n={x:e.prediction};!function(e){let t=e.question.community_prediction,n=t.history[t.history.length-1],i=()=>"recent"==e.data.timeframe;e.mean=()=>i()&&n.x2.weighted_avg?n.x2.weighted_avg:n.x2.avg,e.median=()=>i()?n.x1.q2:t.unweighted.q2}(e),e.prediction&&(e.question.my_prediction_is_active||e.hasMoved)?(e.availablePts=t.availableScoresForPrediction(n),e.currentPts=t.currentScoresForPrediction(n),e.newPredictionAbsoluteCategoricalLogScore=t.absoluteLogScoresForCategoricalPrediction(n),e.newPredictionCategoricalBrierScore=t.brierScoresForCategoricalPrediction(n),e.pval.x=e.prediction):(e.availablePts=[],e.currentPts=[])}))}}}));pi.directive("binaryCommStats",(function(){return{restrict:"A",template:' <div class="question__centered-stats"> <ul> <li> <strong>{{question.authPredictionCount}}</strong> prediction<span ng-if="question.authPredictionCount != 1">s</span> by <strong>{{question.uniquePredictionCount()}}</strong> user<span ng-if="question.uniquePredictionCount() != 1">s</span> </li> <li ng-if="question.anon_prediction_count > 0"> (plus {{question.anon_prediction_count | plural:\'anonymous prediction\':\'anonymous predictions\'}}) </li> <li> The median prediction is <strong>{{median() | smartPercentPrecision}}</strong> </li> <li> The mean prediction is <strong>{{mean() | smartPercentPrecision}}</strong> </li> <li ng-if="question.metaculusPrediction()"> The <em>Metaculus</em> prediction is <strong class="metac-prediction">{{question.metaculusPrediction() | binaryPercentPrecision}}</strong> </li> </ul> </div> '.replace(/>[\t ]+</g,"><"),scope:{question:"="},link:function(e){e.recentOnly=!0;let t=e.question.community_prediction,n=t.history[t.history.length-1],i=(e.recentOnly?t.full.y:t.unweighted.y,()=>e.recentOnly);e.mean=()=>i()&&n.x2.weighted_avg?n.x2.weighted_avg:n.x2.avg,e.median=()=>i()?n.x1.q2:t.unweighted.q2}}})),pi.directive("binaryGroupPredictionControl",(function(){return{template:'<div> <div class="group-prediction-toggle-wrapper"> <div class="group-prediction-legend group-prediction-legend--player mr-20"> <svg icon-name="graph" crop="13"></svg> {{"myPredictionLabel" | translate}} </div> <div ng-if="data.showMetacPrediction" class="group-prediction-legend group-prediction-legend--metaculus"> <svg icon-name="graph" crop="13"></svg> {{"metaculusPredictionLabel" | translate}} </div> <div ng-if="!data.showMetacPrediction" class="group-prediction-legend group-prediction-legend--community"> <svg icon-name="graph" crop="13"></svg> {{"communityPredictionLabel" | translate}} </div> <prediction-label-toggle class="modeless-theme ml-auto" active="data.showMetacPrediction ? \'metaculus\' : \'community\'" on-click="hasMetaculusPrediction() ? toggleAggregatePrediction : undefined"></prediction-label-toggle> </div> <div class="question-group-table pb-12"> <table ng-if="data.selectedQuestion.isBinaryType"> <thead ng-if="hasClosedQuestion()"> <tr> <th class="question_group_table__radio-col"> {{question.group_label}} </th> <th>{{"resolution" | translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="subquestion in question.sub_questions" ng-if="subquestion.isClosed" ng-click="selectQuestion(subquestion)" ng-class="{\'selected\': questionIsSelected(subquestion)}"> <td class="question_group_table__radio-col"> <metac-radio name="selectedQuestion" checked="questionIsSelected(subquestion)" is-small="true">{{subquestion.sub_question_label}}</metac-radio> </td> <td> <div class="columns"> <div class="flex-center flex-grow"> <svg icon-name="resolution" class="question-group-table__resolution-icon"></svg> <span ng-if="subquestion.isResolved" class="resolution-color" bind-trusted-html="subquestion.resolutionString() | tlistToHTML"></span> <span ng-if="!subquestion.isResolved" class="resolution-color">&mdash;</span> </div> <div ng-if="data.selectedQuestion.has_perm(\'RESOLVE\')"> <context-menu icon="ellipsis"> <li ng-if="subquestion.isLive && !subquestion.isResolved" ng-click="showModal(\'resolve\')"> Resolve </li> <li ng-if="subquestion.isLive && subquestion.isResolved" ng-click="showModal(\'unresolve\')"> Unresolve </li> </context-menu> </div> </div> </td> </tr> </tbody> <tbody ng-if="hasNotClosedQuestions()"> <tr class="selected is-bold"> <th> <span ng-if="!hasClosedQuestion()">{{question.group_label}}</span> </th> <th>{{"predictionLabel" | translate}}</th> </tr> </tbody> <tbody> <tr ng-repeat="subquestion in question.sub_questions" ng-if="!subquestion.isClosed" ng-click="selectQuestion(subquestion)" ng-class="{\'selected\': questionIsSelected(subquestion), \'input-changed\': subquestion.canClickPredict()}"> <td class="question_group_table__radio-col"> <metac-radio name="selectedQuestion" checked="questionIsSelected(subquestion)" is-small="true">{{subquestion.sub_question_label}}</metac-radio> </td> <td class="three-quartiles"> <div class="columns"> <div class="flex-center flex-grow"> <div> <div ng-class="getAltPredictionClass()" ng-if="!data.showMetacPrediction"> {{ subquestion.communityPrediction().q2 | smartPercentPrecision:\'\\u2014\' }} </div> <div ng-class="getAltPredictionClass()" ng-if="data.showMetacPrediction"> {{ subquestion.metaculusPrediction() | binaryPercentPrecision:\'\\u2014\' }} </div> <div class="player-prediction-color"> {{ subquestion.predictionInput | binaryPercentPrecision:\'\\u2014\' }} </div> </div> </div> <context-menu icon="ellipsis" ng-if="user.isAuthenticated"> <li ng-click="showModal(\'set-reminder\', subquestion)"> {{"reminders" | translate}} </li> <li ng-if="subquestion.canHideCommunity" ng-click="subquestion.communityIsHidden = !subquestion.communityIsHidden"> {{subquestion.communityIsHidden ? ("showCommunityPrediction" | translate) : ("hideCommunityPrediction" | translate)}} </li> <li ng-if="subquestion.canPurchaseMetacPred" ng-click="showModal(\'purchase-metac-pred\', subquestion)"> {{"viewMetaculusPrediction" | translate}} </li> <li ng-if="subquestion.isLive && data.selectedQuestion.has_perm(\'RESOLVE\')" ng-click="showModal(\'resolve\')"> {{"resolveButton" | translate}} </li> </context-menu> </div> </td> </tr> </tbody> </table> </div> <div class="group-prediction-input-control centered" ng-class="{\n        \'group-prediction-input-control--metaculus\': data.showMetacPrediction,\n        \'group-prediction-input-control--community\': !data.showMetacPrediction\n      }" ng-repeat="subquestion in question.sub_questions" ng-if="questionIsSelected(subquestion)"> <binary-prediction-control question="subquestion" prediction="prediction" has-histogram="true" has-stats="true"> </binary-prediction-control> <predict-bulk ng-if="subquestion.isLive && !subquestion.isClosed" question="question"></predict-bulk> </div> <question-resolver question="data.selectedQuestion" ng-if="data.selectedQuestion.has_perm(\'RESOLVE\')"></question-resolver> </div> ',scope:{question:"=",prediction:"="},link:function(e,t,n){var i;e.data={selectedQuestion:null,showMetacPrediction:null},e.showModal=function(e,t){Ks.setActive(e,t)},e.user=window.metacData.user,e.data.selectedQuestion=(i=e.question.sub_questions,Cg(new URLSearchParams(window.location.search),i)||(i.some((e=>e.isOpen))?Tg()(i.filter((e=>e.isOpen)),"close_time"):Tg()(i,"close_time"))),e.data.showMetacPrediction=e.data.selectedQuestion.hasMetaculusPrediction(),e.toggleAggregatePrediction=()=>{e.data.showMetacPrediction=!e.data.showMetacPrediction,e.$apply()},e.selectQuestion=t=>{e.data.selectedQuestion=t},e.questionIsSelected=t=>e.data.selectedQuestion.id===t.id,e.hasNotClosedQuestions=()=>e.question.sub_questions.some((e=>!e.isClosed)),e.hasClosedQuestion=()=>e.question.sub_questions.some((e=>e.isClosed)),e.hasMetaculusPrediction=()=>e.question.sub_questions.some((e=>e.hasMetaculusPrediction())),e.getAltPredictionClass=function(){return{"question-group-table__community-prediction":!e.data.showMetacPrediction,"question-group-table__metaculus-prediction":e.data.showMetacPrediction}}}}})),pi.directive("embedModal",(function(){return{template:'<metac-modal name="embed"> <h3>Embed this question</h3> <p style="text-align:left"> You can use the below code snippet to embed this question on your own webpage. Feel free to change the height and width to suit your needs. </p> <div style="margin-top:2em"> <div> <label for="">Select a theme</label> <select name="" id="" ng-model="theme" class="btn _bright"> <option value="">Default</option> <option value="?theme=theme-light">Light</option> </select> </div> <div style="margin-top:1em"> <textarea class="comment__entry" readonly="readonly">\n\n<iframe src="{{url}}{{theme}}" width="550" height="260"></iframe></textarea> </div> </div> </metac-modal> ',restrict:"E",scope:{url:"="},link:function(e){e.modals=Ks,e.theme=""}}})),pi.directive("flashMessages",(function(){return{restrict:"E",replace:!0,template:'<div class="flash-messages modeless-theme" ng-show="msgs.length"> <div class="flash-messages__msg" ng-repeat="msg in msgs"> <span class="spacer"></span> <div ng-bind-html="msg.html" ng-if="msg.html"></div> <div ng-bind="msg.text" ng-if="!msg.html"></div> <button class="dismiss" ng-click="remove(msg)">&times;</button> </div> </div> ',scope:{},link:function(e){e.remove=wo.removeMessage,e.msgs=wo.flashMessages;for(let e of window.metacData.messages||[])wo.addMessage(e)}}})).directive("testFlashMessages",(function(){return{restrict:"A",link:function(e,t){t.on("click",(()=>e.$apply((()=>wo.addMessage({html:"<p>Message with <code>html</code>. <em>Italicized</em> and <b>bolded</b> text.</p>"})))))}}})),n(3612);const Eg=["$http","$scope",function(e,t){t.modals=Ks,this.isSubmitting=!1,this.loginErrors={},this.registrationErrors={},this.credentials={username:"",password:""},this.new_user={username:"",password_1:"",password_2:"",email:""},this.submitted_user={username:"",email:""},this.HCAPTCHA_SITE_KEY=window.metacData.HCAPTCHA_SITE_KEY,this.hCaptchaResponse=null,this.MIN_USER_LEN=1,this.MAX_USER_LEN=200,this.MIN_PASS_LEN=6,this.MAX_PASS_LEN=200,this.MIN_EMAIL_LEN=3,this.MAX_EMAIL_LEN=200,this.isPasswordMatching=function(){return this.new_user.password_1===this.new_user.password_2},this.login=function(){const n=this.credentials;this.lform.$submitted=!0,this.isSubmitting||this.lform.$invalid||(this.isSubmitting=!0,this.loginErrors={},e.post("/api2/accounts/login/",n).then(function(){this.isSubmitting=!1,t.$root&&"true"==t.$root.reloadAfterLogin?window.location.reload():t.redirect?window.location.href=t.redirect:window.location.reload()}.bind(this),function(e){this.isSubmitting=!1,this.loginErrors=e.data}.bind(this)))},this.onHCaptchaVerified=function(e){this.hCaptchaResponse=e.token},this.signUp=function(){if(this.isSubmitting||this.sform.$invalid||!this.isPasswordMatching()||!this.hCaptchaResponse)return;const t={username:this.new_user.username,password:this.new_user.password_1,email:this.new_user.email,h_captcha_response:this.hCaptchaResponse};this.isSubmitting=!0,this.registrationErrors={},e.post("/api2/accounts/register/",t).then(function(e){let t=e.data;this.isSubmitting=!1,window.ga("send","event","sign-up","click","email"),Ks.setActive("sign-up-success",t)}.bind(this),function(e){this.isSubmitting=!1,this.registrationErrors=e.data,"h_captcha_verification"in this.registrationErrors&&function(){const e=document.getElementById("h-captcha");e&&e.reset()}()}.bind(this))},this.socialSignUp=function(e){let t="";e.indexOf("google")>=0?t="google":e.indexOf("facebook")>=0&&(t="facebook"),window.ga("send","event","sign-up","click",t),window.location.assign(e)},this.resetPassword=function(){if(this.isSubmitting||this.pwform.$invalid)return;this.isSubmitting=!0;const t={username:this.credentials.username};this.resetErrors=null,e.post("/api2/accounts/password_reset_request/",t).then((()=>{Ks.setActive("pw-reset-email-sent"),this.isSubmitting=!1})).catch((e=>{this.isSubmitting=!1,this.resetErrors=e.data.username}))}}],Pg=["$http",function(e){this.isSubmitting=!1,this.logout=function(){this.isSubmitting||(this.isSubmitting=!0,e.post("/api2/accounts/logout/",{}).then(function(){this.isSubmitting=!1,window.location.assign("/")}.bind(this),function(){this.isSubmitting=!1}.bind(this)))}}];pi.controller("loginCtrl",Eg).controller("logoutCtrl",Pg).directive("metacLogin",(function(){return{scope:{redirect:"@",noModal:"=",hideSocial:"="},template:'<metac-modal class="modal-registration" name="sign-up"> <h1 class="header-bar--single--left" ng-if="modals.data === \'from-prediction\'"> {{"registrationHeadingPrediction" | translate}} </h1> <h1 class="header-bar--single--left" ng-if="modals.data !== \'from-prediction\'" bind-trusted-html="\'registrationHeadingSite\' | translate"></h1> <table class="registration-forms"> <tbody> <tr> <td class="registration__info-text"> <p bind-trusted-html="\'registrationInfoParagraph1\' | translate"></p> <ul> <li>{{"registrationInfoAbility1" | translate}}</li> <li>{{"registrationInfoAbility2" | translate}}</li> <li>{{"registrationInfoAbility3" | translate}}</li> <li>{{"registrationInfoAbility4" | translate}}</li> <li>{{"registrationInfoAbility5" | translate}}</li> </ul> <p>{{"registrationInfoParagraph2" | translate}}</p> </td> <td> <button ng-if="!hideSocial" class="btn--social" ng-click="modals.setActive(\'sign-up-tou\', \'/accounts/social/login/facebook/?register=True&next=\' + redirect)"> {{"registrationFB" | translate}} </button> <button ng-if="!hideSocial" class="btn--social" ng-click="modals.setActive(\'sign-up-tou\', \'/accounts/social/login/google-oauth2/?register=True&next=\' + redirect)"> {{"registrationGoogle" | translate}} </button> <h6 ng-if="!hideSocial" class="horiz-text-divider"> {{"or" | translate}} </h6> <form name="loginCtrl.sform" novalidate ng-submit="loginCtrl.signUp()"> <input type="text" name="username" placeholder="{{\'registrationUsernamePlaceholder\' | translate}}" ng-model="loginCtrl.new_user.username" required ng-maxlength="{{loginCtrl.MAX_USER_LEN}}"/> <div ng-show="loginCtrl.sform.$submitted"> <div ng-show="loginCtrl.sform.username.$error.required" class="error-text"> {{"errorRequired" | translate}} </div> <div ng-show="loginCtrl.sform.username.$error.maxlength" class="error-text"> {{"errorMaxLength" | translate:({field: "username", maxLength: loginCtrl.MAX_USER_LEN })}} </div> <div ng-repeat="err in loginCtrl.registrationErrors.username" class="error-text"> {{err}} </div> </div> <input type="password" name="password_1" placeholder="{{\'passwordPlaceholder\' | translate}}" ng-model="loginCtrl.new_user.password_1" required ng-minlength="{{loginCtrl.MIN_PASS_LEN}}" ng-maxlength="{{loginCtrl.MAX_PASS_LEN}}"/> <input class="grouped-input" type="password" name="password_2" placeholder="{{\'registrationVerifyPasswordPlaceholder\' | translate}}" ng-model="loginCtrl.new_user.password_2"/> <div ng-show="loginCtrl.sform.$submitted"> <div ng-show="loginCtrl.sform.password_1.$error.required" class="error-text"> {{"errorRequired" | translate}} </div> <div ng-show="loginCtrl.sform.password_1.$error.minlength && !loginCtrl.sform.password_1.$error.required" class="error-text"> {{"errorMinLength" | translate:({field: "password", minLength: loginCtrl.MIN_PASS_LEN })}} </div> <div ng-show="loginCtrl.sform.password_1.$error.maxlength" class="error-text"> {{"errorMaxLength" | translate:({field: "password", maxLength: loginCtrl.MAX_PASS_LEN })}} </div> <div ng-show="loginCtrl.sform.password_2.$touched && !loginCtrl.isPasswordMatching()" class="error-text"> {{"errorPasswordMatch" | translate}} </div> <div ng-repeat="err in loginCtrl.registrationErrors.password" class="error-text"> {{err}} </div> </div> <input type="email" name="email" placeholder="{{\'registrationEmailPlaceholder\' | translate}}" ng-model="loginCtrl.new_user.email" required/> <div ng-show="loginCtrl.sform.$submitted"> <div ng-show="loginCtrl.sform.email.$error.required" class="error-text"> {{"errorRequired" | translate}} </div> <div ng-show="loginCtrl.sform.email.$error.email" class="error-text"> {{"errorEmailInvalid" | translate}} </div> <div ng-repeat="err in loginCtrl.registrationErrors.email" class="error-text"> {{err}} </div> </div> <div class="h-captcha-wrapper"> <h-captcha id="h-captcha" site-key="{{loginCtrl.HCAPTCHA_SITE_KEY}}" size="compact" theme="dark" ng-on-verified="loginCtrl.onHCaptchaVerified($event)"></h-captcha> </div> <div ng-show="loginCtrl.sform.$submitted"> <div ng-repeat="err in loginCtrl.registrationErrors.h_captcha_verification" class="error-text"> {{err}} </div> </div> <input type="submit" value="{{\'registrationByEmail\' | translate}}"/> </form> </td> </tr> </tbody> </table> <h6 class="horiz-text-divider"> {{"registrationSignInHeading" | translate}} </h6> <button class="btn _centered _wide _semi-bright" ng-click="modals.setActive(\'login\')"> {{"signInButton" | translate}} </button> </metac-modal> <metac-modal name="sign-up-success"> <p> {{"registrationSuccess1" | translate:({username: modals.data.username})}} </p> <p>{{"registrationSuccess2" | translate:({email: modals.data.email})}}</p> </metac-modal> <metac-modal name="sign-up-tou"> <p bind-trusted-html="\'registrationTerms\' | translate"></p> <div style="text-align:center;padding:1px 0;text-transform:uppercase"> <button class="btn _semi-bright" ng-click="loginCtrl.socialSignUp(modals.data)"> {{"registrationTermsAgreement" | translate}} </button> </div> </metac-modal> <metac-modal class="modal-login" name="login"> <a ng-if="!hideSocial" class="btn--social" href="/accounts/social/login/facebook/?next={{redirect}}">{{"loginFB" | translate}}</a> <a ng-if="!hideSocial" class="btn--social" href="/accounts/social/login/google-oauth2/?next={{redirect}}">{{"loginGoogle" | translate}}</a> <h6 ng-if="!hideSocial" class="horiz-text-divider">{{"or" | translate}}</h6> <form name="loginCtrl.lform" novalidate ng-submit="loginCtrl.login()"> <input type="text" name="username" placeholder="{{\'loginUsernamePlaceholder\' | translate}}" ng-model="loginCtrl.credentials.username" required ng-maxlength="{{loginCtrl.MAX_USER_LEN}}"/> <div ng-show="loginCtrl.lform.$submitted"> <div ng-show="loginCtrl.lform.username.$error.required" class="error-text"> {{"errorRequired" | translate}} </div> <div ng-show="loginCtrl.lform.username.$error.maxlength" class="error-text"> {{"errorMaxLength" | translate:({field: "username", maxLength: loginCtrl.MAX_USER_LEN })}} </div> <div ng-repeat="err in loginCtrl.loginErrors.username" class="error-text"> {{err}} </div> </div> <input type="password" name="password" placeholder="{{\'passwordPlaceholder\' | translate}}" ng-model="loginCtrl.credentials.password" required ng-maxlength="{{loginCtrl.MAX_PASS_LEN}}"/> <div ng-show="loginCtrl.lform.$submitted"> <div ng-show="loginCtrl.lform.password.$error.required" class="error-text"> {{"errorRequired" | translate}} </div> <div ng-show="loginCtrl.lform.password.$error.maxlength" class="error-text"> {{"errorMaxLength" | translate:({field: "password", maxLength: loginCtrl.MAX_PASS_LEN })}} </div> <div ng-repeat="err in loginCtrl.loginErrors.password" class="error-text"> {{err}} </div> </div> <input type="submit" value="{{\'signInButton\' | translate}}"/> </form> <a class="modal-login__forgot-pw" ng-click="modals.setActive(\'forgot-pw\')">{{"forgotPasswordLink" | translate}}</a> </metac-modal> <div class="no-modal-login" ng-if="noModal"> <a ng-if="!hideSocial" class="btn--social" href="/accounts/social/login/facebook/?next={{redirect}}">{{"loginFB" | translate}}</a> <a ng-if="!hideSocial" class="btn--social" href="/accounts/social/login/google-oauth2/?next={{redirect}}">{{"loginGoogle" | translate}}</a> <h6 ng-if="!hideSocial" class="horiz-text-divider">or</h6> <form name="loginCtrl.lform" novalidate ng-submit="loginCtrl.login()"> <input type="text" name="username" placeholder="{{\'loginUsernamePlaceholder\' | translate}}" ng-model="loginCtrl.credentials.username" required ng-maxlength="{{loginCtrl.MAX_USER_LEN}}"/> <div ng-show="loginCtrl.lform.$submitted"> <div ng-show="loginCtrl.lform.username.$error.required" class="error-text"> {{"errorRequired" | translate}} </div> <div ng-show="loginCtrl.lform.username.$error.maxlength" class="error-text"> {{"errorMaxLength" | translate:({field: "username", maxLength: loginCtrl.MAX_USER_LEN })}} </div> <div ng-repeat="err in loginCtrl.loginErrors.username" class="error-text"> {{err}} </div> </div> <input type="password" name="password" placeholder="{{\'passwordPlaceholder\' | translate}}" ng-model="loginCtrl.credentials.password" required ng-maxlength="{{loginCtrl.MAX_PASS_LEN}}"/> <div ng-show="loginCtrl.lform.$submitted"> <div ng-show="loginCtrl.lform.password.$error.required" class="error-text"> {{"errorRequired" | translate}} </div> <div ng-show="loginCtrl.lform.password.$error.maxlength" class="error-text"> {{"errorMaxLength" | translate:({field: "password", maxLength: loginCtrl.MAX_PASS_LEN })}} </div> <div ng-repeat="err in loginCtrl.loginErrors.password" class="error-text"> {{err}} </div> </div> <input type="submit" value="{{\'signInButton\' | translate}}"/> </form> <a class="modal-login__forgot-pw" ng-click="modals.setActive(\'forgot-pw\')">{{"forgotPasswordLink" | translate}}</a> </div> <metac-modal class="modal-pw-reset" name="forgot-pw"> <p>{{"passwordResetDescription" | translate}}</p> <form name="loginCtrl.pwform" novalidate ng-submit="loginCtrl.resetPassword()"> <input type="text" name="username" placeholder="{{\'loginUsernamePlaceholder\' | translate}}" ng-model="loginCtrl.credentials.username" required ng-maxlength="{{loginCtrl.MAX_USER_LEN}}"/> <div ng-show="loginCtrl.pwform.$submitted"> <div ng-show="loginCtrl.pwform.username.$error.required" class="error-text"> {{"errorRequired" | translate}} </div> <div ng-show="loginCtrl.pwform.username.$error.maxlength" class="error-text"> {{"errorMaxLength" | translate:({field: "username", maxLength: loginCtrl.MAX_USER_LEN })}} </div> </div> <div ng-repeat="err in loginCtrl.resetErrors" class="error-text"> {{err}} </div> <input type="submit" value="{{\'resetPasswordButton\' | translate}}"/> </form> </metac-modal> <metac-modal name="pw-reset-email-sent"> <p>{{"resetPasswordEmailSent1" | translate}}</p> <p>{{"resetPasswordEmailSent2" | translate}}</p> </metac-modal> ',controller:Eg,controllerAs:"loginCtrl"}}));var Og=["$scope",function(e){this.selectedMenu=null,this.toggle=function(e){this.selectedMenu=this.selectedMenu==e?null:e,"mobileNav"===this.selectedMenu&&window.scrollTo({top:0,behavior:"smooth"})},this.resize=function(){"mobileNav"===this.selectedMenu&&window.innerWidth>799&&e.$apply((()=>{this.toggle("mobileNav")}))},window.onresize=this.resize.bind(this)}];pi.controller("navigationController",Og);class qg{constructor(){this.read=[],this.unread=[],this.visible=!1,this.num_unread=window.metacData.notificationCount||0,this.loaded=!1}transformNotification(e){let t={created_time:new Date(e.created_time),read:e.read};switch(e.type){case"Q":t.type="question resolved",t.url="/questions/"+e.data.question_id,t.question_title=e.data.question_title;break;case"S":t.type="closing soon",t.url="/questions/"+e.data.question_id,t.question_title=e.data.question_title;break;case"M":t.type="mentioned by @".concat(e.data.author_username),t.url="/questions/".concat(e.data.question_id,"/#comment-").concat(e.data.comment_id),t.question_title=e.data.question_title;break;default:t.type=""}return t}show(){this.loaded?this.visible=!0:Ir.get("/api2/notifications/").then((e=>{let t=e.data.map(this.transformNotification);if(t.sort(((e,t)=>t.created_time-e.created_time)),this.read=t.filter((e=>e.read)),this.unread=t.filter((e=>!e.read)),this.visible=!0,this.loaded=!0,this.unread.length>0){let e=this.unread.map((e=>e.created_time)).reduce(((e,t)=>e>t?e:t));Ir.post("/api2/notifications/mark_read/",{last_seen:e.toISOString()}).then((e=>{}))}}),(()=>wo.addMessage({html:"Could not load notifications"})))}hide(){this.visible=!1,this.num_unread=0,this.read.push(...this.unread),this.unread=[]}}pi.directive("notifications",(function(){return{template:'<div> <button class="notifs__toggle-button" ng-click="notifications.show()"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 76.5" version="1.1"> <defs id="defs2"> <clipPath clipPathUnits="userSpaceOnUse" id="clipPath942"> <path d="m 88.4272,137.63415 h 29.36018 v 29.36018 H 88.4272 Z m 68.21293,-2.71301 a 54.581211,17.020094 0 0 0 -54.58121,-17.02009 54.581211,17.020094 0 0 0 -54.581209,17.02009 54.581211,17.020094 0 0 0 54.581209,17.0201 54.581211,17.020094 0 0 0 54.58121,-17.0201 z"/> </clipPath> </defs> <g transform="translate(-68.372452,-81.964009)"> <path style="fill:currentcolor" d="m 103.41056,86.071894 c 27.60248,0 15.69994,44.762656 30.29848,50.510976 14.59854,5.74831 -6.88483,12.94935 -32.3577,12.82082" id="path839"/> <path style="fill:currentcolor" d="m 103.41056,86.071894 c -27.602476,0 -15.699939,44.762656 -30.298476,50.510976 -14.59854,5.74831 6.88483,12.94935 32.357696,12.82082" id="path841"/> <circle style="fill:currentcolor" cx="103.00467" cy="86.151848" r="4.187839"/> <path style="fill:currentcolor" clip-path="url(#clipPath942)" d="m 112.78738,152.31424 a 9.6800919,9.6800919 0 0 1 -9.68009,9.68009 9.6800919,9.6800919 0 0 1 -9.68009,-9.68009 9.6800919,9.6800919 0 0 1 9.68009,-9.68009 9.6800919,9.6800919 0 0 1 9.68009,9.68009 z" transform="matrix(0.6297421,0,0,0.59899568,38.17629,60.606049)"/> <path style="fill:none;stroke:currentcolor;stroke-width:3.85" d="m 122.3549,87.381358 c 8.80212,6.109392 9.86434,30.048442 9.86434,30.048442"/> <path style="fill:none;stroke:currentcolor;stroke-width:3.85" d="m 83.911921,87.569081 c -8.80212,6.109392 -9.86434,30.048439 -9.86434,30.048439"/> <circle ng-if="notifications.num_unread > 0" class="_notify-badge" cx="125.00467" cy="146.151848" r="12.187839"/> </g> </svg> </button> <div class="notifs__wrapper" ng-if="notifications.visible" ng-click="notifications.hide()"> <div class="notifs__sidebar" ng-click="$event.stopPropagation()"> <div class="notifs__close" ng-click="notifications.hide()"></div> <h2>Notifications</h2> <div class="notifs__sidebar-body"> <div ng-if="notifications.unread.length == 0 && notifications.read.length == 0" class="_empty"> Nothing here yet! </div> <ul ng-if="notifications.unread.length > 0" class="_unread"> <li ng-repeat="notif in notifications.unread track by $index" class="_notif"> <a href="{{notif.url}}"> <div class="_notif-description">{{notif.type}}</div> <div class="_notif-question-title" href="#"> {{notif.question_title}} </div> </a> </li> </ul> <ul ng-if="notifications.read.length > 0" class="_read"> <li ng-repeat="notif in notifications.read track by $index" class="_notif"> <a href="{{notif.url}}"> <div class="_notif-description">{{notif.type}}</div> <div class="_notif-question-title" href="#"> {{notif.question_title}} </div> </a> </li> </ul> </div> </div> </div> </div> ',replace:!0,restrict:"E",link:function(e,t,n){e.notifications=new qg}}}));var $g=["$scope","$http",function(e,t){this.isSubmitting=!1,this.form_data={password_1:"",password_2:"",validation:window.metacData.resetKey},this.apiErrors={},this.MIN_PASS_LEN=6,this.reset_password=function(){if(!this.isSubmitting&&!e.rForm.$invalid&&this.isPasswordMatching()){this.isSubmitting=!0;var n={new_password:this.form_data.password_1,reset_key:this.form_data.validation};t.post("/api2/accounts/reset_password/",n).then(function(e){this.isSubmitting=!1,window.location=window.metacData.accountIsActive?"/questions/":"/questions/?new-user=true"}.bind(this),function(e){this.isSubmitting=!1,console.log("Failed",e.data),this.apiErrors=e.data}.bind(this))}},this.user_password_reset=function(){if(!this.isSubmitting&&!e.rForm.$invalid&&this.isPasswordMatching()){this.showConfirm=!1,this.isSubmitting=!0;var n={new_password:this.form_data.password_1,old_password:this.form_data.validation};t.post("/api2/accounts/reset_password/",n).then(function(t){this.isSubmitting=!1,this.showConfirm=!0,this.form_data.password_1="",this.form_data.password_2="",this.form_data.validation="",e.rForm.$submitted=!1}.bind(this),function(e){this.isSubmitting=!1,this.apiErrors=e.data}.bind(this))}},this.isPasswordMatching=function(){return this.form_data.password_1==this.form_data.password_2}}];pi.controller("resetCtrl",$g),pi.directive("powerList",(function(){return{restrict:"A",template:'<ul class="checklist"> <li ng-repeat="power in user.sortedPowers" ng-class="{dark:!power.active, checked:power.active}" style="margin:8px 0"> Level {{power.level_req || \'—\'}}: <button class="link-button" ng-click="openPowerInfo(power)"> {{power.name}} </button> </li> </ul> <div style="display:flex;justify-content:center"> <p style="margin:12px 0;text-align:center;width:300px"> Powers and Insights can be unlocked by attaining the requisite level, or with tachyons. </p> </div> <metac-modal name="power-info"> <h3>{{aPower.name}}</h3> <div bind-trusted-html="aPower.description"></div> <div ng-if="!aPower.active" style="text-align:center"> <ajax-button class="btn _semi-bright _large" submit="purchasePower(aPower)">Unlock</ajax-button> <div class="power-up__error">{{apiError}}</div> <p>Cost: <strong>{{aPower.unlock_cost}} tachyons</strong></p> <p class="dark" style="margin:.3em 0 0"> <small>Once unlocked, this power will be available forever. The higher your level, the easier it will be to unlock.</small> </p> </div> </metac-modal> ',scope:{},link:function(e){e.user=To,e.modals=Ks,e.openPowerInfo=function(t){e.apiError=null,e.aPower=t,Ks.setActive("power-info",t)},e.purchasePower=function(t){return Ir.post(To.url+"unlock-power/",{power_id:t.id,unlock_cost:t.unlock_cost}).then((function(e){To.powers=e.data.powers,Ks.setActive(null)})).catch((function(t){e.apiError=t.data.error}))}}}}));var Mg=["$http","$scope",function(e,t){var n=["show_profile_comments","purchasable_track_record","default_community_visibility","ask_when_reaffirm_question_modal"];t.$watchCollection((()=>n.map((e=>To[e]))),(function(t,i){let r=!1,o={};for(let e=0;e<n.length;e++)t[e]!==i[e]&&(r=!0,o[n[e]]=t[e]);r&&e.patch(To.url,o).then((e=>To.reloadFromData(e.data)))}))}];pi.controller("preferenceCtrl",Mg);class Lg{constructor(e,t){this.remindOnDate=null,this.remindOnNewComments=null,this.type=null,this.types=[],this.note="",this.list=[],this.errorMessage=null,this.question=e,this.user=t}purchase(){if(this.errorMessage=null,!this.type)return this.errorMessage=fe("reminderErrorTypeRequired");if("D"===this.type.id){if(!this.remindOnDate)return this.errorMessage=fe("reminderErrorDateRequired");if(this.remindOnDate<=new Date)return this.errorMessage=fe("reminderErrorDateInFuture")}else this.remindOnDate=null;if("C"===this.type.id){if(!this.remindOnNewComments)return this.errorMessage=fe("reminderErrorNumberOfCommentsRequired")}else this.remindOnNewComments=null;const e={reminder:this.type.id,question:this.question.id,user:this.user.id,remind_on_date:this.remindOnDate,remind_on_new_comments:this.remindOnNewComments,note:this.note};return Ir.post("/api2/reminders/",e).then((e=>{Ks.setActive(null),wo.addMessage({html:fe("newReminderSuccess")}),this.user.tachyons--,this.list.push(this.transformReminder(e.data)),this.remindOnDate=null,this.remindOnNewComments=null,this.type=null,this.note="",this.filterOptions()}),(()=>{this.errorMessage=fe("newReminderError")}))}transformReminder(e){switch(e.reminder){case"D":e.remindStr=fe("remindOnDate",{date:so(e.remind_on_date)});break;case"C":e.remindStr=fe("remindAfterCountComments",{count:e.remind_on_new_comments});break;case"O":e.remindStr=fe("remindWhenOpens");break;case"P":e.remindStr=fe("remindWhenCPChanges");break;case"R":e.remindStr=fe("remindWhenNeedsResolution");break;default:e.remindStr=fe("noReminder")}return e}filterOptions(){this.types=[];const e=this.list;this.types.push({id:"D",type:fe("reminderOptionDate")}),this.question.isSubQuestion||this.types.push({id:"C",type:fe("reminderOptionNewComments")});let t=this.question;this.question.has_perm("RESOLVE")&&"discussion"!==t.type&&"group"!==t.type&&null===t.resolution&&-1===e.findIndex((e=>"R"===e.reminder&&"A"===e.status))&&this.types.push({id:"R",type:fe("reminderOptionNeedsResolution")}),-1===e.findIndex((e=>"P"===e.reminder&&"A"===e.status))&&"discussion"!==t.possibilities.type&&t.community_prediction.history.length>0&&t.lastUpdated<t.close_time&&t.lastUpdated<t.resolve_time&&this.types.push({id:"P",type:fe("reminderOptionCPChanges")}),t.lastUpdated<t.publish_time&&-1===e.findIndex((e=>"O"===e.reminder))&&this.types.push({id:"O",type:fe("reminderOptionQuestionOpens")})}loadReminders(){window.metacData.user.isAuthenticated&&Ir.get("/api2/reminders/?status=A&question="+this.question.id).then((e=>{this.list=e.data.map(this.transformReminder),this.filterOptions()}),(()=>wo.addMessage({html:fe("loadingRemindersError")})))}loadAllReminders(){Ir.get("/api2/reminders/").then((e=>{this.list=e.data.map(this.transformReminder)}),So)}deactivate(e){window.confirm(fe("removeReminderConfirmation"))&&Ir.patch("/api2/reminders/"+e+"/",{status:"D"}).then((e=>{this.question?this.loadReminders():this.loadAllReminders()}),(()=>{wo.addMessage({html:fe("removingReminderError")})}))}}var jg=["$scope",function(e){e.reminder=new Lg(null,null),e.reminder.loadAllReminders()}];pi.controller("remindersCtrl",jg),pi.directive("remindersTable",(function(){return{template:'<div class="_header" ng-if="showQuestions || reminders.list.length > 0"> <span class="_notes-button"></span> <span class="_question-column" ng-if="showQuestions">{{"question" | translate}}</span> <span class="_created-column">{{"created" | translate}}</span> <span class="_remind-column">{{"remindWhen" | translate}}</span> <span class="_remove-column"></span> </div> <div ng-repeat="reminder in reminders.list"> <div class="_row"> <span class="_notes-button"><disclosure-triangle disclosed="reminder.disclosed" ng-if="reminder.note"></disclosure-triangle></span> <span class="_question-column" ng-if="showQuestions"><a href="/questions/{{reminder.question}}/">{{reminder.question_title}}</a></span> <span class="_created-column">{{reminder.created_time | dateStr}}</span> <span class="_remind-column">{{reminder.remindStr}}</span> <span class="_remove-column"><span ng-click="$event.preventDefault();reminders.deactivate(reminder.id)">&#xD7;</span></span> </div> <div class="_notes" ng-if="reminder.disclosed && reminder.note"> {{reminder.note}} </div> </div> ',restrict:"C",scope:{reminders:"=",showQuestions:"="}}}));var Ag='<h2 class="section-header" id="comment-section"> <span ng-if="commentsOpen">{{"commentsHeading" | translate}}</span> <span ng-if="!commentsOpen">{{"commentsClosedHeading" | translate}}</span> <span class="select-wrapper" ng-if="question && !question.isDiscussionType" ng-hide="true"> <select ng-model="data.viewCommentType" ng-options="item as item.name_pl for item in data.viewCommentTypeList"></select> </span> </h2> <div class="section-header-details"> <span class="mr-8">{{"commentsCount" | translate:({count: data.commentCount})}}</span> <span ng-if="data.showUnreadComments()">{{"commentsUnreadCount" | translate:({count: data.newCommentCount})}}</span> </div> <div id="post-comment" class="comment__input" ng-if="!user.isAuthenticated && commentsOpen"> <textarea disabled="disabled" placeholder="{{\'commentsTextAreaNotSignedInPlaceholder\' | translate}}"></textarea> <div class="comment__actions"> <button class="button is-secondary" ng-click="modals.setActive(\'login\')"> {{"signInButton" | translate}} </button> </div> </div> <div id="post-comment" class="comment__input" ng-if="user.isAuthenticated && commentsOpen"> <p class="comment__prompt" bind-trusted-html="data.commentPrompt | translate" ng-if="data.hasCommentPrompt"></p> <latest-prediction ng-if="question.has_my_predictions && (question.isBinaryType || question.isContinuousType)" question="question" should-show-latest-prediction="shouldShowLatestPrediction" set-should-show-latest-prediction="setShouldShowLatestPrediction" username="user.username"> </latest-prediction> <textarea id="main-comment-entry" ng-paste="data.expandEditor($event)" ng-keydown="data.expandEditor($event)" ng-model="data.comment_text" ng-disabled="!data.canPostComments" placeholder="{{data.commentPlaceholder}}" angular-tribute values="data.tribute"></textarea> <div class="comment_preview content" ng-if="data.commentPreview" bind-html-math="data.commentPreview.comment_html"></div> <div class="comment__input__buttons"> <div> <a href="/help/markdown/" class="hide-mobile">{{"commentsLearnMarkdown" | translate}}</a> </div> <div class="comment__actions"> <span class="select-wrapper" ng-if="question && !question.isDiscussionType"> <select ng-model="data.postCommentType" ng-options="item as (item.name | translate) for item in data.postCommentTypeList"></select> </span> <ajax-button class="button is-secondary" ng-if="!data.commentPreview.preview" submit="data.getPreview()" is-disabled="!data.canPostComments || data.comment_text.length < 1">{{"previewButton" | translate}}</ajax-button> <ajax-button class="button is-secondary" submit="data.getPreview()" ng-if="data.commentPreview.preview">{{"updatePreviewButton" | translate}}</ajax-button> <ajax-button class="button is-primary" submit="submitComment()" is-disabled="!data.canPostComments || data.comment_text.length < 1">{{"postButton" | translate}}</ajax-button> </div> </div> </div> <div id="comments"></div> <div ng-if="data.filteredComments.length > 0"> <h3 class="subsection-header" ng-if="data.showUnreadComments()"> {{"commentsSectionUnreadComments" | translate}} </h3> <h3 class="subsection-header" ng-if="!data.showUnreadComments()"> {{"commentsSectionAllComments" | translate}} </h3> </div> <div class=""> <div ng-repeat="comment in data.filteredComments track by comment.id"> <h3 class="subsection-header" ng-if="data.showUnreadComments() && $index === data.newCommentCount"> {{"commentsSectionAllComments" | translate}} </h3> <question-comment comment="comment" question="question" ctrl="data" comments-open="commentsOpen" top-level="true" ng-class="{comment__read:data.isRead(comment), comment_top_border:!$first && !(data.showUnreadComments() && $index === data.newCommentCount)}" tribute="data.tribute"></question-comment> </div> <div class="comment--ellipsis" ng-if-start="data.hashedComment"></div> <question-comment ng-if-end comment="data.hashedComment" question="question" ctrl="data" comments-open="commentsOpen" top-level="true" tribute="data.tribute"></question-comment> </div> <div class="button-row" ng-if="data.canLoadMore"> <ajax-button class="button is-secondary" submit="data.loadMoreData()">{{"loadMoreButton" | translate}}</ajax-button> </div> <metac-modal class="resolve-modal" name="comment_delete"> <h4>{{"commentsDeleteCommentHeading" | translate}}</h4> <div class="resolve__help-text" bind-trusted-html="\'commentsDeleteConfirmation\' | translate:({author: data.comment_to_delete.author_name})"></div> <ajax-button class="btn _bright _centered _wide" submit="data.delete_comment()">{{"Yes" | translate}}</ajax-button> <button class="btn _bright _centered _wide" ng-click="modals.setActive(null)"> {{"No" | translate}} </button> <hr/> <p class="comment__delete-preview">{{data.comment_to_delete.comment_text}}</p> </metac-modal> <metac-modal name="report"> <h4>{{"commentsReportCommentHeading" | translate}}</h4> <p>{{"commentsReportCommentDescription" | translate}}</p> <p> <ajax-button class="btn _bright _wide _centered" submit="data.reportComment(\'S\')">{{"commentsReportSpam" | translate}}</ajax-button> <ajax-button class="btn _bright _wide _centered" submit="data.reportComment(\'V\')">{{"commentsReportGuidelinesViolation" | translate}}</ajax-button> </p> <p class="power-up__error">{{data.apiError}}</p> </metac-modal> ';function Dg(e,t){var n=document.createElement("textarea");n.style.position="fixed",n.style.opacity="0",n.textContent=e;var i=document.getElementsByTagName("body")[0];i.appendChild(n);try{n.select(),document.execCommand("copy"),wo.addMessage({html:t},5e3)}finally{i.removeChild(n)}}const Ng=/https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(es)?\/(\d+)/;var Rg,Ig=[{id:null,name_pl:"All comments",restrict:"view"},{id:"S",name:"commentsTypeGeneral",name_pl:"General Comments",prompt:"",verb:"commentsTypeGeneralVerb"},{id:"P_or_U",name_pl:"Predictions",restrict:"view"},{id:"D",name:"commentsTypeDependency",name_pl:"Dependencies",prompt:"commentsTypeDependencyPrompt",verb:"commentsTypeDependencyVerb"},{id:"I",name:"commentsTypeInformationSource",name_pl:"Information Sources",prompt:"commentsTypeInformationSourcePrompt",verb:"commentsTypeInformationSourceVerb"},{id:"R",name:"commentsTypeInformationRequest",name_pl:"Information Requests",prompt:"commentsTypeInformationRequestPrompt",verb:"commentsTypeInformationRequestVerb"},{id:"A",name:"commentsTypeExternalAnalysis",name_pl:"External analyses",prompt:"commentsTypeExternalAnalysisPrompt",verb:"commentsTypeExternalAnalysisVerb"},{id:"E",name:"commentsTypeExternalPrediction",name_pl:"External predictions",prompt:"commentsTypeExternalPredictionPrompt",verb:"commentsTypeExternalPredictionVerb"},{id:"B",name:"commentsTypeBaseRate",name_pl:"Estimated Base Rates",prompt:"commentsTypeBaseRatePrompt",verb:"commentsTypeBaseRateVerb"},{id:"C",name:"commentsTypeComparison",name_pl:"Comparisons",prompt:"commentsTypeComparisonPrompt",verb:"commentsTypeComparisonVerb"},{id:"F",name:"commentsTypeFactorization",name_pl:"Factorizations",prompt:"commentsTypeFactorizationPrompt",verb:"commentsTypeFactorizationVerb"},{id:"Q",name:"commentsTypeQuestionFeedback",name_pl:"Question Feedback",prompt:"commentsTypeQuestionFeedbackPrompt",verb:"commentsTypeQuestionFeedbackVerb"},{id:"Z",name:"commentsTypeQuestionResolution",name_pl:"Question Resolution",prompt:"commentsTypeQuestionResolutionPrompt",verb:"commentsTypeQuestionResolutionVerb"},{id:"M",name:"commentsTypeMetacomment",name_pl:"Metacomments",prompt:"commentsTypeMetacommentPrompt",verb:"commentsTypeMetacommentVerb"},{id:"N",name:"commentsTypePrivateNote",name_pl:"Private notes",prompt:"commentsTypePrivateNotePrompt",verb:"commentsTypePrivateNoteVerb"}],Fg={};for(Rg=0;Rg<Ig.length;Rg++){var Ug=Ig[Rg];Fg[Ug.id]=Ug}let Bg=e=>{e.target&&(e=e.target),e.style.maxHeight="500px",e.style.height="auto",e.style.height=e.scrollHeight+2+"px",setTimeout((()=>{e.style.overflow=e.scrollHeight>500?"auto":"hidden",e.style.height="auto",e.style.height=e.scrollHeight+2+"px"}),0)};function Hg(e){return e.num_likes<=-4&&!e.is_moderator&&!e.is_admin}class zg{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.commentList=[],this.commentTable={},this.orphanComments=[],this.isNested=n,this.comment_text="",this.submit_error=null,this.comment_to_delete=null,this.comment_to_report=null,this.commentCount=t,this.newCommentCount=i,this.loadedCount=0,this.loadTime=new Date,this.replyingTo=null,this.processNewData(e.results||[]),this.nextURL=e.next,this.showUnreadComments=()=>this.newCommentCount&&this.newCommentCount>0&&this.newCommentCount<this.commentCount,this.tribute=(e,t)=>{let n,i=this.question&&this.question.author_name;if("V"===this.question.status){let e=this.question.shared_with.filter((e=>"A"===e.status)).map((e=>e.username));n=[...new Set([i,...e])]}else n=[...new Set([i,...this.commentList.map((e=>e.author_name))])];n=n.sort(((e,t)=>e.localeCompare(t,"en",{sensitivity:"base"})));let r=["moderators","admins",...n].filter((e=>e)).map((e=>({key:e,value:e})));"V"===this.question.status&&r.unshift({key:"members",value:"members"}),t(r)},this.expandEditor=Bg}get filteredComments(){return this.commentList}get canLoadMore(){return!!this.nextURL}get canPostComments(){return window.metacData.isPrivateSite||To.permissions["metac_question.add_comment"]||To.date_joined<Date.now()-432e5}get commentPlaceholder(){return this.canPostComments?fe("commentsTextAreaPlaceholder"):fe("commentsTextAreaNewAccountPlaceholder")}updateLoadTimes(){var e,t=new Date;for(e in this.commentTable)this.commentTable[e].loadTime=t}getURLData(){throw"not implemented"}newCommentData(e){throw"not implemented"}loadMoreData(){return this.loadRecentData().then((()=>Ir.get(this.nextURL)),So).then((e=>{e&&(this.processNewData(e.data.results),this.nextURL=e.data.next)}))}loadRecentData(){var e=this.getURLData(),t=this;return e.params.limit=1e3,e.params.created_time__gt=this.commentList[0]?this.commentList[0].created_time:this.loadTime.toISOString(),Ir(e).then((function e(n){if(t.commentCount+=n.data.results.length,t.processNewData(n.data.results),n.data.next)return Ir.get(n.data.next).then(e,So)}),So)}loadHashedComment(e){var t,n=window.location.hash||"#";if(e||(e="#comment-"==n.substring(0,9)&&+n.substring(9)),(this.hashedComment||{}).id==e)return Fr.resolve(null);if(this.hashedComment=null,!e)return Fr.resolve(null);var i=this.commentTable[e]||{};return i.parent&&!this.commentTable[i.parent]?this.loadHashedComment(i.parent):i.id?Fr.resolve(null):((t=this.getURLData()).url+=e+"/",Ir(t).then((e=>{var t=e.data;if(!this.commentTable[t.id]){t.expandChildren=!Hg(t);var n="created_time";return t.children.map((e=>(e.created_time=new Date(e.created_time),e))),t.children.sort(((e,t)=>e[n]-t[n])),this.hashedComment=t,t.parent?this.loadHashedComment(t.parent):void 0}}),So))}processNewData(e){for(let t of e)this.commentTable[t.id]||(t.id==(this.hashedComment||{}).id&&(this.hashedComment=null),t.children=[],t.expandChildren=!Hg(t),t.created_time=new Date(t.created_time),this.loadedCount++,this.commentList.push(t),this.commentTable[t.id]=t,t.parent&&this.isNested&&this.orphanComments.push(t));var t=[];for(let e of this.orphanComments){let n=this.commentTable[e.parent];n?n.children.push(e):t.push(e)}this.orphanComments=t;var n="created_time";for(let e of this.commentList)e.children.sort(((e,t)=>e[n]-t[n]));this.commentList.sort(((e,t)=>t[n]-e[n])),this.updateLoadTimes()}validateComment(e){return this.submitError=null,!!/\S/.test(this.comment_text)||(this.submitError="You have to enter some text first!",!1)}closeContextMenu(){Br((function(){document.body.click()}),100)}showReportModal(e){this.comment_to_report=e,Ks.setActive("report")}reportComment(e){if(!this.comment_to_report){var t=Fr.defer();return t.reject(),t.promise}return Ir.post(this.comment_to_report.url+"report/",{reason:e}).then((function(e){Ks.setActive(null)}))}confirm_delete(e){this.comment_to_delete=e,Ks.setActive("comment_delete")}delete_comment(){if(!this.comment_to_delete){var e=Fr.defer();return e.reject(),e.promise}return Ir.delete(this.comment_to_delete.url).then(function(e,t){Ks.setActive(null),this.hashedComment===this.comment_to_delete&&(this.hashedComment=null),this.commentTable[this.comment_to_delete.id]&&(delete this.commentTable[this.comment_to_delete.id],this.comment_to_delete.deleted=!0,this.loadedCount--,this.commentCount--)}.bind(this),(function(e,t){console.log("Error deleting comment")}))}comment_reply(e){if(e){if(this.isNested)this.comment_text="@(".concat(e.author_name,") "),this.replyingTo=e.parent||e.id;else{this.comment_text+=e.author?"@(".concat(e.author_name,") wrote:\n"):"".concat(e.author_name," wrote:\n");for(let t of e.comment_text.split("\n"))this.comment_text+="> ".concat(t,"\n");this.comment_text+="\n"}Hr("post-comment"),document.getElementById("main-comment-entry").focus()}}processPostedComment(e){return this.comment_text="",this.commentPreview=null,this.loadRecentData().then((()=>{"undefined"!=typeof twttr&&twttr.widgets.load()}))}closePreview(){this.commentPreview=null}getPreview(){if(!this.validateComment()){var e=Fr.defer();return e.reject(),e.promise}return Ir.post(this.getURLData().url,this.newCommentData(!0)).then(function(e){var t=new Date;this.commentPreview=e.data,this.commentPreview.preview=!0,this.commentPreview.created_time=t,this.commentPreview.loadTime=t}.bind(this),So)}isRead(){return!1}}class Vg extends zg{constructor(e,t){super(e,t.comment_count,!0,t.new_comments_count),this.question=t,this.postCommentType=this.question.isLive?Fg.S:Fg.Q,this.viewCommentType=Fg.null,this.updatePostCommentTypes(),this.updateViewCommentTypes(),this.loadHashedComment()}submitComment(e){if(!this.validateComment(!0)){const e=Fr.defer();return e.reject(),e.promise}const t=this.newCommentData();return t.include_latest_prediction=e,Ir.post(this.getURLData().url,t).then((e=>this.processPostedComment(e.data)))}newCommentData(e){const t={question:this.question.id,comment_text:this.comment_text,submit_type:this.postCmtTypeId,parent:this.replyingTo};return e&&(t.preview=!0,t.submit_type=t.submit_type||"S"),t}getURLData(){return{url:"/api2/comments/",method:"GET",params:{question:this.question.id,order_by:"-created_time"}}}get filteredComments(){var e=this.viewCommentType&&this.viewCommentType.id;return this.commentList.filter((t=>{var n=t.parent==(this.hashedComment||{}).id?this.hashedComment:this.commentTable[t.parent];return(!e||e.indexOf(t.submit_type)>=0)&&!(this.isNested&&t.parent&&(this.isRead(t)||n&&!this.isRead(n)||t.author==To.id))}))}get postCmtTypeId(){return this.question.isDiscussionType?"S":this.postCommentType&&this.postCommentType.id}get commentPrompt(){return Ur.trustAsHtml(this.postCommentType.prompt)}get hasCommentPrompt(){return!!(this.postCommentType||{}).prompt}updatePostCommentTypes(e){e=e||0,this.postCommentTypeList=Ig.filter((t=>(!t.restrict||"post"===t.restrict)&&("U"===t.id?e>=2:"P"!==t.id||1==e)))}updateViewCommentTypes(){var e,t,n={};for(e=0;e<this.commentList.length;e++)n[this.commentList[e].submit_type]=!0;for(n.P_or_U=n.P||n.U,this.viewCommentTypeList=[],e=0;e<Ig.length;e++)(t=Ig[e]).restrict&&"view"!==t.restrict||t.id&&!n[t.id]||this.viewCommentTypeList.push(t)}processNewData(e){super.processNewData(e),this.updateViewCommentTypes()}validateComment(e){return e&&!this.postCmtTypeId?(this.submitError="Please select a comment category.",!1):super.validateComment()}processPostedComment(e){return"P"!==this.postCmtTypeId&&"U"!==this.postCmtTypeId||(this.postCommentType=Fg.S),this.updatePostCommentTypes(),super.processPostedComment(e)}updatePrediction(e){const t=this.question.my_predictions.length;e&&(Hr("comment-section"),document.getElementById("main-comment-entry").focus(),this.postCommentType=Fg.S),this.updatePostCommentTypes(t)}isRead(e){return this.question.last_read&&this.question.last_read>new Date(e.created_time)}}pi.directive("questionCommentSection",(function(){return{link:function(e){e.data=new Vg(window.metacData.initialCList,e.question),e.user=To,e.modals=Ks,e.$on("madePrediction",(function(t,n){e.shouldShowLatestPrediction=n.addComment,e.data.updatePrediction(n.addComment)})),e.$watch("data.postCmtTypeId",(function(){e.data.commentPreview&&(e.data.commentPreview.submit_type=e.data.postCmtTypeId)})),e.$on("$locationChangeSuccess",(function(){e.data.loadHashedComment().then((function(){Br((function(){Hr((window.location.hash||"#").substring(1))}))}))})),e.commentsOpen=!e.question||!e.question.isDiscussionType||!e.question.isClosed||e.question.has_perm("COMMENT_MOD"),e.shouldShowLatestPrediction=!1,e.setShouldShowLatestPrediction=t=>e.$apply((()=>e.shouldShowLatestPrediction=t)),e.submitComment=()=>{const t=e.data.submitComment(e.shouldShowLatestPrediction);return e.shouldShowLatestPrediction=!1,t}},template:Ag,restrict:"A",scope:{question:"="}}}));class Gg extends zg{constructor(e,t,n){super(e,t),this.newsid=n,this.loadHashedComment()}newCommentData(e){return{news_item:this.newsid,comment_text:this.comment_text,preview:!!e}}getURLData(){return{url:"/api2/news-comments/",method:"GET",params:{news_item:this.newsid,order_by:"-created_time"}}}}pi.directive("newsCommentSection",(function(){return{link:function(e){e.data=new Gg(window.metacData.initialCList,window.metacData.comment_count,window.metacData.news_item_id),e.user=To,e.modals=Ks,e.commentsOpen=!0},template:Ag,restrict:"A",scope:{}}}));class Qg extends zg{constructor(e,t,n){super(e,t),this.account_id=n,this.linkQuestion=!0,this.loadHashedComment()}getURLData(){return{url:"/api2/comments/",method:"GET",params:{author:this.account_id,order_by:"-created_time"}}}}function Wg(e,t){_i(2,arguments);var n=Si(e),i=Si(t),r=n.getTime()-i.getTime();return r<0?-1:r>0?1:r}function Yg(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Kg(e){return Yg({},e)}pi.directive("profileCommentSection",(function(){return{link:function(e){e.data=new Qg(window.metacData.initialCList,window.metacData.comment_count,window.metacData.accountData.user_id)},template:'<div id="comments" ng-if="data.commentList.length"> <h2 class="section-header">{{"commentsHeading" | translate}}</h2> <div class="section-header-details"> {{"commentsCount" | translate:({count: data.commentCount})}} </div> <question-comment ng-repeat="comment in data.filteredComments" comment="comment" ctrl="data" question="comment.question" show-q-title="true"></question-comment> <div class="comment--ellipsis" ng-if-start="data.hashedComment"></div> <question-comment ng-if-end comment="data.hashedComment" ctrl="data" question="data.hashedComment.question" show-q-title="true"></question-comment> <div class="button-row" ng-if="data.canLoadMore"> <ajax-button class="button is-secondary" submit="data.loadMoreData()">{{"loadMoreButton" | translate}}</ajax-button> </div> </div> <metac-modal class="resolve-modal" name="comment_delete"> <h4>{{"commentsDeleteCommentHeading" | translate}}</h4> <div class="resolve__help-text"> {{"commentsProfileDeleteConfirmation" | translate:({question: data.comment_to_delete.question.title })}} </div> <ajax-button class="btn _bright _centered _wide" submit="data.delete_comment()">{{"Yes" | translate}}</ajax-button> <button class="btn _bright _centered _wide" ng-click="modals.setActive(null)"> {{"No" | translate}} </button> <hr/> <p class="comment__delete-preview">{{data.comment_to_delete.comment_text}}</p> </metac-modal> ',restrict:"A",scope:{}}})),pi.directive("questionComment",(function(){return{template:'<div class="comment" id="comment-{{comment.id}}"> <h4 class="comment__qtitle" ng-if="showQTitle"> <a href="{{question.url}}#comment-{{comment.id}}">{{question.title}}</a> </h4> <div class="comment__header"> <div class="mr-12" cmap="level" cval="comment.author_lvl"> <svg icon-name="userCircles"></svg> </div> <div> <span class="comment__author__name"> <a href="/accounts/profile/{{ comment.author }}/" style="text-decoration:none"> <h4 class="mt-0 mb-0">{{ comment.author_name }}</h4> </a> <span ng-if="comment.author_supporter_lvl" class="dark ml-8"><span supporter-badge level="comment.author_supporter_lvl"></span></span> <span ng-if="comment.is_moderator && !comment.is_admin" class="ml-8"><svg icon-name="moderator"></svg></span> <span ng-if="comment.is_admin" class="ml-8"><svg icon-name="admin"></svg></span> </span> <span class="comment__date"> {{submit_type_string()}} {{comment_age()}} </span> </div> </div> <div ng-if="topLevel && comment.parent"> <em><a href="#comment-{{comment.parent}}">➞ {{"commentInReplyTo" | translate:({author: comment.parent_author})}}</a></em> </div> <div ng-if="isHidden()" class="hide-comment"> <latest-prediction-box ng-if="comment.latest_prediction || comment.prediction_value" username="comment.author_name" prediction="getLatestPrediction()" formatter="comment.predictionFormatter"></latest-prediction-box> <div class="comment__html content" ng-if="comment.comment_html && !isEditing" bind-html-math="get_html()"></div> <edit-comment-text ng-if="!isEditing" edits="comment.edits"></edit-comment-text> </div> <div ng-if="!isHidden()"> <latest-prediction-box ng-if="comment.latest_prediction || comment.prediction_value" username="comment.author_name" prediction="getLatestPrediction()" formatter="comment.predictionFormatter"></latest-prediction-box> <div class="comment__html content" ng-if="comment.comment_html && !isEditing" bind-html-math="get_html()"></div> <edit-comment-text ng-if="!isEditing" edits="comment.edits"></edit-comment-text> </div> <div class="comment__input" ng-if="isEditing"> <textarea class="" ng-model="comment.editText" ng-paste="expandEditor($event)" ng-keydown="expandEditor($event)" angular-tribute values="tribute"></textarea> <div class="comment_preview content" ng-if="editPreview" bind-html-math="editPreview"></div> <div class="comment__actions"> <a class="button is-secondary" ng-if="user.permissions[\'metac_question.delete_comment\']" ng-href="/admin/metac_question/comment/{{comment.id}}/">{{"adminEditButton" | translate}}</a> <ajax-button class="button is-secondary" submit="getEditPreview()" ng-if="!editPreview">{{"previewButton" | translate}}</ajax-button> <ajax-button class="button is-secondary" submit="getEditPreview()" ng-if="editPreview">{{"updatePreviewButton" | translate}}</ajax-button> <ajax-button class="button is-primary" submit="submitEdit()">{{"postButton" | translate}}</ajax-button> </div> </div> <div class="comment__icon-bar-wrapper" ng-if="!showQTitle || canEdit"> <div class="comment__icon-bar"> <div> <span class="small-margin metac-voter"> <svg icon-name="voteUp" class="action-icon" ng-class="{hasvoted: comment.user_like==1, disabled: user.id==comment.author}" ng-click="likeComment(1)"></svg> <span ng-if="comment.num_likes" ng-class="{\'font-bold\': comment.user_like}">{{comment.num_likes}}</span> <svg icon-name="voteDown" class="action-icon" ng-if="!comment.news_item && user.level>=2" ng-class="{hasvoted: comment.user_like==-1, disabled: user.id==comment.author}" ng-click="likeComment(-1)"></svg> </span> <span class="icon-button" ng-click="replyComment()" ng-if="!isEditing && !isReplying && canReply"> <svg icon-name="reply"></svg> <span>{{"replyButton" | translate}}</span> </span> <span class="icon-button" ng-if="isEditing || isReplying" ng-click="endEditing(); endReply()"> <svg icon-name="cancel"></svg> <span>{{"cancelButton" | translate}}</span> </span> </div> <context-menu icon="ellipsis" ng-if="!comment.deleted"> <li ng-click="editComment()" ng-if="canEdit && !(isEditing || isReplying)"> {{"editButton" | translate}} </li> <li ng-click="copyCommentLink()">{{"copyLinkButton" | translate}}</li> <li ng-click="ctrl.showReportModal(comment)" ng-if="user.isAuthenticated"> {{"reportButton" | translate}} </li> <li ng-click="ctrl.confirm_delete(comment)" ng-if="canDelete"> {{"deleteButton" | translate}} </li> </context-menu> </div> </div> <div class="comment__input" ng-if="isReplying"> <textarea ng-paste="expandEditor($event)" ng-keydown="expandEditor($event)" ng-model="replyData.comment_text" angular-tribute values="tribute"></textarea> <div class="comment_preview content" ng-if="replyPreview" bind-html-math="replyPreview" class="comment_preview"></div> <div class="comment__actions"> <ajax-button class="button is-secondary" submit="getReplyPreview()" ng-if="!replyPreview">{{"previewButton" | translate}}</ajax-button> <ajax-button class="button is-secondary" submit="getReplyPreview()" ng-if="replyPreview">{{"updatePreviewButton" | translate}}</ajax-button> <ajax-button class="button is-primary" submit="submitReply()">{{"postButton" | translate}}</ajax-button> </div> </div> <div ng-if="comment.children.length > 0" class="comment__replies"> <div class="comment__reply-toggle" toggle-details="comment.expandChildren" ng-if="comment.children.length > 0"> {{(comment.expandChildren ? \'Hide\' : \'Show\') | translate}} {{"replyWithCount" | translate:({count: comment.children.length})}} </div> <div class="comment__reply-toggle-line" ng-click="toggleReplies()"></div> <div class="comment__reply" ng-if="comment.expandChildren"> <question-comment ng-repeat="child in comment.children track by child.id" comment="child" question="question" ctrl="ctrl" comments-open="commentsOpen" tribute="tribute"></question-comment> </div> </div> </div> ',replace:!0,restrict:"E",scope:{comment:"=",question:"=",ctrl:"=",preview:"=",commentsOpen:"=",topLevel:"=",tribute:"=",showQTitle:"="},link:function(e,t){const n=e.question,i=n&&n.has_perm&&n.has_perm("COMMENT_MOD");e.user=To,e.canReply=To.id&&e.commentsOpen&&!e.comment.deleted,e.canEdit=(To.id&&e.commentsOpen&&To.id===e.comment.author||i)&&!e.comment.deleted,e.canDelete=i&&!e.comment.deleted,e.replyData={},e.expandEditor=Bg,e.contextMenuOpen=!1,e.getLatestPrediction=()=>{const t=e.comment,n=t.latest_prediction;return n?(!n.time&&n.t&&(t.latest_prediction.time=new Date(1e3*t.latest_prediction.t)),n):t.prediction_value},e.$watch("comment.question",(function(t){const n=e.comment;t&&t.possibilities&&(n.predictionFormatter=ba(t.possibilities))})),e.get_html=function(){let t=e.comment,n=t.comment_html;if(t.deleted)return'<p><em class="dark">'.concat(fe("commentsCommentDeleted"),"</em></p>");const i=n.match(Ng);if(i){const e=sf();n+='\n            <blockquote class="twitter-tweet" \n              data-dnt="true" data-theme="'.concat(e,'"\n              data-width="350" data-conversation="none">\n            <a href="').concat(i[0],'"></a> \n            </blockquote>')}return n},e.submit_type_string=function(){const t=e.comment,n=Fg[e.comment.submit_type];return t.parent?fe("replied"):fe((null==n?void 0:n.verb)||"commented")},e.likeComment=function(t){if(!e.user.isAuthenticated)return void Ks.setActive("welcome-modal");if(!e.comment.url)return;let n=e.comment.user_like||0;t=(t+n)*(n!=t),Ir.post(e.comment.url+"like/",{value:t}).then((function(t){e.comment.num_likes=t.data.num_likes,e.comment.user_like=t.data.user_like}))},e.comment_age=function(){return mo(e.comment.created_time,{now:e.comment.loadTime,short:!1,absPrefix:"on "})},e.editComment=function(){e.isEditing=!0,e.comment.editText=e.comment.comment_text,e.editPreview=null,setTimeout((()=>{e.expandEditor(t[0].querySelector("textarea"))}),1)},e.endEditing=function(){e.isEditing=!1,e.comment.editText=null,e.editPreview=null},e.replyComment=function(){if(e.ctrl.isNested){var t=e.comment;e.isReplying=!0,e.replyData={comment_text:"@("+t.author_name+")",parent:t.parent||t.id,question:t.question.id,submit_type:t.submit_type},e.editPreview=null}else e.ctrl.comment_reply(e.comment)},e.endReply=function(){e.isReplying=!1,e.replyData={},e.replyPreview=null},e.getEditPreview=function(){var t=e.comment.editText;return t?Ir.patch(e.comment.url,{comment_text:t,preview:!0}).then((function(t){e.editPreview=t.data.comment_html})):Fr.reject("Cannot submit an empty comment.")},e.hideEditPreview=function(){e.editPreview=null},e.getReplyPreview=function(){return e.replyData.comment_text?(e.replyData.preview=!0,Ir.post(e.ctrl.getURLData().url,e.replyData).then((function(t){e.replyPreview=t.data.comment_html}))):Fr.reject("Cannot submit an empty comment.")},e.hideReplyPreview=function(){e.replyPreview=null},e.isHidden=()=>Hg(e.comment),e.submitEdit=function(){var t=e.comment&&e.comment.editText;return t?Ir.patch(e.comment.url,{comment_text:t}).then((function(t){const n=t.data;e.comment.comment_text=n.comment_text,e.comment.comment_html=n.comment_html,e.comment.edits=n.edits,e.endEditing()})):Fr.reject("Cannot submit an empty comment.")},e.submitReply=function(){return e.replyData.comment_text?(e.replyData.preview=!1,Ir.post(e.ctrl.getURLData().url,e.replyData).then((t=>e.ctrl.processPostedComment(t.data))).then((()=>e.endReply()))):Fr.reject("Cannot submit an empty comment.")},e.toggleContextMenu=function(){e.contextMenuOpen=!e.contextMenuOpen},e.toggleReplies=function(){if(e.comment.expandChildren=!e.comment.expandChildren,!e.comment.expandChildren){var n=t[0].getElementsByClassName("comment__reply-toggle")[0];n.getBoundingClientRect().y<0&&n.scrollIntoView()}},e.copyCommentLink=function(){Dg(window.location.origin+e.question.page_url+"#comment-"+e.comment.id,"A link to the comment is now copied to your clipboard")}}}}));var Zg=6e4,Jg=1440,Xg=43200,ev=525600,tv={lessThanXSeconds:{one:{regular:"méně než sekunda",past:"před méně než sekundou",future:"za méně než sekundu"},few:{regular:"méně než {{count}} sekundy",past:"před méně než {{count}} sekundami",future:"za méně než {{count}} sekundy"},many:{regular:"méně než {{count}} sekund",past:"před méně než {{count}} sekundami",future:"za méně než {{count}} sekund"}},xSeconds:{one:{regular:"sekunda",past:"před sekundou",future:"za sekundu"},few:{regular:"{{count}} sekundy",past:"před {{count}} sekundami",future:"za {{count}} sekundy"},many:{regular:"{{count}} sekund",past:"před {{count}} sekundami",future:"za {{count}} sekund"}},halfAMinute:{type:"other",other:{regular:"půl minuty",past:"před půl minutou",future:"za půl minuty"}},lessThanXMinutes:{one:{regular:"méně než minuta",past:"před méně než minutou",future:"za méně než minutu"},few:{regular:"méně než {{count}} minuty",past:"před méně než {{count}} minutami",future:"za méně než {{count}} minuty"},many:{regular:"méně než {{count}} minut",past:"před méně než {{count}} minutami",future:"za méně než {{count}} minut"}},xMinutes:{one:{regular:"minuta",past:"před minutou",future:"za minutu"},few:{regular:"{{count}} minuty",past:"před {{count}} minutami",future:"za {{count}} minuty"},many:{regular:"{{count}} minut",past:"před {{count}} minutami",future:"za {{count}} minut"}},aboutXHours:{one:{regular:"přibližně hodina",past:"přibližně před hodinou",future:"přibližně za hodinu"},few:{regular:"přibližně {{count}} hodiny",past:"přibližně před {{count}} hodinami",future:"přibližně za {{count}} hodiny"},many:{regular:"přibližně {{count}} hodin",past:"přibližně před {{count}} hodinami",future:"přibližně za {{count}} hodin"}},xHours:{one:{regular:"hodina",past:"před hodinou",future:"za hodinu"},few:{regular:"{{count}} hodiny",past:"před {{count}} hodinami",future:"za {{count}} hodiny"},many:{regular:"{{count}} hodin",past:"před {{count}} hodinami",future:"za {{count}} hodin"}},xDays:{one:{regular:"den",past:"před dnem",future:"za den"},few:{regular:"{{count}} dny",past:"před {{count}} dny",future:"za {{count}} dny"},many:{regular:"{{count}} dní",past:"před {{count}} dny",future:"za {{count}} dní"}},aboutXWeeks:{one:{regular:"přibližně týden",past:"přibližně před týdnem",future:"přibližně za týden"},few:{regular:"přibližně {{count}} týdny",past:"přibližně před {{count}} týdny",future:"přibližně za {{count}} týdny"},many:{regular:"přibližně {{count}} týdnů",past:"přibližně před {{count}} týdny",future:"přibližně za {{count}} týdnů"}},xWeeks:{one:{regular:"týden",past:"před týdnem",future:"za týden"},few:{regular:"{{count}} týdny",past:"před {{count}} týdny",future:"za {{count}} týdny"},many:{regular:"{{count}} týdnů",past:"před {{count}} týdny",future:"za {{count}} týdnů"}},aboutXMonths:{one:{regular:"přibližně měsíc",past:"přibližně před měsícem",future:"přibližně za měsíc"},few:{regular:"přibližně {{count}} měsíce",past:"přibližně před {{count}} měsíci",future:"přibližně za {{count}} měsíce"},many:{regular:"přibližně {{count}} měsíců",past:"přibližně před {{count}} měsíci",future:"přibližně za {{count}} měsíců"}},xMonths:{one:{regular:"měsíc",past:"před měsícem",future:"za měsíc"},few:{regular:"{{count}} měsíce",past:"před {{count}} měsíci",future:"za {{count}} měsíce"},many:{regular:"{{count}} měsíců",past:"před {{count}} měsíci",future:"za {{count}} měsíců"}},aboutXYears:{one:{regular:"přibližně rok",past:"přibližně před rokem",future:"přibližně za rok"},few:{regular:"přibližně {{count}} roky",past:"přibližně před {{count}} roky",future:"přibližně za {{count}} roky"},many:{regular:"přibližně {{count}} roků",past:"přibližně před {{count}} roky",future:"přibližně za {{count}} roků"}},xYears:{one:{regular:"rok",past:"před rokem",future:"za rok"},few:{regular:"{{count}} roky",past:"před {{count}} roky",future:"za {{count}} roky"},many:{regular:"{{count}} roků",past:"před {{count}} roky",future:"za {{count}} roků"}},overXYears:{one:{regular:"více než rok",past:"před více než rokem",future:"za více než rok"},few:{regular:"více než {{count}} roky",past:"před více než {{count}} roky",future:"za více než {{count}} roky"},many:{regular:"více než {{count}} roků",past:"před více než {{count}} roky",future:"za více než {{count}} roků"}},almostXYears:{one:{regular:"skoro rok",past:"skoro před rokem",future:"skoro za rok"},few:{regular:"skoro {{count}} roky",past:"skoro před {{count}} roky",future:"skoro za {{count}} roky"},many:{regular:"skoro {{count}} roků",past:"skoro před {{count}} roky",future:"skoro za {{count}} roků"}}},nv={date:or({formats:{full:"EEEE, d. MMMM yyyy",long:"d. MMMM yyyy",medium:"d. M. yyyy",short:"dd.MM.yyyy"},defaultWidth:"full"}),time:or({formats:{full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:or({formats:{full:"{{date}} 'v' {{time}}",long:"{{date}} 'v' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},iv=["neděli","pondělí","úterý","středu","čtvrtek","pátek","sobotu"],rv={lastWeek:"'poslední' eeee 've' p",yesterday:"'včera v' p",today:"'dnes v' p",tomorrow:"'zítra v' p",nextWeek:function(e){var t=e.getUTCDay();return"'v "+iv[t]+" o' p"},other:"P"},ov={ordinalNumber:function(e,t){return Number(e)+"."},era:lr({values:{narrow:["př. n. l.","n. l."],abbreviated:["př. n. l.","n. l."],wide:["před naším letopočtem","našeho letopočtu"]},defaultWidth:"wide"}),quarter:lr({values:{narrow:["1","2","3","4"],abbreviated:["1. čtvrtletí","2. čtvrtletí","3. čtvrtletí","4. čtvrtletí"],wide:["1. čtvrtletí","2. čtvrtletí","3. čtvrtletí","4. čtvrtletí"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:lr({values:{narrow:["L","Ú","B","D","K","Č","Č","S","Z","Ř","L","P"],abbreviated:["led","úno","bře","dub","kvě","čvn","čvc","srp","zář","říj","lis","pro"],wide:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"]},defaultWidth:"wide",formattingValues:{narrow:["L","Ú","B","D","K","Č","Č","S","Z","Ř","L","P"],abbreviated:["led","úno","bře","dub","kvě","čvn","čvc","srp","zář","říj","lis","pro"],wide:["ledna","února","března","dubna","května","června","července","srpna","září","října","listopadu","prosince"]},defaultFormattingWidth:"wide"}),day:lr({values:{narrow:["ne","po","út","st","čt","pá","so"],short:["ne","po","út","st","čt","pá","so"],abbreviated:["ned","pon","úte","stř","čtv","pát","sob"],wide:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"]},defaultWidth:"wide"}),dayPeriod:lr({values:{narrow:{am:"dop.",pm:"odp.",midnight:"půlnoc",noon:"poledne",morning:"ráno",afternoon:"odpoledne",evening:"večer",night:"noc"},abbreviated:{am:"dop.",pm:"odp.",midnight:"půlnoc",noon:"poledne",morning:"ráno",afternoon:"odpoledne",evening:"večer",night:"noc"},wide:{am:"dopoledne",pm:"odpoledne",midnight:"půlnoc",noon:"poledne",morning:"ráno",afternoon:"odpoledne",evening:"večer",night:"noc"}},defaultWidth:"wide",formattingValues:{narrow:{am:"dop.",pm:"odp.",midnight:"půlnoc",noon:"poledne",morning:"ráno",afternoon:"odpoledne",evening:"večer",night:"noc"},abbreviated:{am:"dop.",pm:"odp.",midnight:"půlnoc",noon:"poledne",morning:"ráno",afternoon:"odpoledne",evening:"večer",night:"noc"},wide:{am:"dopoledne",pm:"odpoledne",midnight:"půlnoc",noon:"poledne",morning:"ráno",afternoon:"odpoledne",evening:"večer",night:"noc"}},defaultFormattingWidth:"wide"})},av={ordinalNumber:hr({matchPattern:/^(\d+)\.?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:cr({matchPatterns:{narrow:/^(p[řr](\.|ed) Kr\.|p[řr](\.|ed) n\. l\.|po Kr\.|n\. l\.)/i,abbreviated:/^(p[řr](\.|ed) Kr\.|p[řr](\.|ed) n\. l\.|po Kr\.|n\. l\.)/i,wide:/^(p[řr](\.|ed) Kristem|p[řr](\.|ed) na[šs][íi]m letopo[čc]tem|po Kristu|na[šs]eho letopo[čc]tu)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^p[řr]/i,/^(po|n)/i]},defaultParseWidth:"any"}),quarter:cr({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[1234]\. [čc]tvrtlet[íi]/i,wide:/^[1234]\. [čc]tvrtlet[íi]/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:cr({matchPatterns:{narrow:/^[lúubdkčcszřrlp]/i,abbreviated:/^(led|[úu]no|b[řr]e|dub|kv[ěe]|[čc]vn|[čc]vc|srp|z[áa][řr]|[řr][íi]j|lis|pro)/i,wide:/^(leden|ledna|[úu]nora?|b[řr]ezen|b[řr]ezna|duben|dubna|kv[ěe]ten|kv[ěe]tna|[čc]erven(ec|ce)?|[čc]ervna|srpen|srpna|z[áa][řr][íi]|[řr][íi]jen|[řr][íi]jna|listopad(a|u)?|prosinec|prosince)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^l/i,/^[úu]/i,/^b/i,/^d/i,/^k/i,/^[čc]/i,/^[čc]/i,/^s/i,/^z/i,/^[řr]/i,/^l/i,/^p/i],any:[/^led/i,/^[úu]n/i,/^b[řr]e/i,/^dub/i,/^kv[ěe]/i,/^[čc]vn|[čc]erven(?!\w)|[čc]ervna/i,/^[čc]vc|[čc]erven(ec|ce)/i,/^srp/i,/^z[áa][řr]/i,/^[řr][íi]j/i,/^lis/i,/^pro/i]},defaultParseWidth:"any"}),day:cr({matchPatterns:{narrow:/^[npuúsčps]/i,short:/^(ne|po|[úu]t|st|[čc]t|p[áa]|so)/i,abbreviated:/^(ned|pon|[úu]te|st[rř]|[čc]tv|p[áa]t|sob)/i,wide:/^(ned[ěe]le|pond[ěe]l[íi]|[úu]ter[ýy]|st[řr]eda|[čc]tvrtek|p[áa]tek|sobota)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^n/i,/^p/i,/^[úu]/i,/^s/i,/^[čc]/i,/^p/i,/^s/i],any:[/^ne/i,/^po/i,/^[úu]t/i,/^st/i,/^[čc]t/i,/^p[áa]/i,/^so/i]},defaultParseWidth:"any"}),dayPeriod:cr({matchPatterns:{any:/^dopoledne|dop\.?|odpoledne|odp\.?|p[ůu]lnoc|poledne|r[áa]no|odpoledne|ve[čc]er|(v )?noci?/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^dop/i,pm:/^odp/i,midnight:/^p[ůu]lnoc/i,noon:/^poledne/i,morning:/r[áa]no/i,afternoon:/odpoledne/i,evening:/ve[čc]er/i,night:/noc/i}},defaultParseWidth:"any"})},sv={code:"cs",formatDistance:function(e,t,n){var i,r=tv[e];i="other"===r.type?r.other:1===t?r.one:t>1&&t<5?r.few:r.many;var o=!0===(null==n?void 0:n.addSuffix),a=null==n?void 0:n.comparison;return(o&&-1===a?i.past:o&&1===a?i.future:i.regular).replace("{{count}}",String(t))},formatLong:nv,formatRelative:function(e,t){var n=rv[e];return"function"==typeof n?n(t):n},localize:ov,match:av,options:{weekStartsOn:1,firstWeekContainsDate:4}};function lv(e){return Ir.get("/api2/utils/check-celery-worker/",{params:{task_id:e}}).then((t=>!!t.data.success||Br((()=>lv(e)),200)),So)}class uv{static required(e){return e}static optional(e,t){return e||t}static date(e){return e&&new Date(e)}static obj(e){return e||{}}static arr(e){return e||[]}static num(e,t){return e||t||0}}var cv=n(5893);function dv(e){return e.isBinaryType?new _a:ba(e.possibilities)}class pv{constructor(e){this.fields={url:uv.required,page_url:uv.required,id:uv.required,title:uv.required,title_short:uv.required,description:uv.required,description_html:e=>Ur.trustAsHtml(e||""),author_name:uv.optional,status:uv.required,categories:uv.arr,resolution:uv.required,created_time:uv.date,publish_time:uv.date,close_time:uv.date,resolve_time:uv.date,possibilities:uv.obj,scoring:uv.obj,comment_count:uv.required,comment_count_snapshot:uv.num,last_read:uv.date,votes:uv.required,user_vote:uv.num,user_community_vis:uv.num,user_perms:uv.num,anon_prediction_count:uv.num,metaculus_prediction:uv.obj,community_prediction:uv.obj,user_predictions:uv.obj,number_of_predictions:uv.required,shared_with:uv.optional,type:uv.required,related_questions:uv.optional,closing_bonus:uv.num,group_label:uv.optional,sub_question_label:uv.optional,cp_hidden_period_ends_time:uv.date,cp_hidden_weight_coverage:uv.num,edit_form_data:uv.obj,condition:uv.optional,conditioned_on:uv.num,conditioned_on_resolution:uv.num,unconditional_question:uv.num},this.updateWithData(e)}updateWithData(e){for(var t in this.fields)this[t]=this.fields[t](e[t],this[t]);return Array.isArray(this.related_questions)&&this.related_questions.forEach(((e,t)=>{this.related_questions[t]=new pv(e)})),this.metaculus_prediction.history=Vo.clone(this.metaculus_prediction.history),this.community_prediction.history=Vo.clone(this.community_prediction.history),this.end_time=this.close_time<this.resolve_time?this.close_time:this.resolve_time,this.possibilities.labels="binary"===e.possibilities.type?[fe("no"),fe("yes")]:null,this.predictionFormatter=dv(this),e.my_predictions?(this.my_points_won=e.my_predictions.points_won,this.my_coverage=e.my_predictions.coverage?oo(e.my_predictions.coverage,5):null,this.my_log_score=e.my_predictions.log_score?oo(bi(e.my_predictions.log_score),5):null,this.my_predictions=Vo.clone(e.my_predictions.predictions,this.end_time),this.my_prediction_is_active=e.my_predictions.active):(this.my_points_won=this.my_points_won||null,this.my_predictions=this.my_predictions||[{time:new Date("1990"),void:!0}],this.my_prediction_is_active=!1),e.user_predictions&&(this.user_predictions=Vo.clone(e.user_predictions.predictions,this.end_time)),this.projects=e.projects,Vo.removeAlternateHistories(this.my_predictions),this.lastUpdated=Date.now(),this.scoreHistory=la.scoreHistory(this),this.new_comments_count=this.comment_count-(this.comment_count_snapshot||0),this.savedScores=null,this.isResolving=!1,this.isFortifiedEssay=!!e.projects&&e.projects.some((e=>"FE"==e.type)),this.resetPredictionInput(),this}resetPredictionInput(){if(this.isBinaryType){let e=this.playerPrediction(null,!0);this.predictionInput=e?e.x:e}else this.predictionInput=this.playerPrediction(null,!0)}reload(){return Ir.get(this.url).then(function(e){this.updateWithData(e.data)}.bind(this),So)}reaffirm(){return this.predict(this.predictionInput)}predict(e){e&&"binary"===this.possibilities.type&&(e=Math.round(1e3*e)/1e3);var t={prediction:e};return Ir.post(this.url+"predict/",t).then((e=>this.reload()))}canReaffirm(){return!!this.playerPrediction(null,!1,null)&&this.isOpen}lastUserPrediction(){return this.playerPrediction()}canClickPredict(){if(this.predictionInput)return!this.has_my_predictions||!!this.playerPrediction()&&!this.samePredictedValue()}samePredictedValue(){const e=this.playerPrediction();return!!e&&(this.isBinaryType?this.predictionInput===e.x:pg()(this.predictionInput.d,e.d))}resolve(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.isResolving=!0,Ir.post(this.url+"resolve/",{resolution:e,date:t,notifyPredictors:n}).then((e=>lv(e.data.task_id))).then(this.reload.bind(this)).finally((()=>{this.isResolving=!1}))}vote(e){return e=Math.min(1,Math.max(-1,+this.user_vote+e)),Ir.post(this.url+"vote/",{value:e}).then(function(e){this.votes=e.data.votes,this.user_vote=e.data.user_vote}.bind(this),So)}submit(){return this.patch({status:"I"})}accept(e){return this.patch({status:"A",publish_time:e})}reject(){return this.patch({status:"R"})}delete(){return this.patch({status:"D"})}patch(e){return Ir.patch(this.url,e).then((e=>this.updateWithData(e.data)),So)}fullDelete(){return Ir.delete(this.url).catch(So)}has_perm(e){return this.user_perms&&this.user_perms[e]}canChangeStatus(){return this.isFortifiedEssay?this.isDraft()?"CHANGE_DRAFT_STATUS":this.has_perm("CHANGE_ACTIVE_STATUS"):this.has_perm(this.isDraft()?"CHANGE_DRAFT_STATUS":this.isLive?"CHANGE_ACTIVE_STATUS":"CHANGE_PENDING_STATUS")}isDraft(){return"T"===this.status}isPrivate(){return"V"===this.status}isPending(){return"I"===this.status}isActive(){return"A"===this.status}showAuthor(){const e=window.metacData.user.id===this.author;return!(this.isNotebookType&&this.isPending()&&!e)}statusStr(){var e=new Date(this.publish_time),t=new Date(this.close_time),n=new Date;return this.isDiscussionType?"":this.isFortifiedEssay&&"I"===this.status?"Submitted":"A"!=this.status&&"V"!=this.status?{I:"Pending",R:"Deferred",D:"Deleted",T:"Draft"}[this.status]:this.isNotebookType?"":n<e?"Upcoming":e<=n&&n<=t&&null===this.resolution?"Open":null===this.resolution?"Closed":"Resolved"}statusSummary(){const e=new Date(this.publish_time),t=new Date(this.close_time),n=new Date(this.resolve_time),i=new Date;return"A"!==this.status&&"V"!==this.status?null:this.isDiscussionType?wg.FOR_DISCUSSION:i<e?wg.OPENS:e<=i&&i<=t&&i<=n?wg.CLOSES:n>i&&!this.isResolved?wg.RESOLVES:this.isResolved?wg.RESOLVED:wg.RESOLUTION_PENDING}get isLive(){var e=new Date(this.publish_time);return new Date>e&&("A"==this.status||"V"==this.status)}get isOpen(){var e=new Date(this.publish_time),t=new Date(this.close_time),n=new Date;return e<=n&&n<t&&null===this.resolution&&this.isLive}get isClosed(){var e=new Date(this.close_time),t=new Date(this.resolve_time),n=new Date;return n>e||n>t}get isHiddenPeriod(){return this.cp_hidden_period_ends_time<new Date}get isResolved(){return null!==this.resolution}get isBinaryType(){return"binary"===this.possibilities.type}get isContinuousType(){return"continuous"===this.possibilities.type}get isGroupType(){return"group"===this.type}get isConditionalGroupType(){return"conditional_group"===this.type}get isForecastType(){return"forecast"===this.type}get isDiscussionType(){return"discussion"===this.type}get isNotebookType(){return"notebook"===this.type}get isPublicFigureType(){return"claim"===this.type}get canHideCommunity(){var e=To.powers.hide_community_pred,t=this;return e&&e.active&&t.community_prediction.history.length>0&&0==t.metaculus_prediction.history.length&&t.isLive&&!t.isClosed&&"A"==t.status}get has_my_predictions(){return this.my_predictions.length>0&&!this.my_predictions[0].void}get communityIsHidden(){if(0===this.uniquePredictionCount())return!0;if(!this.canHideCommunity)return!1;switch(this.user_community_vis){case 1:return!1;case-1:return!0;default:return this.has_my_predictions?!To.showCPOnPred:!To.showCPOnOpen}}set communityIsHidden(e){var t=this.has_my_predictions?!To.showCPOnPred:!To.showCPOnOpen;this.user_community_vis=e==t?0:e?-1:1,Ir.post(this.url+"show-community/",{visibility:this.user_community_vis}).catch(So)}get canPurchaseMetacPred(){return"A"==this.status&&!this.isClosed&&!1===Boolean(this.getTournament())&&(To.powers.buy_metac_prediction||{}).active&&0==this.metaculus_prediction.history.length&&this.community_prediction.history.length>0}resolutionString(){return null===this.resolution?[{t:fe("pendingResolution")}]:this.predictionFormatter.formatResult(this.resolution)}hasRelatedQuestions(){return this.related_questions&&this.related_questions.length>0}relatedForecastsCountString(){if(!this.related_questions)return;let e=this.related_questions.length;return 0===e?"":e>1?e+" Forecasts":"1 Forecast"}categoryName(){var e=this.categories[0];return e&&e.short_name||"(none)"}communityPrediction(e){if(!this.communityIsHidden){var t=this.predictionStats(e);return t&&t.x1}}predictionDistribution(e){let t=this.predictionStats(e),n=!1;return t&&t.x1&&t.x2&&(n=Object.assign({num:t.nu},t.x1,t.x2)),n}predictionStats(e){return Vo.dataAtTime(this.community_prediction.history,e||Math.min(Date.now(),this.close_time,this.resolve_time))}playerPrediction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n=n||this.my_predictions;let i=Vo.dataAtTime(n,e||Math.min(Date.now(),this.close_time,this.resolve_time));return!i||i.void?null:(t&&(i=Object.assign({},i),delete i.time),i)}uniquePredictionCount(e){var t=this.predictionStats(e);return t&&t.nu||0}predictionCount(e){var t;if(null===(t=this.community_prediction.full)||void 0===t||!t.y||0===this.community_prediction.full.y.length)return this.number_of_predictions;var n=this.predictionStats(e);return n&&n.np||0}get authPredictionCount(){return this.predictionCount()-this.anon_prediction_count}predictionMean(e){if(!this.communityIsHidden){var t=this.predictionDistribution(e);return t&&t.avg}}predictionMedian(e){return this.communityPrediction(e)}metaculusPrediction(e){let t=Vo.dataAtTime(this.metaculus_prediction.history,e||Math.min(Date.now(),this.end_time));return t&&t.x}hasMetaculusPrediction(e){return Boolean(this.metaculusPrediction(e))}hasPlayerPrediction(e){return Boolean(this.playerPrediction(e))}resolvedEarly(){return this.resolve_time<this.close_time}hasTimelyPredictions(){return!(!(this.my_predictions.length>0&&this.my_predictions[0].time<this.close_time&&this.my_predictions[0].time<this.resolve_time)||this.my_predictions[0].void)}absoluteLogScoresForCategoricalPrediction(e){return la.absoluteCategoricalLogScores(e,this.possibilities)}brierScoresForCategoricalPrediction(e){return la.categoricalBrierScores(e,this.possibilities)}currentScoresForPrediction(e){const t=Boolean(this.closing_bonus);return la.scoresForPrediction(this.playerPrediction(),e,this.predictionDistribution(),this.possibilities,t)}availableScoresForPrediction(e){return la.scoreHistory(this,e).finalScores}displayPlayerPrediction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.playerPrediction(e,!1,t);return this.predictionFormatter.formatFullPrediction(n)}displayCommunityPrediction(e,t){if(this.communityIsHidden)return[{t:"?"}];let n=this.communityPrediction(e);return this.predictionFormatter.formatCommunityPrediction(n,t)}displayMetaculusPrediction(e,t){let n=this.metaculusPrediction(e);return this.predictionFormatter.formatMetaculusPrediction(n,t)}lowPoints(){var e,t=this.scoreHistory.finalScores;return t.length?2==t.length?e=t[0]:(e=Math.min.apply(Math,t),this.possibilities.low&&(e=Math.min(e,t.low)),this.possibilities.high&&(e=Math.min(e,t.high))):e=0,e}highPoints(){var e,t=this.scoreHistory.finalScores;return t.length?2==t.length?e=t[1]:(e=Math.max.apply(Math,t),this.possibilities.low&&(e=Math.max(e,t.low)),this.possibilities.high&&(e=Math.max(e,t.high))):e=0,e}getTournament(){return this.projects?this.projects.find((e=>"TO"===e.type)):null}commentStr(){const e={count:Math.max(this.new_comments_count,0),formattedCount:oo(this.new_comments_count,2,0)};return To.isAuthenticated?fe("unreadWithCount",e):fe("commentsWithCount",e)}estimateReadingTime(){return this.possibilities.words?Math.ceil(this.possibilities.words/225):null}boost(e){return Ir.post(this.url+"boost/",{value:e}).then((e=>{wo.addMessage({html:e.data.message})}),So)}}class hv extends pv{constructor(e){super(e)}updateWithData(e){Object.assign(this.fields,{sub_questions:uv.optional}),super.updateWithData(e),Array.isArray(this.sub_questions)&&(this.sub_questions.forEach(((e,t)=>{this.sub_questions[t]=new pv(e),this.sub_questions[t].isSubQuestion=!0,this.sub_questions[t].status=this.status,this.sub_questions[t].projects=this.projects})),this.sub_questions=this.sub_questions.sort(((e,t)=>e.close_time-t.close_time||e.id-t.id))),this.hasFanGraph=e.has_fan_graph}allSubQuestionsNumeric(){return this.sub_questions.every((e=>"continuous"==e.possibilities.type&&"num"==e.possibilities.format))}accept(e){const t={status:"A",publish_time:e};return this.isGroupType&&(t.sub_questions=this.sub_questions.map((t=>({id:t.id,publish_time:t.publish_time<e?e:t.publish_time})))),this.patch(t)}predictWithFilter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=this.sub_questions.filter(e).map((e=>({prediction:e.predictionInput,question_id:e.id})));return Ir.post("/api2/questions/bulk-predict/",t).then((e=>this.reload()))}reaffirm(){return this.predictWithFilter((e=>e.canReaffirm()))}predict(){return this.predictWithFilter((e=>e.canClickPredict()))}canPredictCount(){return this.sub_questions.filter((e=>e.canClickPredict())).length}canReaffirmCount(){return this.sub_questions.filter((e=>e.canReaffirm())).length}canReaffirm(){return this.sub_questions.some((e=>e.canReaffirm()))}lastUserPrediction(){const e=this.sub_questions.filter((e=>!!e.playerPrediction())).map((e=>e.playerPrediction())).sort(((e,t)=>new Date(e.time)-new Date(t.time)));return e.length>0?e[0]:null}hasCommunityPrediction(){return this.sub_questions.some((e=>e.communityPrediction()))}}function fv(e){function t(e,t){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.message=e,this.code=t}return t.prototype=new Error,t.prototype.name=e,t.prototype.constructor=t,t}const mv=fv("LaunchDarklyUnexpectedResponseError"),gv=fv("LaunchDarklyInvalidEnvironmentIdError"),vv=fv("LaunchDarklyInvalidUserError"),yv=fv("LaunchDarklyInvalidEventKeyError"),bv=fv("LaunchDarklyInvalidArgumentError"),wv=fv("LaunchDarklyFlagFetchError");for(var _v={LDUnexpectedResponseError:mv,LDInvalidEnvironmentIdError:gv,LDInvalidUserError:vv,LDInvalidEventKeyError:yv,LDInvalidArgumentError:bv,LDInvalidDataError:fv("LaunchDarklyInvalidDataError"),LDFlagFetchError:wv,isHttpErrorRecoverable:function(e){return!(e>=400&&e<500)||400===e||408===e||429===e}},xv=[],Cv=[],kv=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Sv=0,Tv=kv.length;Sv<Tv;++Sv)xv[Sv]=kv[Sv],Cv[kv.charCodeAt(Sv)]=Sv;function Ev(e,t,n){for(var i,r,o=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(xv[(r=i)>>18&63]+xv[r>>12&63]+xv[r>>6&63]+xv[63&r]);return o.join("")}Cv["-".charCodeAt(0)]=62,Cv["_".charCodeAt(0)]=63;var Pv=Array.isArray,Ov=Object.keys,qv=Object.prototype.hasOwnProperty,$v=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var i,r,o,a=Pv(t),s=Pv(n);if(a&&s){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(a!=s)return!1;var l=t instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return t.getTime()==n.getTime();var c=t instanceof RegExp,d=n instanceof RegExp;if(c!=d)return!1;if(c&&d)return t.toString()==n.toString();var p=Ov(t);if((r=p.length)!==Ov(n).length)return!1;for(i=r;0!=i--;)if(!qv.call(n,p[i]))return!1;for(i=r;0!=i--;)if(!e(t[o=p[i]],n[o]))return!1;return!0}return t!=t&&n!=n};const Mv=["key","ip","country","email","firstName","lastName","avatar","name"];function Lv(e){return function(e){for(var t,n=e.length,i=n%3,r=[],o=16383,a=0,s=n-i;a<s;a+=o)r.push(Ev(e,a,a+o>s?s:a+o));return 1===i?(t=e[n-1],r.push(xv[t>>2]+xv[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],r.push(xv[t>>10]+xv[t>>4&63]+xv[t<<2&63]+"=")),r.join("")}(function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}(unescape(encodeURIComponent(e))))}function jv(e){return Lv(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Av(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Dv,Nv={appendUrlPath:function(e,t){return(e.endsWith("/")?e.substring(0,e.length-1):e)+(t.startsWith("/")?"":"/")+t},base64URLEncode:jv,btoa:Lv,chunkEventsForUrl:function(e,t){const n=t.slice(0),i=[];let r,o=e;for(;n.length>0;){for(r=[];o>0;){const e=n.shift();if(!e)break;o-=jv(JSON.stringify(e)).length,o<0&&r.length>0?n.unshift(e):r.push(e)}o=e,i.push(r)}return i},clone:function(e){return JSON.parse(JSON.stringify(e))},deepEquals:function(e,t){return $v(e,t)},extend:function(...e){return e.reduce(((e,t)=>({...e,...t})),{})},getLDUserAgentString:function(e){const t=e.version||"?";return e.userAgent+"/"+t},objectHasOwnProperty:Av,onNextTick:function(e){setTimeout(e,0)},sanitizeContext:function(e){if(!e)return e;let t;return null!==e.kind&&void 0!==e.kind||Mv.forEach((n=>{const i=e[n];void 0!==i&&"string"!=typeof i&&(t=t||{...e},t[n]=String(i))})),t||e},transformValuesToVersionedValues:function(e){const t={};for(const n in e)Av(e,n)&&(t[n]={value:e[n],version:0});return t},transformVersionedValuesToValues:function(e){const t={};for(const n in e)Av(e,n)&&(t[n]=e[n].value);return t},wrapPromiseCallback:function(e,t){const n=e.then((e=>(t&&setTimeout((()=>{t(null,e)}),0),e)),(e=>{if(!t)return Promise.reject(e);setTimeout((()=>{t(e,null)}),0)}));return t?void 0:n}},Rv=new Uint8Array(16);function Iv(){if(!Dv&&!(Dv="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dv(Rv)}var Fv=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Uv(e){return"string"==typeof e&&Fv.test(e)}for(var Bv,Hv,zv=[],Vv=0;Vv<256;++Vv)zv.push((Vv+256).toString(16).substr(1));function Gv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(zv[e[t+0]]+zv[e[t+1]]+zv[e[t+2]]+zv[e[t+3]]+"-"+zv[e[t+4]]+zv[e[t+5]]+"-"+zv[e[t+6]]+zv[e[t+7]]+"-"+zv[e[t+8]]+zv[e[t+9]]+"-"+zv[e[t+10]]+zv[e[t+11]]+zv[e[t+12]]+zv[e[t+13]]+zv[e[t+14]]+zv[e[t+15]]).toLowerCase();if(!Uv(n))throw TypeError("Stringified UUID is invalid");return n}var Qv=0,Wv=0;function Yv(e){if(!Uv(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function Kv(e,t,n){function i(e,i,r,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof i&&(i=Yv(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(i),a.set(e,i.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,r){o=o||0;for(var s=0;s<16;++s)r[o+s]=a[s];return r}return Gv(a)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}function Zv(e){return 14+(e+64>>>9<<4)+1}function Jv(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function Xv(e,t,n,i,r,o){return Jv((a=Jv(Jv(t,e),Jv(i,o)))<<(s=r)|a>>>32-s,n);var a,s}function ey(e,t,n,i,r,o,a){return Xv(t&n|~t&i,e,t,r,o,a)}function ty(e,t,n,i,r,o,a){return Xv(t&i|n&~i,e,t,r,o,a)}function ny(e,t,n,i,r,o,a){return Xv(t^n^i,e,t,r,o,a)}function iy(e,t,n,i,r,o,a){return Xv(n^(t|~i),e,t,r,o,a)}var ry=Kv("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,i="0123456789abcdef",r=0;r<n;r+=8){var o=e[r>>5]>>>r%32&255,a=parseInt(i.charAt(o>>>4&15)+i.charAt(15&o),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[Zv(t)-1]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,l=i,u=r,c=o;n=ey(n,i,r,o,e[a],7,-680876936),o=ey(o,n,i,r,e[a+1],12,-389564586),r=ey(r,o,n,i,e[a+2],17,606105819),i=ey(i,r,o,n,e[a+3],22,-1044525330),n=ey(n,i,r,o,e[a+4],7,-176418897),o=ey(o,n,i,r,e[a+5],12,1200080426),r=ey(r,o,n,i,e[a+6],17,-1473231341),i=ey(i,r,o,n,e[a+7],22,-45705983),n=ey(n,i,r,o,e[a+8],7,1770035416),o=ey(o,n,i,r,e[a+9],12,-1958414417),r=ey(r,o,n,i,e[a+10],17,-42063),i=ey(i,r,o,n,e[a+11],22,-1990404162),n=ey(n,i,r,o,e[a+12],7,1804603682),o=ey(o,n,i,r,e[a+13],12,-40341101),r=ey(r,o,n,i,e[a+14],17,-1502002290),n=ty(n,i=ey(i,r,o,n,e[a+15],22,1236535329),r,o,e[a+1],5,-165796510),o=ty(o,n,i,r,e[a+6],9,-1069501632),r=ty(r,o,n,i,e[a+11],14,643717713),i=ty(i,r,o,n,e[a],20,-373897302),n=ty(n,i,r,o,e[a+5],5,-701558691),o=ty(o,n,i,r,e[a+10],9,38016083),r=ty(r,o,n,i,e[a+15],14,-660478335),i=ty(i,r,o,n,e[a+4],20,-405537848),n=ty(n,i,r,o,e[a+9],5,568446438),o=ty(o,n,i,r,e[a+14],9,-1019803690),r=ty(r,o,n,i,e[a+3],14,-187363961),i=ty(i,r,o,n,e[a+8],20,1163531501),n=ty(n,i,r,o,e[a+13],5,-1444681467),o=ty(o,n,i,r,e[a+2],9,-51403784),r=ty(r,o,n,i,e[a+7],14,1735328473),n=ny(n,i=ty(i,r,o,n,e[a+12],20,-1926607734),r,o,e[a+5],4,-378558),o=ny(o,n,i,r,e[a+8],11,-2022574463),r=ny(r,o,n,i,e[a+11],16,1839030562),i=ny(i,r,o,n,e[a+14],23,-35309556),n=ny(n,i,r,o,e[a+1],4,-1530992060),o=ny(o,n,i,r,e[a+4],11,1272893353),r=ny(r,o,n,i,e[a+7],16,-155497632),i=ny(i,r,o,n,e[a+10],23,-1094730640),n=ny(n,i,r,o,e[a+13],4,681279174),o=ny(o,n,i,r,e[a],11,-358537222),r=ny(r,o,n,i,e[a+3],16,-722521979),i=ny(i,r,o,n,e[a+6],23,76029189),n=ny(n,i,r,o,e[a+9],4,-640364487),o=ny(o,n,i,r,e[a+12],11,-421815835),r=ny(r,o,n,i,e[a+15],16,530742520),n=iy(n,i=ny(i,r,o,n,e[a+2],23,-995338651),r,o,e[a],6,-198630844),o=iy(o,n,i,r,e[a+7],10,1126891415),r=iy(r,o,n,i,e[a+14],15,-1416354905),i=iy(i,r,o,n,e[a+5],21,-57434055),n=iy(n,i,r,o,e[a+12],6,1700485571),o=iy(o,n,i,r,e[a+3],10,-1894986606),r=iy(r,o,n,i,e[a+10],15,-1051523),i=iy(i,r,o,n,e[a+1],21,-2054922799),n=iy(n,i,r,o,e[a+8],6,1873313359),o=iy(o,n,i,r,e[a+15],10,-30611744),r=iy(r,o,n,i,e[a+6],15,-1560198380),i=iy(i,r,o,n,e[a+13],21,1309151649),n=iy(n,i,r,o,e[a+4],6,-145523070),o=iy(o,n,i,r,e[a+11],10,-1120210379),r=iy(r,o,n,i,e[a+2],15,718787259),i=iy(i,r,o,n,e[a+9],21,-343485551),n=Jv(n,s),i=Jv(i,l),r=Jv(r,u),o=Jv(o,c)}return[n,i,r,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(Zv(t)),i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))})),oy=ry;function ay(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:case 3:return t^n^i;case 2:return t&n^t&i^n&i}}function sy(e,t){return e<<t|e>>>32-t}var ly=Kv("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var r=0;r<i.length;++r)e.push(i.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a),l=0;l<a;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=e[64*l+4*c]<<24|e[64*l+4*c+1]<<16|e[64*l+4*c+2]<<8|e[64*l+4*c+3];s[l]=u}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<a;++d){for(var p=new Uint32Array(80),h=0;h<16;++h)p[h]=s[d][h];for(var f=16;f<80;++f)p[f]=sy(p[f-3]^p[f-8]^p[f-14]^p[f-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],b=n[4],w=0;w<80;++w){var _=Math.floor(w/20),x=sy(m,5)+ay(_,g,v,y)+b+t[_]+p[w]>>>0;b=y,y=v,v=sy(g,30)>>>0,g=m,m=x}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),uy=ly,cy=Object.freeze({__proto__:null,v1:function(e,t,n){var i=t&&n||0,r=t||new Array(16),o=(e=e||{}).node||Bv,a=void 0!==e.clockseq?e.clockseq:Hv;if(null==o||null==a){var s=e.random||(e.rng||Iv)();null==o&&(o=Bv=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=Hv=16383&(s[6]<<8|s[7]))}var l=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:Wv+1,c=l-Qv+(u-Wv)/1e4;if(c<0&&void 0===e.clockseq&&(a=a+1&16383),(c<0||l>Qv)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Qv=l,Wv=u,Hv=a;var d=(1e4*(268435455&(l+=122192928e5))+u)%4294967296;r[i++]=d>>>24&255,r[i++]=d>>>16&255,r[i++]=d>>>8&255,r[i++]=255&d;var p=l/4294967296*1e4&268435455;r[i++]=p>>>8&255,r[i++]=255&p,r[i++]=p>>>24&15|16,r[i++]=p>>>16&255,r[i++]=a>>>8|128,r[i++]=255&a;for(var h=0;h<6;++h)r[i+h]=o[h];return t||Gv(r)},v3:oy,v4:function(e,t,n){var i=(e=e||{}).random||(e.rng||Iv)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return Gv(i)},v5:uy,NIL:"00000000-0000-0000-0000-000000000000",version:function(e){if(!Uv(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)},validate:Uv,stringify:Gv,parse:Yv});const dy=["debug","info","warn","error","none"];var py={commonBasicLogger:function(e,t){if(e&&e.destination&&"function"!=typeof e.destination)throw new Error("destination for basicLogger was set to a non-function");function n(e){return function(t){console&&console[e]&&console[e].call(console,t)}}const i=e&&e.destination?[e.destination,e.destination,e.destination,e.destination]:[n("log"),n("info"),n("warn"),n("error")],r=!(!e||!e.destination),o=e&&void 0!==e.prefix&&null!==e.prefix?e.prefix:"[LaunchDarkly] ";let a=1;if(e&&e.level)for(let t=0;t<dy.length;t++)dy[t]===e.level&&(a=t);function s(e,n,a){if(a.length<1)return;let s;const l=r?n+": "+o:o;if(1!==a.length&&t){const e=[...a];e[0]=l+e[0],s=t(...e)}else s=l+a[0];try{i[e](s)}catch(e){console&&console.log&&console.log("[LaunchDarkly] Configured logger's "+n+" method threw an exception: "+e)}}const l={};for(let e=0;e<dy.length;e++){const t=dy[e];if("none"!==t)if(e<a)l[t]=()=>{};else{const n=e;l[t]=function(){s(n,t,arguments)}}}return l},validateLogger:function(e){dy.forEach((t=>{if("none"!==t&&(!e[t]||"function"!=typeof e[t]))throw new Error("Provided logger instance must support logger."+t+"(...) method")}))}};function hy(e){return e&&e.message?e.message:"string"==typeof e||e instanceof String?e:JSON.stringify(e)}const fy=" Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initializing-the-client for instructions on SDK initialization.";var my={bootstrapInvalid:function(){return"LaunchDarkly bootstrap data is not available because the back end could not read the flags."},bootstrapOldFormat:function(){return"LaunchDarkly client was initialized with bootstrap data that did not include flag metadata. Events may not be sent correctly."+fy},clientInitialized:function(){return"LaunchDarkly client initialized"},clientNotReady:function(){return"LaunchDarkly client is not ready"},debugEnqueueingEvent:function(e){return'enqueueing "'+e+'" event'},debugPostingDiagnosticEvent:function(e){return"sending diagnostic event ("+e.kind+")"},debugPostingEvents:function(e){return"sending "+e+" events"},debugStreamDelete:function(e){return'received streaming deletion for flag "'+e+'"'},debugStreamDeleteIgnored:function(e){return'received streaming deletion for flag "'+e+'" but ignored due to version check'},debugStreamPatch:function(e){return'received streaming update for flag "'+e+'"'},debugStreamPatchIgnored:function(e){return'received streaming update for flag "'+e+'" but ignored due to version check'},debugStreamPing:function(){return"received ping message from stream"},debugPolling:function(e){return"polling for feature flags at "+e},debugStreamPut:function(){return"received streaming update for all flags"},deprecated:function(e,t){return t?'"'+e+'" is deprecated, please use "'+t+'"':'"'+e+'" is deprecated'},environmentNotFound:function(){return"Environment not found. Double check that you specified a valid environment/client-side ID."+fy},environmentNotSpecified:function(){return"No environment/client-side ID was specified."+fy},errorFetchingFlags:function(e){return"Error fetching flag settings: "+hy(e)},eventCapacityExceeded:function(){return"Exceeded event queue capacity. Increase capacity to avoid dropping events."},eventWithoutContext:function(){return"Be sure to call `identify` in the LaunchDarkly client: https://docs.launchdarkly.com/sdk/features/identify#javascript"},httpErrorMessage:function(e,t,n){return"Received error "+e+(401===e?" (invalid SDK key)":"")+" for "+t+" - "+(_v.isHttpErrorRecoverable(e)?n:"giving up permanently")},httpUnavailable:function(){return"Cannot make HTTP requests in this environment."+fy},identifyDisabled:function(){return"identify() has no effect here; it must be called on the main client instance"},inspectorMethodError:(e,t)=>`an inspector: "${t}" of type: "${e}" generated an exception`,invalidContentType:function(e){return'Expected application/json content type but got "'+e+'"'},invalidData:function(){return"Invalid data received from LaunchDarkly; connection may have been interrupted"},invalidInspector:(e,t)=>`an inspector: "${t}" of an invalid type (${e}) was configured`,invalidKey:function(){return"Event key must be a string"},invalidContext:function(){return"Invalid context specified."+fy},invalidTagValue:e=>`Config option "${e}" must only contain letters, numbers, ., _ or -.`,localStorageUnavailable:function(e){return"local storage is unavailable: "+hy(e)},networkError:e=>"network error"+(e?" ("+e+")":""),optionBelowMinimum:(e,t,n)=>'Config option "'+e+'" was set to '+t+", changing to minimum value of "+n,streamClosing:function(){return"Closing stream connection"},streamConnecting:function(e){return"Opening stream connection to "+e},streamError:function(e,t){return"Error on stream connection: "+hy(e)+", will continue retrying after "+t+" milliseconds."},tagValueTooLong:e=>`Value of "${e}" was longer than 64 characters and was discarded.`,unknownCustomEventKey:function(e){return'Custom event "'+e+'" does not exist'},unknownOption:e=>'Ignoring unknown config option "'+e+'"',contextNotSpecified:function(){return"No context specified."+fy},unrecoverableStreamError:e=>`Error on stream connection ${hy(e)}, giving up permanently`,wrongOptionType:(e,t,n)=>'Config option "'+e+'" should be of type '+t+", got "+n+", using default value",wrongOptionTypeBoolean:(e,t)=>'Config option "'+e+'" should be a boolean, got '+t+", converting to boolean"};const{validateLogger:gy}=py,vy={baseUrl:{default:"https://app.launchdarkly.com"},streamUrl:{default:"https://clientstream.launchdarkly.com"},eventsUrl:{default:"https://events.launchdarkly.com"},sendEvents:{default:!0},streaming:{type:"boolean"},sendLDHeaders:{default:!0},requestHeaderTransform:{type:"function"},sendEventsOnlyForVariation:{default:!1},useReport:{default:!1},evaluationReasons:{default:!1},eventCapacity:{default:100,minimum:1},flushInterval:{default:2e3,minimum:2e3},samplingInterval:{default:0,minimum:0},streamReconnectDelay:{default:1e3,minimum:0},allAttributesPrivate:{default:!1},privateAttributes:{default:[]},bootstrap:{type:"string|object"},diagnosticRecordingInterval:{default:9e5,minimum:2e3},diagnosticOptOut:{default:!1},wrapperName:{type:"string"},wrapperVersion:{type:"string"},stateProvider:{type:"object"},application:{validator:function(e,t,n){const i={};return t.id&&(i.id=wy(`${e}.id`,t.id,n)),t.version&&(i.version=wy(`${e}.version`,t.version,n)),i}},inspectors:{default:[]}},yy=/^(\w|\.|-)+$/;function by(e){return e?.replace(/\/+$/,"")}function wy(e,t,n){if("string"==typeof t&&t.match(yy)){if(!(t.length>64))return t;n.warn(my.tagValueTooLong(e))}else n.warn(my.invalidTagValue(e))}var _y={baseOptionDefs:vy,validate:function(e,t,n,i){const r=Nv.extend({logger:{default:i}},vy,n),o={};function a(e){Nv.onNextTick((()=>{t&&t.maybeReportError(new _v.LDInvalidArgumentError(e))}))}let s=Nv.extend({},e||{});return function(e){const t=e;Object.keys(o).forEach((e=>{if(void 0!==t[e]){const n=o[e];i&&i.warn(my.deprecated(e,n)),n&&(void 0===t[n]&&(t[n]=t[e]),delete t[e])}}))}(s),s=function(e){const t=Nv.extend({},e);return Object.keys(r).forEach((e=>{void 0!==t[e]&&null!==t[e]||(t[e]=r[e]&&r[e].default)})),t}(s),s=function(e){const t=Nv.extend({},e),n=e=>{if(null===e)return"any";if(void 0===e)return;if(Array.isArray(e))return"array";const t=typeof e;return"boolean"===t||"string"===t||"number"===t||"function"===t?t:"object"};return Object.keys(e).forEach((o=>{const s=e[o];if(null!=s){const l=r[o];if(void 0===l)a(my.unknownOption(o));else{const r=l.type||n(l.default),u=l.validator;if(u){const n=u(o,e[o],i);void 0!==n?t[o]=n:delete t[o]}else if("any"!==r){const e=r.split("|"),i=n(s);e.indexOf(i)<0?"boolean"===r?(t[o]=!!s,a(my.wrongOptionTypeBoolean(o,i))):(a(my.wrongOptionType(o,r,i)),t[o]=l.default):"number"===i&&void 0!==l.minimum&&s<l.minimum&&(a(my.optionBelowMinimum(o,s,l.minimum)),t[o]=l.minimum)}}}})),t.baseUrl=by(t.baseUrl),t.streamUrl=by(t.streamUrl),t.eventsUrl=by(t.eventsUrl),t}(s),gy(s.logger),s},getTags:function(e){const t={};return e&&(e.application&&void 0!==e.application.id&&null!==e.application.id&&(t["application-id"]=[e.application.id]),e.application&&void 0!==e.application.version&&null!==e.application.id&&(t["application-version"]=[e.application.version])),t}};const{getLDUserAgentString:xy}=Nv;var Cy={getLDHeaders:function(e,t){if(t&&!t.sendLDHeaders)return{};const n={};n[e.userAgentHeaderName||"User-Agent"]=xy(e),t&&t.wrapperName&&(n["X-LaunchDarkly-Wrapper"]=t.wrapperVersion?t.wrapperName+"/"+t.wrapperVersion:t.wrapperName);const i=_y.getTags(t),r=Object.keys(i);return r.length&&(n["x-launchdarkly-tags"]=r.sort().map((e=>Array.isArray(i[e])?i[e].sort().map((t=>`${e}/${t}`)):[`${e}/${i[e]}`])).reduce(((e,t)=>e.concat(t)),[]).join(" ")),n},transformHeaders:function(e,t){return t&&t.requestHeaderTransform?t.requestHeaderTransform({...e}):e}};const{v1:ky}=cy,{getLDHeaders:Sy,transformHeaders:Ty}=Cy;var Ey=function(e,t,n){const i="/a/"+t+".gif",r=Nv.extend({"Content-Type":"application/json"},Sy(e,n)),o=e.httpFallbackPing,a={sendChunk:(t,a,s,l)=>{const u=JSON.stringify(t),c=s?null:ky();return l?function t(i){const o=s?r:Nv.extend({},r,{"X-LaunchDarkly-Event-Schema":"4","X-LaunchDarkly-Payload-ID":c});return e.httpRequest("POST",a,Ty(o,n),u).promise.then((e=>{if(e)return e.status>=400&&_v.isHttpErrorRecoverable(e.status)&&i?t(!1):function(e){const t={status:e.status},n=e.header("date");if(n){const e=Date.parse(n);e&&(t.serverTime=e)}return t}(e)})).catch((()=>i?t(!1):Promise.reject()))}(!0).catch((()=>{})):(o&&o(a+i+"?d="+Nv.base64URLEncode(u)),Promise.resolve())},sendEvents:function(t,n,i){if(!e.httpRequest)return Promise.resolve();const r=e.httpAllowsPost();let o;o=r?[t]:Nv.chunkEventsForUrl(2e3-n.length,t);const s=[];for(let e=0;e<o.length;e++)s.push(a.sendChunk(o[e],n,i,r));return Promise.all(s)}};return a};const{commonBasicLogger:Py}=py;function Oy(e){return"string"==typeof e&&"kind"!==e&&e.match(/^(\w|\.|-)+$/)}function qy(e){return e.includes("%")||e.includes(":")?e.replace(/%/g,"%25").replace(/:/g,"%3A"):e}var $y={checkContext:function(e,t){if(e){if(t&&(void 0===e.kind||null===e.kind))return void 0!==e.key&&null!==e.key;const n=e.key,i=void 0===e.kind?"user":e.kind,r=Oy(i),o="multi"===i||null!=n&&""!==n;if("multi"===i){const t=Object.keys(e).filter((e=>"kind"!==e));return o&&t.every((e=>Oy(e)))&&t.every((t=>{const n=e[t].key;return null!=n&&""!==n}))}return o&&r}return!1},getContextKeys:function(e,t=Py()){if(!e)return;const n={},{kind:i,key:r}=e;switch(i){case void 0:n.user=`${r}`;break;case"multi":Object.entries(e).filter((([e])=>"kind"!==e)).forEach((([e,t])=>{t?.key&&(n[e]=t.key)}));break;case null:t.warn(`null is not a valid context kind: ${e}`);break;case"":t.warn(`'' is not a valid context kind: ${e}`);break;default:n[i]=`${r}`}return n},getContextKinds:function(e){return e?null===e.kind||void 0===e.kind?["user"]:"multi"!==e.kind?[e.kind]:Object.keys(e).filter((e=>"kind"!==e)):[]},getCanonicalKey:function(e){if(e){if((void 0===e.kind||null===e.kind||"user"===e.kind)&&e.key)return e.key;if("multi"!==e.kind&&e.key)return`${e.kind}:${qy(e.key)}`;if("multi"===e.kind)return Object.keys(e).sort().filter((e=>"kind"!==e)).map((t=>`${t}:${qy(e[t].key)}`)).join(":")}}};const{getContextKinds:My}=$y;function Ly(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function jy(e){return(e.startsWith("/")?e.substring(1):e).split("/").map((e=>e.indexOf("~")>=0?e.replace(/~1/g,"/").replace(/~0/g,"~"):e))}function Ay(e){return!e.startsWith("/")}function Dy(e,t){const n=Ay(e),i=Ay(t);if(n&&i)return e===t;if(n){const n=jy(t);return 1===n.length&&e===n[0]}if(i){const n=jy(e);return 1===n.length&&t===n[0]}return e===t}function Ny(e){return`/${Ly(e)}`}var Ry={cloneExcluding:function(e,t){const n=[],i={},r=[];for(n.push(...Object.keys(e).map((t=>({key:t,ptr:Ny(t),source:e,parent:i,visited:[e]}))));n.length;){const e=n.pop();if(t.some((t=>Dy(t,e.ptr))))r.push(e.ptr);else{const t=e.source[e.key];if(null===t)e.parent[e.key]=t;else if(Array.isArray(t))e.parent[e.key]=[...t];else if("object"==typeof t){if(e.visited.includes(t))continue;e.parent[e.key]={},n.push(...Object.keys(t).map((n=>{return{key:n,ptr:(i=e.ptr,r=Ly(n),`${i}/${r}`),source:t,parent:e.parent[e.key],visited:[...e.visited,t]};var i,r})))}else e.parent[e.key]=t}}return{cloned:i,excluded:r.sort()}},compare:Dy,literalToReference:Ny};const{getContextKeys:Iy}=$y;const Fy="ready",Uy="initialized",By="failed",{appendUrlPath:Hy,base64URLEncode:zy,objectHasOwnProperty:Vy}=Nv,{getLDHeaders:Gy,transformHeaders:Qy}=Cy,{isHttpErrorRecoverable:Wy}=_v;const{transformHeaders:Yy,getLDHeaders:Ky}=Cy,Zy="application/json";const{v1:Jy}=cy,{getContextKinds:Xy}=$y;var eb=function(e){function t(e){return null==e||"user"===e?"ld:$anonUserId":`ld:$contextKey:${e}`}function n(n,i){return null!==i.key&&void 0!==i.key?(i.key=i.key.toString(),Promise.resolve(i)):i.anonymous?function(n){return e.get(t(n))}(n).then((r=>{if(r)return i.key=r,i;{const r=Jy();return i.key=r,function(n,i){return e.set(t(i),n)}(r,n).then((()=>i))}})):Promise.reject(new _v.LDInvalidUserError(my.invalidContext()))}this.processContext=e=>{if(!e)return Promise.reject(new _v.LDInvalidUserError(my.contextNotSpecified()));const t=Nv.clone(e);if("multi"===e.kind){const e=Xy(t);return Promise.all(e.map((e=>n(e,t[e])))).then((()=>t))}return n(e.kind,t)}};const{v1:tb}=cy,{baseOptionDefs:nb}=_y,{appendUrlPath:ib}=Nv;const{onNextTick:rb}=Nv,ob={flagUsed:"flag-used",flagDetailsChanged:"flag-details-changed",flagDetailChanged:"flag-detail-changed",clientIdentityChanged:"client-identity-changed"};Object.freeze(ob);var ab={InspectorTypes:ob,InspectorManager:function(e,t){const n={},i={[ob.flagUsed]:[],[ob.flagDetailsChanged]:[],[ob.flagDetailChanged]:[],[ob.clientIdentityChanged]:[]},r=e?.map((e=>function(e,t){let n=!1;const i={type:e.type,name:e.name,method:(...r)=>{try{e.method(...r)}catch{n||(n=!0,t.warn(my.inspectorMethodError(i.type,i.name)))}}};return i}(e,t)));return r.forEach((e=>{Object.prototype.hasOwnProperty.call(i,e.type)?i[e.type].push(e):t.warn(my.invalidInspector(e.type,e.name))})),n.hasListeners=e=>i[e]?.length,n.onFlagUsed=(e,t,n)=>{i[ob.flagUsed].length&&rb((()=>{i[ob.flagUsed].forEach((i=>i.method(e,t,n)))}))},n.onFlags=e=>{i[ob.flagDetailsChanged].length&&rb((()=>{i[ob.flagDetailsChanged].forEach((t=>t.method(e)))}))},n.onFlagChanged=(e,t)=>{i[ob.flagDetailChanged].length&&rb((()=>{i[ob.flagDetailChanged].forEach((n=>n.method(e,t)))}))},n.onIdentityChanged=e=>{i[ob.clientIdentityChanged].length&&rb((()=>{i[ob.clientIdentityChanged].forEach((t=>t.method(e)))}))},n}};const{commonBasicLogger:sb}=py,{checkContext:lb,getContextKeys:ub}=$y,{InspectorTypes:cb,InspectorManager:db}=ab,pb="change",hb="internal-change";var fb={initialize:function(e,t,n,i,r){const o=n&&n.logger?n.logger:r&&r.logger&&r.logger.default||sb("warn"),a=function(e){const t={},n={};return t.on=function(e,t,i){n[e]=n[e]||[],n[e]=n[e].concat({handler:t,context:i})},t.off=function(e,t,i){if(n[e])for(let r=0;r<n[e].length;r++)n[e][r].handler===t&&n[e][r].context===i&&(n[e]=n[e].slice(0,r).concat(n[e].slice(r+1)))},t.emit=function(e){if(!n[e])return;const t=n[e].slice(0);for(let e=0;e<t.length;e++)t[e].handler.apply(t[e].context,Array.prototype.slice.call(arguments,1))},t.getEvents=function(){return Object.keys(n)},t.getEventListenerCount=function(e){return n[e]?n[e].length:0},t.maybeReportError=function(t){t&&(n.error?this.emit("error",t):(e||console).error(t.message))},t}(o),s=function(e){let t=!1,n=!1,i=null,r=null;const o=new Promise((t=>{const n=()=>{e.off(Fy,n),t()};e.on(Fy,n)})).catch((()=>{}));return{getInitializationPromise:()=>r||(t?Promise.resolve():n?Promise.reject(i):(r=new Promise(((t,n)=>{const i=()=>{e.off(Uy,i),t()},r=t=>{e.off(By,r),n(t)};e.on(Uy,i),e.on(By,r)})),r)),getReadyPromise:()=>o,signalSuccess:()=>{t||n||(t=!0,e.emit(Uy),e.emit(Fy))},signalFailure:r=>{t||n||(n=!0,i=r,e.emit(By,r),e.emit(Fy)),e.maybeReportError(r)}}}(a),l=_y.validate(n,a,r,o),u=db(l.inspectors,o),c=l.sendEvents;let d=e,p=l.hash;const h=function(e,t){const n={};let i=!1;const r=e=>{i||(i=!0,t.warn(my.localStorageUnavailable(e)))};return n.isEnabled=()=>!!e,n.get=t=>new Promise((n=>{e?e.get(t).then(n).catch((e=>{r(e),n(void 0)})):n(void 0)})),n.set=(t,n)=>new Promise((i=>{e?e.set(t,n).then((()=>i(!0))).catch((e=>{r(e),i(!1)})):i(!1)})),n.clear=t=>new Promise((n=>{e?e.clear(t).then((()=>n(!0))).catch((e=>{r(e),n(!1)})):n(!1)})),n}(i.localStorage,o),f=Ey(i,d,l),m=l.sendEvents&&!l.diagnosticOptOut,g=m?function(e){const t={diagnosticId:tb()};return e&&(t.sdkKeySuffix=e.length>6?e.substring(e.length-6):e),t}(d):null,v=m?function(e){let t,n,i,r;function o(e){t=e,n=0,i=0,r=[]}return o(e),{getProps:()=>({dataSinceDate:t,droppedEvents:n,eventsInLastBatch:i,streamInits:r}),setProps:e=>{t=e.dataSinceDate,n=e.droppedEvents||0,i=e.eventsInLastBatch||0,r=e.streamInits||[]},incrementDroppedEvents:()=>{n++},setEventsInLastBatch:e=>{i=e},recordStreamInit:(e,t,n)=>{const i={timestamp:e,failed:t,durationMillis:n};r.push(i)},reset:o}}((new Date).getTime()):null,y=m?function(e,t,n,i,r,o,a){const s=!!e.diagnosticUseCombinedEvent,l="ld:"+r+":$diagnostics",u=ib(o.eventsUrl,"/events/diagnostic/"+r),c=o.diagnosticRecordingInterval,d=n;let p,h,f=!!o.streaming;const m={};function g(){return{sdk:b(),configuration:{customBaseURI:o.baseUrl!==nb.baseUrl.default,customStreamURI:o.streamUrl!==nb.streamUrl.default,customEventsURI:o.eventsUrl!==nb.eventsUrl.default,eventsCapacity:o.eventCapacity,eventsFlushIntervalMillis:o.flushInterval,reconnectTimeMillis:o.streamReconnectDelay,streamingDisabled:!f,allAttributesPrivate:!!o.allAttributesPrivate,diagnosticRecordingIntervalMillis:o.diagnosticRecordingInterval,usingSecureMode:!!o.hash,bootstrapMode:!!o.bootstrap,fetchGoalsDisabled:!o.fetchGoals,sendEventsOnlyForVariation:!!o.sendEventsOnlyForVariation},platform:e.diagnosticPlatformData}}function v(e){o.logger&&o.logger.debug(my.debugPostingDiagnosticEvent(e)),i.sendEvents(e,u,!0).then((()=>{})).catch((()=>{}))}function y(){v(function(){const e=(new Date).getTime();let t={kind:s?"diagnostic-combined":"diagnostic",id:a,creationDate:e,...d.getProps()};return s&&(t={...t,...g()}),d.reset(e),t}()),h=setTimeout(y,c),p=(new Date).getTime(),s&&function(){if(t.isEnabled()){const e={...d.getProps()};t.set(l,JSON.stringify(e))}}()}function b(){const t={...e.diagnosticSdkData};return o.wrapperName&&(t.wrapperName=o.wrapperName),o.wrapperVersion&&(t.wrapperVersion=o.wrapperVersion),t}return m.start=()=>{s?function(e){if(!t.isEnabled())return e(!1);t.get(l).then((t=>{if(t)try{const e=JSON.parse(t);d.setProps(e),p=e.dataSinceDate}catch(e){}e(!0)})).catch((()=>{e(!1)}))}((e=>{if(e){const e=(p||0)+c,t=(new Date).getTime();t>=e?y():h=setTimeout(y,e-t)}else 0===Math.floor(4*Math.random())?y():h=setTimeout(y,c)})):(v({kind:"diagnostic-init",id:a,creationDate:d.getProps().dataSinceDate,...g()}),h=setTimeout(y,c))},m.stop=()=>{h&&clearTimeout(h)},m.setStreaming=e=>{f=e},m}(i,h,v,f,d,l,g):null,b=function(e,t,n,i){const r=t.streamUrl,o=t.logger,a={},s=Hy(r,"/eval/"+n),l=t.useReport,u=t.evaluationReasons,c=t.streamReconnectDelay,d=Gy(e,t);let p,h=!1,f=null,m=null,g=null,v=null,y=null,b=0;function w(e){if(e.status&&"number"==typeof e.status&&!Wy(e.status))return C(),o.error(my.unrecoverableStreamError(e)),void(m&&(clearTimeout(m),m=null));const t=function(){const e=(t=function(){const e=c*Math.pow(2,b);return e>3e4?3e4:e}(),t-Math.trunc(.5*Math.random()*t));var t;return b+=1,e}();h||(o.warn(my.streamError(e,t)),h=!0),k(!1),C(),_(t)}function _(e){m||(e?m=setTimeout(x,e):x())}function x(){let i;m=null;let a="";const c={headers:d,readTimeoutMillis:3e5};if(e.eventSourceFactory){null!=v&&(a="h="+v),l?e.eventSourceAllowsReport?(i=s,c.method="REPORT",c.headers["Content-Type"]="application/json",c.body=JSON.stringify(g)):(i=Hy(r,"/ping/"+n),a=""):i=s+"/"+zy(JSON.stringify(g)),c.headers=Qy(c.headers,t),u&&(a=a+(a?"&":"")+"withReasons=true"),i=i+(a?"?":"")+a,C(),o.info(my.streamConnecting(i)),p=(new Date).getTime(),f=e.eventSourceFactory(i,c);for(const e in y)Vy(y,e)&&f.addEventListener(e,y[e]);f.onerror=w,f.onopen=()=>{b=0}}}function C(){f&&(o.info(my.streamClosing()),f.close(),f=null)}function k(e){p&&i&&i.recordStreamInit(p,!e,(new Date).getTime()-p),p=null}return a.connect=function(e,t,n){g=e,v=t,y={};for(const e in n||{})y[e]=function(t){h=!1,k(!0),n[e]&&n[e](t)};_()},a.disconnect=function(){clearTimeout(m),m=null,C()},a.isConnected=function(){return!!(f&&e.eventSourceIsActive&&e.eventSourceIsActive(f))},a}(i,l,d,v),w=l.eventProcessor||function(e,t,n,i=null,r=null,o=null){const a={},s=o||Ey(e,n,t),l=Nv.appendUrlPath(t.eventsUrl,"/events/bulk/"+n),u=function(){const e={};let t=0,n=0,i={},r={};return e.summarizeEvent=e=>{if("feature"===e.kind){const o=e.key+":"+(null!==e.variation&&void 0!==e.variation?e.variation:"")+":"+(null!==e.version&&void 0!==e.version?e.version:""),a=i[o];let s=r[e.key];s||(s=new Set,r[e.key]=s),function(e){return e.context?My(e.context):e.contextKeys?Object.keys(e.contextKeys):[]}(e).forEach((e=>s.add(e))),a?a.count=a.count+1:i[o]={count:1,key:e.key,version:e.version,variation:e.variation,value:e.value,default:e.default},(0===t||e.creationDate<t)&&(t=e.creationDate),e.creationDate>n&&(n=e.creationDate)}},e.getSummary=()=>{const e={};let o=!0;for(const t of Object.values(i)){let n=e[t.key];n||(n={default:t.default,counters:[],contextKinds:[...r[t.key]]},e[t.key]=n);const i={value:t.value,count:t.count};void 0!==t.variation&&null!==t.variation&&(i.variation=t.variation),void 0!==t.version&&null!==t.version?i.version=t.version:i.unknown=!0,n.counters.push(i),o=!1}return o?null:{startDate:t,endDate:n,features:e}},e.clearSummary=()=>{t=0,n=0,i={},r={}},e}(),c=function(e){const t={},n=e.allAttributesPrivate,i=e.privateAttributes||[],r=["key","kind","_meta","anonymous"],o=["name","ip","firstName","lastName","email","avatar","country"],a=e=>{if("object"!=typeof e||null===e||Array.isArray(e))return;const{cloned:t,excluded:o}=Ry.cloneExcluding(e,(e=>(n?Object.keys(e):[...i,...e._meta&&e._meta.privateAttributes||[]]).filter((e=>!r.some((t=>Ry.compare(e,t))))))(e));return t.key=String(t.key),o.length&&(t._meta||(t._meta={}),t._meta.redactedAttributes=o),t._meta&&(delete t._meta.privateAttributes,0===Object.keys(t._meta).length&&delete t._meta),void 0!==t.anonymous&&(t.anonymous=!!t.anonymous),t};return t.filter=e=>void 0===e.kind||null===e.kind?a((e=>{const t={...e.custom||{},kind:"user",key:e.key};void 0!==e.anonymous&&(t.anonymous=!!e.anonymous);for(const n of o)delete t[n],void 0!==e[n]&&null!==e[n]&&(t[n]=String(e[n]));return void 0!==e.privateAttributeNames&&null!==e.privateAttributeNames&&(t._meta=t._meta||{},t._meta.privateAttributes=e.privateAttributeNames.map((e=>e.startsWith("/")?Ry.literalToReference(e):e))),t})(e)):"multi"===e.kind?(e=>{const t={kind:e.kind},n=Object.keys(e);for(const i of n)if("kind"!==i){const n=a(e[i]);n&&(t[i]=n)}return t})(e):a(e),t}(t),d=t.samplingInterval,p=t.eventCapacity,h=t.flushInterval,f=t.logger;let m,g=[],v=0,y=!1,b=!1;function w(){return 0===d||0===Math.floor(Math.random()*d)}function _(e){g.length<p?(g.push(e),b=!1):(b||(b=!0,f.warn(my.eventCapacityExceeded())),i&&i.incrementDroppedEvents())}return a.enqueue=function(e){if(y)return;let t=!1,n=!1;var i;if(u.summarizeEvent(e),"feature"===e.kind?w()&&(t=!!e.trackEvents,n=!!(i=e).debugEventsUntilDate&&i.debugEventsUntilDate>v&&i.debugEventsUntilDate>(new Date).getTime()):t=w(),t&&_(function(e){const t=Nv.extend({},e);return"identify"===e.kind?t.context=c.filter(e.context):(t.contextKeys=Iy(e.context,f),delete t.context),"feature"===e.kind&&(delete t.trackEvents,delete t.debugEventsUntilDate),t}(e)),n){const t=Nv.extend({},e,{kind:"debug"});t.context=c.filter(t.context),delete t.trackEvents,delete t.debugEventsUntilDate,_(t)}},a.flush=function(){if(y)return Promise.resolve();const e=g,t=u.getSummary();return u.clearSummary(),t&&(t.kind="summary",e.push(t)),i&&i.setEventsInLastBatch(e.length),0===e.length?Promise.resolve():(g=[],f.debug(my.debugPostingEvents(e.length)),s.sendEvents(e,l).then((e=>{const t=e&&e[0];t&&(t.serverTime&&(v=t.serverTime),_v.isHttpErrorRecoverable(t.status)||(y=!0),t.status>=400&&Nv.onNextTick((()=>{r.maybeReportError(new _v.LDUnexpectedResponseError(my.httpErrorMessage(t.status,"event posting","some events were dropped")))})))})))},a.start=function(){const e=()=>{a.flush(),m=setTimeout(e,h)};m=setTimeout(e,h)},a.stop=function(){clearTimeout(m)},a}(i,l,d,v,a,f),_=function(e,t,n){const i=t.baseUrl,r=t.useReport,o=t.evaluationReasons,a=t.logger,s={},l={};function u(n,i){if(!e.httpRequest)return new Promise(((e,t)=>{t(new _v.LDFlagFetchError(my.httpUnavailable()))}));const r=i?"REPORT":"GET",o=Ky(e,t);i&&(o["Content-Type"]=Zy);let a=l[n];a||(a=function(e){let t,n,i,r;const o={addPromise:(o,a)=>{t=o,n&&n(),n=a,o.then((n=>{t===o&&(i(n),e&&e())}),(n=>{t===o&&(r(n),e&&e())}))}};return o.resultPromise=new Promise(((e,t)=>{i=e,r=t})),o}((()=>{delete l[n]})),l[n]=a);const s=e.httpRequest(r,n,Yy(o,t),i),u=s.promise.then((e=>{if(200===e.status){if(e.header("content-type")&&e.header("content-type").substring(0,Zy.length)===Zy)return JSON.parse(e.body);{const t=my.invalidContentType(e.header("content-type")||"");return Promise.reject(new _v.LDFlagFetchError(t))}}return Promise.reject(function(e){return 404===e.status?new _v.LDInvalidEnvironmentIdError(my.environmentNotFound()):new _v.LDFlagFetchError(my.errorFetchingFlags(e.statusText||String(e.status)))}(e))}),(e=>Promise.reject(new _v.LDFlagFetchError(my.networkError(e)))));return a.addPromise(u,(()=>{s.cancel&&s.cancel()})),a.resultPromise}return s.fetchJSON=function(e){return u(Nv.appendUrlPath(i,e),null)},s.fetchFlagSettings=function(e,t){let s,l,c,d="";return r?(l=[i,"/sdk/evalx/",n,"/context"].join(""),c=JSON.stringify(e)):(s=Nv.base64URLEncode(JSON.stringify(e)),l=[i,"/sdk/evalx/",n,"/contexts/",s].join("")),t&&(d="h="+t),o&&(d=d+(d?"&":"")+"withReasons=true"),l=l+(d?"?":"")+d,a.debug(my.debugPolling(l)),u(l,c)},s}(i,l,d);let x,C,k,S={},T=l.streaming,E=!1,P=!1,O=!0;const q=l.stateProvider,$=function(e,t){const n={};let i;return n.setContext=function(e){i=Nv.sanitizeContext(e),i&&t&&t(Nv.clone(i))},n.getContext=function(){return i?Nv.clone(i):null},n}(0,(function(e){(function(e){q||e&&j({kind:"identify",context:e,creationDate:(new Date).getTime()})})(e),u.hasListeners(cb.clientIdentityChanged)&&u.onIdentityChanged($.getContext())})),M=new eb(h),L=h.isEnabled()?function(e,t,n,i){const r={};function o(){let e="";const r=i.getContext();return r&&(e=n||Nv.btoa(JSON.stringify(r))),"ld:"+t+":"+e}return r.loadFlags=()=>e.get(o()).then((e=>{if(null==e)return null;try{let t=JSON.parse(e);if(t){const e=t.$schema;void 0===e||e<1?t=Nv.transformValuesToVersionedValues(t):delete t.$schema}return t}catch(e){return r.clearFlags().then((()=>null))}})),r.saveFlags=t=>{const n=Nv.extend({},t,{$schema:1});return e.set(o(),JSON.stringify(n))},r.clearFlags=()=>e.clear(o()),r}(h,d,p,$):null;function j(e){d&&(q&&q.enqueueEvent&&q.enqueueEvent(e)||(e.context?(O=!1,!c||P||i.isDoNotTrack()||(o.debug(my.debugEnqueueingEvent(e.kind)),w.enqueue(e))):O&&(o.warn(my.eventWithoutContext()),O=!1)))}function A(e,t){u.hasListeners(cb.flagDetailChanged)&&u.onFlagChanged(e.key,F(t))}function D(){u.hasListeners(cb.flagDetailsChanged)&&u.onFlags(Object.entries(S).map((([e,t])=>({key:e,detail:F(t)}))).reduce(((e,t)=>(e[t.key]=t.detail,e)),{}))}function N(e,t,n,i){const r=$.getContext(),o=new Date,a={kind:"feature",key:e,context:r,value:t?t.value:null,variation:t?t.variationIndex:null,default:n,creationDate:o.getTime()},s=S[e];s&&(a.version=s.flagVersion?s.flagVersion:s.version,a.trackEvents=s.trackEvents,a.debugEventsUntilDate=s.debugEventsUntilDate),(i||s&&s.trackReason)&&t&&(a.reason=t.reason),j(a)}function R(e){return lb(e,!1)?Promise.resolve(e):Promise.reject(new _v.LDInvalidUserError(my.invalidContext()))}function I(e,t,n,i,r){let o;if(S&&Nv.objectHasOwnProperty(S,e)&&S[e]&&!S[e].deleted){const n=S[e];o=F(n),null!==n.value&&void 0!==n.value||(o.value=t)}else o={value:t,variationIndex:null,reason:{kind:"ERROR",errorKind:"FLAG_NOT_FOUND"}};return n&&N(e,o,t,i),r||function(e,t){u.hasListeners(cb.flagUsed)&&u.onFlagUsed(e,t,$.getContext())}(e,o),o}function F(e){return{value:e.value,variationIndex:void 0===e.variation?null:e.variation,reason:e.reason||null}}function U(){if(C=!0,!$.getContext())return;const e=e=>{try{return JSON.parse(e)}catch(e){return void a.maybeReportError(new _v.LDInvalidDataError(my.invalidData()))}};b.connect($.getContext(),p,{ping:function(){o.debug(my.debugStreamPing());const e=$.getContext();_.fetchFlagSettings(e,p).then((t=>{Nv.deepEquals(e,$.getContext())&&H(t||{})})).catch((e=>{a.maybeReportError(new _v.LDFlagFetchError(my.errorFetchingFlags(e)))}))},put:function(t){const n=e(t.data);n&&(o.debug(my.debugStreamPut()),H(n))},patch:function(t){const n=e(t.data);if(!n)return;const i=S[n.key];if(!i||!i.version||!n.version||i.version<n.version){o.debug(my.debugStreamPatch(n.key));const e={},t=Nv.extend({},n);delete t.key,S[n.key]=t;const r=F(t);e[n.key]=i?{previous:i.value,current:r}:{current:r},z(e),A(n,t)}else o.debug(my.debugStreamPatchIgnored(n.key))},delete:function(t){const n=e(t.data);if(n)if(!S[n.key]||S[n.key].version<n.version){o.debug(my.debugStreamDelete(n.key));const e={};S[n.key]&&!S[n.key].deleted&&(e[n.key]={previous:S[n.key].value}),S[n.key]={version:n.version,deleted:!0},A(n,S[n.key]),z(e)}else o.debug(my.debugStreamDeleteIgnored(n.key))}})}function B(){C&&(b.disconnect(),C=!1)}function H(e){const t={};if(!e)return Promise.resolve();for(const n in S)Nv.objectHasOwnProperty(S,n)&&S[n]&&(e[n]&&!Nv.deepEquals(e[n].value,S[n].value)?t[n]={previous:S[n].value,current:F(e[n])}:e[n]&&!e[n].deleted||(t[n]={previous:S[n].value}));for(const n in e)Nv.objectHasOwnProperty(e,n)&&e[n]&&(!S[n]||S[n].deleted)&&(t[n]={current:F(e[n])});return S={...e},D(),z(t).catch((()=>{}))}function z(e){const t=Object.keys(e);if(t.length>0){const n={};t.forEach((t=>{const i=e[t].current,r=i?i.value:void 0,o=e[t].previous;a.emit(pb+":"+t,r,o),n[t]=i?{current:r,previous:o}:{previous:o}})),a.emit(pb,n),a.emit(hb,S),l.sendEventsOnlyForVariation||q||t.forEach((t=>{N(t,e[t].current)}))}return x&&L?L.saveFlags(S):Promise.resolve()}function V(){const e=T||k&&void 0===T;e&&!C?U():!e&&C&&B(),y&&y.setStreaming(e)}function G(e){return e===pb||e.substr(0,pb.length+1)===pb+":"}if("string"==typeof l.bootstrap&&"LOCALSTORAGE"===l.bootstrap.toUpperCase()&&(L?x=!0:o.warn(my.localStorageUnavailable())),"object"==typeof l.bootstrap&&(S=function(e){const t=Object.keys(e),n="$flagsState",i="$valid",r=e[n];!r&&t.length&&o.warn(my.bootstrapOldFormat()),!1===e[i]&&o.warn(my.bootstrapInvalid());const a={};return t.forEach((t=>{if(t!==n&&t!==i){let n={value:e[t]};r&&r[t]?n=Nv.extend(n,r[t]):n.version=0,a[t]=n}})),a}(l.bootstrap)),q){const e=q.getInitialState();e?Q(e):q.on("init",Q),q.on("update",(function(e){e.context&&$.setContext(e.context),e.flags&&H(e.flags)}))}else(e?M.processContext(t).then(R).then((e=>($.setContext(e),"object"==typeof l.bootstrap?W():x?L.loadFlags().then((e=>null==e?(S={},_.fetchFlagSettings($.getContext(),p).then((e=>H(e||{}))).then(W).catch((e=>{Y(new _v.LDFlagFetchError(my.errorFetchingFlags(e)))}))):(S=e,Nv.onNextTick(W),_.fetchFlagSettings($.getContext(),p).then((e=>H(e))).catch((e=>a.maybeReportError(e)))))):_.fetchFlagSettings($.getContext(),p).then((e=>{S=e||{},D(),W()})).catch((e=>{S={},Y(e)}))))):Promise.reject(new _v.LDInvalidEnvironmentIdError(my.environmentNotSpecified()))).catch(Y);function Q(e){d=e.environment,$.setContext(e.context),S={...e.flags},Nv.onNextTick(W)}function W(){o.info(my.clientInitialized()),E=!0,V(),s.signalSuccess()}function Y(e){s.signalFailure(e)}const K={waitForInitialization:()=>s.getInitializationPromise(),waitUntilReady:()=>s.getReadyPromise(),identify:function(e,t,n){if(P)return Nv.wrapPromiseCallback(Promise.resolve({}),n);if(q)return o.warn(my.identifyDisabled()),Nv.wrapPromiseCallback(Promise.resolve(Nv.transformVersionedValuesToValues(S)),n);const i=x&&L?L.clearFlags():Promise.resolve();return Nv.wrapPromiseCallback(i.then((()=>M.processContext(e))).then(R).then((e=>_.fetchFlagSettings(e,t).then((n=>{const i=Nv.transformVersionedValuesToValues(n);return $.setContext(e),p=t,n?H(n).then((()=>i)):i})))).then((e=>(C&&U(),e))).catch((e=>(a.maybeReportError(e),Promise.reject(e)))),n)},getContext:function(){return $.getContext()},variation:function(e,t){return I(e,t,!0,!1,!1).value},variationDetail:function(e,t){return I(e,t,!0,!0,!1)},track:function(e,t,n){if("string"!=typeof e)return void a.maybeReportError(new _v.LDInvalidEventKeyError(my.unknownCustomEventKey(e)));i.customEventFilter&&!i.customEventFilter(e)&&o.warn(my.unknownCustomEventKey(e));const r=$.getContext(),s={kind:"custom",key:e,context:r,url:i.getCurrentUrl(),creationDate:(new Date).getTime()};r&&r.anonymous&&(s.contextKind=r.anonymous?"anonymousUser":"user"),null!=t&&(s.data=t),null!=n&&(s.metricValue=n),j(s)},on:function(e,t,n){G(e)?(k=!0,E&&V(),a.on(e,t,n)):a.on(...arguments)},off:function(e){if(a.off(...arguments),G(e)){let e=!1;a.getEvents().forEach((t=>{G(t)&&a.getEventListenerCount(t)>0&&(e=!0)})),e||(k=!1,C&&void 0===T&&B())}},setStreaming:function(e){const t=null===e?void 0:e;t!==T&&(T=t,V())},flush:function(e){return Nv.wrapPromiseCallback(c?w.flush():Promise.resolve(),e)},allFlags:function(){const e={};if(!S)return e;for(const t in S)Nv.objectHasOwnProperty(S,t)&&!S[t].deleted&&(e[t]=I(t,null,!l.sendEventsOnlyForVariation,!1,!0).value);return e},close:function(e){if(P)return Nv.wrapPromiseCallback(Promise.resolve(),e);const t=()=>{P=!0,S={}},n=Promise.resolve().then((()=>{if(B(),y&&y.stop(),c)return w.stop(),w.flush()})).then(t).catch(t);return Nv.wrapPromiseCallback(n,e)}};return{client:K,options:l,emitter:a,ident:$,logger:o,requestor:_,start:function(){c&&(y&&y.start(),w.start())},enqueueEvent:j,getFlagsInternal:function(){return S},getEnvironmentId:()=>d,internalChangeEventName:hb}},commonBasicLogger:sb,errors:_v,messages:my,utils:Nv,getContextKeys:ub},mb=fb.initialize,gb=fb.errors,vb=fb.getContextKeys;function yb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yb(Object(n),!0).forEach((function(t){wb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _b={promise:Promise.resolve({status:200,header:function(){return null},body:null})};function xb(e){var t,n={userAgentHeaderName:"X-LaunchDarkly-User-Agent",synchronousFlush:!1};if(window.XMLHttpRequest){var i=e&&e.disableSyncEventPost;n.httpRequest=function(e,t,r,o){var a=n.synchronousFlush&!i;return n.synchronousFlush=!1,function(e,t,n,i,r){if(r&&!function(){var e=window.navigator&&window.navigator.userAgent;if(e){var t=e.match(/Chrom(e|ium)\/([0-9]+)\./);if(t)return parseInt(t[2],10)<73}return!0}())return _b;var o=new window.XMLHttpRequest;for(var a in o.open(e,t,!r),n||{})Object.prototype.hasOwnProperty.call(n,a)&&o.setRequestHeader(a,n[a]);if(r)return o.send(i),_b;var s,l=new Promise((function(e,t){o.addEventListener("load",(function(){s||e({status:o.status,header:function(e){return o.getResponseHeader(e)},body:o.responseText})})),o.addEventListener("error",(function(){s||t(new Error)})),o.send(i)}));return{promise:l,cancel:function(){s=!0,o.abort()}}}(e,t,r,o,a)}}n.httpAllowsPost=function(){return void 0===t&&(t=!!window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest),t},n.httpFallbackPing=function(e){(new window.Image).src=e};var r,o=e&&e.eventUrlTransformer;n.getCurrentUrl=function(){return o?o(window.location.href):window.location.href},n.isDoNotTrack=function(){var e;return 1===(e=window.navigator&&void 0!==window.navigator.doNotTrack?window.navigator.doNotTrack:window.navigator&&void 0!==window.navigator.msDoNotTrack?window.navigator.msDoNotTrack:window.doNotTrack)||!0===e||"1"===e||"yes"===e};try{window.localStorage&&(n.localStorage={get:function(e){return new Promise((function(t){t(window.localStorage.getItem(e))}))},set:function(e,t){return new Promise((function(n){window.localStorage.setItem(e,t),n()}))},clear:function(e){return new Promise((function(t){window.localStorage.removeItem(e),t()}))}})}catch(e){n.localStorage=null}if(e&&e.useReport&&"function"==typeof window.EventSourcePolyfill&&window.EventSourcePolyfill.supportedOptions&&window.EventSourcePolyfill.supportedOptions.method?(n.eventSourceAllowsReport=!0,r=window.EventSourcePolyfill):(n.eventSourceAllowsReport=!1,r=window.EventSource),window.EventSource){var a=3e5;n.eventSourceFactory=function(e,t){var n=bb(bb({},{heartbeatTimeout:a,silentTimeout:a,skipDefaultHeaders:!0}),t);return new r(e,n)},n.eventSourceIsActive=function(e){return e.readyState===window.EventSource.OPEN||e.readyState===window.EventSource.CONNECTING}}return n.userAgent="JSClient",n.version="3.1.0",n.diagnosticSdkData={name:"js-client-sdk",version:"3.1.0"},n.diagnosticPlatformData={name:"JS"},n.diagnosticUseCombinedEvent=!0,n}var Cb=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")};function kb(e,t,n,i){var r,o,a=("substring"!==e.kind&&"regex"!==e.kind||!i.includes("/")?t.replace(i,""):t).replace(n,"");switch(e.kind){case"exact":o=t,r=new RegExp("^"+Cb(e.url)+"/?$");break;case"canonical":o=a,r=new RegExp("^"+Cb(e.url)+"/?$");break;case"substring":o=a,r=new RegExp(".*"+Cb(e.substring)+".*$");break;case"regex":o=a,r=new RegExp(e.pattern);break;default:return!1}return r.test(o)}function Sb(e,t){for(var n={},i=null,r=[],o=0;o<e.length;o++)for(var a=e[o],s=a.urls||[],l=0;l<s.length;l++)if(kb(s[l],window.location.href,window.location.search,window.location.hash)){"pageview"===a.kind?t("pageview",a):(r.push(a),t("click_pageview",a));break}return r.length>0&&(i=function(e){for(var n=function(e,t){for(var n=[],i=0;i<t.length;i++)for(var r=e.target,o=t[i],a=o.selector,s=document.querySelectorAll(a);r&&s.length>0;){for(var l=0;l<s.length;l++)r===s[l]&&n.push(o);r=r.parentNode}return n}(e,r),i=0;i<n.length;i++)t("click",n[i])},document.addEventListener("click",i)),n.dispose=function(){document.removeEventListener("click",i)},n}function Tb(e,t){var n,i;function r(){i&&i.dispose(),n&&n.length&&(i=Sb(n,o))}function o(t,n){var i=e.ident.getContext(),r={kind:t,key:n.key,data:null,url:window.location.href,creationDate:(new Date).getTime(),contextKeys:vb(i)};return"click"===t&&(r.selector=n.selector),e.enqueueEvent(r)}return e.requestor.fetchJSON("/sdk/goals/"+e.getEnvironmentId()).then((function(e){e&&e.length>0&&(i=Sb(n=e,o),function(e,t){var n,i=window.location.href;function r(){(n=window.location.href)!==i&&(i=n,t())}!function e(t,n){t(),setTimeout((function(){e(t,n)}),n)}(r,300),window.history&&window.history.pushState?window.addEventListener("popstate",r):window.addEventListener("hashchange",r)}(0,r)),t()})).catch((function(n){e.emitter.maybeReportError(new gb.LDUnexpectedResponseError((n&&n.message,n.message))),t()})),{}}var Eb="goalsReady",Pb={fetchGoals:{default:!0},hash:{type:"string"},eventProcessor:{type:"object"},eventUrlTransformer:{type:"function"},disableSyncEventPost:{default:!1}};function Ob(e){return"group"===e.type||"conditional_group"===e.type?new hv(e):new pv(e)}var qb=["$scope","$rootScope",function(e,t){this.question=Ob(window.metacData.question);const n=window.metacData.parent_question;n&&(this.parentQuestion=Ob(n));const i=window.metacData.unconditional_question;i&&(this.unconditionalQuestion=Ob(i));const r=window.metacData.condtionalGroups;r&&(this.conditionalGroups=r.map(Ob)),this.question.isConditionalGroupType?(this.yesQuestion=Hm(this.question,1),this.noQuestion=Hm(this.question,0),e.$watch((()=>this.question.sub_questions),(()=>{this.yesQuestion=Hm(this.question,1),this.noQuestion=Hm(this.question,0)}))):(this.yesQuestion=null,this.noQuestion=null),this.user=window.metacData.user,this.makeForecastSectionOpen=!0,this.conditionalGroupsOpen=!1,this.metadataOpen=!1,this.descriptionOpen=!0,this.parentQuestionDescriptionOpen=!1,this.unconditionalQuestionDescriptionOpen=!1,this.fanGraphOpen=!0,this.newPrediction=null,this.showCommunityStats=function(){return"binary"==this.question.possibilities.type&&"A"===this.question.status&&!this.question.communityIsHidden&&this.question.community_prediction.full.y.length>0},this.showModal=function(e){Ks.setActive(e,this.question)},this.handleStatusModalClose=()=>{Ks.setActive(null,"close"),e.$apply()},this.copyUrl=function(e){Dg(window.location.origin+this.question.page_url,"URL is now copied to your clipboard")},this.shareQuestion=function(e){window.ga("send","event","share-question",e,this.question.page_url)},this.deleteQuestion=function(){return this.question.fullDelete().then((function(){window.location="/questions/"}))},this.duplicateQuestion=function(){document.getElementById("duplicate-question").submit()},this.predictionHasChanged=function(){var e=this.question.playerPrediction(),t=this.newPrediction;return e&&t?"binary"===this.question.possibilities.type?!(Math.abs(e.x-t)<.005):"continuous"!==this.question.possibilities.type&&void 0:!!t||isFinite(t)},this.predictionString=function(){var e=this.question;return e?e.isLive?e.isClosed?"Final prediction":e.playerPrediction()?"Update your prediction":"Make a prediction":"Prediction preview":" "},this.canBackdate=function(){return e.user.isAuthenticated&&this.question.isLive&&this.question.playerPrediction()},this.bylineData=function(){const e=this.question,t=new Date(e.publish_time),n=new Date(e.close_time),i=new Date(e.resolve_time),r=new Date,o=e=>mo(e,{now:r,short:!0});return"A"!==e.status&&"V"!==e.status||e.isDiscussionType||e.isNotebookType?"":r<t?"• ".concat(fe("closes")," ").concat(o(n)," • ").concat(fe("resolves")," ").concat(o(i)):r<n&&r<i?"• ".concat(fe("opened")," ").concat(o(t)," • ").concat(fe("resolves")," ").concat(o(i)):n<r&&!e.isResolved?"• ".concat(fe("opened")," ").concat(o(t)," • ").concat(fe("closed")," ").concat(o(n)):r<n&&e.isResolved?"• ".concat(fe("opened")," ").concat(o(t)," • ").concat(fe("closes")," ").concat(o(n)," • ").concat(fe("resolved")," ").concat(o(i)):"• ".concat(fe("opened")," ").concat(o(t)," • ").concat(fe("closed")," ").concat(o(n)," • ").concat(fe("resolved")," ").concat(o(i))},this.cpHiddenPeriodDurationString=function(){return function(e,t,n){var i,r,o;_i(2,arguments);var a=Di(),s=null!==(i=null!==(r=null==n?void 0:n.locale)&&void 0!==r?r:a.locale)&&void 0!==i?i:gr;if(!s.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var l=Wg(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var u,c,d=Yg(Kg(n),{addSuffix:Boolean(null==n?void 0:n.addSuffix),comparison:l});l>0?(u=Si(t),c=Si(e)):(u=Si(e),c=Si(t));var p,h=String(null!==(o=null==n?void 0:n.roundingMethod)&&void 0!==o?o:"round");if("floor"===h)p=Math.floor;else if("ceil"===h)p=Math.ceil;else{if("round"!==h)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");p=Math.round}var f,m=c.getTime()-u.getTime(),g=m/Zg,v=Ji(c)-Ji(u),y=(m-v)/Zg,b=null==n?void 0:n.unit;if("second"===(f=b?String(b):g<1?"second":g<60?"minute":g<Jg?"hour":y<Xg?"day":y<ev?"month":"year")){var w=p(m/1e3);return s.formatDistance("xSeconds",w,d)}if("minute"===f){var _=p(g);return s.formatDistance("xMinutes",_,d)}if("hour"===f){var x=p(g/60);return s.formatDistance("xHours",x,d)}if("day"===f){var C=p(y/Jg);return s.formatDistance("xDays",C,d)}if("month"===f){var k=p(y/Xg);return 12===k&&"month"!==b?s.formatDistance("xYears",1,d):s.formatDistance("xMonths",k,d)}if("year"===f){var S=p(y/ev);return s.formatDistance("xYears",S,d)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}(this.question.publish_time,this.question.cp_hidden_period_ends_time,{locale:"cs"===me.resolvedLanguage?sv:mr})},this.remainingCoverage=function(){const e=this.question.cp_hidden_period_ends_time,t=this.question.cp_hidden_weight_coverage,n={openDate:this.question.publish_time,closeDate:this.question.end_time};return e&&(n.hiddenPeriodEndDate=e),t&&(n.hiddenPeriodWeight=t),function(e){let{openDate:t,closeDate:n,hiddenPeriodEndDate:i,hiddenPeriodWeight:r}=e;const o=Date.now(),a=t.getTime(),s=n.getTime();if(o<a)return 1;if(s<=o)return 0;if(null==i||null==r)return(s-o)/(s-a);if(r<0||r>1)throw new RangeError("hiddenPeriodWeight must be between 0 and 1");const l=i.getTime();return o<l?r*((l-o)/(l-a))+(1-r):(s-o)/(s-l)*(1-r)}(n)},this.qstatus=function(){const e={now:new Date,short:!0};let t;switch(this.question.statusSummary()){case null:case wg.FOR_DISCUSSION:t=["",""];break;case wg.OPENS:t=[fe("opens"),mo(this.question.publish_time,e)];break;case wg.CLOSES:t=[fe("closes"),mo(this.question.close_time,e)];break;case wg.RESOLVES:t=[fe("resolves"),mo(this.question.resolve_time,e)];break;case wg.RESOLUTION_PENDING:t=[fe("resolutionPending"),""];break;case wg.RESOLVED:t=this.question.isGroupType?["",""]:[": ","<b>".concat(go(this.question.resolutionString()),"</b>")]}return"".concat(t[0]," ").concat(t[1])},this.canShowMetacPred=function(){let e=this.question,t=e.metaculus_prediction.history;return t.length>0&&t[0].time<e.end_time},this.togglePredView=function(t){t.stopPropagation(),t.preventDefault(),this.showMetacPred=!this.showMetacPred,e.$apply()}.bind(this),this.showMetacPred=this.canShowMetacPred(),this.displayMetacOrComm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.showMetacPred?this.question.displayMetaculusPrediction(e,"short"):this.question.displayCommunityPrediction(e,"short")},this.hasScoringInfo=function(){return this.question.isResolved&&this.question.resolvedEarly()&&this.question.my_predictions.length>0||this.question.isLive&&!this.question.isClosed||this.question.isPrivate()}}];pi.controller("questionDetailCtrl",qb);var $b=n(1609),Mb=n.n($b);const Lb=["admin","moderator","predictor","viewer"];class jb{constructor(e){e&&(this.id=e.id,this.subtitle=e.subtitle,this.name=e.name,this.type=e.type,this.user_perms=e.user_perms,this.question_user_perms=e.question_user_perms,this.site_id=e.site_id,this.tournament_close_date=e.tournament_close_date,this.url=e.url,this.config=e.config?e.config:{},this.public=e.public,this.header_image=e.header_image,this.header_logo=e.header_logo,this.organizations=e.organizations?e.organizations:[],this.description=e.description,this.causes=this.organizations.filter((e=>"CAUSE"===e.type)),this.isOptIn=e.is_opt_in,this.inMainFeedByDefault=e.in_main_feed_by_default,this.defaultRole=e.default_role)}has_perm(e){return this.user_perms&&this.user_perms[e]}get createUrl(){let e=this.isJournal()?"notebooks":"questions";return"/".concat(e,"/create/?project=").concat(this.id)}create(e){return Ir.post("/api2/projects/",e).then((e=>e),wo.genericErrorMessage)}getTypeStr(){return{MP:"Main Project",PP:"Personal project",FO:"Forum",TO:"Tournament",ST:"Project",JO:"Journal"}[this.type]}isForum(){return"FO"===this.type}isTournament(){return"TO"===this.type}isEssayContest(){return"FE"===this.type}isPublicFigure(){return"PF"===this.type}isJournal(){return"JO"===this.type}}class Ab{constructor(e){this.id=e.id,this.questionAccessLevel=e.question_access_level,this.projectPermissions=e.project_permissions,this.questionPermissions=e.question_permissions,this.userId=e.user_id,this.username=e.username,this.projectRole=e.role}hasQuestionPerm(e){return Boolean(this.questionPermissions[e])}}class Db{constructor(e){this.projectId=e,this.members=[],this.projectRoles=Lb,this.invitedUsers={failed_invitations_already_member:[],failed_invitations_not_exists:[],invited_existing_users:[],invited_new_users:[]}}loadMembers(){Ir.get("/api2/projects/".concat(this.projectId,"/")).then((e=>{e.data.user_permissions.forEach((e=>{e.organization_id||this.members.push(new Ab(e))}),wo.genericErrorMessage)}))}inviteMembers(e){const t=(e=e.split(/\r?\n/)).map((e=>({username:e,role:"moderator"})));Ir.post("/api2/projects/".concat(this.projectId,"/invite-members/"),t).then((e=>{this.invitedUsers=e.data,[...this.invitedUsers.invited_existing_users,...this.invitedUsers.invited_new_users].forEach((e=>{this.members.push(new Ab(e))}))}),wo.genericErrorMessage)}editMember(e){let t="/api2/projects/".concat(this.projectId,"/members/").concat(e.userId,"/"),n=e.projectRole?{role:e.projectRole}:{project_permissions:e.projectPermissions,question_permissions:e.questionPermissions,question_access_level:e.questionAccessLevel,role:null};Ir.put(t,n).then((e=>(wo.addMessage({html:"Permissions changed."},2e3),e.data)),wo.genericErrorMessage)}removeMember(e){Ir.delete("/api2/projects/".concat(this.projectId,"/members/").concat(e,"/")).then((t=>{let n=this.members.findIndex((t=>t.userId==e));this.members.splice(n,1),wo.addMessage({html:"Member has been removed."},2e3)}),wo.genericErrorMessage)}}const Nb=new Date(2e3,0,0,12);function Rb(e){let t=e.getUTCFullYear()+"",n=e.getUTCMonth()+1+"",i=e.getUTCDate()+"";return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),"".concat(t,"-").concat(n,"-").concat(i)}function Ib(e,t,n,i){return t-=e,n-=e,i&&t>0&&n>0?n/t:1}function Fb(e){let t={};return"date"===e.qtype?t={type:"continuous",format:"date",low:("both"===e.boundary||"lower"===e.boundary)&&"tail",high:("both"===e.boundary||"upper"===e.boundary)&&"tail",scale:{min:Rb(e.datescale.min),max:Rb(e.datescale.max),deriv_ratio:Ib(e.publishDate,e.datescale.min,e.datescale.max,e.logscale)}}:"numeric"===e.qtype?t={type:"continuous",format:"num",low:("both"===e.boundary||"lower"===e.boundary)&&"tail",high:("both"===e.boundary||"upper"===e.boundary)&&"tail",scale:{min:e.numscale.min,max:e.numscale.max,deriv_ratio:Ib(0,e.numscale.min,e.numscale.max,e.logscale)}}:"binary"===e.qtype&&(t={type:"binary"}),t}function Ub(e){const t={},n=e.type,i=e.format;return"continuous"===n&&"date"===i?(t.qtype="date",t.datescale={min:new Date(e.scale.min),max:new Date(e.scale.max)}):"continuous"===n&&"num"===i?(t.qtype="numeric",t.numscale={min:e.scale.min,max:e.scale.max}):"binary"===n&&(t.qtype="binary"),e.low&&e.high?t.boundary="both":e.low?t.boundary="lower":e.high?t.boundary="upper":t.boundary="neither",t.logscale=!e.scale||1!==e.scale.deriv_ratio,t}class Bb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"D",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.label="",this.publishDate=new Date,this.publishTime=Nb,this.closeDate=null,this.closeTime=Nb,this.resolveDate=null,this.resolveTime=Nb,this.boundary="neither",this.logscale=!1,this.numscale={min:1,max:100},this.datescale={min:Pr(Date.now()),max:Pr(Date.now()+31536e6)},this.qtype=n,this.forecastingStarted=!1,this.isResolved=!1,this.status=t,e&&(this.id=e.id,this.label=e.sub_question_label,this.publishDate=new Date(e.publish_time),this.publishTime=new Date(e.publish_time),this.closeDate=new Date(e.close_time),this.closeTime=new Date(e.close_time),this.resolveDate=new Date(e.resolve_time),this.resolveTime=new Date(e.resolve_time),"continuous"===e.possibilities.type?this.qtype=e.possibilities.format:this.qtype="binary",this.forecastingStarted=e.prediction_count>0||"A"==this.status&&new Date>this.publishDate,this.isResolved=null!==e.resolution,Object.assign(this,Ub(e.possibilities))),this.canViewClosingDate=()=>!0,this.canViewResolveDate=()=>!0,this.canViewOpeningDate=()=>!this.forecastingStarted,this.canViewPossibleOutcomesDate=()=>"date"===this.qtype,this.canViewPossibleOutcomesNumeric=()=>"numeric"===this.qtype,this.canViewBoundaries=()=>this.canViewPossibleOutcomesDate()||this.canViewPossibleOutcomesNumeric()}apiData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n={sub_question_label:this.label,title_short:this.label,publish_time:this.publishDate,close_time:this.closeDate,resolve_time:this.resolveDate,type:"forecast"};return e.includes("{{")?n.title=e.replace(/{{.*}}/,this.label):n.title=e?"".concat(e," (").concat(this.label,")"):this.label,t.includes("{{")&&(n.title_short=t.replace(/{{.*}}/,this.label)),this.id&&(n.id=this.id),this.forecastingStarted||(n.possibilities=Fb(this)),n}isCloseBeforePublish(){return this.closeDate<this.publishDate}isResolveBeforeClose(){return this.resolveDate<this.closeDate}isLogDisabled(){return"date"===this.qtype?this.datescale.min<=this.publishDate||this.datescale.max<=this.publishDate:this.numscale.min<=0||this.numscale.max<=0}checkRange(e,t){return t(e+".sdate1")||t(e+".sdate2")||t(e+".snum1")||t(e+".snum2")||"date"==this.qtype&&this.datescale.max<this.datescale.min||"numeric"==this.qtype&&this.numscale.max<this.numscale.min}}var Hb=["$http","$location","$sce",function(e,t,n){return{restrict:"E",scope:{},template:'<form class="" name="qform" novalidate> <div class="field" ng-if="project && isNew"> <label for="project_name" class="label">{{project.getTypeStr()}}</label> <div class="control"> <input type="text" value="{{project.name}}" disabled="disabled" name="project_name" id="project_name"/> </div> </div> <div class="field" ng-if="canCrossPost()"> <label for="projects" class="label">Projects</label> <div class="input-select-wrapper"> <select name="projects" id="projects" multiple="multiple" class="multiselect" ng-model="qdata.projects" ng-options="project as project.name for project in allProjects track by project.id" required></select> </div> <div ng-show="qform.$submitted || qform.projects.$touched"> <div ng-show="qform.projects.$error.required" class="help is-danger"> Please select a project for this question. If it’s not part of a specific initiative, then as a default select the “Metaculus Community” project. </div> </div> </div> <div class="field" ng-if="canViewStatus()"> <label for="qstatus" class="label">Question Status</label> <div class="input-select-wrapper"> <select class="select" name="qstatus" id="qstatus" ng-model="qdata.status"> <option value="A">active</option> <option value="I">pending</option> <option value="T">draft</option> <option value="R">rejected</option> <option value="D">deleted</option> </select> </div> </div> <div class="field" ng-if="canViewAccess()"> <label for="qaccess" class="label">Access</label> <div class="input-select-wrapper"> <select class="select" name="qaccess" id="qaccess" ng-model="qdata.access"> <option value="public">public</option> <option value="private">private</option> </select> </div> <div class="help"> Public questions are viewable by anyone and a brief quality review will be performed by a community moderator. </div> <div class="help"> Private questions are only viewable by you, and private points won\'t be added to your overall Metaculus score. </div> </div> <div class="field" ng-if="canViewQuestionType() && !project.isForum()"> <label for="qtype" class="label">Question Type</label> <div class="input-select-wrapper"> <select class="select" name="qtype" id="qtype" ng-model="qdata.qtype" ng-disabled="project.isForum()"> <option value="binary">binary</option> <option value="numeric">numeric range</option> <option value="date">date range</option> <option value="group">group</option> <option value="conditional_group" ng-if="canAccessConditionalQuestionGroupsForm"> conditional pair </option> <option value="discussion">discussion</option> </select> </div> <div class="help" ng-bind-html="questionsTypeHelpText.binary" ng-if="qdata.qtype === \'binary\'"></div> <div class="help" ng-bind-html="questionsTypeHelpText.numeric" ng-if="qdata.qtype === \'numeric\'"></div> <div class="help" ng-bind-html="questionsTypeHelpText.date" ng-if="qdata.qtype === \'date\'"></div> <div class="help" ng-bind-html="questionsTypeHelpText.discussion" ng-if="qdata.qtype === \'discussion\'"></div> <div class="help" ng-bind-html="questionsTypeHelpText.group" ng-if="qdata.qtype === \'group\'"></div> <div class="help" ng-bind-html="questionsTypeHelpText.conditional_group" ng-if="qdata.qtype === \'conditional_group\'"></div> </div> <div class="field" ng-if="isConditionalGroup()"> <label class="label">Parent question</label> <input type="hidden" name="parentQuestion" ng-model="qdata.parentQuestion" required/> <div ng-if="qdata.parentQuestion"> <a ng-href="{{qdata.parentQuestion.page_url}}" target="_blank" class="no-underline"> <question-card question="qdata.parentQuestion" on-remove="removeConditionQuestion"></question-card> </a> </div> <div class="help"> <p>This is the question forecast conditions will be based on.</p> </div> <button class="button is-primary" ng-if="!qdata.parentQuestion" ng-click="openConditionModal()"> Select Condition </button> <div ng-show="parentQuestionError" class="help is-danger mt-8"> {{parentQuestionError}} </div> <div ng-show="qform.$submitted  || qform.parentQuestion.$touched" class="mt-8"> <div ng-show="qform.parentQuestion.$error.required" class="help is-danger"> You must select a condition in order to create a conditional pair. </div> </div> <question-picker-modal is-open="isConditionModalOpen" title="\'Select Condition\'" query-params="{status: \'unresolved\', forecast_type: \'binary\', unconditional: true}" on-close="closeConditionModal" validate-pasted-question="pastedConditionQuestionValidator" on-select-question="handleSelectConditionQuestion"></question-picker-modal> </div> <div class="field" ng-if="isConditionalGroup()"> <label class="label">Child question</label> <input type="hidden" name="conditionalQuestion" ng-model="qdata.conditionalQuestion" required/> <div ng-if="qdata.conditionalQuestion"> <a ng-href="{{qdata.conditionalQuestion.page_url}}" target="_blank" class="no-underline"> <question-card question="qdata.conditionalQuestion" on-remove="removeConditionalQuestion"></question-card> </a> </div> <div class="help"> <p> This is the question to forecast conditioned on the resolution of the Condition. </p> </div> <button class="button is-primary" ng-if="!qdata.conditionalQuestion" ng-click="openConditionalModal()"> Select Conditional Question </button> <div ng-show="conditionalQuestionError" class="help is-danger mt-8"> {{conditionalQuestionError}} </div> <div ng-show="qform.$submitted  || qform.conditionalQuestion.$touched" class="mt-8"> <div ng-show="qform.conditionalQuestion.$error.required" class="help is-danger"> You must select a conditional question in order to create a conditional pair. </div> </div> <question-picker-modal is-open="isConditionalModalOpen" title="\'Select Conditional Question\'" query-params="{status: \'unresolved\', forecast_type: \'binary\', unconditional: true}" on-close="closeConditionalModal" validate-pasted-question="pastedConditionalQuestionValidator" on-select-question="handleSelectConditionalQuestion"></question-picker-modal> </div> <div ng-if="!isConditionalGroup()"> <div class="field" ng-if="canViewTitle()"> <label for="title" class="label"> <span ng-if="qdata.qtype !== \'group\'">Question</span> <span ng-if="qdata.qtype === \'group\'">Long Title</span> </label> <div class="control"> <textarea ng-model="qdata.title" name="title" id="title" class="textarea" required ng-minlength="validation.minQ" ng-maxlength="validation.maxQ" placeholder="A single sentence that encapsulates the question you are trying to ask. "></textarea> </div> <div class="help" ng-if="qdata.qtype !== \'group\'"> Remember, questions end with a question mark :) </div> <div class="help" ng-if="qdata.qtype === \'group\'"> This should be a single question which summarises all subquestions, like "Who will win the 2022 NASA spacesuit contract?" or "What will be the GDP of the EU from 2025 to 2035?". </div> <div ng-show="qform.$submitted || qform.title.$touched"> <div ng-show="qform.title.$error.required" class="help is-danger"> required field </div> <div ng-show="qform.title.$error.minlength" class="help is-danger"> the question must be at least {{validation.minQ}} characters long </div> <div ng-show="qform.title.$error.maxlength" class="help is-danger"> the question must be at most {{validation.maxQ}} characters long </div> <div ng-repeat="err in apiErrors.title" class="help is-danger"> {{err}} </div> </div> </div> <div class="field" ng-if="canViewTitleShort()"> <label for="title_short" class="label"> <span ng-if="qdata.qtype !== \'group\'">Title</span> <span ng-if="qdata.qtype === \'group\'">Short Title</span> </label> <div class="control"> <input type="text" ng-model="qdata.title_short" name="title_short" id="title_short" class="input" required ng-minlength="validation.minTitle" ng-maxlength="validation.maxTitle" placeholder="A nice headline."/> </div> <div class="help" ng-if="canViewTitleShortText()"> This should be a shorter version of the Long Title, used where there is less space to display a title. Examples: "NASA 2022 Spacesuit Contract Winner" ; "EU GDP From 2025 to 2035". </div> <div ng-show="qform.$submitted || qform.title_short.$touched"> <div ng-show="qform.title_short.$error.required" class="help is-danger"> required field </div> <div ng-show="qform.title_short.$error.minlength" class="help is-danger"> the title must be at least {{validation.minTitle}} characters long </div> <div ng-show="qform.title_short.$error.maxlength" class="help is-danger"> the title must be at most {{validation.maxTitle}} characters long </div> <div ng-repeat="err in apiErrors.title" class="help is-danger"> {{err}} </div> </div> </div> <div class="field" ng-if="isNew && !isDiscussion()"> <label for="description" class="label">Background Information</label> <div class="control"> <textarea expandable-textarea class="textarea" ng-model="qdata.description" class="long-input" required name="description" ng-minlength="validation.minDesc" ng-maxlength="validation.maxDesc" placeholder="Question background information."></textarea> </div> <div class="help"> Provide background information for your question in a factual and unbiased tone. Links should be added to relevant and helpful resources using <a href="https://www.metaculus.com/help/markdown">markdown syntax</a>: <code>[Link title](https://link-url.com)</code>. </div> <div ng-show="qform.$submitted || qform.description.$touched"> <div ng-show="qform.description.$error.required" class="help is-danger"> required field </div> <div ng-show="qform.description.$error.minlength" class="help is-danger"> the background information must be at least {{validation.minDesc}} characters long </div> <div ng-show="qform.description.$error.maxlength" class="help is-danger"> the background information must be at most {{validation.maxDesc}} characters long </div> <div ng-repeat="err in apiErrors.description" class="help is-danger"> {{err}} </div> </div> </div> <div class="field" ng-if="isNew && !isDiscussion()"> <label for="resolution_criteria" class="label">Resolution Criteria</label> <div class="control"> <textarea expandable-textarea class="textarea" ng-model="qdata.resolution_criteria" class="long-input" required name="resolution_criteria" ng-minlength="validation.minDesc" ng-maxlength="validation.maxDesc" placeholder="Criteria by which the question will resolve."></textarea> </div> <div class="help"> A good question will almost always resolve unambiguously. If you have a data source by which the question will resolve, link to it here. If there is some simple math that will need to be done to resolve this question, define the equation in markdown: <code>\\[ y = ax^2+b \\]</code>. </div> <div ng-show="qform.$submitted || qform.resolution_criteria.$touched"> <div ng-show="qform.resolution_criteria.$error.required" class="help is-danger"> required field </div> <div ng-show="qform.resolution_criteria.$error.minlength" class="help is-danger"> the resolution criteria must be at least {{validation.minDesc}} characters long </div> <div ng-show="qform.resolution_criteria.$error.maxlength" class="help is-danger"> the resolution criteria must be at most {{validation.maxDesc}} characters long </div> <div ng-repeat="err in apiErrors.resolution_criteria" class="help is-danger"> {{err}} </div> </div> </div> <div class="field" ng-if="isNew && !isDiscussion()"> <label for="resolution_criteria" class="label">Fine Print</label> <div class="control"> <textarea expandable-textarea class="textarea" ng-model="qdata.fine_print" class="long-input" name="fine_print" ng-maxlength="validation.maxDesc" placeholder="Add optional extra little details here."></textarea> </div> <div class="help"> Use the fine print for any sort of lawyerly details which don’t need to be prominently displayed. This is optional. </div> </div> <div class="field" ng-if="canViewDescription()"> <label for="resolution_criteria" class="label">Description</label> <div class="control"> <textarea expandable-textarea class="textarea" ng-model="qdata.description" class="long-input" required name="description" ng-minlength="validation.minDesc" ng-maxlength="validation.maxDesc" placeholder="Text for the main body of the question."></textarea> </div> <div class="help" ng-if="canViewDescriptionText()"> <p>A good question description should have:</p> <ul> <li> Background information presented in a factual and unbiased tone. Links should be added to relevant and helpful resources using <a href="https://www.metaculus.com/help/markdown">markdown syntax</a>: <code>[Link title](https://link-url.com)</code>. </li> <li> A restatement of the main question, in bold and italics. E.g., “<code>***Will X happen by date Y?***</code>” </li> <li> A set of clear resolution criteria. If you have a data source by which the question will resolve, link to it here. If there is some simple math that will need to be done to resolve this question, define the equation in markdown: <code>\\[ y = ax^2+b \\]</code>. </li> </ul> </div> <div ng-show="qform.$submitted || qform.description.$touched"> <div ng-show="qform.description.$error.required" class="help is-danger"> required field </div> </div> </div> <div class="field"> <span class="label">Categories</span> <category-picker category-ids="qdata.categories" max-categories="5"></category-picker> </div> <div ng-show="qform.$submitted"> <div ng-repeat="err in apiErrors.categories" class="help is-danger"> {{err}} </div> </div> <div ng-if="!isResolved && qdata.qtype !== \'group\'" class="field"> <div class="field" ng-if="canViewOpeningDate()"> <label for="pdate" class="label">Opening Date</label> <div class="control date-time"> <input ng-model="qdata.publishDate" type="date" name="pdate" id="pdate" class="input" required/> <input ng-model="qdata.publishTime" ng-model-options="{timeSecondsFormat: \'\'}" type="time" name="ptime" id="ptime" class="input" step="60" required/> </div> <div ng-show="qform.$submitted || qform.pdate.$touched"> <div ng-show="checkRequired(\'pdate\')" class="help is-danger"> required field </div> </div> </div> <div class="field" ng-if="canViewClosingDate()"> <label for="cdate" class="label">Closing Date</label> <div class="control date-time"> <input type="date" ng-model="qdata.closeDate" name="cdate" id="cdate" class="input" max="{{ maximumDate }}" required/> <input type="time" ng-model="qdata.closeTime" ng-model-options="{timeSecondsFormat: \'\'}" name="ctime" id="ctime" class="input" step="60" required/> </div> <div ng-show="qform.$submitted || qform.cdate.$touched"> <div ng-show="checkRequired(\'cdate\')" class="help is-danger"> required field </div> <div ng-show="isCloseBeforePublish()" class="help is-danger"> The closing date must be after the question is published! </div> </div> </div> <div class="field" ng-if="canViewResolveDate()"> <label for="rdate" class="label">Resolve Date</label> <div class="control date-time"> <input ng-model="qdata.resolveDate" type="date" name="rdate" id="rdate" class="input" max="{{ maximumDate }}" required/> <input ng-model="qdata.resolveTime" ng-model-options="{timeSecondsFormat: \'\'}" type="time" name="rtime" id="rtime" class="input" step="60" required/> </div> <div class="help" ng-if="canViewClosingDate() || canViewOpeningDate() || canViewResolveDate()"> All times are expressed in your browser\'s local timezone. </div> <div ng-show="qform.$submitted || qform.rdate.$touched"> <div ng-show="checkRequired(\'rdate\')" class="help is-danger"> required field </div> <div ng-show="isResolveBeforeClose()" class="help is-danger"> The expected resolve date should be after the question closes. </div> <div ng-repeat="err in apiErrors.resolve_time" class="help is-danger"> {{err}} </div> </div> </div> </div> <div ng-if="!forecastingStarted"> <div class="field" ng-if="canViewPossibleOutcomesDate()"> <label for="dateInput" class="label">Possible Outcomes</label> <div class="control"> <input ng-model="qdata.datescale.min" type="date" name="sdate1" required class="input"/> <span style="margin:0 1em">to</span> <input ng-model="qdata.datescale.max" type="date" name="sdate2" required class="input"/> </div> <div class="mt-8 ml-4" style="float:right"> <metac-checkbox name="logscale" checked="qdata.logscale" disabled="isLogDisabled()"> Log Scale </metac-checkbox> </div> </div> <div class="field" ng-if="canViewPossibleOutcomesNumeric()"> <label for="dateInput" class="label">Possible Outcomes</label> <div class="control"> <input ng-model="qdata.numscale.min" type="number" name="snum1" placeholder="min" required class="input"/> <span style="margin:0 1em">to</span> <input ng-model="qdata.numscale.max" type="number" name="snum2" placeholder="max" required class="input"/> </div> <div class="mt-8 ml-4" style="float:right"> <metac-checkbox name="logscale" checked="qdata.logscale" disabled="isLogDisabled()"> Log Scale </metac-checkbox> </div> </div> <div ng-show="qform.$submitted"> <div ng-show="checkRange()" class="help is-danger">invalid range</div> </div> <div class="field" ng-if="canViewBoundaries()"> <label for="qboundary" class="label">Boundaries</label> <div class="input-select-wrapper"> <select class="select" name="qboundary" ng-model="qdata.boundary"> <option value="neither">closed boundaries</option> <option value="both">open boundaries</option> <option value="upper">open upper boundary</option> <option value="lower">open lower boundary</option> </select> </div> <div class="help" ng-show="canViewBoundaries()"> The type of boundary determines what will happen if a resolution falls outside of the given range. If the boundaries are <em>closed</em>, then an out-of-bounds resolution will be <em>ambiguous</em> and no one will get points. If the boundaries are <em>open</em>, then predictors will be able to assign probabilities to and get scored on out-of-bounds resolutions. </div> </div> </div> <div class="field" ng-if="canViewQuestionGroupType()"> <label for="groupType" class="label">Subquestion Type</label> <div class="input-select-wrapper"> <select class="select" name="groupType" id="groupType" ng-model="qdata.qGroupType"> <option value="binary">binary</option> <option value="numeric">numeric range</option> <option value="date">date range</option> </select> </div> <div class="help" ng-bind-html="questionsTypeHelpText.binary" ng-if="qdata.qGroupType==\'binary\'"></div> <div class="help" ng-bind-html="questionsTypeHelpText.numeric" ng-if="qdata.qGroupType==\'numeric\'"></div> <div class="help" ng-bind-html="questionsTypeHelpText.date" ng-if="qdata.qGroupType==\'date\'"></div> </div> <div class="field" ng-if="canViewQuestionGroupLabel()"> <label for="groupLabel" class="label">Group Variable</label> <div class="control"> <input type="text" name="groupLabel" id="groupLabel" ng-model="qdata.qGroupLabel" class="input" placeholder="A generic term for the subquestion labels" required/> </div> <div class="help"> A name for the parameter which varies between subquestions, like "Option", "Year" or "Country" </div> <div ng-show="qform.$submitted || qform.groupLabel.$touched"> <div ng-show="qform.groupLabel.$error.required" class="help is-danger"> required field </div> </div> </div> <div ng-if="qdata.qtype === \'group\'"> <div class="subquestion-edit-box" ng-repeat="subquestion in qdata.subquestions track by $index" ng-init="subquestionKey = \'subquestion[\' + $index + \']\'"> <h4 class="is-4">Subquestion {{$index+1}}</h4> <div class="field"> <label for="{{subquestionKey}}.label" class="label"> Subquestion Label </label> <div class="control"> <input type="text" placeholder="This subquestion\'s label/parameter" ng-model="subquestion.label" name="{{subquestionKey}}.label" id="{{subquestionKey}}.label" class="input" required ng-maxlength="validation.maxTitle"/> </div> <div class="help"> The label or parameter which identifies this subquestion, like "Option 1", "2033" or "France" </div> <div ng-show="qform.$submitted || qform[subquestionKey + \'.label\'].$touched"> <div ng-show="checkRequired(\'{{subquestionKey}}.label\')" class="help is-danger"> required field </div> <div ng-show="qform[subquestionKey + \'.label\'].$error.maxlength" class="help is-danger"> the subquesiton label must be at most {{validation.maxTitle}} characters long </div> </div> </div> <div ng-if="!subquestion.isResolved" class="field"> <div class="field" ng-if="subquestion.canViewOpeningDate()"> <label for="{{subquestionKey}}.pdate" class="label">Opening Date</label> <div class="control date-time"> <input type="date" ng-model="subquestion.publishDate" name="{{subquestionKey}}.pdate" id="{{subquestionKey}}.pdate" class="input" required/> <input type="time" ng-model="subquestion.publishTime" ng-model-options="{timeSecondsFormat: \'\'}" name="{{subquestionKey}}.ptime" id="{{subquestionKey}}.ptime" class="input" step="60" required/> </div> <div ng-show="qform.$submitted || qform[subquestionKey + \'.pdate\'].$touched"> <div ng-show="checkRequired(\'{{subquestionKey}}.pdate\')" class="help is-danger"> required field </div> </div> </div> <div class="field" ng-if="subquestion.canViewClosingDate()"> <label for="{{subquestionKey}}.cdate" class="label">Closing Date</label> <div class="control date-time"> <input type="date" ng-model="subquestion.closeDate" name="{{subquestionKey}}.cdate" id="{{subquestionKey}}.cdate" class="input" max="{{ maximumDate }}" required/> <input type="time" ng-model="subquestion.closeTime" ng-model-options="{timeSecondsFormat: \'\'}" name="{{subquestionKey}}.ctime" id="{{subquestionKey}}.ctime" class="input" step="60" required/> </div> <div ng-show="qform.$submitted || qform[subquestionKey + \'.cdate\'].$touched"> <div ng-show="checkRequired(\'{{subquestionKey}}.cdate\')" class="help is-danger"> required field </div> <div ng-show="subquestion.isCloseBeforePublish()" class="help is-danger"> The closing date must be after the question is published! </div> </div> </div> <div class="field" ng-if="subquestion.canViewResolveDate()"> <label for="{{subquestionKey}}.rdate" class="label">Resolve Date</label> <div class="control date-time"> <input type="date" ng-model="subquestion.resolveDate" name="{{subquestionKey}}.rdate" id="{{subquestionKey}}.rdate" class="input" max="{{ maximumDate }}" required/> <input type="time" ng-model="subquestion.resolveTime" ng-model-options="{timeSecondsFormat: \'\'}" name="{{subquestionKey}}.rtime" id="{{subquestionKey}}.rtime" class="input" step="60" required/> </div> <div ng-show="qform.$submitted || qform[subquestionKey + \'.rdate\'].$touched"> <div ng-show="checkRequired(\'{{subquestionKey}}.rdate\')" class="help is-danger"> required field </div> <div ng-show="subquestion.isResolveBeforeClose()" class="help is-danger"> The expected resolve date should be after the question closes. </div> </div> <div class="help" ng-if="subquestion.canViewClosingDate() || subquestion.canViewOpeningDate() || subquestion.canViewResolveDate()"> All times are expressed in your browser\'s local timezone. </div> </div> </div> <div ng-if="!subquestion.forecastingStarted"> <div class="field" ng-if="subquestion.canViewPossibleOutcomesDate()"> <label for="{{subquestionKey}}.dateInput" class="label">Possible Outcomes</label> <div class="control"> <input ng-model="subquestion.datescale.min" type="date" name="{{subquestionKey}}.sdate1" required class="input"/> <span style="margin:0 1em">to</span> <input ng-model="subquestion.datescale.max" type="date" name="{{subquestionKey}}.sdate2" required class="input"/> </div> <div class="mt-8 ml-4" style="float:right"> <metac-checkbox name="{{subquestionKey}}.logscale" checked="subquestion.logscale" disabled="subquestion.isLogDisabled()"> Log Scale </metac-checkbox> </div> </div> <div class="field" ng-if="subquestion.canViewPossibleOutcomesNumeric()"> <label for="{{subquestionKey}}.dateInput" class="label">Possible Outcomes</label> <div class="control"> <input ng-model="subquestion.numscale.min" type="number" name="{{subquestionKey}}.snum1" placeholder="min" required class="input"/> <span style="margin:0 1em">to</span> <input ng-model="subquestion.numscale.max" type="number" name="{{subquestionKey}}.snum2" placeholder="max" required class="input"/> </div> <div class="mt-8 ml-4" style="float:right"> <metac-checkbox name="{{subquestionKey}}.logscale" checked="subquestion.logscale" disabled="subquestion.isLogDisabled()"> Log Scale </metac-checkbox> </div> </div> <div ng-show="qform.$submitted"> <div ng-show="subquestion.checkRange(subquestionKey, checkRequired)" class="help is-danger"> invalid range </div> </div> <div class="field" ng-if="subquestion.canViewBoundaries()"> <label for="{{subquestionKey}}.qboundary" class="label">Boundaries</label> <div class="input-select-wrapper"> <select class="select" name="{{subquestionKey}}.qboundary" ng-model="subquestion.boundary"> <option value="neither">closed boundaries</option> <option value="both">open boundaries</option> <option value="upper">open upper boundary</option> <option value="lower">open lower boundary</option> </select> </div> <div class="help" ng-show="subquestion.canViewBoundaries()"> The type of boundary determines what will happen if a resolution falls outside of the given range. If the boundaries are <em>closed</em>, then an out-of-bounds resolution will be <em>ambiguous</em> and no one will get points. If the boundaries are <em>open</em>, then predictors will be able to assign probabilities to and get scored on out-of-bounds resolutions. </div> </div> </div> <div class="columns flex-end"> <span ng-click="removeSubquestion($index)" class="link" ng-if="!subquestion.forecastingStarted">Remove Subquestion</span> </div> </div> <div class="mt-20"> <span class="button is-secondary" ng-click="addSubquestion()"> Add Subquestion </span> </div> </div> </div> <div class="mt-24"> <input type="submit" class="button is-secondary mr-8" value="Preview" ng-click="submitPreview()" ng-disabled="isSubmitting"/> <input type="submit" class="button is-primary" value="Submit" ng-click="submitQuestion()" ng-disabled="isSubmitting"/> </div> <div ng-show="qform.$submitted && (hasAPIErrors || hasFormErrors)" class="help is-danger"> <p ng-if="hasAPIErrors">Unexpected error. Could not submit the question.</p> <p ng-if="hasFormErrors" ng-repeat="(key, error) in formErrors"> {{error}} </p> </div> </form> <div class="question-preview" ng-if="showPreview" style="margin:2em"> <h2 class="section-header">{{questionPreview.title_short}}</h2> <div class="content" bind-html-math="questionPreview.description_html"></div> <continuous-prediction-control ng-if="questionPreview.isContinuousType" question="questionPreview" prediction="qdata.dummyPrediction1"></continuous-prediction-control> <binary-prediction-control ng-if="questionPreview.isBinaryType" question="questionPreview" prediction="qdata.dummyPrediction2" has-histogram="true" has-stats="true"></binary-prediction-control> </div> ',link:function(i){i.canAccessConditionalQuestionGroupsForm=window.metacData.canAccessConditionalQuestionGroupsForm;var r=window.metacData.question,o=window.metacData.project,a=window.metacData.related_question;let s;if(r){const e=r.type;s="group"===e||"conditional_group"===e?new hv(r):new pv(r)}if(i.hasFormErrors=!1,i.formErrors={},i.related_question=a&&new pv(a),i.project=o&&new jb(o),i.allProjects=[],i.isSubmitting=!1,i.isNew=!s,i.isConditionModalOpen=!1,i.isConditionalModalOpen=!1,i.qdata={status:"I",access:"public",publishDate:Pr(Date.now()),qtype:t.search().qtype||"binary",categories:[],datescale:{min:Pr(Date.now()),max:Pr(Date.now()+31536e6)},numscale:{min:1,max:100},logscale:!1,boundary:"neither",projects:r&&r.projects,subquestions:[],qGroupType:"binary",qGroupLabel:"",parentQuestion:null,conditionalQuestion:null,closeTime:Nb,resolveTime:Nb,publishTime:Nb},i.validation={minQ:10,maxQ:200,minTitle:10,maxTitle:45,minDesc:0,maxDesc:6e4},i.qdata.publishDate.setSeconds(0),i.qdata.publishDate.setMilliseconds(0),i.forecastingStarted=!1,i.apiErrors={},i.parentQuestionError="",i.conditionalQuestionError="",i.showPreview=!1,i.isDiscussion=()=>"discussion"===i.qdata.qtype,i.isConditionalGroup=()=>"conditional_group"===i.qdata.qtype,i.canViewStatus=()=>s&&!["T","V"].includes(s.status)&&s.canChangeStatus(),i.canViewQuestionType=()=>!i.forecastingStarted,i.canViewQuestionGroupType=()=>!i.forecastingStarted&&"group"===i.qdata.qtype,i.canViewQuestionGroupLabel=()=>"group"===i.qdata.qtype,i.canViewTitle=()=>!i.isDiscussion(),i.canViewTitleShort=()=>!0,i.canViewTitleShortText=()=>!i.isDiscussion(),i.canViewDescription=()=>!i.isNew||i.isDiscussion(),i.canViewDescriptionText=()=>!i.isDiscussion(),i.canViewAccess=()=>i.isNew&&!i.project,i.canViewBoundaries=()=>i.canViewPossibleOutcomesDate()||i.canViewPossibleOutcomesNumeric(),i.canViewPossibleOutcomesDate=()=>"date"===i.qdata.qtype,i.canViewPossibleOutcomesNumeric=()=>"numeric"===i.qdata.qtype,i.canViewResolveDate=()=>!i.isDiscussion(),i.canViewOpeningDate=()=>s&&"A"==s.status&&!s.isLive&&!i.isDiscussion(),i.canViewClosingDate=function(){return"discussion"!=i.qdata.qtype||s&&s.has_perm("COMMENT_MOD")},i.canCrossPost=()=>!i.isNew&&s.user_perms.CROSSPOST&&!s.isPrivate(),i.questionsTypeHelpText={binary:n.trustAsHtml('Binary questions are generally of the form "Will X happen?" They either resolve <em>positively</em> or <em>negatively</em>.'),numeric:n.trustAsHtml("A numeric question asks about the value of an unknown future <em>quantity</em>. Its resolution will typically fall within a specified range."),date:n.trustAsHtml("A date question asks <em>when</em> something will happen. Its resolution will typically fall within a specified range."),discussion:n.trustAsHtml("Discussion questions don't have any associated predictions, and no one will win or lose points on them. Instead, they're a place to discuss broad topics outside of the context of a single predicted outcome."),group:n.trustAsHtml("A group of questions, usually with a single variable differentiating subquestions, like a year or country the subquestion applies to."),conditional_group:n.trustAsHtml("Conditional groups ask one question for each of the possible outcomes of an existing Metaculus question.")},i.maximumDate="9999-12-31T23:59:59",e.get("/api2/projects/?can-crosspost=true&limit=1000").then((function(e){i.allProjects=e.data.results.filter((e=>"PP"!==e.type))}),So),s){var l=i.qdata;if(l.qtype=s.type,l.url=s.url,l.title=s.title,l.title_short=s.title_short,l.description=s.description,l.resolution_criteria=s.resolution_criteria,l.status=s.status,l.publishDate=new Date(s.publish_time),l.publishTime=s.publish_time?new Date(s.publish_time):Nb,l.closeDate=s.close_time?new Date(s.close_time):null,l.resolveDate=s.resolve_time?new Date(s.resolve_time):null,l.closeTime=s.close_time?new Date(s.close_time):Nb,l.resolveTime=s.resolve_time?new Date(s.resolve_time):Nb,l.categories=s.categories,Object.assign(l,Ub(s.possibilities)),s.isGroupType)l.qGroupLabel=s.group_label,l.qtype=s.type,l.title=s.edit_form_data.title,l.title_short=s.edit_form_data.title_short,window.metacData.question.sub_questions&&(l.subquestions=window.metacData.question.sub_questions.map((e=>new Bb(e,l.status))).sort(((e,t)=>e.id-t.id)),l.subquestions.length>0&&(l.qGroupType=l.subquestions[0].qtype));else if(s.isConditionalGroupType){l.qtype=s.type;const t=s.conditioned_on;t&&e.get("/api2/questions/".concat(t,"/")).then((e=>{l.parentQuestion=new pv(e.data)}),(()=>{i.parentQuestionError="Failed to load condition."}));const n=s.unconditional_question;n&&e.get("/api2/questions/".concat(n,"/")).then((e=>{l.conditionalQuestion=new pv(e.data)}),(()=>{i.conditionalQuestionError="Failed to load the conditional question."}))}i.forecastingStarted=(s.prediction_count>0||"A"==l.status&&new Date>l.publishDate)&&!i.isDiscussion();let t=s.resolution;i.isResolved=null!=t}else i.isResolved=!1,i.project&&i.project.isForum()&&(i.qdata.qtype="discussion");function u(e){return["numeric","date","binary"].includes(e)}i.isCloseBeforePublish=function(){return i.qdata.closeDate<i.qdata.publishDate},i.isResolveBeforeClose=function(){return i.qdata.resolveDate<i.qdata.closeDate},i.isLogDisabled=function(){var e=i.qdata;return"date"===e.qtype?e.datescale.min<=e.publishDate||e.datescale.max<=e.publishDate:e.numscale.min<=0||e.numscale.max<=0},i.checkRequired=function(e){var t=(i.qform[e]||{}).$error||{};return t.required||t.datetime||t.datetimelocal||t.number},i.checkRange=function(){var e=i.qdata,t=i.checkRequired;return t("sdate1")||t("sdate2")||t("snum1")||t("snum2")||"date"==e.qtype&&e.datescale.max<e.datescale.min||"numeric"==e.qtype&&e.numscale.max<e.numscale.min},i.submitPreview=function(){i.submitQuestion(!0)},i.submitQuestion=function(t){if(i.hasFormErrors=!1,i.formErrors={},!i.isSubmitting&&function(){const e=u(i.qdata.qtype),t="group"===(n=i.qdata).qtype&&n.sub_questions;var n;const r=e||t;var o,a;return i.qform.$invalid&&(i.formErrors.genericError="Form contains errors."),r&&(i.checkRange()&&(i.formErrors.rangeErrror="Some range of the question is invalid."),i.isResolved||!i.isCloseBeforePublish()&&!i.isResolveBeforeClose()||(i.formErrors.ivalidTimes="Publish, close or resolve time are incoherent.")),"conditional_group"===i.qdata.qtype&&((null===(o=i.qdata.parentQuestion)||void 0===o?void 0:o.resolve_time)>(null===(a=i.qdata.conditionalQuestion)||void 0===a?void 0:a.resolve_time)&&(i.formErrors.parentResolveTime="Parent question must resolve before this question."),i.qdata.parentQuestion&&i.qdata.conditionalQuestion&&i.qdata.parentQuestion.id===i.qdata.conditionalQuestion.id&&(i.formErrors.conditionalMustBeDifferent="Condition and conditional question must be different questions.")),!!Mb()(i.formErrors)||(i.hasFormErrors=!0,!1)}()){var n=function(){const e=i.qdata;let t;if("conditional_group"===e.qtype){var n,r;t={type:e.qtype,conditioned_on:null===(n=e.parentQuestion)||void 0===n?void 0:n.id,unconditional_question:null===(r=e.conditionalQuestion)||void 0===r?void 0:r.id,status:"public"===e.access?"T":"V"}}else{let n=e.description||"";i.isNew&&"discussion"!==e.qtype&&(n+="\n\n***".concat(e.title.replace(/{{(.*)}}/,"$1"),"***"),e.resolution_criteria&&(n+="\n\n".concat(e.resolution_criteria)),e.fine_print&&(n+="\n\n[fine-print]\n".concat(e.fine_print,"\n[/fine-print]"))),t={title:e.title,title_short:e.title_short,question:e.question,description:n,categories:[]}}if(i.isNew||(t.projects_input=i.allProjects.map((t=>({id:t.id,selected:Boolean(e.projects.find((e=>e.id===t.id)))})))),"conditional_group"===e.qtype)return t;if("discussion"===e.qtype){t.title=t.title_short;let n=new Date("9999-01-01"),i=window.metacData.question;i&&"A"!==i.status&&"A"===e.status?(t.publish_time=new Date,t.close_time=n,t.resolve_time=n):(t.publish_time=new Date,t.close_time=e.closeDate||n,t.resolve_time=e.resolveDate||n)}else i.isResolved||(e.publishDate.setHours(e.publishTime.getHours()),e.publishDate.setMinutes(e.publishTime.getMinutes()),t.publish_time=e.publishDate,e.closeDate&&(e.closeDate.setHours(e.closeTime.getHours()),e.closeDate.setMinutes(e.closeTime.getMinutes()),t.close_time=e.closeDate),e.resolveDate&&(e.resolveDate.setHours(e.resolveTime.getHours()),e.resolveDate.setMinutes(e.resolveTime.getMinutes()),t.resolve_time=e.resolveDate));for(var o of i.qdata.categories)t.categories.push(o);return i.isNew?(t.status=i.isDiscussion()||"public"===e.access?"T":"V",i.project&&(t.projects_input=[{id:i.project.id,selected:!0}]),i.related_question&&(t.parent_question_id=i.related_question.id)):i.canViewStatus()&&(t.status=e.status),i.canViewQuestionType()&&(u(e.qtype)?(t.type="forecast",t.possibilities=Fb(e)):t.type=e.qtype),"group"===e.qtype&&(t.possibilities={},t.title=t.title.replace(/{{(.*)}}/,"$1"),t.title_short=t.title_short.replace(/{{(.*)}}/,"$1"),t.edit_form_data={title:e.title,title_short:e.title_short},t.group_label=e.qGroupLabel,e.subquestions&&(t.sub_questions=e.subquestions.map((t=>t.apiData(e.title,e.title_short))))),t}();i.hasAPIErrors=!1,n.preview=t,(i.qdata.url?e.patch(i.qdata.url,n):e.post("/api2/questions/",n)).then((function(e){let n=e.data;i.apiErrors={},t?(i.showPreview=!0,i.questionPreview=new pv(n)):window.location.replace(n.page_url)}),(function(e){let t=e.data;i.isSubmitting=!1,i.apiErrors=t,i.hasAPIErrors=!0}))}},i.addSubquestion=()=>{if(i.qdata.subquestions.length){let e=i.qdata.subquestions.length-1,t=i.qdata.subquestions[e];t.publishDate.setHours(t.publishTime.getHours()),t.publishDate.setMinutes(t.publishTime.getMinutes()),t.closeDate.setHours(t.closeTime.getHours()),t.closeDate.setMinutes(t.closeTime.getMinutes()),t.resolveDate.setHours(t.resolveTime.getHours()),t.resolveDate.setMinutes(t.resolveTime.getMinutes());let n=new Bb({id:null,title_short:t.label,publish_time:t.publishDate,close_time:t.closeDate,resolve_time:t.resolveDate,resolution:null,prediction_count:0,possibilities:Fb(t)});i.qdata.subquestions.push(n)}else i.qdata.subquestions.push(new Bb(null,"D",i.qdata.qGroupType))},i.removeSubquestion=e=>{i.qdata.subquestions.splice(e,1)},i.$watch("qdata.qGroupType",((e,t)=>{e!=t&&i.qdata.subquestions.forEach((t=>t.qtype=e))})),i.openConditionModal=()=>{i.isConditionModalOpen=!0},i.closeConditionModal=()=>{i.isConditionModalOpen=!1,i.$apply()},i.handleSelectConditionQuestion=e=>{i.qdata.parentQuestion=e,delete i.formErrors.parentResolveTime,i.closeConditionModal()},i.removeConditionQuestion=()=>{i.qdata.parentQuestion=null,i.$apply()},i.pastedConditionQuestionValidator=e=>{if(!e.isForecastType||!e.isBinaryType||e.isResolved)return"Condition must be an unresolved binary question."},i.openConditionalModal=()=>{i.isConditionalModalOpen=!0},i.closeConditionalModal=()=>{i.isConditionalModalOpen=!1,i.$apply()},i.handleSelectConditionalQuestion=e=>{i.qdata.conditionalQuestion=e,i.closeConditionalModal()},i.removeConditionalQuestion=()=>{i.qdata.conditionalQuestion=null,i.$apply()},i.pastedConditionalQuestionValidator=e=>{if(!e.isForecastType||!e.isBinaryType||e.isResolved)return"Conditional question must be an unresolved binary question."}}}}];pi.directive("questionEdit",Hb);var zb=["$http",function(e){return{restrict:"E",scope:{},template:'<form name="qform" novalidate> <h3 class="subsection-header">Title</h3> <p>{{qdata.title}}</p> <h3 class="subsection-header">Categories</h3> <category-picker category-ids="qdata.categories" max-categories="5"></category-picker> <div class="button-row--submit" style="margin-top:24px"> <input type="submit" class="button is-primary" value="Submit" ng-click="submitQuestion()" ng-disabled="isSubmitting"/> </div> </form> ',link:function(t){t.qdata={categories:window.metacData.question.categories,url:window.metacData.question.url,title:window.metacData.question.title},t.submitQuestion=function(){var n={categories:t.qdata.categories};e.patch(t.qdata.url,n).then((function(e){let n=e.data;t.apiErrors={},window.location.replace(n.page_url)}),So)}}}}];function Vb(e,t){return!!Gb(e)&&Gb(t)}function Gb(e){return!!e&&!e.split(" ").every((e=>/^(cat|author|exclude|include|type):[^\s]+$/.test(e)))}let Qb;function Wb(e,t){if(!window.metacData.ld_client_id)return console.log("LaunchDarkly client ID not set, returning default value"),t;const n=function(){let e={};const t=window.metacData.user;return e=t&&t.isAuthenticated?{kind:"user",anonymous:!1,key:""+t.id,username:t.username,email:t.email,_meta:{privateAttributes:["email"]}}:{kind:"user",anonymous:!0},Qb||(Qb=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=xb(n),r=mb(e,t,n,i,Pb),o=r.client,a=r.options,s=r.emitter,l=new Promise((function(e){var t=s.on(Eb,(function(){s.off(Eb,t),e()}))}));o.waitUntilGoalsReady=function(){return l},a.fetchGoals?Tb(r,(function(){return s.emit(Eb)})):s.emit(Eb),"complete"!==document.readyState?window.addEventListener("load",r.start):r.start();var u=function(){i.synchronousFlush=!0,o.flush().catch((function(){})),i.synchronousFlush=!1},c=function(){"hidden"===document.visibilityState&&u()};return document.addEventListener("visibilitychange",c),window.addEventListener("pagehide",u),o}(window.metacData.ld_client_id,e,{bootstrap:window.metacData.ld_all_flags}),Qb.identify(e,t.id,(function(){console.debug("New LD context's flags available")}))),Qb}();return n.variation(e,t)}function Yb(e){for(var t=/\+/g,n=/([^&=]+)=?([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(t," "))},r=e,o=n.exec(r),a={};o;)a[i(o[1])]=i(o[2]),o=n.exec(r);return a}pi.directive("questionEditCategories",zb);var Kb={fewestComments:{title:"fewest comments",api:"comment_count",hidden:e=>"pending"!=e&&"unmoderated"!=e,next:"interest",priority:1},interest:{title:"interest",api:"-votes"},activity:{title:"activity",api:"-activity"},dateSubmitted:{title:"date submitted",api:"created_time",hidden:e=>"pending"!=e&&"unmoderated"!=e},newest:{title:"newest",api:"-publish_time",hidden:e=>"all"!=e,next:"activity",priority:1},relevance:{title:"relevance",api:"-rank",hidden:(e,t,n)=>!n,next:"activity"},oldestPrediction:{title:"oldest prediction",api:"last_prediction_time",hidden:(e,t)=>"predicted"!=t,next:"activity"},soonestOpening:{title:"soonest opening",api:"status,publish_time",hidden:e=>"upcoming"!=e,next:"recentlyOpened",priority:1},recentlyOpened:{title:"recently opened",api:"-publish_time",hidden:e=>"open"!=e,next:"soonestOpening"},soonestClosing:{title:"soonest closing",api:"close_time",hidden:e=>"open"!=e,next:"recentlyClosed"},recentlyClosed:{title:"recently closed",api:"-close_time",hidden:e=>"closed"!=e,next:"soonestClosing"},soonestResolving:{title:"soonest resolving",api:"resolve_time",hidden:e=>"open"!=e&&"closed"!=e,next:"recentlyResolved"},recentlyResolved:{title:"recently resolved",api:"-resolve_time",hidden:e=>"resolved"!=e,next:"soonestResolving",priority:1}};for(let e in Kb)Kb[e].id=e;var Zb={};!function(){var e=window.location.hash.substring(1),t=e.search(/\?/);t=t<0?e.length:t;var n=e.substring(0,t),i=e.substring(t+1),r=window.location.search.substring(1),o=/\/search\/(.+?)\//.exec(n);Zb.fromHash=Yb(i),Zb.noHash=Yb(r),o&&(Zb.fromHash.search=o[1])}();var Jb=["$http","$q","$location",function(e,t,n){function i(e){return e.map(Ob)}function r(e,t){return t&&e.status===t.status&&e.type===t.type&&e.order_by===t.order_by&&e.guessed_by===t.guessed_by&&e.not_guessed_by===t.not_guessed_by&&e.author===t.author&&e.upvoted_by===t.upvoted_by&&e.commented_by===t.commented_by&&e.access===t.access&&e.is_public===t.is_public&&(!e.search&&!t.search||e.search===t.search)}var o=["relevance","fewestComments","activity","interest","dateSubmitted","newest","oldestPrediction","soonestOpening","recentlyOpened","soonestClosing","recentlyClosed","soonestResolving","recentlyResolved"],a={order_by:"-activity"};window.metacData.canViewPending&&(a.status="active");var s={featured:a,"my-predictions":{order_by:"close_time",status:"open",guessed_by:To.id}};return new class{constructor(){this.qlist=i(window.metacData.initialQList.results||[]),this.nextPage=window.metacData.initialQList.next,this.oldQuery=window.metacData.initialQParams,this.apiURL=window.metacData.qlistURL,this.baseURL=window.metacData.qlistBaseUrl,this.isLoading=!1,this.initializeQuery(),this.searchStr=n.search().search||"",this.searchCatStr=n.search().categories||"",this.categoryList=(e,t)=>{t(Rh.map((e=>({value:e.id,key:e.long_name}))))},Rh.load(),this.extraQueryParams=function(){const e={};return window.metacData.project_id?e.project=window.metacData.project_id:e["main-feed"]=!0,window.metacData.questionType&&(e.type=window.metacData.questionType),e}()}initializeQuery(){var e=!r(Zb.fromHash,{}),t=!r(Zb.noHash,{}),i=!r(n.search(),{});e&&!i?(n.search(Zb.fromHash),n.path(this.baseURL),n.hash(null)):t&&!i&&(n.search(this.oldQuery),n.path(this.baseURL),n.hash(null))}fullQuery(){var e=n.path().split("/")[this.baseURL.split("/").length-1],t=s[e]||a;return Object.assign({},t,this.extraQueryParams,n.search())}get listType(){var e=n.path().split("/")[this.baseURL.split("/").length-1],t=n.search(),i=this.fullQuery();if(e)return e;if(void 0!==t.search){for(e in s)if(s[e].search===t.search)return e;return"search"}for(e in s)if(r(s[e],i))return e;return null}setListType(e){"search"===e?(n.search(Object.assign({},this.fullQuery(),{search:this.searchStr,categories:this.searchCatStr})),n.path(this.baseURL)):s[e]?(n.search({}),n.path(this.baseURL+e+"/")):(n.search(this.fullQuery()),n.path(this.baseURL))}get qstatus(){return this.fullQuery().status||"all"}set qstatus(e){"publications"===e&&window.location.assign(this.baseURL+"?status="+e),n.search(this.fullQuery()),n.path(this.baseURL),n.search("status","all"===e?null:e),this.can_check_moderating||n.search("commented_by",null),this._updateOrderBy()}get qtype(){return this.fullQuery().type||"all"}set qtype(e){n.search("type","all"===e?null:e)}orderOptions(){var e,t,i=[];for(e=0;e<o.length;e++)(t=Kb[o[e]]).hidden&&t.hidden(this.qstatus,this.pstatus,Vb(this.searchStr,n.search().search))||i.push(t);return i}get searchQueryParam(){return n.search().search}_updateOrderBy(){var e=this.orderBy;if(e&&e.hidden&&e.hidden(this.qstatus,this.pstatus,this.searchStr,n.search().search)&&(e=Kb[e.next]),!e||e.hidden&&e.hidden(this.qstatus,this.pstatus,this.searchStr,n.search().search)){let t=-1,n=this.orderOptions();for(let i=0;i<n.length;i++)(n[i].priority||0)>t&&(e=n[i])}this.orderBy=e}get orderBy(){var e=this.fullQuery().order_by,t=this.orderOptions();for(let n of t)if(n.api===e)return n;return null}set orderBy(e){n.search(this.fullQuery()),n.path(this.baseURL),n.search("order_by",e&&e.api||null)}get can_check_moderating(){return["pending","upcoming","rejected"].indexOf(this.qstatus)>=0}get pstatus(){var e=this.fullQuery();return e.guessed_by?"predicted":e.not_guessed_by?"not-predicted":e.author?"author":e.commented_by&&this.can_check_moderating?"moderating":e.upvoted_by?"interested":e.access?e.access:"any"}set pstatus(e){n.search(this.fullQuery()),n.path(this.baseURL),n.search("guessed_by","predicted"===e?To.id:null),n.search("not_guessed_by","not-predicted"===e?To.id:null),n.search("author","author"===e?To.id:null),n.search("upvoted_by","interested"===e?To.id:null),n.search("access","private"===e?"private":null),n.search("commented_by","moderating"===e?To.id:null),this._updateOrderBy()}pstatusIsPredicted(){return"predicted"===this.pstatus}updateSearch(){let e=this.fullQuery();n.search(e),""!==this.searchStr&&Vb(this.searchStr,this.searchStr)?n.search("order_by","-rank"):n.search("order_by","-activity"),n.search("search",this.searchStr),this._updateOrderBy()}reloadList(){if(r(this.fullQuery(),this.oldQuery))return;this.isLoading=!0,this.qlist=[];const t=this.fullQuery();this.oldQuery=t;const n=Object.assign({},t,{has_group:!1});e({method:"GET",url:this.apiURL,params:n}).then(function(e){this.qlist=i(e.data.results||[]),this.nextPage=e.data.next,window.ga("send","pageview")}.bind(this),function(e){}.bind(this)).finally(function(){this.isLoading=!1}.bind(this))}loadMoreData(){if(!this.nextPage){var n=t.defer();return n.reject(),n.promise}return e.get(this.nextPage).then(function(e){var t,n,r=i(e.data.results||[]),o=this.qlist||[],a=[],s={};for(t=0;t<o.length;t++)n=o[t],a.push(n),s[n.id]=!0;for(t=0;t<r.length;t++)s[(n=r[t]).id]||a.push(n);this.qlist=a,this.nextPage=e.data.next}.bind(this),So)}}}],Xb=["$scope","questionList",function(e,t){e.newSearchFilterFlag=Wb("questions-search-filter-react",!1),e.qlist=t,e.compactMode=ka.getItem("compactQList")||"standard",e.setQuestionList=t=>{e.qlist.qlist=t,e.$apply()},e.setLoading=t=>{e.qlist.isLoading=t,e.$apply()},e.setNextPage=t=>{e.qlist.nextPage=t,e.$apply()},e.setIsError=t=>{e.isError=t,e.$apply()},e.myContent=window.metacData.authored?window.metacData.authored.map((e=>new pv(e))):[],e.$watch("compactMode",(function(e){ka.setItem("compactQList",e)})),(!e.newSearchFilterFlag||e.newSearchFilterFlag&&"/questions"!==window.location.pathname)&&e.$on("$locationChangeSuccess",(function(){e.qlist.reloadList()}))}];pi.directive("questionTable",(function(){return{template:'<div class="question-table__no-results" ng-if="!(questionList && questionList.length) || isError" ng-cloak> <span ng-if="!reloadingData && !isError">No results found.</span> <span ng-if="isError" class="error">An error occurred while fetching questions</span> <svg class="loading-animation" ng-if="reloadingData"></svg> </div> <div ng-repeat="question in questionList"> <public-figure-table-row ng-if="question.isPublicFigureType" question="question" expanded-default="true" show-my-predictions="true"></public-figure-table-row> <a ng-href="{{question.page_url}}" style="text-decoration:none"> <question-table-row ng-if="!question.isPublicFigureType" question="question" compact-mode="compactMode" show-my-predictions="true" open-reaffirm-modal="openReaffirmQuestionModal" show-reaffirm-section="showReaffirmSection"></question-table-row> </a> </div> <question-status-modal ng-if="modals.isActive(\'question-status\')" data="modals.data" on-close="handleStatusModalClose"></question-status-modal> <reaffirm-question-modal is-open="isReaffirmQuestionModalOpen" on-close="onCancelReaffirmQuestionModal" on-cancel="onCancelReaffirmQuestionModal" on-reaffirm="onSuccessReaffirmQuestionModal" ng-if="isReaffirmQuestionModalOpen !== undefined"></reaffirm-question-modal> ',restrict:"A",scope:{questionList:"=",showMyPredictions:"=",reloadingData:"=",compactMode:"=",isError:"=",showReaffirmSection:"="},link:function(e){e.modals=Ks,e.handleStatusModalClose=()=>{Ks.setActive(null,"close"),e.$apply()},e.isReaffirmQuestionModalOpen=!1,e.onReaffirmModalDone=null,e.onCancelReaffirmQuestionModal=function(){e.isReaffirmQuestionModalOpen=!1,e.$apply()},e.onSuccessReaffirmQuestionModal=function(t){e.isReaffirmQuestionModalOpen=!1,e.onReaffirmModalDone(t),e.$apply()},e.openReaffirmQuestionModal=function(t){e.isReaffirmQuestionModalOpen=!0,e.onReaffirmModalDone=t}}}})).directive("questionTableRow",(function(){return{template:'<div class="question_card" ng-class="{\n  \'is-discussion\': question.isDiscussionType, \n  \'is-forecast\': question.isForecastType, \n  \'is-group\': question.isGroupType, \n  \'is-conditional-group\': question.isConditionalGroupType,\n  \'is-notebook\': question.isNotebookType}" ng-click="selectQuestionCb(question)"> <h4> <a href="{{question.page_url}}">{{question.title}}</a> <button ng-if="showExpandedArea(question)" toggle-details="data.expanded" toggle-icon="cross"></button> </h4> <h5 ng-if="!question.isNotebookType && (question.isDiscussionType || question.isPending() || question.isDraft())"> <span ng-if="question.showAuthor()">{{"createdBy" | translate:({author: question.author_name})}}</span> <span ng-if="question.isPending() || question.isDraft()"> {{"onDate" | translate:({date: (question.created_time | dateStr)})}} </span> </h5> <h5 ng-if="question.isNotebookType"> {{"published" | translate}} <span ng-if="question.showAuthor()">{{"byAuthor" | translate:({author: question.author_name})}}</span> {{"onDate" | translate:({date: (question.publish_time | dateStr)})}} • {{"estimatedReadingTime" | translate:({minutes: question.estimateReadingTime()})}} </h5> <div ng-if="question.isNotebookType && question.related_questions.length > 0 && showExpandedArea(question) && data.expanded" class="notebook_question_list"> <div ng-repeat="relq in question.related_questions.slice(0, maxRelatedQuestions)" class="notebook_question_item"> <a href="{{relq.page_url}}" target="_blank">{{relq.title}}</a> </div> <p ng-if="hiddenQuestionCount" class="notebook_question_list--more"> {{"hiddenQuestionCountWithCount" | translate:({count: hiddenQuestionCount})}} </p> </div> <h5 ng-if="\n      !showExpandedArea(question) &&\n      !question.isDiscussionType &&\n      !question.isNotebookType &&\n      !question.isConditionalGroupType &&\n      qstatus()" bind-trusted-html="qstatus()" class="no-graph"></h5> <div ng-if="showExpandedArea(question) && question.isForecastType && data.expanded" class="question_card__predictions" ng-class="{\n      \'question_card__predictions--community\': !showMetacPred,\n      \'question_card__predictions--metaculus\': showMetacPred\n    }"> <svg ng-if="hasGraphs(question)" class="question_card__time-series-graph" metac-time-series-graph question="question" params="{margins:{top:4,bottom:16,left:30,right:8}, ticks:{major:3, minor:2}, hasYLabel:false, interactive:false}" selected-date="selectedDate" hide-metac="!showMetacPred" hide-comm="showMetacPred || question.communityIsHidden"></svg> <svg ng-if="question.isContinuousType && hasGraphs(question)" class="question_card__continuous-prediction-graph" distribution-graph question="question" hide-metac="!showMetacPred" hide-comm="showMetacPred || question.communityIsHidden"></svg> <svg ng-if="question.isBinaryType && question.communityPrediction()" class="question_card__prediction-histogram" metac-question-histogram question="question" recent-only="true" params="{margins:{top:2,left:8,right:12,bottom:16}, ticks:{major:3, minor:2, spacing:30}}"></svg> <span ng-if="!hasGraphs(question)"></span> <div class="question_card__stats"> <div class="question_card__stats__row"> <prediction-value-toggle class="mb-2 ml-48" active="showMetacPred ? \'metaculus\' : \'community\'" on-click="canShowMetacPred() ? togglePredView : undefined" value="displayMetacOrComm(selectedDate) | tlistToHTML : true | minusToEnDash"></prediction-value-toggle> </div> <div class="question_card__stats__row" ng-if="shouldShowPrediction(question)"> <span class="text-left">{{"myPredictionLabel" | translate}}</span> <span class="my-prediction-stat" bind-trusted-html="playerPrediction(selectedDate) | tlistToHTML"></span> </div> <div class="question_card__stats__row"> <span class="text-left">{{"predictions" | translate}}</span> <span>{{question.predictionCount(selectedDate) | abbrNumber}}</span> </div> <div class="question_card__stats__row" bind-trusted-html="qstatus()"></div> <div ng-if="question.my_log_score && isTournamentPage" class="question_card__stats__row"> <span class="text-left">{{"relativeLog" | translate}}</span> <span>{{question.my_log_score}}</span> </div> <div ng-if="question.my_coverage && isTournamentPage" class="question_card__stats__row"> <span class="text-left">{{"myCoverageLabel" | translate}}</span> <span>{{question.my_coverage}}</span> </div> </div> </div> <div ng-if="question.isGroupType && showExpandedArea(question) && hasGraphs(question) && data.expanded" class="question_card__predictions"> <fan-graph class="question_card__fan-graph" sub-questions="question.sub_questions" show-cp="true" show-mp="false" show-up="false" num-y-ticks="3" has-y-label="false" has-tooltips="false"></fan-graph> </div> <conditional-summary class="question_card__conditional-summary" ng-if="question.isConditionalGroupType && question.sub_questions[0].isBinaryType" parent-title="question.condition.title_short" yes-question="subQuestionByCondition(question, 1)" no-question="subQuestionByCondition(question, 0)"></conditional-summary> <div ng-if="question.canReaffirm() && showReaffirmSection" class="question_card__reaffirm_area" ng-click="$event.preventDefault();"> <ajax-button class="button is-secondary" ng-click="reaffirmPredictionButtonClicked(question);" is-disabled="reaffirmButtonDisabled(question)"> {{"reaffirmPredictionButton" | translate:({count: (question.isGroupType || question.isConditionalGroupType) ? 2 : 1}) }} </ajax-button> <div> <div ng-if="!question.isGroupType && !question.isConditionalGroupType"> You last predicted <span class="my-prediction-value" bind-trusted-html="playerPrediction() | tlistToHTML"></span> {{lastPredictionDateFmt(question)}} </div> <div ng-if="question.isGroupType || question.isConditionalGroupType"> You last predicted {{lastPredictionDateFmt(question)}} </div> </div> </div> <div class="question_card__footer"> <span metac-voter resource="question" ng-click="$event.preventDefault();"></span> <span> <a class="_comments borderless-button" ng-class="{_unread: question.new_comments_count > 0}" href="{{question.page_url}}#comments"> <svg icon-name="comment"></svg> <span>{{question.commentStr()}}</span> </a> </span> <span class="question-status" question="question"></span> </div> </div> ',scope:{question:"=",selectQuestionCb:"=",compactMode:"=",showMyPredictions:"=",openReaffirmModal:"=",showReaffirmSection:"="},restrict:"E",replace:!0,link:function(e){e.modals=Ks,e.data={expanded:!0},e.isTournamentPage=window.metacData.project&&"TO"===window.metacData.project.type,e.maxRelatedQuestions=5,e.reaffirmingInProgress=!1;const t=e.question.related_questions;e.hiddenQuestionCount=t?Math.max(0,t.length-e.maxRelatedQuestions):0,e.$watch("compactMode",(function(t){e.data.expanded="compact"!=t})),e.showExpandedArea=function(e){return e.isNotebookType?e.related_questions.length>0:["Open","Closed","Resolved"].includes(e.statusStr())&&(e.isForecastType||e.isGroupType)},e.shouldShowPrediction=function(t){return e.showMyPredictions&&t.playerPrediction()},e.hasGraphs=function(e){return e.isGroupType?e.hasFanGraph&&e.hasCommunityPrediction():e.isConditionalGroupType?e.hasCommunityPrediction()||e.hasMetaculusPrediction():Boolean(e.communityPrediction())||e.hasMetaculusPrediction()},e.canShowMetacPred=function(){let t=e.question,n=t.metaculus_prediction.history;return n.length>0&&n[0].time<t.end_time},e.togglePredView=function(t){t.stopPropagation(),t.preventDefault(),e.showMetacPred=!e.showMetacPred,e.$apply()},e.showMetacPred=e.canShowMetacPred(),e.displayMetacOrComm=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e.showMetacPred?e.question.displayMetaculusPrediction(t,"short"):e.question.displayCommunityPrediction(t,"short")},e.qstatus=function(){const e=_g(this.question);return e?'<span class="text-left">'.concat(e[0],"</span><span>").concat(e[1],"</span>"):""},e.playerPrediction=function(t){let n=e.question,i=n&&n.playerPrediction(t);return n.predictionFormatter.formatPrediction(i)},e.reaffirmPredictionButtonClicked=function(t){const n=(e,t)=>(e.reaffirmingInProgress=!0,t.reaffirm().then((()=>{wo.addMessage({html:"Thank you for predicting."},2e3)})).finally((()=>{e.reaffirmingInProgress=!1,setTimeout((()=>t.reload()),6e4)})));To.ask_when_reaffirm_question_modal?e.openReaffirmModal((i=>{if(!i){const e={ask_when_reaffirm_question_modal:!1};Ir.patch("/api2/users/".concat(To.id,"/"),e).then((()=>To.reload()))}n(e,t)})):n(e,t)},e.lastPredictionDateFmt=function(e){return mo(new Date(e.lastUserPrediction().time),{short:!0,absPrefix:"on ",relCutoff:864e5})},e.reaffirmButtonDisabled=function(t){const n=Date.now()-t.lastUserPrediction().time;return e.reaffirmingInProgress||n<6e4},e.subQuestionByCondition=Hm}}})).factory("questionList",Jb).controller("questionListCtrl",Xb);var ew=["$http","$rootScope",function(e,t){return{link:function(t){t.user=To,t.modals=Ks,t.errors={},t.tributeOptions={trigger:"",autocompleteMode:!0,selectTemplate:e=>e.original.value,replaceTextSuffix:"",containerClass:"tribute-container tribute-container-autocomplete"},t.shareQuestion={autocomplete:function(t,n){t.length<=3||e.get("/api2/accounts/search?search="+t).then((e=>{let t=e.data.usernames.map((e=>({key:e,value:e})));n(t)}),So)},addUsername:"",add:n=>{if(n&&13!==n.keyCode||t.question.shared_with.includes(t.shareQuestion.addUsername)||t.question.shared_with.length>=21||""===t.shareQuestion.addUsername)return;let i=t.shareQuestion.addUsername;e.post("/api2/questions/"+t.question.id+"/question-sharing/".concat(i,"/")).then((e=>{t.question.shared_with.push(e.data),t.shareQuestion.addUsername=""}),(e=>{wo.addMessage({html:e.data.message})}))},remove:n=>{e.delete("/api2/questions/"+t.question.id+"/question-sharing/".concat(n.username,"/")).then((e=>{let i=t.question.shared_with.findIndex((e=>e.id===n.id));t.question.shared_with.splice(i,1)}),(e=>{wo.addMessage({html:"Could not remove user access. Please try again or contact administrators."})}))},leave:()=>{e.delete("/api2/questions/"+t.question.id+"/question-sharing/".concat(t.user.username,"/")).then((e=>{window.location="/questions"}),(e=>{wo.addMessage({html:"Could not remove user access. Please try again or contact administrators."})}))}},t.$watch((()=>Ks.activeModal),(function(e){t.errors={},t.question=Ks.data,"set-reminder"==e&&(t.reminder=new Lg(t.question,t.user),t.reminder.loadReminders())})),t.clearErrors=function(){t.errors={}},t.purchaseMetacPred=function(n){return e.post(t.question.url+"view-metaculus-prediction/",{coupon:n,full:!1}).then((function(e){t.question.updateWithData(e.data.question),Ks.setActive(null)}),(function(e){let n=e.data||{};n.message&&(t.errors.view_metac_pred_short=n.message),n.question&&t.question.updateWithData(n.question)}))}},restrict:"EA",template:'<metac-modal name="purchase-metac-pred" class="text-center"> <h3>Purchase the Metaculus Prediction</h3> <p style="text-align:left"> Spend enough tachyons and you can view the Metaculus prediction before the question closes. </p> <p style="text-align:left"> <strong>Be warned</strong>: you cannot both know the Metaculus prediction and make a prediction of your own. Once you see the Metaculus prediction this question will effectively be closed for you. </p> <p class="dark"> <em>The Metaculus prediction is secret!<br/> Please don\'t share it if you get access.</em> </p> <ajax-button class="btn _bright" submit="purchaseMetacPred()">Buy the Metaculus prediction</ajax-button> <div class="power-up__error">{{errors.view_metac_pred_short}}</div> <p> Cost: <strong>{{ user.powers.buy_metac_prediction.cost | plural:\'tachyon\':\'tachyons\'}}</strong>. Lasts until question close. </p> <p>Available tachyons: <strong>{{user.tachyons}}</strong></p> </metac-modal> <metac-modal name="set-reminder" class="text-center"> <h3>{{"setReminderHeading" | translate}}</h3> <p style="text-align:left">{{"setReminderDescription" | translate}}</p> <p style="margin-top:2em"> <select class="btn _bright" ng-model="reminder.type" ng-options="option as option.type for option in reminder.types track by option.id"> <option disabled="disabled" selected="selected" value=""> {{"selectTriggerLabel" | translate}} </option> </select> </p> <p ng-if="reminder.type.id == \'P\'" class="dark" bind-trusted-html="\'reminderCPChangesDescription\' | translate"></p> <p ng-if="reminder.type.id == \'D\'" class="form-inputs"> <input type="date" ng-model="reminder.remindOnDate"/> </p> <p ng-if="reminder.type.id == \'C\'" class="form-inputs"> {{"reminderNewCommentsDescription" | translate}} <br/><br/> <input type="number" ng-model="reminder.remindOnNewComments"/> </p> <div style="margin-top:2em"> <textarea ng-model="reminder.note" class="comment__entry" placeholder="{{\'reminderNotePlaceholder\' | translate}}"></textarea> </div> <div class="power-up__error" style="margin-top:.5rem"> {{reminder.errorMessage}} </div> <ajax-button class="btn _bright" submit="reminder.purchase()" style="margin-top:.5rem">{{"submitReminderButton" | translate}}</ajax-button> <p bind-trusted-html="\'reminderCost\' | translate"></p> <p bind-trusted-html="\'availableTachyons\' | translate:({tachyons: user.tachyons})"></p> <div ng-if="reminder.list.length > 0"> <h4>{{"yourRemindersHeading" | translate}}</h4> <div class="reminders-table" reminders="reminder"></div> </div> </metac-modal> <metac-modal name="invite-co-author" class="text-center"> <h3>Invite co-authors</h3> <p style="text-align:left"> They will be able to view and edit this question, and will be credited as coauthors. They will <b>not</b> be able to invite other coauthors or submit this question for review. </p> <p ng-if="question.shared_with.length >= 10"> <em>You can only invite up to 10 co-authors.</em> </p> <h4 ng-if="question.shared_with.length < 10">Choose a co-author</h4> <p class="form-inputs"> <input type="text" ng-model="shareQuestion.addUsername" ng-keypress="shareQuestion.add($event)" angular-tribute values="shareQuestion.autocomplete" options="tributeOptions"/> <button ng-disabled="question.shared_with.length >= 10" ng-click="shareQuestion.add()" class="btn _bright"> invite </button> </p> <ul class="question-shared-users"> <li ng-repeat="u in question.shared_with"> {{u.username}} <span ng-click="shareQuestion.remove(u)" class="remove-button">remove</span> </li> </ul> </metac-modal> <metac-modal name="remove-myself-co-author" class="text-center"> <h3>Remove yourself as co-author</h3> <p style="text-align:left"> You will no longer be able to edit the question. </p> <button ng-click="shareQuestion.leave()" class="btn _bright"> Remove myself </button> </metac-modal> <metac-modal name="share-private-question" class="text-center"> <h3>Share Private Question</h3> <p style="text-align:left"> Private questions can be shared with other users. They\'ll be able to see the question, make predictions, leave comments, and receive notifications once they accept your invitation. </p> <p ng-if="question.shared_with.length >= 21"> <em>Private question can be shared with only 20 users.</em> </p> <h4 ng-if="question.shared_with.length < 21">Invite user</h4> <p class="form-inputs"> <input type="text" ng-model="shareQuestion.addUsername" ng-keypress="shareQuestion.add($event)" angular-tribute values="shareQuestion.autocomplete" options="tributeOptions"/> <button ng-disabled="question.shared_with.length >= 21" ng-click="shareQuestion.add()" class="btn _bright"> invite </button> </p> <ul class="question-shared-users"> <li ng-repeat="u in question.shared_with"> {{u.username}} <em ng-if="u.status === \'P\'" class="dark">(pending)</em> <span ng-click="shareQuestion.remove(u)" class="remove-button">remove</span> </li> </ul> </metac-modal> <metac-modal name="leave-private-question" class="text-center"> <h3>Unsubscribe from this question</h3> <p style="text-align:left"> Once you leave a question, it will no longer show up in your questions list. </p> <button ng-click="shareQuestion.leave()" class="btn _bright"> Unsubscribe </button> </metac-modal> '}}];pi.directive("questionPowerUps",ew);var tw=["$scope",function(e){this.showGraph=!1,this.lineHighlight=function(e,t){if(2===e)return-.01;if(3===e)return 1.01;if(0<=e&&e<=1&&null!==e)return e;if(t&&t.d){let e=0;for(let n=0;n<t.d.length;n++)e+=t.d[n].x0*t.d[n].w;return e}return.5}(e.question.resolution,e.question.my_predictions[e.question.my_predictions.length-1]),e.$watch("question.scoreHistory",(()=>{let t=e.question;this.lastUpdate=new Date,this.scoreData=Vo.smoothedTimeseries(t.scoreHistory,{start:t.publish_time,end:Math.min(Date.now(),t.end_time),numPts:300,array:!0,vars:{low:"low",high:"high"}});let n=this.scoreData.length;if(this.timeFrame=[t.publish_time,t.close_time],t.isResolved&&n>0&&t.resolve_time<t.close_time){let e=new Date(+this.scoreData[n-1].time+1),t=this.timeFrame[1],i=[0,0],r=[0,0];i.high=i.low=r.high=r.low=0,i.time=e,r.time=t,this.scoreData.push(i),this.scoreData.push(r)}})),this.dateString=()=>{var t=e.question,n=Math.min(this.lastUpdate||new Date,t.close_time,t.resolve_time),i=this.mouseData&&this.mouseData.time||n;return fe("pointHistoryPointsOnDate",{date:so(i)})},this.sectionIsVisible=()=>{let t=e.question;return t&&t.isLive&&t.my_predictions.length},this.totalPoints=t=>{let n=e.question.scoreHistory.finalScores;if(void 0!==t)return n[t];if(this.lineHighlight<0)return n.low;if(this.lineHighlight>1)return n.high;{let e=this.lineHighlight*(n.length-1),t=n[Math.floor(e)],i=n[Math.ceil(e)],r=Math.ceil(e)-e;return r*t+(1-r)*i}}}];pi.directive("questionScoreHistory",(function(){return{scope:{question:"="},restrict:"A",template:'<h3 ng-if="c.sectionIsVisible()" class="subsection-header" toggle-details="c.showGraph"> {{"pointHistoryHeading" | translate}} </h3> <div class="centered" ng-if="c.showGraph && c.sectionIsVisible()"> <svg score-history-graph data="c.scoreData" domain="c.timeFrame" mouse-data="c.mouseData" possibilities="question.possibilities" highlight="c.lineHighlight"></svg> <div class="question__centered-stats--columns" ng-if="question.isBinaryType"> <div style="min-width:13em"> <h5>{{c.dateString()}}</h5> <ul> <li bind-trusted-html="\'pointHistoryPointsIfYes\' | translate:({points: (c.mouseData[1] | signedNumber)})"></li> <li bind-trusted-html="\'pointHistoryPointsIfNo\' | translate:({points: (c.mouseData[0] | signedNumber)})"></li> </ul> </div> <div> <h5>{{"pointHistoryHeadingTotalPoints" | translate}}</h5> <ul> <li bind-trusted-html="\'pointHistoryPointsIfYes\' | translate:({points: (c.totalPoints(1) | signedNumber)})"></li> <li bind-trusted-html="\'pointHistoryPointsIfNo\' | translate:({points: (c.totalPoints(0) | signedNumber)})"></li> </ul> </div> </div> <div class="question__centered-stats" ng-if="question.isContinuousType"> <h5> {{\'pointHistoryForResolutionHeading\' | translate}} <strong bind-trusted-html="question.predictionFormatter.formatResult(c.lineHighlight) | tlistToHTML"></strong> </h5> <ul> <li bind-trusted-html="\'pointHistoryForContinuousByDate\' | translate:({label: c.dateString(), points: (c.mouseData.z | signedNumber)})"></li> <li bind-trusted-html="\'pointHistoryForContinuousTotal\' | translate:({points: (c.totalPoints() | signedNumber)})"></li> </ul> <input type="range" min="{{question.possibilities.low ? -0.01 : 0}}" max="{{question.possibilities.high ? 1.01 : 1}}" step="1e-4" ng-model="c.lineHighlight" style="width:100%;margin:1em 0 -.1em;padding-bottom:15px"/> </div> <p class="disclaimer" ng-if="question.status!=\'V\'"> <span ng-if="question.status==\'V\'">{{"pointHistoryDisclaimerPrivate" | translate}}</span> <span ng-if="question.status!=\'V\'">{{"pointHistoryDisclaimerPublic" | translate}}</span> <span ng-if="question.isContinuousType">{{"pointHistoryDisclaimerContinuous" | translate}}</span> </p> <p class="disclaimer" ng-if="question.isResolved"> {{"pointHistoryDisclaimerResolved" | translate}} </p> </div> ',controllerAs:"c",controller:tw}}));const nw=[{qstatus:"pending",pstatus:"private"},{qstatus:"deferred",pstatus:"private"},{qstatus:"upcoming",pstatus:"predicted"},{qtype:"discussion",pstatus:"private"},{qtype:"discussion",pstatus:"predicted"},{qtype:"discussion",pstatus:"not-predicted"},{qtype:"claim",pstatus:"private"},{qtype:"claim",pstatus:"predicted"},{qtype:"claim",pstatus:"not-predicted"},{qtype:"notebook",pstatus:"predicted"},{qtype:"notebook",pstatus:"not-predicted"}],iw={ACCEPTED:"accepted",PENDING:"pending",DEFERRED:"deferred",UNMODERATED:"unmoderated",UPCOMING:"upcoming",OPEN:"open",CLOSED:"closed",RESOLVED:"resolved",DRAFT:"draft"},rw="predicted";pi.directive("questionSearchFilter",(function(){const e=window.metacData.canViewPending,t=window.metacData.user.isAuthenticated,n=window.metacData.project;return{link:function(i){var r;function o(){return!n||"JO"!==n.type}function a(e){return["all","forecast"].includes(e)}function s(){return o()&&(a(i.qlist.qtype)||e&&n&&"FE"===n.type)}function l(e,t){return t.find((t=>Object.entries(t).every((t=>{let[n,i]=t;return e[n]===i}))))}function u(e){const t=document.getElementById(e);t&&(t.checked=!0)}i.isVisible=function(e){return"boolean"==typeof e?e:"function"==typeof e?e():void 0},i.noSearch=function(){return!Vb(i.qlist.searchStr,i.qlist.searchQueryParam)},i.filterOpened=!1,i.toggleFilter=function(){i.filterOpened=!i.filterOpened},i.filterTypes=[{id:"type",title:fe("searchFilterType"),initial:i.qlist.qtype,visible:o,options:[{id:"all",text:fe("searchOptionAll"),visible:!0},{id:"forecast",text:fe("searchOptionForecast"),visible:!0},{id:"discussion",text:fe("searchOptionDiscussion"),visible:()=>!["TO","FO"].includes(i.listType)},{id:"notebook",text:fe("searchOptionNotebook"),visible:!0},{id:"claim",text:fe("searchOptionPublicFigure"),visible:()=>"main"===i.listType}],update:e=>{i.qlist.qtype=e,a(e)||(i.qlist.qstatus=iw.ACCEPTED,u("search-filter-question-status-accepted"));const t=l(i.qlist,nw);t&&"qtype"in t&&(i.qlist.pstatus="any",u("search-filter-participation-any"))}},{id:"question-status",title:fe("searchFilterForecastStatus"),initial:i.qlist.qstatus,visible:s,options:[{id:iw.ACCEPTED,text:fe("searchOptionAllAccepted"),visible:!0},{id:iw.PENDING,text:fe("searchOptionPending"),visible:e},{id:iw.DEFERRED,text:fe("searchOptionDeferred"),visible:e},{id:iw.UNMODERATED,text:fe("searchOptionUnmoderated"),visible:e},{id:iw.UPCOMING,text:fe("searchOptionUpcoming"),visible:!0},{id:iw.OPEN,text:fe("searchOptionOpen"),visible:!0},{id:iw.CLOSED,text:fe("searchOptionClosed"),visible:!0},{id:iw.RESOLVED,text:fe("searchOptionResolved"),visible:!0},{id:iw.DRAFT,text:fe("searchOptionDraft"),visible:!0}],update:e=>{e===iw.UNMODERATED&&i.qlist.pstatus===iw.UNMODERATED&&u("search-filter-participation-any"),i.qlist.qstatus=e,l(i.qlist,nw)&&(i.qlist.pstatus="any",u("search-filter-participation-any"))}},{id:"participation",title:fe("searchFilterParticipation"),initial:i.qlist.pstatus,visible:t,options:[{id:"any",text:fe("searchOptionAny"),visible:!0},{id:rw,text:fe("searchOptionPredicted"),visible:s},{id:"not-predicted",text:fe("searchOptionNotPredicted"),visible:s},{id:"author",text:fe("searchOptionAuthored"),visible:!0},{id:"interested",text:fe("searchOptionUpvoted"),visible:!0},{id:"private",text:fe("searchOptionPrivate"),visible:function(){return o()&&!["discussion","claim"].includes(i.qlist.qtype)}},{id:"moderating",text:fe("searchOptionModerating"),visible:()=>e&&"unmoderated"!==i.qlist.qstatus}],update:e=>{i.qlist.pstatus=e,l(i.qlist,nw)&&(i.qlist.qstatus="accepted",u("search-filter-question-status-accepted"))}},{id:"order-by",title:fe("searchFilterOrderBy"),initial:null===(r=i.qlist.orderBy)||void 0===r?void 0:r.id,visible:!0,options:[{id:"activity",text:fe("searchOptionActivity"),visible:()=>i.noSearch()},{id:"interest",text:fe("searchOptionUpvotes"),visible:()=>i.noSearch()},{id:"newest",text:fe("searchOptionNewest"),visible:()=>i.noSearch()},{id:"recentlyOpened",text:fe("searchOptionRecentlyOpened"),visible:()=>i.qlist.qstatus===iw.OPEN&&i.noSearch()},{id:"soonestOpening",text:fe("searchOptionSoonestOpening"),visible:()=>i.qlist.qstatus===iw.UPCOMING&&i.noSearch()},{id:"soonestClosing",text:fe("searchOptionSoonestClosing"),visible:()=>"open"===i.qlist.qstatus&&i.noSearch()},{id:"recentlyClosed",text:fe("searchOptionRecentlyClosed"),visible:()=>i.qlist.qstatus===iw.CLOSED&&i.noSearch()},{id:"soonestResolving",text:fe("searchOptionSoonestResolving"),visible:()=>[iw.OPEN,iw.CLOSED].includes(i.qlist.qstatus)&&i.noSearch()},{id:"recentlyResolved",text:fe("searchOptionRecentlyResolved"),visible:()=>i.qlist.qstatus===iw.RESOLVED&&i.noSearch()},{id:"oldestPrediction",text:fe("searchOptionOldestPrediction"),visible:()=>i.qlist.pstatus===rw&&i.noSearch()},{id:"relevance",text:fe("searchOptionRelevance"),visible:()=>!i.noSearch()},{id:"fewestComments",text:fe("searchOptionFewestComments"),visible:()=>[iw.PENDING,iw.UNMODERATED].includes(i.qlist.qstatus)&&i.noSearch()},{id:"dateSubmitted",text:fe("searchOptionDateSubmitted"),visible:()=>[iw.PENDING,iw.UNMODERATED].includes(i.qlist.qstatus)&&i.noSearch()}],update:e=>{i.qlist.orderBy=Kb[e]}}],i.$watch("qlist.orderBy",(e=>{if(e){const t=document.getElementById("search-filter-order-by-".concat(e.id));t&&(t.checked=!0)}})),i.$watch("qlist.searchStr",(e=>{if(!e){const e=document.getElementById("search-filter-order-by-activity");e&&(e.checked=!0)}}))},scope:{qlist:"=",listType:"@"},restrict:"A",template:'<div class="search-bar"> <form ng-submit="qlist.updateSearch()" style="width:100%;margin-right:8px;position:relative"> <input type="text" class="search search-box" placeholder="{{\'questionSearchPlaceholder\' | translate}}" ng-model="qlist.searchStr" on-esc="qlist.searchStr=\'\'; qlist.updateSearch()" angular-search-tribute values="qlist.categoryList"/> <span class="search-buttons"> <button type="button" ng-click="qlist.searchStr=\'\'; qlist.updateSearch()" ng-show="qlist.searchStr"> <svg icon-name="remove"></svg> </button> <button type="submit"> <svg icon-name="search"></svg> </button> </span> </form> <div class="icon-placeholder"> <svg icon-name="ellipsis" ng-click="toggleFilter()" class="action action-icon" ng-class="{\'is-open\': filterOpened}"></svg> </div> </div> <div id="question-search-filter" ng-class="{\'is-open\': filterOpened}"> <span class="icon-placeholder-border"></span> <div class="_section" ng-repeat="filterType in filterTypes" ng-if="isVisible(filterType.visible)"> <h2>{{ filterType.title }}</h2> <div class="_option-list"> <label class="_option" ng-repeat="option in filterType.options" ng-show="isVisible(option.visible)" for="search-filter-{{filterType.id}}-{{option.id}}"> <input type="radio" name="{{filterType.id}}" ng-click="filterType.update(option.id)" value="{{option.id}}" ng-checked="filterType.initial === option.id || $first" id="search-filter-{{filterType.id}}-{{option.id}}"/> <span class="label">{{option.text}}</span> </label> </div> </div> </div> '}})),pi.directive("questionDraftModal",(function(){return{restrict:"E",scope:{question:"="},transclude:{title:"?modalTitle",body:"?modalBody"},template:'<metac-modal name="question-draft"> <h4><em ng-transclude="title">Submit this question for review?</em></h4> <h3>{{modals.data.title}}</h3> <p style="text-align:center" ng-if="errorMessage" class="help is-danger"> {{errorMessage}} </p> <ng-transclude ng-transclude-slot="body"> <p> Once submitted, your question will be shown to moderators who may then approve it or give you feedback on how to make it better. </p> </ng-transclude> <button class="btn _large _centered _bright" ng-click="send()">Submit</button> </metac-modal> ',link:function(e){e.modals=Ks,e.requirements=null,e.errorMessage=null,e.question.isFortifiedEssay&&(e.requirements=e.question.projects.find((e=>"FE"===e.type)).config),e.send=function(){!e.requirements||((e,t)=>{let n=[];return t.words_limit&&n.push(t.words_limit>=e.possibilities.words),t.required_forecasts&&n.push(t.required_forecasts<=e.possibilities.embedded_questions.length),n.every((e=>e))})(e.question,e.requirements)?e.question.submit().then((()=>Ks.setActive(null))):e.errorMessage="Please make sure you fulfilled eligibility criteria for submission"}}}})),pi.directive("questionResolver",(function(){return{scope:{question:"=",conditionalGroup:"=?",relatedConditionalGroups:"=?"},restrict:"E",template:'<div ng-if="question.isLive && !question.isResolved" class="button-row"> <button ng-disabled="question.isResolving" class="button uppercase" ng-class="{\'is-primary\':question.isClosed, \'is-secondary\':!question.isClosed}" ng-click="openResolveModal()"> {{"resolveButton" | translate}} </button> </div> <metac-modal class="resolve-modal" name="resolve"> <h4>{{question.title}}</h4> <form class="basic-form" name="data.form"> <div class="resolve__row"> What is the resolution? <select ng-model="data.binaryResult" ng-if="question.isBinaryType"> <option value="?">select one</option> <option value="Y">Yes</option> <option value="N">No</option> <option value="A">Ambiguous</option> </select> <select ng-model="data.isAmbiguous" ng-if="question.isContinuousType"> <option value="Y">Ambiguous</option> <option value="N">Unambiguous</option> </select> <input name="dateResult" ng-model="data.dateResult" type="datetime-local" ng-if="question.possibilities.format==\'date\' && data.isAmbiguous==\'N\'" required/> <input name="numericResult" ng-model="data.numericResult" type="number" ng-if="question.possibilities.format==\'num\' && data.isAmbiguous==\'N\'" placeholder="numeric resolution" required/> <div class="form__error" ng-show="continuousInputError()" ng-bind="continuousInputError()"></div> </div> <div class="resolve__row" ng-if="showDate"> When was the resolution known? <p><em>Note: uses your local timezone</em></p> <input ng-model="data.resolveSubmitDate" type="datetime-local" name="subdate" min="question.publish_time" max="new Date()" required/> <div class="form__error" ng-show="submitDateError()" ng-bind="submitDateError()"></div> </div> <div class="resolve__row" style="margin:-1em 0 0 0"> <input type="checkbox" ng-model="data.notifyPredictors" id="notifyPredictors"/><label for="notifyPredictors"> Notify predictors</label> <p> Notifications will be sent in 10 minutes (at {{notificationDate | datetimeStr}}). If this question is unresolved before then, no notification will be sent. </p> </div> <ajax-button class="btn _large _centered _bright" animate="true" submit="resolve()" is-disabled="!canResolve()">Resolve</ajax-button> <div class="form__error" ng-show="apiError" ng-bind="apiError"></div> </form> </metac-modal> <div ng-if="question.isLive && question.isResolved" class="button-row"> <button ng-disabled="question.isResolving" class="button is-secondary" ng-click="openUnresolveModal()"> Unresolve </button> </div> <metac-modal class="resolve-modal" name="unresolve"> <h4>Are you sure you want to remove the resolution for this question?</h4> <p ng-if="!question.isPrivate()"> This will remove any points that were awarded to (or taken away from) predicting players. </p> <p> Once a question is unresolved, it can be reopened for prediction or re-resolved with a different value. </p> <p ng-if="hasAmbiguousConditionalsWarning()"> This question was resolved as ambiguous, which automatically resolved all the questions conditional on it as ambiguous as well. Unresolving this question will automatically unresolve all those conditional questions. </p> <p ng-if="!canUnresolve"> You cannot unresolve this question at this time. At least one question conditional on it was resolved non-ambiguously. Please unresolve all those conditionals before unresolving this question. You can find them at the top of this question\'s page. </p> <ajax-button class="btn _large _centered _bright" animate="true" submit="unresolve()" is-disabled="!canUnresolve">Unresolve</ajax-button> <div class="form__error" ng-show="apiError" ng-bind="apiError"></div> </metac-modal> ',link:function(e){var t={binaryResult:"?",isAmbiguous:"N",dateResult:void 0,numericResult:void 0,result:.5,delta:0,notifyPredictors:!0};function n(){var n,i,r=e.question,o=r.possibilities;if(r.isBinaryType)return{Y:1,N:0,A:-1}[t.binaryResult];if(r.isContinuousType){if("date"==r.possibilities.format?(i=t.dateResult)&&(i=new Date(i-6e4*i.getTimezoneOffset())):i=t.numericResult,"Y"===t.isAmbiguous)return-1;if(null!=i){if(o.low&&+i<r.predictionFormatter.scale(0))return 2;if(o.high&&+i>r.predictionFormatter.scale(1))return 3;if((n=r.predictionFormatter.unscale(i))>=0&&n<=1)return n}}}function i(){t.resolveSubmitDate=new Date,t.resolveSubmitDate.setSeconds(0),t.resolveSubmitDate.setMilliseconds(0)}function r(t,n){function i(t){e.apiError=t.statusText}return e.conditionalGroup&&(n=n.then((()=>e.conditionalGroup.reload()),i)),!e.relatedConditionalGroups||-1!==t&&null!==t||(n=n.then((()=>Promise.all(e.relatedConditionalGroups.map((e=>e.reload())))),i)),n.then((()=>{e.apiError||Ks.setActive(null)}),i)}e.data=t,e.modals=Ks,e.error=null,e.showDate=!e.question.isPrivate(),e.$watch((()=>Ks.isActive("resolve")),(t=>{t&&(i(),e.notificationDate=function(e,t){return _i(2,arguments),Pi(e,6e4*Ei(t))}(new Date,10))})),e.openResolveModal=function(){Ks.setActive("resolve")},e.openUnresolveModal=function(){Ks.setActive("unresolve")},e.submitDateError=function(){var n=t.resolveSubmitDate;return(t.form.subdate||{}).$invalid||!n?"invalid date":n>new Date?"cannot be in the future":n<e.question.publish_time?"must be after the question opened":null},e.continuousInputError=function(){var n,i,r,o,a=e.question,s=a.possibilities,l="date"==s.format?"dateResult":"numericResult",u=t.form[l],c=t[l];if("Y"!==t.isAmbiguous&&a.isContinuousType){if(!u.$pristine&&u.$invalid)return"invalid value";if(u.$valid){if(n=a.predictionFormatter.scale(0),i=a.predictionFormatter.scale(1),r=a.predictionFormatter.formatUnscaled(0).map((e=>e.t)).join(""),o=a.predictionFormatter.formatUnscaled(1).map((e=>e.t)).join(""),!s.low&&!s.high&&(c<n||c>i))return"resolution must be between ".concat(r," and ").concat(o);if(!s.low&&c<n)return"resolution must be greater than ".concat(r);if(!s.high&&c>i)return"resolution must be less than ".concat(o)}}},e.canResolve=function(){return!e.question.isResolving&&!e.submitDateError()&&void 0!==n()},e.canUnresolve=-1===e.question.resolution||!e.relatedConditionalGroups||e.relatedConditionalGroups.every((e=>-1===e.resolution||null===e.resolution)),e.hasAmbiguousConditionalsWarning=()=>{var t;return-1===e.question.resolution&&(null===(t=e.relatedConditionalGroups)||void 0===t?void 0:t.length)>0},e.resolve=()=>{const o=n();return e.showDate||i(),r(o,e.question.resolve(o,t.resolveSubmitDate,t.notifyPredictors))},e.unresolve=()=>{const t=new Date(Math.max(e.question.close_time,e.question.resolve_time,new Date));return r(null,e.question.resolve(null,t,!1))}}}}));function ow(e){return e.map((e=>Object.assign({score:e.points},e)))}function aw(e,t,n){return e?"project-".concat(e):"all"===t?"all":"".concat(n,"-").concat(t)}pi.directive("questionResolutionView",(function(){return{template:'<div class="slider__subtext__result" ng-if="question.isResolved"> <div> <span ng-if="question.isBinaryType">{{"resolutionDescriptionBinary" | translate}}</span> <span ng-if="!question.isBinaryType">{{"resolutionDescriptionContinuous" | translate}}</span> <span><strong bind-trusted-html="question.resolutionString() | tlistToHTML"></strong></span> </div> <div ng-if="question.my_points_won >= 0 && question.my_points_won !== null" bind-trusted-html="\'resolutionPointsWon\' | translate:({points: question.my_points_won})"></div> <div ng-if="question.my_points_won < 0" bind-trusted-html="\'resolutionPointsLost\' | translate:({points: -question.my_points_won})"></div> <div ng-if="showTournamentScores" bind-trusted-html="\'resolutionRelativeLogScore\' | translate:({log_score: question.my_log_score})"></div> <div ng-if="showTournamentScores" bind-trusted-html="\'resolutionCoverage\' | translate:({coverage: question.my_coverage})"></div> </div> '.replace(/>[\t ]+</g,"><"),scope:{question:"="},link:function(e,t){e.showTournamentScores=e.question.projects&&e.question.projects.find((e=>"TO"===e.type))&&window.metacData.user.isAuthenticated&&e.question.my_log_score}}})),pi.directive("questionStatus",(function(){return{restrict:"C",template:'<span class="{{canChangeStatus() ? \'borderless-button\' : \'text-with-icon\'}}" ng-click="clicked($event)"> <svg ng-if="question.statusStr() === \'Open\'" clock-icon question="question"></svg> <svg ng-if="question.statusStr() === \'Closed\'" icon-name="statusClosed"></svg> <svg ng-if="question.statusStr() === \'Draft\'" icon-name="statusDraft"></svg> <svg ng-if="question.statusStr() === \'Moderating\'" icon-name="statusModerating"></svg> <svg ng-if="question.statusStr() === \'Rejected\'" icon-name="statusRejected"></svg> <svg ng-if="question.statusStr() === \'Resolved\'" icon-name="statusResolved"></svg> <svg ng-if="question.statusStr() === \'Upcoming\'" icon-name="statusUpcoming"></svg> <svg ng-if="question.statusStr() === \'Pending\'" icon-name="statusPending"></svg> <svg ng-if="question.statusStr() === \'Submitted\'" icon-name="checkmark" crop="32"></svg> {{question.statusStr() | translate}} </span> ',link:function(e){e.canChangeStatus=function(){let t=e.question;return t.isPending()&&t.canChangeStatus()},e.clicked=t=>{e.canChangeStatus()&&(t.preventDefault(),Ks.setActive("question-status",e.question))}},scope:{question:"="}}})),pi.directive("questionTimeseriesSection",(function(){return{scope:{question:"="},restrict:"E",template:'<div ng-if="question.predictionCount() > 0"> <svg style="width:100%" metac-time-series-graph question="question" interactive="true" selected-date="selectedDate" hide-metac="!isShowMetacPred()" hide-comm="isShowMetacPred() || question.communityIsHidden"></svg> <div class="question-timeseries__stats"> <prediction-label-toggle class="modeless-theme float-right" active="isShowMetacPred() ? \'metaculus\' : \'community\'" on-click="canShowMetacPred() ? toggleMetacPred : undefined"></prediction-label-toggle> <div class="_stats-col" ng-if="question.communityPrediction()"> <div> <span>{{\'totalPredictionsLabel\' | translate}}</span> <span>{{numPredictions(selectedDate)}}</span> </div> <div> <span>{{\'totalForecastersLabel\' | translate}}</span> <span>{{question.uniquePredictionCount(selectedDate)}}</span> </div> </div> <div class="_stats-col"> <div ng-if="question.communityPrediction()"> <span>{{\'communityPredictionLabel\' | translate}}</span> <span bind-trusted-html="question.displayCommunityPrediction(selectedDate) | tlistToHTML | minusToEnDash"></span> </div> <div ng-if="question.metaculusPrediction()"> <span>{{\'metaculusPredictionLabel\' | translate}}</span> <span bind-trusted-html="question.displayMetaculusPrediction(selectedDate) | tlistToHTML | minusToEnDash"></span> </div> <div ng-if="question.playerPrediction()"> <span>{{\'myPredictionLabel\' | translate}}</span> <span bind-trusted-html="question.displayPlayerPrediction(selectedDate) | tlistToHTML | minusToEnDash"></span> </div> </div> </div> </div> ',link:function(e){var t=!0;e.user=To,e.modals=Ks,e.canShowMetacPred=function(){let t=e.question,n=t.metaculus_prediction.history;return n.length>0&&n[0].time<t.end_time},e.isShowMetacPred=function(){return e.canShowMetacPred()&&t},e.numPredictions=function(t){return oo(e.question.predictionCount(t))},e.numUniquePredictions=function(t){return oo(e.question.uniquePredictionCount(t))},e.toggleMetacPred=function(){t=!t,e.$apply()}}}})),pi.directive("questionTimeseriesGroup",(function(){return{scope:{question:"="},restrict:"E",template:'<div class="" ng-if="shouldShow()"> <h3 class="subsection-header" toggle-details="timelineOpen"> {{\'forecastTimelineHeading\' | translate}} </h3> <div ng-show="timelineOpen"> <div class="field flex-horizontal-center" ng-show="question.isGroupType"> <div class="mr-8 detail-heavy-font">{{question.group_label}}</div> <div class="input-select-wrapper fit-content"> <select class="select" ng-options="subQuestion.sub_question_label for subQuestion in question.sub_questions track by subQuestion.id" ng-model="selectedQuestion"></select> </div> </div> <question-timeseries-section question="selectedQuestion"></question-timeseries-section> </div> </div> ',link:function(e,t){var n;e.timelineOpen=!0,e.selectedQuestion=null,e.question.isGroupType?e.selectedQuestion=(n=e.question.sub_questions,Cg(new URLSearchParams(window.location.search),n)||(n.some((e=>e.isOpen))?Tg()(n.filter((e=>e.isOpen)),"close_time"):Tg()(n,"close_time"))):e.selectedQuestion=e.question,e.shouldShow=()=>{var t;return e.question.predictionCount()>0||(null===(t=e.question.sub_questions)||void 0===t?void 0:t.some((e=>e.predictionCount()>0)))}}}})),pi.directive("publicFigureTableRow",(function(){return{template:'<div class="question_card is-public-figure-prediction"> <h4> <a href="{{question.page_url}}" bind-trusted-html="question.possibilities.quote"></a> <button ng-if="question.hasRelatedQuestions" toggle-details="data.expanded" toggle-icon="cross"></button> </h4> <h5> <span> A public prediction by <a href="{{ question.possibilities.author_link }}">{{question.possibilities.author}}</a> </span> • <a href="{{question.possibilities.source}}" target="_blank">{{question.possibilities.publication}}</a> • <span> {{ question.possibilities.date | relDateStr}} </span> </h5> <div class="mt-12 pt-8" style="border-top:.5px solid var(--card-color,var(--gray500))" ng-if="data.expanded"> <div class="ml-12 mb-16"> <div ng-repeat="related_question in question.related_questions"> <a href="{{related_question.page_url}}" style="text-decoration:underline"> {{related_question.title}} </a> <div class="public-figure-stats"> <div ng-if="related_question.isResolved"> <span class="public-figure-stats-box public-figure-stats-box--reversed" ng-class="{\n                      \'public-figure-stats-box--is-red\': related_question.resolution === 0,\n                      \'public-figure-stats-box--is-green\': related_question.resolution === 1\n                    }" bind-trusted-html="related_question.resolutionString() | tlistToHTML"></span> Resolved on {{ related_question.resolve_time | relDateStr }} </div> <div ng-if="!related_question.isResolved"> <span class="public-figure-stats-box" bind-trusted-html="related_question.displayCommunityPrediction(null) | tlistToHTML" ng-class="predictionBoxColorClass(related_question)"></span> Community Prediction </div> </div> </div> </div> </div> <div class="question_card__footer"> <span metac-voter resource="question" ng-click="$event.preventDefault();"></span> <span> <a class="_comments borderless-button" ng-class="{_unread: question.new_comments_count > 0}" href="{{question.page_url}}#comments"> <svg icon-name="comment"></svg> <span>{{question.commentStr()}}</span> </a> </span> <span style="display:flex;align-items:center" ng-if="question.hasRelatedQuestions()"> <a class="borderless-button" href="{{question.page_url}}#forecasts"> <svg icon-name="graph"></svg> <span>{{question.relatedForecastsCountString()}}</span> </a> </span> </div> </div> ',scope:{question:"=",compactMode:"=",expandedDefault:"<"},restrict:"E",replace:!0,link:function(e){e.data={expanded:!!e.expandedDefault&&e.expandedDefault},e.predictionBoxColorClass=e=>{if("binary"!==e.possibilities.type)return null;const t=e.community_prediction.full.q2;return t>.7?"public-figure-stats-box--border-green":t<.3?"public-figure-stats-box--border-red":null}}}})),n(8757),pi.directive("publicFigurePredictionEdit",(function(){const e=window.metacData.question,t=window.metacData.project;return{link:function(n){n.id=null,n.description="",n.data={quote:"",source:"",publication:"",date:"",related_questions:[],author:t.name,author_link:t.url},e&&(e.possibilities.date=new Date(e.possibilities.date),n.data=e.possibilities,n.id=e.id,n.data.related_questions=e.related_questions,n.data.quote=n.data.quote.replaceAll(/<\/?mark>/g,"**"),n.description=e.description),n.save=()=>{if(!n.form.$valid)return;n.data.type="claim",n.data.quote=n.data.quote.replaceAll(/\*\*(.+?)\*\*/g,"<mark>$1</mark>");const i={status:e?e.status:"T",type:"claim",title:"A public prediction by "+t.name,publish_time:new Date,resolve_time:new Date(2050,1,1),close_time:new Date(2050,1,1),categories:[],possibilities:n.data,description:n.description,related_questions:n.data.related_questions.map((e=>e.id)),projects_input:[{id:t.id,selected:!0}]};(n.id?Ir.put:Ir.post)("/api2/questions/"+(n.id?n.id+"/":""),i).then((e=>{window.location.replace(e.data.page_url)}),So)},n.openQuestionPicker=e=>{e.preventDefault(),n.$root.$broadcast("openQuestionPickerNew",null)},n.addRelatedQuestion=e=>{if(n.data.related_questions.find((t=>t.id===e.id)))return null;n.data.related_questions.push(e),Ks.setActive(null)},n.removeRelatedQuestion=e=>{n.data.related_questions=n.data.related_questions.filter((t=>t.id!==e.id)),n.$apply()}},restrict:"E",template:'<form name="form" novalidate class="mt-16"> <div class="field"> <label for="quote" class="label">Quote from source</label> <div class="control"> <textarea id="quote" required ng-model="data.quote" name="quote" class="textarea" expandable-textarea placeholder="The prediction in context, directly quoted from your source" ng-maxlength="280" ng-minlength="20">\n      </textarea> </div> <div class="help"> Demarcate the prediction text from the context with double asterisks **at the beginning and end** of the relevant text excerpt. </div> <div ng-show="form.$submitted || form.quote.$touched"> <div ng-show="form.quote.$error.required" class="help is-danger"> required field </div> <div ng-show="form.quote.$error.maxlength" class="help is-danger"> the question must be at most 280 characters long </div> <div ng-show="form.quote.$error.minlength" class="help is-danger"> the question must be at least 20 characters long </div> </div> </div> <div class="field"> <label for="description" class="label">Description</label> <div class="control"> <textarea id="description" ng-model="description" name="description" class="textarea" expandable-textarea>\n      </textarea> </div> </div> <div class="field"> <label for="source" class="label">Link</label> <div class="control"> <input id="source" required ng-model="data.source" name="source" class="input" type="url" placeholder="URL where prediction was reported or made"/> </div> <div ng-show="form.$submitted || form.source.$touched"> <div ng-show="form.source.$error.required" class="help is-danger"> required field </div> <div ng-show="form.source.$error.url" class="help is-danger"> please enter valid url </div> </div> </div> <div class="field"> <label for="publication" class="label">Source</label> <div class="control"> <input id="publication" name="publication" ng-model="data.publication" required class="input" type="text" placeholder="Publication source, e.g. “The New York Times”, “Tweet”"/> </div> <div class="help"> If sourcing a news outlet, please use the title that appears on the homepage of the publication. If using a tweet as a source, please only use tweets authored by the public figure. </div> <div ng-show="form.$submitted || form.publication.$touched"> <div ng-show="form.publication.$error.required" class="help is-danger"> required field </div> </div> </div> <div class="field"> <label for="date" class="label">Publication/Prediction Date</label> <div class="control"> <input id="date" required ng-model="data.date" name="date" class="input" type="date"/> </div> <div class="help"> If the prediction date is not known, please enter the source publication date. </div> <div ng-show="form.$submitted || form.date.$touched"> <div ng-show="form.date.$error.required" class="help is-danger"> required field </div> </div> </div> <div class="field"> <label class="label">Related Metaculus Questions</label> <div> <a ng-repeat="question in data.related_questions track by question.id" ng-href="{{question.page_url}}" target="_blank" class="no-underline"> <question-card question="question" on-remove="removeRelatedQuestion"></question-card> </a> </div> <div class="microdetail-font mb-8"> Link one or more Metaculus questions whose resolution will indicate the correctness of the prediction. If none exist, please create one and add it before submitting this prediction for review. </div> <button class="button is-secondary" ng-click="openQuestionPicker($event)"> Link Questions </button> </div> <div> <button ng-click="save()" class="button is-primary">Submit</button> </div> </form> <question-picker on-select-question="addRelatedQuestion"></question-picker> '}})),pi.directive("relatedQuestionEdit",(function(){return{restrict:"E",scope:{},template:'<div> <div class="content detail-font"> <p> An ideal question is concise, unambiguous, and relates directly to the public figure&rsquo;s prediction. Here are some types of questions we recommend: </p> <p> <strong>Direct Binary Accountability Question (DBAQ)</strong><br/>To best hold public figures accountable, DBAQs exactly reproduce the key elements of the prediction statement, or take the form &ldquo;Will public figure X be right about Y?&rdquo; Not always practical (since some predictions made by public figures are too imprecise for a cleanly resolvable DBAQ), this question type should be undertaken whenever possible. </p> <ul class="mt-0"> <li> Example public figure prediction: 100M COVID-19 vaccines will be rolled out in the US on March 31, 2021. </li> <li> Example DBAQ: Will at least 100M COVID-19 vaccines be rolled out in the US on March 31, 2021? </li> </ul> <p> <strong>Direct Dimensional Accountability Question (DDAQ)</strong><br/>DDAQs focus on real values, metrics, or dates that the public figure mentions in their prediction. They are a welcome addition when a DBAQ already exists, or is impractical. </p> <ul class="mt-0"> <li> Example public figure prediction: 100M COVID-19 vaccines will be rolled out in the US on March 31, 2021. </li> <li> Example DDAQs:<br/> <ul class="mt-0"> <li> On what date will 100M COVID-19 vaccines be rolled out in the US? </li> <li> How many vaccines will be rolled out in the US on March 31, 2021? </li> </ul> </li> </ul> <p> <strong>Indirect Dimensional Accountability Questions (IDAQ&rsquo;s)</strong><br/>IDAQs also focus on metrics, however they are tangentially related to the public figure&rsquo;s statement. These are useful in cases where the statement is too loosely worded for a DDAQ. </p> <ul class="mt-0"> <li> Example public figure prediction: Population collapse is potentially the greatest risk to the future of civilization. </li> <li> Example IDAQs: <br/> <ul class="mt-0"> <li> Will the world population decline by more than 10% of 2022 levels before 2100? </li> <li>What will the global birth rate be in 2050?</li> <li> Will sub-replacement fertility be considered a top priority issue for a UN Secretary-General in any year between now and 2050? </li> </ul> </li> </ul> <p>Your question is linked to the following public figure prediction:</p> </div> <div class="max-content-width"> <public-figure-table-row question="question" compact-mode="compactMode" show-my-predictions="true"></public-figure-table-row> </div> <div class="content detail-font"> <div> <p> Thank you for preparing a question that can help our community hold this public figure accountable. </p> <p> This form creates a question draft that can be submitted for review. Our moderators will review all submissions and publish new questions based on the best ones. </p> </div> </div> <question-edit></question-edit> </div> ',link:function(e){e.compactMode=!0,e.question=new pv(window.metacData.related_question)}}}));class sw{constructor(e,t,n,i,r){this.projectId=e,this.timeframe=t,this.questionStatus=n,this.data=i,this.loadingInitial=!1,this.loadingMore=!1,this.params={limit:100},this.nextUrl=r,this.projectId?(this.url="/api2/projectstats/",this.params.project=e,this.params.order_by="-points"):(this.url="/api2/rankings/","all"!==t&&(this.params.question_status=n,this.params.timeframe=t))}get id(){return aw(this.projectId,this.timeframe,this.questionStatus)}loadData(){return this.data?Fr.when(!0):(this.loadingInitial=!0,Ir.get(this.url,{params:this.params}).then((e=>{let t=e.data.results;this.projectId&&(t=ow(t)),this.data=t,this.nextUrl=e.data.next})).finally((()=>{this.loadingInitial=!1})))}loadMore(){return this.loadingMore?Fr.when(!0):(this.loadingMore=!0,Ir.get(this.nextUrl).then((e=>{let t=e.data.results;this.projectId&&(t=ow(t)),this.data.push(...t),this.nextUrl=e.data.next})).finally((()=>{this.loadingMore=!1})))}}class lw{constructor(e,t){this.selectedRanking=new sw(e.project_id,e.timeframe,e.question_status,e.data.results,t),this.rankings={},this.rankings[this.selectedRanking.id]=this.selectedRanking}get projectId(){return this.selectedRanking.projectId}set projectId(e){zr.search("project",e)}get t1(){const e=this.selectedRanking;return"all"===e.timeframe?e.timeframe:e.questionStatus}set t1(e){e!==this.t1&&("all"===e?zr.search({question_status:null,timeframe:null}):zr.search({question_status:e,timeframe:zr.search().timeframe||"12month"}))}get t2(){const e=this.selectedRanking;return"all"===e.timeframe?null:e.timeframe}set t2(e){e!==this.t2&&zr.search("timeframe",e)}selectRanking(e,t,n){const i=aw(e,t=t||"all",n);if(i in this.rankings)this.selectedRanking=this.rankings[i];else{const r=new sw(e,t,n,null);this.selectedRanking=this.rankings[i]=r,r.loadData()}}}const uw=["$location",function(e){return{link:function(t){t.projects=window.metacData.projects,t.projects.unshift({id:null,name:"All Public Projects"});const n=window.metacData.rankings.selected_ranking;t.rankingList=new lw(n,n.data.next),t.$on("$locationChangeSuccess",(function(){const n=e.search();t.rankingList.selectRanking(n.project||null,n.timeframe,n.question_status)}))},scope:{},restrict:"A",template:'<div class="rankings__timebar"> <span class="select-wrapper is-rounded mb-8"> <select ng-options="project.id as project.name for project in projects" ng-model="rankingList.projectId" ng-disabled="rankingList.t1 !== \'all\'"></select> </span> <span class="select-wrapper is-rounded mb-8" ng-if="!rankingList.projectId"> <select ng-model="rankingList.t1" ng-init="rankingList.t1 = \'resolved\'"> <option value="all">All Time</option> <option value="opened">Opened within…</option> <option value="resolved">Resolved within…</option> </select> </span> <span class="select-wrapper is-rounded mb-8" ng-if="rankingList.t2"> <select ng-model="rankingList.t2" ng-init="rankingList.t2 = \'3month\'"> <option value="1month">Last 30 days</option> <option value="3month">3 Months</option> <option value="6month">6 Months</option> <option value="12month">12 Months</option> </select> </span> </div> <div ng-if="rankingList.selectedRanking.data.length > 0" class="rankings-table-wrapper"> <table class="rankings-table mx-auto" ng-class="{has_more: rankingList.selectedRanking.has_more}"> <tbody> <tr> <th>Rank</th> <th class="rankings__username"><span></span>User</th> <th>Level</th> <th>Points</th> </tr> <tr ng-repeat="user in rankingList.selectedRanking.data"> <td>{{$index+1}}</td> <td class="rankings__username"> <span cmap="level" cval="user.level" cstyle="background-color"></span> <a href="/accounts/profile/{{user.id}}">{{user.username}}</a> </td> <td>{{user.level}}: {{user.level_title}}</td> <td>{{user.score}}</td> </tr> </tbody> </table> </div> <p ng-if="rankingList.selectedRanking.data.length === 0" class="rankings__empty"> No scores were awarded for this selection. </p> <div ng-if="rankingList.selectedRanking.loadingInitial" class="rankings__loading-initial"> <svg class="loading-animation mx-auto"></svg> </div> <div ng-if="rankingList.selectedRanking.nextUrl" class="button-row"> <ajax-button class="button is-secondary" submit="rankingList.selectedRanking.loadMore()">Load More</ajax-button> </div> '}}];pi.directive("rankingsPage",uw),pi.controller("rankingsCtrl",["$scope",function(e){e.data={},e.$watch("data.page",((e,t)=>{e!==t&&(window.location=e)}))}]),pi.directive("newTournamentRegistrationModals",(function(){return{template:'<div> <metac-modal name="tournament-registration-modal-success" class="landing-page__registration modal_wrapper"> <h2>Registration Confirmed!</h2> <div ng-if="tournament.type == \'TO\'"> <p style="text-align:center">Thanks for joining the tournament!</p> <p style="text-align:center"> You can now make predictions, gain points, and earn prizes. </p> </div> <div ng-if="tournament.type == \'FE\'"> <p style="text-align:center"> Thanks for joining the competition. Let’s get started! </p> </div> </metac-modal> <metac-modal name="tournament-registration-modal" class="landing-page__registration modal_wrapper tournament-registration-modal"> <h2 ng-if="tournament.type == \'TO\'">Tournament Registration</h2> <h2 ng-if="tournament.type == \'FE\'">Essay Contest Registration</h2> <div> <p> </p> </div> <form name="tournamentForm" class="basic-form--with-labels"> <div ng-repeat="field in sign_up_fields"> <div ng-if="field.type === \'paragraph\'"> <p ng-if="field.type === \'paragraph\'" style="margin-left:0"> {{field.content}} </p> </div> <div class="form__row" ng-if="field.type !== \'paragraph\'"> <span class="form__label" ng-if="field.label">{{ field.label }}</span> <input type="{{field.type}}" name="{{field.label}}" placeholder="{{ field.placeholder }}" ng-if="field.type === \'text\'" ng-model="field.value" ng-change="validationCheck()" ng-required="field.required"/> <textarea name="{{field.label}}" ng-if="field.type === \'textarea\'" ng-model="field.value"></textarea> <select name="{{field.label}}" ng-if="field.type === \'select\'" ng-model="field.value" ng-change="validationCheck()" ng-required="field.required"> <option ng-repeat="option in field.options" value="{{option.value}}"> {{option.label}} </option> </select> </div> <div class="form__help" ng-if="!field.required && field.type !== \'paragraph\'" style="margin-left:30%"> (optional) </div> <div ng-if="field.required && field.error" class="form__error" style="margin-left:30%"> required field </div> </div> <button type="submit" class="action_button btn" ng-click="submit()" style="margin:0 auto;display:block;margin-top:15px"> Register </button> </form> </metac-modal> </div> ',replace:!0,restrict:"E",transclude:!0,scope:{tournament:"=",signupSucceeded:"="},link:function(e,t,n){e.tournament&&(e.sign_up_fields=e.tournament.sign_up_fields,e.sign_up_fields=e.sign_up_fields.map((e=>(e.global&&(e.value=Ro()(window.metacData,e.path,"")),e))),e.submitted=!1,e.validationCheck=()=>{if(!e.submitted)return;let t=!0;return e.sign_up_fields.forEach((e=>{e.error=!1,e.required&&!e.value&&(e.error=!0,t=!1)})),t},e.submit=()=>{if(e.submitted=!0,!e.validationCheck())return;let t=e.sign_up_fields.map((e=>({[e.label]:e.value}))),i={sign_up_data:Object.assign({},...t)};var r,o;i.sign_up_data["First Name"]&&i.sign_up_data["Last Name"]&&(r=i.sign_up_data["First Name"],o=i.sign_up_data["Last Name"],Ir.put("/api2/users/".concat(window.metacData.user.id,"/"),{first_name:r,last_name:o}).catch(So)),Ir.post("/api2/projects/".concat(e.tournament.id,"/register/"),i).then((t=>{Ks.setActive("tournament-registration-modal-success"),n.signupSucceeded&&(e.signupSucceeded=!0)}),(e=>{}))})}}}));var cw=["$http",function(e){var t=this;t.account=window.metacData.accountData||{},t.profile=window.metacData.accountProfile||{},t.isEditing=!1,t.canEdit=To.id&&To.id===t.account.id,t.canEdit&&(t.account=To),t.supporterName=function(){return["Booster","Altruist","Effective Altruist","Visionary","Chrono-champion"][t.account.supporter_level-1]||""},t.canChangeUsername=function(){return t.canEdit&&To.username_change_cost>=0},t.startEdit=function(){t.isEditing=!0,t.draftProfile=Object.create(t.profile)},t.submitEdit=function(){var n={bio_text:t.draftProfile.bio_text,website:t.draftProfile.website};return e.patch(t.profile.url,n).then((function(e){t.profile=e.data,t.isEditing=!1,t.profileErrors=null}),(function(e){t.profileErrors=e.data}))},t.changeUsername=function(){t.newUsername=t.newUsername2=null,t.nameChangeErrors=[],Ks.setActive("change-username")},t.canSubmitUsername=function(){return t.newUsername&&t.newUsername==t.newUsername2&&!t.isSubmittingUsername},t.submitNewUsername=function(){return t.isSubmittingUsername=!0,e.post("/api2/accounts/change-username/",{username:t.newUsername}).then((function(e){return Ks.setActive(null),To.reload()})).catch((function(e){var n=e.data;t.nameChangeErrors=n.username||[],n.message&&t.nameChangeErrors.push(n.message)})).finally((function(){t.isSubmittingUsername=!1}))}}];pi.controller("userProfileCtrl",cw);var dw=["$scope",function(e){this.merkleRoot=null,this.hashedPrediction=null,this.auditProof=null,this.auditProofVerified=null,this.loading=!1,this.openVerificationModal=function(e){Ks.setActive("verificationModal"),this.merkleRoot=e,this.hashedPrediction=null,this.auditTrail=null,this.auditProof=null},this.getAuditProof=function(){if(!this.merkleRoot||!this.hashedPrediction)return alert("Missing data.");this.loading=!0;let e="/api2/tezos/audit-trail/?merkle_root=".concat(this.merkleRoot,"&hashed_prediction=").concat(this.hashedPrediction);Ir.get(e).then((e=>{this.loading=!1,this.auditTrail=JSON.stringify(e.data.audit_trail),this.auditProof=e.data.verified}),(e=>{this.loading=!1}))}}];function pw(e){e.yesQuestion=Hm(e.question,1),e.noQuestion=Hm(e.question,0)}pi.controller("tezosController",dw),pi.directive("relatedNews",(function(){return{restrict:"E",template:'<div ng-if="featureEnabled && articles.length > 0"> <h3 class="subsection-header" toggle-details="expanded">NewsMatch</h3> <div ng-if="expanded"> <div class="related-news-list"> <div ng-repeat="article in articles track by $index" ng-if="$index < numberOfVisible" class="related-news-row columns space-between"> <a class="related-news-article" ng-href="{{ article.url }}"> <div class="columns"> <div class="mr-12"> <span ng-if="iconUrl(article)"> <object class="related_news_logo" ng-attr-data="{{ iconUrl(article) }}" type="image/png"> <svg class="related_news_logo" icon-name="newsplaceholder" crop="30"></svg> </object> </span> <span ng-if="!iconUrl(article)"> <svg class="related_news_logo" icon-name="newsplaceholder" crop="30"></svg> </span> </div> <div> <div class="detail-heavy-font">{{ article.title }}</div> <div class="detail-font mt-4"> {{ getMedia(article).name }} • {{ article.date | dateStr }} </div> </div> </div> </a> <div class="related-news-buttons ml-12"> <button class="microbutton" ng-click="openRatingModal(article)"> rate </button> <button class="microbutton" ng-click="blacklistArticle(article)" ng-show="showRemoveButton()"> remove </button> </div> </div> </div> <button class="button table-button" ng-if="articles.length > numberOfVisible && numberOfVisible < 10" ng-click="loadMore()"> Load More </button> <div class="powered-by-infolink"> <a href="/help/faq/#related-news">powered by Improve the News</a> </div> </div> </div> <metac-modal new-template="true" name="article-rating-modal" class="text-center"> <h1>Was this helpful?</h1> <div class="mt-20 mb-20"> <div> <button class="button is-secondary" ng-click="rate(1)"> Yes, it helped my prediction </button> </div> <div> <button class="button is-secondary" ng-click="rate(0)">No</button> </div> </div> </metac-modal> ',link:function(e){e.featureEnabled=Wb("news-match",!1),e.featureEnabled&&(e.media=null,e.articles=[],e.activeArticle=null,e.numberOfVisible=0,e.openRatingModal=t=>{e.activeArticle=t,Ks.setActive("article-rating-modal")},e.loadMore=()=>{e.numberOfVisible=10},e.rate=t=>{let n={article_id:e.activeArticle.id,question_id:e.question.id,vote:t,user_id:window.metacData.user.id};Ir.post("/api2/itn/forecasting-news-feedback/",n).then((e=>{Ks.setActive(null),wo.addMessage({html:"Thank you for voting!"})}),So)},e.getMedia=t=>e.media&&t.media in e.media?e.media[t.media]:{name:"Unknown"},e.iconUrl=t=>{const n=e.getMedia(t);return n.icon||n.favicon},e.showRemoveButton=()=>window.metacData.user.is_staff,e.blacklistArticle=e=>{let t={article_id:e.id};Ir.post("/api2/itn/blacklist-article/",t).then((()=>{wo.addMessage({html:"Article removed."})}),So)},Ir.get("/api2/itn/get-media/").then((t=>{e.media=Object.assign({},...t.data.map((e=>({[e.label]:e}))))}),So),Ir.get("/api2/itn/related-articles/?question="+e.question.id).then((t=>{e.articles=t.data,e.numberOfVisible=3}),So))},scope:{expanded:"=",question:"="}}})),pi.directive("relatedQuestions",(function(){return{restrict:"E",template:'<div ng-if="questions.length > 0"> <h3 class="subsection-header" toggle-details="isOpen"> Linked Public Figure Predictions </h3> <div ng-show="isOpen"> <a href="{{question.page_url}}" style="text-decoration:none" ng-repeat="question in questions track by $index"> <public-figure-table-row ng-if="question.isPublicFigureType" question="question" expanded-default="false" show-my-predictions="true"></public-figure-table-row> </a> <div class="powered-by-infolink"> <a href="#">Learn more about</a> Metaculus Public Figure Predictions. </div> </div> </div> ',link:function(e){e.isOpen=!0,e.questions=[],e.toggleSection=()=>{e.isOpen=!e.isOpen},Ir.get("/api2/questions/?reversed_related="+e.question.id).then((t=>{e.questions=t.data.results.map((e=>new pv(e))),e.compactMode=!1}),So)},scope:{question:"="}}})),pi.directive("similarQuestions",(function(){return{restrict:"E",template:'<div ng-if="similarQuestions.length > 0"> <h3 class="subsection-header" toggle-details="isOpen">Similar Questions</h3> <div ng-show="isOpen"> <div ng-repeat="similar_question in similarQuestions"> <a ng-href="{{similar_question.page_url}}" style="text-decoration:none"> <question-card question="similar_question"></question-card> </a> </div> </div> </div> ',link:function(e){e.isOpen=!0,e.similarQuestions=[];const t={limit:4,status:"open",order_by:"-rank",type:"forecast",has_group:!1};t.search=e.question.title_short,Ir.get("/api2/questions/",{params:t}).then((t=>{var n,i;null===(n=t.data)||void 0===n||null===(i=n.results)||void 0===i||i.forEach((t=>{const n=new pv(t);n.id!=e.question.id&&e.similarQuestions.push(n)}))}),So)},scope:{question:"="}}})),pi.directive("groupPredictionControl",(function(){return{template:'<div> <div ng-if="groupType === \'binary\'"> <binary-group-prediction-control question="question" prediction="prediction"> </binary-group-prediction-control> </div> <div ng-if="groupType === \'continuous\'"> <continuous-group-prediction-control question="question" prediction="prediction"> </continuous-group-prediction-control> </div> </div> ',scope:{question:"=",prediction:"="},link:function(e,t,n){var i;e.groupType=null===(i=e.question.sub_questions[0])||void 0===i?void 0:i.possibilities.type}}})),pi.directive("conditionalGroupPredictionControl",(function(){return{link:function(e){function t(t){switch(e.conditionalType){case"binary":return Zr(t.predictionInput,"—");case"continuous":return go(xg("q2",t));default:throw new Error("Unknown conditionalType: ".concat(e.conditionalType))}}e.graph={type:"PDF"},pw(e),e.$watch("question.sub_questions",(()=>pw(e))),e.conditionalType=e.yesQuestion.possibilities.type,e.forecasts={yes:{questionId:e.yesQuestion.id,prediction:t(e.yesQuestion),hasChanged:!1,resolution:e.yesQuestion.resolution},no:{questionId:e.noQuestion.id,prediction:t(e.noQuestion),hasChanged:!1,resolution:e.noQuestion.resolution}},e.$watchGroup(["yesQuestion.predictionInput","yesQuestion.resolution",()=>e.yesQuestion.canClickPredict()],(()=>{const n=e.forecasts;e.forecasts={...n,yes:{...n.yes,prediction:t(e.yesQuestion),hasChanged:e.yesQuestion.canClickPredict(),resolution:e.yesQuestion.resolution}}})),e.$watchGroup(["noQuestion.predictionInput","noQuestion.resolution",()=>e.noQuestion.canClickPredict()],(()=>{const n=e.forecasts;e.forecasts={...n,no:{...n.no,prediction:t(e.noQuestion),hasChanged:e.noQuestion.canClickPredict(),resolution:e.noQuestion.resolution}}})),e.selectedQuestion=Cg(new URLSearchParams(window.location.search),e.question.sub_questions)||[e.yesQuestion,e.noQuestion].find((e=>!e.isResolved))||e.yesQuestion,e.showMetacPrediction=e.selectedQuestion.hasMetaculusPrediction(),e.hasMetaculusPrediction=()=>e.question.sub_questions.some((e=>e.hasMetaculusPrediction())),e.toggleAggregatePrediction=()=>{e.showMetacPrediction=!e.showMetacPrediction,e.$apply()},e.selectQuestionById=t=>{e.selectedQuestion=e.question.sub_questions.find((e=>e.id===t)),e.$apply()}},template:'<div> <conditional-prediction-table ng-if="forecasts" parent-question="parentQuestion" unconditional-question="unconditionalQuestion" forecasts="forecasts" selected-question-id="selectedQuestion.id" on-selected-question-change="selectQuestionById"></conditional-prediction-table> <div class="centered" ng-class="{\n      \'group-prediction-input-control--metaculus\': showMetacPrediction,\n      \'group-prediction-input-control--community\': !showMetacPrediction\n    }" ng-repeat="subQuestion in question.sub_questions" ng-if="subQuestion.id === selectedQuestion.id "> <continuous-prediction-control ng-if="conditionalType === \'continuous\'" question="subQuestion" prediction="prediction" show-metac-prediction="showMetacPrediction" show-status="true" graph="graph"> </continuous-prediction-control> <binary-prediction-control ng-if="conditionalType === \'binary\'" question="subQuestion" prediction="prediction"> </binary-prediction-control> <predict-bulk ng-if="subQuestion.isLive && !subQuestion.isClosed" question="question"></predict-bulk> </div> <question-resolver ng-if="parentQuestion.isResolved\n      && !(selectedQuestion.resolution === -1 && question.isResolved)\n      && selectedQuestion.has_perm(\'RESOLVE\')" question="selectedQuestion" conditional-group="question"></question-resolver> </div> ',scope:{parentQuestion:"=",unconditionalQuestion:"=",question:"=",prediction:"="}}}));class hw{constructor(e){this.id=e.id,this.questionAccessLevel=e.question_access_level,this.projectPermissions=e.project_permissions,this.questionPermissions=e.question_permissions,this.userId=e.user_id,this.username=e.username,this.projectRole=e.role}hasQuestionPerm(e){return this.questionPermissions[e]}}class fw{constructor(e){this.organization_id=e,this.members=[],this.projectRoles=Lb}loadMembers(){Ir.get("/api2/organizations/".concat(this.organization_id,"/")).then((e=>{this.members=e.data.user_permissions.map((e=>new hw(e)))}),So)}addMembers(e){(e=e.split(/\r?\n/)).forEach((e=>{Ir.post("/api2/organizations/".concat(this.organization_id,"/members/"),{username:e,organization_id:this.organization_id,role:"moderator"}).then((e=>{const t=new hw(e.data);this.members.push(t),wo.addMessage({html:"Member has been added. You can set permissions now."},2e3)}))}))}editMember(e){let t="/api2/organizations/".concat(this.organization_id,"/members/").concat(e.userId,"/"),n=e.projectRole?{role:e.projectRole}:{project_permissions:e.projectPermissions,question_permissions:e.questionPermissions,question_access_level:e.questionAccessLevel,role:null};Ir.put(t,n).then((e=>(wo.addMessage({html:"Permissions changed."},2e3),e.data)),So)}removeMember(e){Ir.delete("/api2/organizations/".concat(this.organization_id,"/members/").concat(e,"/")).then((t=>{let n=this.members.findIndex((t=>t.userId==e));this.members.splice(n,1),wo.addMessage({html:"Member has been removed."},2e3)}))}}pi.directive("manageMembers",(function(){return{template:'<section class="main-container"> <h2 class="section-header topmost-header">Manage Members</h2> <div class="content"> List of people who are part of this project. Edit user roles. <p> <i>Note that this project is part of following organizations that assign additional permissions to users.</i> </p> <ul ng-if="project.organizations"> <li ng-repeat="organization in project.organizations"> <i><a href="/organization/{{ organization.id }}">{{ organization.name }}</a></i> </li> </ul> <table class="mt-16 mb-16"> <thead> <td>Username</td> <td>Role</td> <td>Remove</td> <td>Edit</td> </thead> <tbody> <tr ng-repeat="member in data.members"> <td>{{member.username}}</td> <td>{{ member.projectRole || \'Custom\' }}</td> <td> <button ng-click="data.removeMember(member.userId)">Remove</button> </td> <td> <button ng-click="selectMemberToEditPermissions(member)"> Edit Permissions </button> </td> </tr> </tbody> </table> </div> <div class="field mt-16 mb-16" ng-if="isOrganization"> <label for="textArea" class="label">Add new users to the project.</label> <div class="control"> <textarea name="textArea" id="textArea" class="textarea" ng-model="models.newUsers" expandable-textarea></textarea> </div> <div class="help"> Multiple users can be added, separated by new line. Please input usernames. </div> </div> <button ng-click="data.addMembers(models.newUsers)" class="button is-primary" ng-if="isOrganization"> Add users to project </button> <br/> <hr/> <br/> <div ng-if="models.member.userId"> member {{models.member.username}} <select name="" id="" ng-change="selectPermissionGroup()" ng-model="models.member.projectRole" ng-options="role for role in data.projectRoles track by role"> <option value="">Custom</option> </select> {{models.member.projectRole}} <div ng-if="!models.member.projectRole" class="content"> <div> <h3>Question Permissions</h3> <table> <thead> <tr> <th>Permission</th> <th>Value</th> <th>Action</th> </tr> </thead> <tbody> <tr ng-repeat="(flag, value) in models.member.questionPermissions"> <td>{{flag}}</td> <td>{{value }}</td> <td> <button ng-click="toggleQuetionPermissionFlag(flag)"> Toggle </button> </td> </tr> </tbody> </table> </div> <div> <h3>Project Permissions</h3> <table> <thead> <tr> <th>Permission</th> <th>Value</th> <th>Action</th> </tr> </thead> <tbody> <tr ng-repeat="(flag, value) in models.member.projectPermissions"> <td>{{flag}}</td> <td>{{value }}</td> <td> <button ng-click="toggleProjectPermissionFlag(flag)"> Toggle </button> </td> </tr> </tbody> </table> </div> <div> <h3>Question Access Level</h3> <select name="" id="" ng-model="models.member.questionAccessLevel"> <option value="NONE">None</option> <option value="ACTIVE">Active</option> <option value="PENDING">Pending</option> <option value="REJECTED">Rejected</option> <option value="DRAFT">Draft</option> <option value="DELETED">Deleted</option> </select> </div> </div> <button ng-click="models.member={}">Cancel</button> <button ng-click="data.editMember(models.member)">Save</button> </div> </section> ',restrict:"E",replace:!0,scope:{},link:function(e){let t=window.metacData.organization_id,n=window.metacData.project_id;e.project=window.metacData.project,e.isOrganization=!!t,t&&(e.data=new fw(t),e.data.loadMembers()),n&&(e.data=new Db(n),e.data.loadMembers()),e.models={member:{}},e.toggleQuetionPermissionFlag=t=>{e.models.member.questionPermissions[t]=!e.models.member.questionPermissions[t]},e.toggleProjectPermissionFlag=t=>{e.models.member.projectPermissions[t]=!e.models.member.projectPermissions[t]},e.selectMemberToEditPermissions=t=>{e.models.member=t}}}})),pi.directive("manageProjects",(function(){return{template:'<div class="project-card is-gray" ng-click="openModal()" style="cursor:pointer"> <div class="card-section">Create New Project</div> </div> <metac-modal name="create-project-modal"> <h2 class="mt-0">Create New Project</h2> <div class="field"> <label for="projectName" class="label">Project Name</label> <div class="control"> <input type="text" name="projectName" id="projectName" class="input" ng-model="data.name"/> </div> </div> <button class="button is-primary" ng-click="createProject()">Save</button> </metac-modal> ',restrict:"E",scope:{},link:function(e){e.data={name:"",organization:window.metacData.organization_id},e.openModal=()=>{Ks.setActive("create-project-modal")},e.createProject=()=>{(new jb).create(e.data).then((e=>{wo.addMessage({html:"Project created"}),window.location.replace("/project/".concat(e.data.id,"/edit/"))}))}}}}));var mw=n(8400),gw=n.n(mw);const vw=["numberFilter",function(e){return{link:function(t){t.stats=null,t.status="init",t.formatScore=t=>null===t?"—":e(bi(t),3),t.formatScoreNonZero=e=>null===e?"—":(e=bi(e))<1?wi(e).toString():e.toFixed(2),t.formatCoverageNonZero=e=>e<1?wi(e).toString():e.toFixed(2),t.formatCoveragePercentageNonZero=e=>wi(100*e).toString(),t.formatTake=e=>null===e?"—":e<1?wi(e).toString():e.toFixed(3),t.loadMore=()=>{t.stats.entries.push(...t.pages.shift())},t.$watch("expanded",(e=>{!t.stats&&e&&function(e){e.status="loading",Ir.get("/api2/projects/"+e.projectId+"/personal-stats/").then((t=>{e.stats=t.data,e.pages=gw()(e.stats.entries,7),e.stats.entries=[],e.pages.length>0&&e.loadMore(),e.status="success"})).catch((()=>e.status="error"))}(t)}))},scope:{expanded:"=",projectId:"="},restrict:"E",template:'<div class="personal-stats"> <h3 class="subsection-header bg-gold200" toggle-details="expanded"> My Score </h3> <div ng-show="expanded" ng-switch on="status"> <svg ng-switch-when="loading" class="loading-animation d-block mx-auto"></svg> <p ng-switch-when="error" class="centered">Error loading data.</p> <div ng-switch-when="success"> <p ng-if="stats.entries.length === 0" class="centered"> There are no related questions. </p> <table ng-if="stats.entries.length > 0" class="personal-stats__table table-striped" ng-class="{\'mb-12\': pages.length > 0}"> <thead> <tr> <th class="table-section-divider--bottom" align="left">Question</th> <th class="table-section-divider--bottom" align="right">Score</th> <th class="table-section-divider--bottom" align="right"> Coverage </th> </tr> </thead> <tbody> <tr ng-repeat="entry in stats.entries"> <td ng-class="{\'pt-8\': $first}"> <a class="d-block" ng-href="{{entry.question.url}}"> {{entry.question.title}} </a> </td> <td ng-class="{\'pt-8\': $first}" align="right"> {{formatScore(entry.log_score)}} </td> <td ng-class="{\'pt-8\': $first}" align="right"> {{(entry.coverage * 100) | number:0}}% </td> </tr> <tr ng-if="pages.length > 0" class="personal-stats__table-button-wrapper"> <td colspan="3"> <button class="button table-button" ng-click="loadMore()"> Load More </button> </td> </tr> </tbody> </table> <div class="personal-stats__totals mt-4"> <table> <tbody> <tr> <th>Tournament Score</th> <td align="right">{{formatScore(stats.total_log_score)}}</td> </tr> <tr> <th>Tournament Coverage</th> <td align="right"> {{formatCoveragePercentageNonZero(stats.total_coverage)}}% </td> </tr> <tr> <th> Tournament Take <span ng-if="stats.total_log_score">({{formatCoverageNonZero(stats.total_coverage)}} • e<sup>{{formatScoreNonZero(stats.total_log_score)}}</sup>)</span> </th> <td align="right">{{formatTake(stats.take)}}</td> </tr> </tbody> </table> </div> </div> <div class="scoring-terminology mt-8" detail-box="Scoring Terminology"> <dl> <div class="scoring-terminology-row"> <dt>Score</dt> <dd> <a href="/help/faq/#tournament_question_score">Tournament question score</a> is the time average of your <a href="/help/faq/#relative_log_score">relative log score</a> over the duration of a question. </dd> </div> <div class="scoring-terminology-row"> <dt>Coverage</dt> <dd> <a href="/help/faq/#question_coverage">Question coverage</a> is the percentage of the relevant period during which you have an active forecast. Please see the FAQ for how the <a href="/help/faq/#hidden_period">hidden period</a> and <a href="/help/faq/#coverage_weight">coverage weight</a> affect this. </dd> </div> <div class="scoring-terminology-row"> <dt>Tournament Score</dt> <dd> <a href="/help/faq/#tournament-scoring">Tournament score</a> is the sum of your tournament question scores. </dd> </div> <div class="scoring-terminology-row"> <dt>Tournament Coverage</dt> <dd> <a href="/help/faq/#tournament_coverage">Tournament coverage</a> is the average of your question coverage. </dd> </div> <div class="scoring-terminology-row"> <dt>Tournament Take</dt> <dd> <a href="/help/faq/#tournament_take">Tournament take</a> is your tournament coverage times the exponential of your tournament score. </dd> </div> </dl> <div class="info-link"> <svg icon-name="info"></svg> <a target="_blank" href="/help/faq/#tournament-scoring">Learn how tournaments are scored</a> </div> </div> </div> </div> '}}];pi.directive("personalStats",vw);class yw{constructor(e,t,n,i){this.timeframe=e,this.question_status=t,this.data=n,this.id="all"===e?"all":"".concat(t,"-").concat(e),this.loading_initial=!1,this.loading_more=!1,this.next_url=i,"all"!==e&&(this.next_url+="&question_status=".concat(t,"&timeframe=").concat(e))}loadMore(){return this.loading_more?Fr.when(!0):(this.loading_more=!0,Ir.get(this.next_url).then((e=>{this.data.push(...e.data.results),this.next_url=e.data.next})).finally((()=>{this.loading_more=!1})))}}class bw{constructor(e,t){this.selected=new yw(e.timeframe,e.question_status,e.data,t),this.rdict={},this.rdict[this.selected.id]=this.selected}}pi.directive("projectRanking",(function(){return{link:function(e){const t=window.metacData.rankings;e.rlist=new bw(t.selected_ranking,t.next),e.extraRows=window.metacData.rankings_extra,e.prizePool=window.metacData.project.prize_pool,e.userRank=e.extraRows.length>0?e.extraRows[0].rank:null,e.rlist.selected.data.length>=e.userRank&&(e.extraRows=[]),e.showExtraRows=()=>e.extraRows.length>0&&e.rlist.selected.data.length<e.userRank,e.isCurrentUser=e=>e.id===window.metacData.user.id},restrict:"E",template:'<div style="max-width:672px"> <h3 class="subsection-header bg-gold200" toggle-details="sectionToggle" ng-init="sectionToggle=False"> Leaderboard </h3> <div ng-show="sectionToggle" class="project-rankings-table-wrapper"> <table class="project-rankings-table" style="width:100%" ng-class="{has_more:rlist.selected.has_more}" ng-if="rlist.selected.data.length > 0"> <thead> <tr> <th class="sticky-column">Rank</th> <th class="sticky-column">Forecaster</th> <th style="text-align:right">Score</th> <th style="text-align:right">Coverage</th> <th style="text-align:right">Take</th> <th class="project-ranking__col-divider" style="text-align:right"> Prize </th> <th style="text-align:right">% Prize</th> <th style="text-align:right">Completion</th> </tr> </thead> <tbody> <tr project-ranking-row ng-repeat="user in rlist.selected.data" user="user" prize-pool="prizePool" highlight="isCurrentUser(user)" ng-class="{\'bg-orange100\': isCurrentUser(user)}"></tr> <tr project-ranking-row ng-if="showExtraRows()" ng-repeat="user in extraRows" user="user" prize-pool="prizePool" highlight="true" class="bg-orange100"></tr> </tbody> </table> <p ng-if="rlist.selected.data.length == 0" style="text-align:center;font-style:italic"> No scores were awarded for this selection. </p> <div class="table-button-wrapper" ng-if="rlist.selected.next_url"> <ajax-button class="table-button is-centered" submit="rlist.selected.loadMore()">Load More</ajax-button> </div> <div class="scoring-terminology" detail-box="Scoring Terminology"> <dl> <div class="scoring-terminology-row"> <dt class="">Score</dt> <dd> <a href="/help/faq/#tournament-scoring">Tournament score</a> is the sum of a forecaster’s tournament question scores. See your scoreboard below for how your score is calculated. </dd> </div> <div class="scoring-terminology-row"> <dt>Coverage</dt> <dd> <a href="/help/faq/#tournament_coverage">Tournament coverage</a> is a forecaster’s average question coverage for tournament questions. See your scoreboard below for how your coverage is calculated. </dd> </div> <div class="scoring-terminology-row"> <dt>Take</dt> <dd> <a href="/help/faq/#tournament_take">Tournament take</a> is a forecaster’s tournament coverage multiplied by the exponential of their tournament score. This determines the relative prizes of forecasters, e.g. a forecaster with a take twice as big as another forecaster will win twice the prize. </dd> </div> <div class="scoring-terminology-row"> <dt>Prize</dt> <dd> The prize a user would get if the tournament ended immediately. </dd> </div> <div class="scoring-terminology-row"> <dt>% Prize</dt> <dd> The percentage of the prize pool that a forecaster is currently winning. </dd> </div> <div class="scoring-terminology-row"> <dt>Completion</dt> <dd>The number of calibration questions the user has answered.</dd> </div> </dl> <div class="info-link"> <svg icon-name="info"></svg> <a target="_blank" href="/help/faq/#tournament-scoring">Learn how tournaments are scored</a> </div> </div> </div> </div> '}})),pi.directive("projectRankingRow",(function(){return{template:'<tr> <td class="sticky-column" ng-class="{\'bg-orange100\': highlight}"> {{user.rank}} </td> <td class="rankings__username sticky-column" ng-class="{\'bg-orange100\': highlight}"> <span cmap="level" cval="user.level" cstyle="background-color"></span> <a href="/accounts/profile/{{user.id}}/">{{user.username}}</a> </td> <td style="text-align:right">{{formatScore(user.log_score)}}</td> <td style="text-align:right">{{(user.coverage_avg * 100).toFixed(0)}}%</td> <td style="text-align:right"> {{take(user.coverage_avg, user.log_score).toFixed(3)}} </td> <td class="project-ranking__col-divider" style="text-align:right"> {{userPrize(user)}} </td> <td style="text-align:right">{{(user.prize * 100).toFixed(1)}}%</td> <td style="text-align:right"> {{user.num_questions_predicted}}/{{user.num_questions}} </td> </tr> ',restrict:"A",scope:{user:"=",prizePool:"=",highlight:"="},link:function(e){e.userPrize=t=>{const n=(e.prizePool*t.prize).toFixed(0);return n>=10?"$"+n:"-"},e.formatScore=e=>(Math.round(1e3*bi(e))/1e3).toFixed(3),e.take=(e,t)=>function(e,t){return e*Math.exp(t)}(e,bi(t))}}})),pi.directive("manageTournament",(function(){return{template:'<section class="main-container"> <h2 class="section-header topmost-header">Manage Tournament</h2> <p>enter json data</p> <div class="field"> <textarea json-text ng-model="data.config" class="textarea" expandable-textarea></textarea> </div> <div ng-repeat="q in data.questions track by $index" style="padding:8px;border-bottom:1px solid #000;display:flex"> <div class="mr-16" style="width:400px">{{$index}}. {{q.title}}</div> <div> <div> <input type="number" ng-model="q.scoring.weight" style=""/>Weight </div> </div> </div> <button class="is-primary button" ng-click="save()">Save</button> <div ng-if="data.updatingTotal > data.updatedTotal"> Updating {{data.updatingTotal}}/{{data.updatedTotal}} </div> </section> ',restrict:"E",replace:!0,scope:{},link:function(e){const t=window.metacData.project_id;e.data={questions:[],config:{cp_hidden_period:null,cp_hidden_weight_coverage:null,cp_hidden_weight_log_score:null,sharpness:null,preview_period:null},updatingTotal:0,updatedTotal:0},Ir.get("/api2/questions/?limit=500&order_by=-activity&project="+t).then((t=>{e.data.questions=t.data.results.map((e=>((e=new pv(e)).scoring.weight=e.scoring.weight?e.scoring.weight:1,e)));let n=e.data.questions[0].scoring;e.data.config=Object.assign({},e.data.config,n),delete e.data.config.weight})),e.save=()=>{e.data.questions.forEach((t=>{e.data.updatingTotal+=1;let n=Object.assign({},e.data.config);n.weight=t.scoring.weight,Ir.put("/api2/questions/".concat(t.id,"/"),{scoring:n}).then((t=>{e.data.updatedTotal+=1}))}))}}}})),pi.directive("projectContentFeed",(function(){return{template:'<section ng-controller="questionListCtrl"> <h2 class="section-header align-center"> <span>{{label}}</span> <a href="{{project.createUrl}}" ng-if="project.has_perm(\'SUGGEST_NEW_QUESTION\')"> <svg icon-name="addBordered"></svg> </a> </h2> <div question-search-filter qlist="qlist" list-type="{{project.type}}" ng-if="!hideSearchFilter"></div> <div question-table class="question-table" show-my-predictions="true" question-list="qlist.qlist" reloading-data="qlist.isLoading"></div> <div ng-cloak class="button-row"> <ajax-button animate="true" class="button is-secondary" submit="qlist.loadMoreData()" ng-if="qlist.nextPage"> Load More </ajax-button> </div> </section> ',restrict:"E",scope:{project:"=",label:"@",hideSearchFilter:"@"},link:function(e){e.hideSearchFilter=Boolean(e.hideSearchFilter)}}})),pi.directive("projectPageHeader",(function(){return{template:'<div class="page-header {{colorClass}}"> <a ng-if="label == \'tournament\'" href="/tournaments">tournament</a> <a ng-if="label == \'project\'" href="/organization/forecasting-projects/">project</a> <a ng-if="label == \'public figure predictions\'" href="/organization/public-figures/">public figures</a> <a ng-if="label == \'journal\'" href="/project/journal/">notebook</a> <span ng-if="label == \'forum\'">forum</span> <div class="page-header__icons" ng-cloak> <context-menu icon="share" ng-if="project.public"> <a target="_blank" href="/share/facebook/?page={{ project.url }}" ng-click="qctrl.shareQuestion(\'facebook\')">Facebook</a> <a target="_blank" href="/share/twitter/?text={{twitter_msg}}&page={{ project.url }}" ng-click="qctrl.shareQuestion(\'twitter\')">Twitter</a> </context-menu> <ng-transclude> <a href="{{project.createUrl}}" ng-if="project.has_perm(\'SUGGEST_NEW_QUESTION\')"> <svg icon-name="add"></svg></a> </ng-transclude> </div> </div> <div class="page-banner"> <img src="https://picsum.photos/746/130" alt="" ng-if="debug && !project.header_image"/> <img ng-src="{{ project.header_image }}" alt="" ng-if="project.header_image"/> <div class="page-banner-logo" ng-if="project.header_logo"> <img ng-src="{{ project.header_logo }}" alt=""/> </div> </div> <div class="page-title"> <h1>{{ project.name }}</h1> <div class="tag-row" ng-if="project.getCauses()"> <a ng-repeat="cause in project.getCauses()" class="tag is-cause" href="{{cause.url}}">{{cause.name}}</a> </div> <div class="tag-row" ng-if="project.isPublicFigure()"> <a href="/organization/public-figures/" class="tag is-public-figure">Public Figures</a> </div> </div> ',restrict:"E",transclude:!0,scope:{project:"=",label:"@",colorClass:"@"},link:function(e){e.debug=window.metacData.DEBUG,e.twitter_msg=window.metacData.twitter_msg}}})),pi.directive("projectEditForm",(function(){return{template:'<form class="" name="qform"> <div class="field"> <label for="name" class="label">Name</label> <div class="control"> <input type="text" class="input" id="name" name="name" ng-model="project.name" required maxlength="200"/> </div> </div> <div class="field"> <label for="name" class="label">Description</label> <div class="control"> <textarea name="description" ng-model="project.description" class="textarea" required placeholder="Project Description"></textarea> </div> </div> <div class="field"> <metac-checkbox name="public" checked="project.public"> Public </metac-checkbox> </div> <div class="field"> <metac-checkbox name="inMainFeedByDefault" checked="project.inMainFeedByDefault"> In Main Feed by Default </metac-checkbox> </div> <div class="field"> <label for="organizations" class="label">Organizations</label> <select name="organizations" id="organizations" multiple="multiple" class="multiselect" ng-model="project.organizations" ng-options="org as org.name for org in completeOrganizationsList track by org.id"></select> </div> <div class="field" ng-if="project.defaultRole"> <label for="default_permissions" class="label">Default Permissions</label> <select name="default_permissions" id="default_permissions" ng-model="project.defaultRole" class="select"> <option value="viewer">Viewer</option> <option value="predictor">Predictor</option> <option value="moderator">Moderator</option> <option value="admin">Admin</option> </select> <div class="help"> Default permissions are assigned to non-members for public projects only. </div> </div> <div ng-if="!project.defaultRole"> <span class="help"> This project has non-standard default permissions. Please contact developers if you want to update them. </span> </div> <div class="mt-24"> <ajax-button class="button is-primary" value="Submit" submit="save()">Submit</ajax-button> </div> </form> ',restrict:"E",scope:{},link:function(e){e.project=new jb(window.metacData.project),e.completeOrganizationsList=null,Ir.get("/api2/organizations/?can-manage=true").then((function(t){e.completeOrganizationsList=t.data.results.map((e=>(e.value=e.id,e.label=e.name,e)))})),e.save=()=>{let t={name:e.project.name,description:e.project.description,public:e.project.public,in_main_feed_by_default:e.project.inMainFeedByDefault,organizations:e.completeOrganizationsList.map((t=>({id:t.id,selected:void 0!==e.project.organizations.find((e=>e.id===t.id))})))};Ir.put("/api2/projects/".concat(e.project.id,"/"),t).then((e=>{window.location.replace(e.data.url)}))}}}})),pi.directive("publicFigureLandingPage",(function(){return{template:'<div class="main-container"> <project-page-header project="project" label="public figure predictions" color-class="is-public-figure"></project-page-header> <div class="content" bind-html-math="project.description" compile="true"></div> <div class="call-to-action max-content-width"> <h4>Report a Public Figure Prediction</h4> <p> Did this public figure make a testable claim? Report the prediction so that Metaculus questions can be made and compared to the public claim. </p> <div> <a href="/public-figures/add-forecast/?project={{project.id}}" class="button is-secondary">Report Prediction</a> </div> </div> <project-content-feed label="Public Predictions" project="project" hide-search-filter="true"></project-content-feed> </div> ',restrict:"E",scope:{},link:function(e){e.project=new jb(window.metacData.project)}}})),pi.directive("journalLandingPage",(function(){return{template:'<div class="main-container"> <project-page-header project="project" label="journal" color-class="is-journal"></project-page-header> <div class="content" bind-html-math="project.description" compile="true"></div> <project-content-feed label="Articles" project="project"></project-content-feed> </div> ',restrict:"E",scope:{},link:function(e){e.project=new jb(window.metacData.project)}}}));class ww extends jb{constructor(e){super(e),this.prize_pool=e.prize_pool,this.tournament_close_date=uv.date(e.tournament_close_date),this.sign_up_fields=e.sign_up_fields,this.completion_question_count=e.completion_question_count,this.edit_url=this.url.replace("/tournament/","/project/")+"edit/"}}pi.directive("tournamentLandingPage",(function(){return{template:'<div class="main-container"> <project-page-header project="project" label="tournament" color-class="is-tournament"> <context-menu icon="ellipsis" ng-if="project.has_perm(\'CHANGE_PERMISSIONS\')"> <a href="{{project.edit_url}}"> Edit this Tournament</a> </context-menu> </project-page-header> <div class="page-large-stats"> <div> <div>Prize Pool</div> <div>${{project.prize_pool.toLocaleString()}}</div> </div> <div> <div>End Date</div> <div>{{project.tournament_close_date | dateStr }}</div> </div> <div> <div>Questions</div> <div>{{project.completion_question_count}}</div> </div> <span ng-if="userCanJoin"> <button ng-if="!alreadySignedUp" class="button is-secondary" ng-click="modals.setActive(\'tournament-registration-modal\')"> Join Tournament </button> <new-tournament-registration-modals tournament="project" signup-succeeded="alreadySignedUp"></new-tournament-registration-modals> </span> </div> <div class="content" bind-html-math="project.description" compile="true"></div> <div ng-if="hasRankings"> <project-ranking></project-ranking> <personal-stats expanded="false" project-id="project.id" ng-if="user.isAuthenticated"></personal-stats> </div> <div class="info-link" ng-if="!hasRankings"> <svg class="" icon-name="info"></svg> <span><a target="_blank" href="https://www.metaculus.com/help/faq/#tournament-scoring">Learn how tournaments are scored</a></span> </div> <project-content-feed label="Questions" project="project"></project-content-feed> </div> ',restrict:"E",scope:{},link:function(e){e.project=new ww(window.metacData.project),e.user=window.metacData.user,e.hasRankings=window.metacData.has_rankings,e.userCanJoin=window.metacData.user_can_join,e.modals=Ks}}})),pi.directive("projectLandingPage",(function(){return{template:'<div class="main-container"> <project-page-header project="project" label="{{\'project\' | translate}}" color-class="is-project"> <context-menu icon="ellipsis" ng-show="userCanLeave || project.has_perm(\'SUGGEST_NEW_QUESTION\')"> <a href="{{project.createUrl}}" ng-if="project.has_perm(\'SUGGEST_NEW_QUESTION\')"> Create a Question</a> <a href="{{project.url}}edit/" ng-if="project.has_perm(\'CHANGE_PERMISSIONS\')"> Edit this Project</a> <a ng-click="modals.setActive(\'leave-project\')" ng-if="userCanLeave"> Leave Project </a> </context-menu> </project-page-header> <div class="call-to-action fit-content" ng-if="project.isOptIn && userCanJoin"> <a href="#" ng-click="modals.setActive(\'join-project\')">Join this project</a> to see its contents in your main feed. </div> <div class="content" bind-html-math="project.description" compile="true"></div> <project-content-feed label="{{\'projectContents\' | translate}}" project="project"></project-content-feed> <metac-modal name="join-project"> <h2>Welcome to the {{project.name}} project</h2> <p> You will see content for this project in your main feed, and the project will appear in your profile. </p> <p> You can leave the project at any time by clicking the ··· menu in the top right corner of this page. </p> <div class="button-row"> <button class="button is-primary" ng-click="joinProject()">Join</button> </div> </metac-modal> <metac-modal name="leave-project"> <h2> You are leaving the {{project.name}} <span ng-if="!project.public">private</span> project </h2> <p>You will no longer see content for this project in your main feed.</p> <div class="button-row"> <button class="button is-primary" ng-click="leaveProject()">Leave</button> </div> </metac-modal> </div> ',restrict:"E",scope:{},link:function(e){e.project=new jb(window.metacData.project),e.userCanJoin=window.metacData.user_can_join,e.userCanLeave=window.metacData.user_can_leave,e.modals=Ks,e.joinProject=()=>{Ir.post("/api2/projects/".concat(e.project.id,"/join/"),{}).then((e=>{window.location.reload()}),(e=>{wo.addMessage({html:"Error while attempting to join project."})}))},e.leaveProject=()=>{Ir.post("/api2/projects/".concat(e.project.id,"/leave/"),{}).then((e=>{window.location.reload()}),(e=>{wo.addMessage({html:"Error while attempting to leave project."})}))}}}})),pi.directive("forumLandingPage",(function(){return{template:'<div class="main-container"> <project-page-header project="project" label="forum" color-class="is-forum"></project-page-header> <div class="content" bind-html-math="project.description" compile="true"></div> <project-content-feed label="Discussions" project="project"></project-content-feed> </div> ',restrict:"E",scope:{},link:function(e){e.project=new jb(window.metacData.project)}}})),pi.directive("predict",(function(){return{restrict:"E",transclude:!0,scope:{prediction:"=",question:"="},template:'<div ng-if="question.isLive && !question.isClosed && !question.isTutorial"> <div ng-if="user.isAuthenticated" class=""> <div class="button-row"> <span ng-transclude></span> <ajax-button class="button is-primary" submit="submitPrediction(false)" is-disabled="predictButtonDisabled()" ng-if="!showReaffirmButton()"> <span>{{ predictButtonText() | translate}}</span> </ajax-button> <ajax-button class="button is-primary" submit="submitPrediction(true)" is-disabled="reaffirmButtonDisabled()" ng-if="showReaffirmButton()"> <span>{{ "reaffirmPredictionButton" | translate:({count: 1})}}</span> </ajax-button> <div ng-if="predictionErrorMsg"> <span class="help is-danger">{{predictionErrorMsg}}</span> </div> </div> <div ng-if="hasPredictedNow && !question.isSubQuestion" class="mt-16 has-predicted-box"> <h4> {{"yourPrediction" | translate}} <span bind-trusted-html="question.displayPlayerPrediction() | tlistToHTML"></span> </h4> <div class="button-row"> <a class="button with-icon is-secondary" ng-href="{{predictionTwitterLink()}}" target="_blank" ng-click="sharePrediction()"><svg icon-name="twitter" crop="24"></svg>{{"tweetPrediction" | translate}}</a> <button class="button with-icon is-secondary" ng-click="postPredictionComment()"> <svg icon-name="comment" crop="24"></svg>{{"postPredictionAsComment" | translate}} </button> </div> </div> </div> <div ng-if="!user.isAuthenticated" class="button-row"> <button class="button is-primary" ng-click="modals.setActive(\'sign-up\')"> {{"signUpButton" | translate}} </button> </div> </div> ',link:function(e){e.user=window.metacData.user,e.modals=Ks,e.hasPredictedNow=!1,e.hasPredicted=e.question.has_my_predictions,e.hasSliderMoved=!1,e.predictionErrorMsg=null,e.userIsRegistered=function(e){return new Promise((t=>{Ir.get("/api2/projects/".concat(e.id,"/registered")).then((e=>{const n=e.data.registered;t(n)}))}))},e.submitPrediction=async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.question.getTournament();if(n&&!await e.userIsRegistered(n))return void e.$apply((function(){Ks.setActive("tournament-registration-modal")}));let i=()=>e.question.predict.bind(e.question)(e.prediction);return t&&(i=e.question.reaffirm.bind(e.question)),i().then((()=>{window.ga("send","event","prediction","predict",{question_id:e.question.id,user_id:window.metacData.user.id}),e.hasPredictedNow=e.hasPredicted=!0,e.hasSliderMoved=!1,wo.addMessage({html:"Thank you for predicting."},2e3)})).catch((t=>{var n;const i=Array.isArray(t.data)?t.data.join("; "):null===(n=t.data)||void 0===n?void 0:n.message;e.predictionErrorMsg=i||t.statusText}))},e.postPredictionComment=function(){e.$root.$broadcast("madePrediction",{question:e.question,addComment:e.hasPredictedNow})},e.predictionTwitterLink=function(){var t=e.question.displayPlayerPrediction().map((e=>e.t)).join(""),n=e.question.title;return t&&(n+=" My prediction: "+t,n+="binary"===e.question.possibilities.type?" likely.":"."),n=encodeURIComponent(n),"/share/twitter/?page=/questions/".concat(e.question.id,"/&text=").concat(n)},e.sharePrediction=function(t){window.ga("send","event","share-prediction",t,e.question.page_url)},e.reaffirmButtonDisabled=function(){return!e.hasSliderMoved&&e.question.samePredictedValue()&&e.hasPredictedNow},e.predictButtonDisabled=function(){return!e.question.predictionInput},e.$watch((e=>e.question.predictionInput),(function(e,t,n){e&&!n.question.samePredictedValue()&&(n.hasSliderMoved=!0)})),e.showReaffirmButton=function(){return e.question.samePredictedValue()},e.predictButtonText=function(){return e.hasPredicted?"updatePredictionButton":"predictButton"}}}})),pi.directive("predictBulk",(function(){return{restrict:"E",transclude:!0,scope:{question:"="},template:'<div ng-if="question.isLive && !question.isClosed"> <div ng-if="user.isAuthenticated" class=""> <div class="button-row"> <button class="button is-secondary" ng-click="discardChanges()" ng-disabled="predictButtonDisabled()"> {{"discardChangesButton" | translate}} </button> <span ng-transclude></span> <ajax-button class="button is-primary" submit="submitPrediction(false)" is-disabled="predictButtonDisabled()" ng-if="!showReaffirmButton()"> {{ "saveChangesButton" | translate:({count: question.canPredictCount()})}} </ajax-button> <ajax-button class="button is-primary" submit="submitPrediction(true)" ng-if="showReaffirmButton()"> {{"reaffirmPredictionsButton" | translate:({count: question.canReaffirmCount()})}} </ajax-button> <div ng-if="predictionErrorMsg"> <span class="help is-danger">{{predictionErrorMsg}}</span> </div> </div> </div> <div ng-if="!user.isAuthenticated" class="button-row"> <button class="button is-primary" ng-click="modals.setActive(\'sign-up\')"> {{"signUpButton" | translate}} </button> </div> </div> ',link:function(e){e.user=window.metacData.user,e.modals=Ks,e.hasPredicted=e.question.has_my_predictions,e.predictionErrorMsg=null,e.isDiscardingChanges=!1,e.reaffirmButtonVisible=!0,e.userIsRegistered=function(e){return new Promise((t=>{Ir.get("/api2/projects/".concat(e.id,"/registered")).then((e=>{const n=e.data.registered;t(n)}))}))},e.submitPrediction=async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.question.getTournament();if(n&&!await e.userIsRegistered(n))return void e.$apply((function(){Ks.setActive("tournament-registration-modal")}));let i=()=>e.question.predict.bind(e.question)(e.prediction);return t&&(i=e.question.reaffirm.bind(e.question)),i().then((()=>{window.ga("send","event","prediction","predict",{question_id:e.question.id,user_id:window.metacData.user.id}),e.hasPredicted=!0,wo.addMessage({html:"Thank you for predicting."},2e3)})).catch((t=>{t.data.non_field_errors&&(t.data.message=t.data.non_field_errors[0]),e.predictionErrorMsg=t.data.message||t.statusText}))},e.discardChanges=function(){e.isDiscardingChanges=!0,e.question.sub_questions.forEach((e=>{e.resetPredictionInput()})),e.question.reload().then((()=>{e.isDiscardingChanges=!1}))},e.predictButtonDisabled=function(){const t=e.question.sub_questions.some((e=>!!e.predictionInput));return!t||e.isDiscardingChanges},e.showReaffirmButton=function(){if(e.isDiscardingChanges)return e.reaffirmButtonVisible;e.reaffirmButtonVisible=!1;const t=e.question.sub_questions.filter((e=>!!e.predictionInput)),n=e.question.sub_questions.filter((e=>e.samePredictedValue()));return t.length===n.length&&t.length>0&&(e.reaffirmButtonVisible=!0),e.reaffirmButtonVisible}}}}));var _w=n(4180);pi.directive("publicationEdit",(function(){return{restrict:"E",replace:!0,template:'<div class="publication publication_edit"> <div class="mt-16 columns space-between align-items-center"> <div class="column"> <span ng-if="project"><a class="tag is-journal" href="{{project.url}}">{{project.name}}</a></span> <span ng-if="project.type===\'FE\'" class="microdetail-stats"> <span class="ml-16" ng-class="{\'help is-danger\':data.textLength >project.config.words_limit}"><span id="notebookWordCounter">{{data.textLength}}</span>/{{project.config.words_limit}} words allowed</span> <span class="ml-8"><span id="forecastCounter">{{data.forecastCount}}</span>/{{project.config.required_forecasts}} forecasting questions required</span> </span> </div> <div class="column"> <button ng-if="!project.type===\'FE\'" class="button is-secondary" ng-click="openCategoryPicker()"> Add Categories </button> <button class="button is-secondary mr-8" ng-click="savePublication()"> Save </button> <button class="button is-secondary" ng-click="savePublication(true)" ng-if="publication.id"> Next </button> </div> </div> <div class="input-field"> <input class="title pl-0" type="text" placeholder="Title" ng-model="publication.title" style="width:100%"/> </div> <div class="form__row" ng-if="canViewStatus()"> <span class="form__label">status</span> <select name="qstatus" ng-model="status"> <option value="A">active</option> <option value="I">pending</option> <option value="T">draft</option> <option value="R">rejected</option> <option value="D">deleted</option> </select> </div> <br/> <div class="block"> <publication-editor publication="publication" editor="editor"></publication-editor> </div> <div class="block"> </div> <metac-modal name="remove-publication"> <h2>Are you sure you want to delete this publication?</h2> <button class="btn" ng-click="removePublication()">Delete</button> </metac-modal> <metac-modal name="category-picker" new-template="true"> <h2 class="title is-2 mt-0">Categories</h2> <div class="block"> <category-picker category-ids="data.categories" max-categories="5"></category-picker> </div> </metac-modal> <question-picker on-select-question="questionSelected" project="project.type===\'FE\' ? project : null"></question-picker> <question-graph-picker></question-graph-picker> <div class="modal__wrapper disable-editor"> <div class="modal-box" style="min-height:auto;height:auto;min-width:auto"> <div class="modal-content"> <h2 class="mt-0">Cannot Edit on This Device</h2> <p> We do not currently support editing on mobile phones and touchscreen devices. Please visit this page on a desktop browser to continue. </p> <div style="display:flex;justify-content:flex-end"> <button ng-click="copyLink()" class="button is-secondary mr-8"> Copy Link </button> <button ng-click="goBack()" class="button is-primary">Go Back</button> </div> </div> </div> </div> </div> ',scope:{},link:function(e,t,n){e.data={categories:[],textLength:0,forecastCount:0},e.dirty=!1,window.onbeforeunload=function(){return e.dirty?"If you leave this page you will lose your unsaved changes.":null},window.publication.id&&(e.publication=new pv(window.publication),e.data.categories=e.publication.categories);let i=window.project_data;e.project=i&&new jb(i);const r=()=>{e.dirty=!0,(()=>{if(!e.publication.isFortifiedEssay)return;let t=e.editor.getContents().ops.filter((e=>e.insert.forecast&&e.insert.forecast.id)).length;e.data.forecastCount=t;let n=e.editor.getText();n=n.trim();const i=n.length>0?n.split(/\s+/).length:0;e.data.textLength=i,document.querySelector("#notebookWordCounter").innerText=i,document.querySelector("#forecastCounter").innerText=t,i>e.project.config.words_limit?(document.querySelector("#notebookWordCounter").parentElement.classList.add("help"),document.querySelector("#notebookWordCounter").parentElement.classList.add("is-danger")):(document.querySelector("#notebookWordCounter").parentElement.classList.remove("help"),document.querySelector("#notebookWordCounter").parentElement.classList.remove("is-danger"))})()};e.$on("quillEditorCreated",(function(t,n){"notebookEditor"===n.name&&(e.editor=n.editor,window.editor=e.editor,r(),e.dirty=!1,e.editor.on("text-change",(function(){r()})))})),e.exportEditorHtml=function(){let t=[];e.editor.getContents().forEach((e=>t.push(e)));let n=new _w.bc(t,{paragraphTag:"p",multiLineParagraph:!1});return n.renderCustomWith((function(e,t){if("forecast"===e.insert.type){let t=e.insert.value;return"<p><embed-question options='".concat(t.options,"' question-id=\"").concat(t.id,'" plot="').concat(t.plot,'"></<embed-question></p>')}if("math-formula"===e.insert.type){let t=e.insert.value;return'<script type="math/tex; mode=display">'.concat(t,"<\/script>")}if("math-formula-inline"===e.insert.type){let t=e.insert.value;return'<script type="math/tex;">'.concat(t,"<\/script>")}if("divider"===e.insert.type)return"<hr>";if("custom-image"===e.insert.type){const t=e.insert.value;return'<img src="'.concat(t.url,'"/>')}return"Unmanaged custom blot!"})),n.convert()},e.getWordCount=e=>e.trim().split(/\s+/).length,e.savePublication=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e.publication.title)return void wo.addMessage({html:"Please add notebook title."},2e3);let n={title:e.publication.title,description_html:e.exportEditorHtml(),description:"not used",author:window.metacData.user.id,possibilities:{type:"notebook",words:e.getWordCount(e.editor.getText()),delta:e.editor.getContents()},type:"notebook",close_time:new Date(2050,1),publish_time:new Date,resolve_time:new Date(2051,1),categories:e.data.categories};if(!window.publication.id){n.status="T";const e=new URLSearchParams(window.location.search).get("project");e&&(n.projects_input=[{id:e,selected:!0}])}let i=e.publication.id?Ir.patch("/api2/questions/".concat(e.publication.id,"/"),n):Ir.post("/api2/questions/",n);i.then((n=>{wo.addMessage({html:"Notebook was saved."},2e3),e.dirty=!1,t&&(window.location.href="/questions/".concat(n.data.id,"/")),e.publication.id||(e.publication.id=n.data.id,window.location.href="/notebooks/edit/".concat(n.data.id,"/"))}),So)},e.openCategoryPicker=()=>{Ks.setActive("category-picker")},e.questionSelected=t=>{let n={question:t};e.$root.$broadcast("openQuestionPickerEdit",n)},e.goBack=()=>{window.history.back()},e.copyLink=()=>{Dg(window.location.href,"URL copied to cliboard")}}}}));window.metacData.questions||(window.metacData.questions=[]),pi.directive("embedQuestion",(function(){return{restrict:"E",replace:!1,template:'<div class="question_embed"> <div> <div ng-if="!question">loading</div> <div ng-if="question"> <h4 class="title is-4 mb-8 mt-0"> <a style="text-decoration:none" href="{{question.page_url}}"> {{question.title}} </a> </h4> <div class="question_embed__graph"> <div class="question_embed__graph__topbar"> As of <span ng-if="!parsedOptions.freezePrediction">now</span> <span ng-if="parsedOptions.freezePrediction" ng-bind="parsedOptions.freezePredictionDate | dateStr"></span> </div> <div ng-if="plot == \'pdf\'"> <embed-question-continuous type="pdf" question="question" options="options"></embed-question-continuous> </div> <div ng-if="plot == \'cdf\'"> <embed-question-continuous type="cdf" question="question" options="options"></embed-question-continuous> </div> <div ng-if="plot == \'history\'" style="display:flex;flex-wrap:wrap"> <div style="width:100%"> <svg style="width:100%" class="metac-trend" metac-time-series-graph question="question" interactive="false" selected-date="selectedDate" hide-metac="1" hide-comm="!parsedOptions.showCommunityPrediction || question.communityIsHidden"></svg> </div> <div class="mouse-pdf-detail" style="margin:0 auto"> Community Predicts: <span class="metac-value" bind-trusted-html="question.displayCommunityPrediction(selectedDate) | tlistToHTML | minusToEnDash"></span> </div> <div ng-if="parsedOptions.showMyPrediction" class="mouse-pdf-detail" style="margin:0 auto"> Author Predicts: <span class="metac-value" bind-trusted-html="question.displayPlayerPrediction(selectedDate, question.user_predictions) | tlistToHTML | minusToEnDash"></span> </div> </div> <div ng-if="plot == \'histogram\'"> <div> <svg metac-question-histogram class="_full-width" question="question" ng-if="question.predictionCount() > 0" recent-only="false"></svg> </div> <div style="display:flex;flex-wrap:wrap"> <div class="mouse-pdf-detail" style="margin:0 auto"> Community Predicts: <span class="metac-value" bind-trusted-html="question.displayCommunityPrediction(selectedDate) | tlistToHTML | minusToEnDash"></span> </div> <div ng-if="parsedOptions.showMyPrediction" class="mouse-pdf-detail" style="margin:0 auto"> Author Predicts: <span class="metac-value" bind-trusted-html="question.displayPlayerPrediction(selectedDate, question.user_predictions) | tlistToHTML | minusToEnDash"></span> </div> </div> </div> </div> <div class="question_embed__footer" ng-if="plot === \'pdf\' || plot === \'cdf\'"> <span class="question_embed__legend"> <span class="question_embed__legend__circle first_child"></span> Community Prediction </span> <span class="question_embed__legend" ng-if="parsedOptions.showMyPrediction"> <span class="question_embed__legend__circle second_child"></span> Author Prediction </span> </div> </div> </div> </div> '.replace(/>[\t ]+</g,"><"),scope:{questionId:"@",plot:"@",options:"@"},link:function(e,t,n){e.options&&(e.parsedOptions=JSON.parse(e.options));const i=new URLSearchParams;let r=window.metacData.questions.findIndex((t=>t.id==e.questionId));if(r>=0)e.question=window.metacData.questions[r],e.question.isEmbed=!0;else{let t="/api2/questions/".concat(e.questionId,"/?");e.parsedOptions.freezePrediction&&i.set("freeze-prediction-date",e.parsedOptions.freezePredictionDate),e.parsedOptions.showMyPrediction&&i.set("user-prediction",window.metacData.question.author),t+=i.toString(),Ir.get(t).then((t=>{e.question=new pv(t.data),e.question.isEmbed=!0,window.metacData.questions.push(e.question)}),So)}}}}));window.metacData.questions||(window.metacData.questions=[]),pi.directive("embedQuestionContinuous",(function(){return{restrict:"E",replace:!1,template:'<div> <svg ng-show="type === \'pdf\'" style="width:100%" class="prediction-graph distribution-graph" id="prediction-graph-pdf"></svg> <svg ng-show="type === \'cdf\'" style="width:100%" class="prediction-graph distribution-graph" id="prediction-graph-cdf"></svg> <div ng-style="hovered ? {\'opacity\': 1} : {\'opacity\': 0}" class="mouse-pdf-detail"> <span>P(x = <strong bind-trusted-html="hovered.value | tlistToHTML"></strong>):</span> <span ng-if="hovered.pdf"><strong>{{hovered.pdf.toFixed(2)}}</strong> (you);</span> <span ng-if="hoveredAlt.pdf"><strong>{{hoveredAlt.pdf.toFixed(2)}}</strong> ({{d.hasMetacPrediction && d.showMetacPrediction ? \'Metaculus\' : \'community\'}})</span> </div> </div> '.replace(/>[\t ]+</g,"><"),scope:{question:"=",options:"=",type:"@"},link:function(e,t,n){e.parsedOptions=JSON.parse(e.options);let i=function(t,n){e.$apply((function(){let i={},r={};"date"===n.formatter._fmt?i.value=n.formatter.formatUnscaled(t,.1):i.value=n.formatter.formatUnscaled(t),e.pdist&&(i.pdf=e.pdist.pdf(t),i.cdf=e.pdist.cdf(t)),e.altDist&&(r.pdf=e.altDist.pdf(t),r.cdf=e.altDist.cdf(t)),e.hovered=i,e.hoveredAlt=r,"pdf"===e.type?(n.data=e.pdist?e.pdist.pdfArray().map((e=>e.pdf)):null,n.dataAlt=e.altDist?e.altDist.data.map((e=>e.pdf)):null):"cdf"===e.type&&(n.data=e.pdist?e.pdist.pdfArray().map((e=>e.cdf)):null,n.dataAlt=e.altDist?e.altDist.data.map((e=>e.cdf)):null)}))},r=function(t){e.$apply((function(){e.hovered=null,e.hoveredAlt=null,t.data=null,t.dataAlt=null}))},o=null;"pdf"===e.type?o=new fg(Us(t[0]).select("svg#prediction-graph-pdf"),e.question.predictionFormatter,i,r):"cdf"===e.type&&(o=new mg(Us(t[0]).select("svg#prediction-graph-cdf"),e.question.predictionFormatter,i,r)),o.liveResize(),setTimeout((()=>{o.updateData(),o.display()}),1);let a=!e.question.communityIsHidden&&e.question.community_prediction;if(e.parsedOptions.showCommunityPrediction&&a&&a.full&&a.full.y&&a.full.y.length>0&&(o.altDist=new ta(a.full.y,null,null,a.full.low,a.full.high),e.altDist=o.altDist),e.parsedOptions.showMyPrediction){let t=e.question.playerPrediction(null,!0,e.question.user_predictions);t&&(o.mainDist=oa(t),e.mainDist=o.mainDist)}}}})),n(9244),n(3753);var xw=n(6095),Cw=n.n(xw);let kw=Cw().import("blots/inline");class Sw extends kw{static create(e){let t=super.create();return t.setAttribute("href",e),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}}Sw.blotName="link",Sw.tagName="a";var Tw=Sw;let Ew=Cw().import("blots/block/embed");class Pw extends Ew{static create(e){let t=super.create();return t.setAttribute("alt",e.alt),t.setAttribute("src",e.url),t}static value(e){return{alt:e.getAttribute("alt"),url:e.getAttribute("src")}}}Pw.blotName="custom-image",Pw.tagName="img";var Ow=Pw;let qw=Cw().import("blots/block/embed");class $w extends qw{static create(e){let t=super.create();return t.dataset.id=e.id,t.dataset.uniqueId=e.uniqueId,t.dataset.options=e.options,t.dataset.plot=e.plot,t.setAttribute("contenteditable",!1),t.innerHTML="\n        <div><embed-question onfocus=\"alert('test)\" options='".concat(e.options,"' question-id=\"").concat(e.id,'" theme="light" plot="').concat(e.plot,'"></embed-question></div>\n      '),t}static value(e){return e.dataset}}$w.blotName="forecast",$w.tagName="div",$w.className="forecast";var Mw=$w;let Lw=Cw().import("blots/block/embed");class jw extends Lw{static create(e){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return"string"==typeof e&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return"<span>".concat(e,"</span>")}}jw.blotName="math-formula",jw.className="ql-formula",jw.tagName="DIV";var Aw=jw;let Dw=Cw().import("blots/embed");class Nw extends Dw{static create(e){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return"string"==typeof e&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return'<span">'.concat(e,"</span>")}}Nw.blotName="math-formula-inline",Nw.className="ql-formula-inline",Nw.tagName="SPAN";var Rw=Nw,Iw=n(546),Fw=n.n(Iw);Cw().debug("error"),Cw().register("modules/markdownShortcuts",Fw());let Uw=Cw().import("blots/inline"),Bw=Cw().import("blots/block"),Hw=Cw().import("blots/block/embed");var zw=Cw().import("modules/history");Cw().register("modules/history",class extends zw{redo(){super.redo()}undo(){super.undo()}},!0);class Vw extends Uw{}Vw.blotName="bold",Vw.tagName="strong";class Gw extends Uw{}Gw.blotName="italic",Gw.tagName="em";class Qw extends Uw{}Qw.blotName="code",Qw.tagName="code";class Ww extends Bw{}Ww.blotName="blockquote",Ww.tagName="blockquote";class Yw extends Bw{static formats(e){return Yw.tagName.indexOf(e.tagName)+1}}Yw.blotName="header",Yw.tagName=["H1","H2"];class Kw extends Hw{}Kw.blotName="divider",Kw.tagName="hr",Cw().register(Vw),Cw().register(Gw),Cw().register(Qw),Cw().register(Tw),Cw().register(Ww),Cw().register(Yw),Cw().register(Kw),Cw().register(Mw),Cw().register(Ow),Cw().register(Aw),Cw().register(Rw);var Zw=Cw();n(5666);var Jw=class{_getCustomPatternOrDefault(e,t,n){return e.tags&&e.tags[t]&&e.tags[t].pattern?e.tags[t].pattern:n}_getActiveTagsWithoutIgnore(e,t){return Array.isArray(t)?e.reduce(((e,n)=>(t.includes(n)||e.push(n.toLowerCase()),e)),[]):e}},Xw=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="header",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(#){1,6}\s/g),this.getAction.bind(this),this._meta={applyHtmlTags:["h1","h2","h3","h4","h5","h6","header"].map((e=>e.toLowerCase()))},this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n)=>new Promise((i=>{const r=n.exec(e);if(!r||!this.activeTags.length||!this.activeTags.find((e=>"header"===e)))return void i(!1);const o=r[0].length,[a]=this.quillJS.getLine(t.index),s=this.quillJS.getIndex(a);if(!this.activeTags.includes("h"+(o-1)))return i(!1);setTimeout((()=>{this.quillJS.formatLine(s,0,"header",o-1),this.quillJS.deleteText(s,o),i(!0)}),0)}))}}},e_=e=>({applyHtmlTags:["blockquote"].map((e=>e.toLowerCase()))}),t_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="blockquote",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(>)\s/g),this.getAction.bind(this),this._meta=e_(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n)=>new Promise((i=>{const r=n.exec(e);if(!r||!this.activeTags.length)return void i(!1);const o=r[0]||"";setTimeout((()=>{this.quillJS.formatText(t.index,r.input.length-1,"blockquote",!0),this.quillJS.deleteText(t.index-o.length,o.length),i(!0)}),0)})),release:()=>{setTimeout((()=>{const e=this.quillJS.getSelection().index,[,t]=this.quillJS.getLine(e);0===t&&this.quillJS.format("blockquote",!1)}),0)}}}},n_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="blockquote",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^\s{0,99}(>)\s/g),this.getAction.bind(this),this._meta=e_(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n)=>new Promise((i=>{const r=n.exec(e);if(!r||!this.activeTags.length)return void i(!1);const o=r[0]||"";setTimeout((()=>{const e=t.index-1;this.quillJS.deleteText(e,2),setTimeout((()=>{this.quillJS.formatLine(e,o.length-3,"blockquote",!0),i(!0)}),0)}),0)}))}}},i_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="bold",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(\*|_){2}(.+?)(?:\1){2}/g),this.getAction.bind(this),this._meta={applyHtmlTags:["bold"].map((e=>e.toLowerCase()))},this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n,i)=>new Promise((t=>{let r=n.exec(e);const[o,,a]=r,s=i+r.index;!e.match(/^([*_ \n]+)$/g)&&this.activeTags.length?setTimeout((()=>{this.quillJS.deleteText(s,o.length),setTimeout((()=>{this.quillJS.insertText(s,a,{bold:!0}),this.quillJS.format("bold",!1),t(!0)}))}),0):t(!1)}))}}},r_=e=>({applyHtmlTags:["checkbox"].map((e=>e.toLowerCase()))}),o_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="checkbox-checked",this.pattern=this._getCustomPatternOrDefault(t,"checkbox",/^(\[x\])+\s/g),this.getAction.bind(this),this._meta=r_(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n)=>new Promise((i=>{if(!n.exec(e)||!this.activeTags.length)return void i(!1);const[r]=this.quillJS.getLine(t.index),o=this.quillJS.getIndex(r);setTimeout((()=>{const t=e.split("[x] ").splice(1,1).join("");this.quillJS.insertText(o,t),this.quillJS.deleteText(o+t.length-1,e.length),setTimeout((()=>{this.quillJS.formatLine(o,0,"list","checked"),i(!0)}))}),0)}))}}},a_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="checkbox-unchecked",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(\[\s?\])+\s/g),this.getAction.bind(this),this._meta=r_(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n)=>new Promise((i=>{if(!n.exec(e)||!this.activeTags.length)return void i(!1);const[r]=this.quillJS.getLine(t.index),o=this.quillJS.getIndex(r);setTimeout((()=>{let t=e.split("[ ] ").length>1?e.split("[ ] ").splice(1,1).join(""):e;t=t.split("[] ").length>1?t.split("[] ").splice(1,1).join(""):t,this.quillJS.insertText(o,t),this.quillJS.deleteText(o+t.length-1,e.length),setTimeout((()=>{this.quillJS.formatLine(o,0,"list","unchecked"),i(!0)}))}),0)}))}}},s_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="code",this.pattern=this._getCustomPatternOrDefault(t,this.name,(e=>/(`){1}(.+)(`){1}/g.test(e)&&!/```.*/.test(e)?e:null)),this.getAction.bind(this),this._meta={applyHtmlTags:["code"].map((e=>e.toLowerCase()))},this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n,i)=>new Promise((t=>{let n=/(`){1}(.+)(`){1}/g.exec(e);if(!n||!this.activeTags.length)return void t(!1);const[r]=n,o=i+n.index;setTimeout((()=>{this.quillJS.deleteText(o,r.length),setTimeout((()=>{const e=r.replace(/`/g,"");this.quillJS.insertText(o,e,{code:!0}),this.quillJS.insertText(o+e.length," ",{code:!1}),t(!0)}),0)}),0)}))}}},l_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="italic",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:^|\s)(?:(\*|_)\s*(?<text1>[^*_]+)\s*?\1|(\*|_){3}\s*(?<text3>[^*_]*)\s*\1{3})(?:$|(?=\s))/g),this.getAction.bind(this),this._meta={applyHtmlTags:["italics"].map((e=>e.toLowerCase()))},this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n,i)=>new Promise((t=>{let r=n.exec(e);if(!r||!this.activeTags.length)return void t(!1);const[o,a,s]=r,l=this.quillJS.getText()[i+r.index],u=this.quillJS.getText()[i+r.index+1];if(a===l&&l===u)return void t(!1);const c=i+r.index;setTimeout((()=>{const e=!r.index,n=e?c:c+1,i=e?o.length:o.length-1;this.quillJS.deleteText(n,i),this.quillJS.insertText(n,s,{italic:!0}),this.quillJS.format("italic",!1),t(!0)}),0)}))}}},u_=e=>({applyHtmlTags:["link"].map((e=>e.toLowerCase()))}),c_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="link",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:\[(.+?)\])(?:\((.+?)\))/g),this.getAction.bind(this),this._meta=u_(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n,i)=>new Promise((t=>{const r=n.exec(e),o=i+r.index,a=e.search(n),s=e.match(n)[0],l=e.match(/(?:\[(.*?)\])/g)[0],u=e.match(/(?:\((.*?)\))/g)[0];this.activeTags.length&&-1!==a?setTimeout((()=>{const e=o;this.quillJS.deleteText(e,s.length),this.quillJS.insertText(e,l.slice(1,l.length-1),"link",u.slice(1,u.length-1)),t(!0)}),0):t(!1)}))}}},d_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="link",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:\[(.+?)\])(?:\((.+?)\))/g),this.getAction.bind(this),this._meta=u_(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n)=>new Promise((i=>{const r=e.search(n),o=e.match(n)[0],a=e.match(/(?:\[(.*?)\])/g)[0],s=e.match(/(?:\((.*?)\))/g)[0],l=t.index-1+r;this.activeTags.length&&-1!==r?setTimeout((()=>{const e=this.quillJS.getText(l-o.length,o.length)===o?l-o.length:l;this.quillJS.deleteText(e,o.length),this.quillJS.insertText(e,a.slice(1,a.length-1),"link",s.slice(1,s.length-1)),i(!0)}),0):i(!1)}))}}},p_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="li",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^\s{0,9}(\d)+\.\s/g),this.getAction.bind(this),this._meta={applyHtmlTags:["li"].map((e=>e.toLowerCase()))},this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n)=>new Promise((i=>{if(!n.exec(e)||!this.activeTags.length)return void i(!1);const[r]=this.quillJS.getLine(t.index),o=this.quillJS.getIndex(r);setTimeout((()=>{const t=e.split(". ")[0].split("").filter((e=>/\s/gi.test(e))).length,n=e.split(". ").splice(1,1).join("");this.quillJS.insertText(o,n),this.quillJS.deleteText(o+n.length-1,e.length),setTimeout((()=>{this.quillJS.formatLine(o,0,{list:"ordered",indent:t}),i(!0)}),0)}),0)}))}}},h_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="ul",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^\s{0,9}(-|\*){1}\s/),this.getAction.bind(this),this._meta={applyHtmlTags:["ul"].map((e=>e.toLowerCase()))},this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n)=>new Promise((i=>{if(!n.exec(e)||!this.activeTags.length)return void i(!1);if(!e.split("- ")[1]&&!e.split("* ")[1])return void i(!1);const[r]=this.quillJS.getLine(t.index),o=this.quillJS.getIndex(r);setTimeout((()=>{let t=/^\s{0,9}(\*){1}\s/.test(e)?e.replace("*","-"):e;const n=t.split("- ")[0].split("").filter((e=>/\s/gi.test(e))).length;let r=t.split("- ").length>1?t.split("- ").splice(1,1).join(""):t;this.quillJS.insertText(o,r),this.quillJS.deleteText(o+r.length-1,e.length),setTimeout((()=>{this.quillJS.formatLine(o,0,{list:"bullet",indent:n}),i(!0)}),0)}),0)}))}}},f_=e=>({applyHtmlTags:["pre"].map((e=>e.toLowerCase()))}),m_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="pre",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(```).*/g),this.getAction.bind(this),this._meta=f_(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n)=>new Promise((i=>{const r=n.exec(e);if(!r||!this.activeTags.length)return void i(!1);const o=r[0]||"";setTimeout((()=>{const e=t.index-o.length;this.quillJS.deleteText(e,o.length),setTimeout((()=>{this.quillJS.insertText(e,"\n");const t=e+1+"\n".length+1;this.quillJS.insertText(t-1,"\n"),this.quillJS.formatLine(t-2,1,"code-block",!0),i(!0)}),0)}),0)})),release:()=>{setTimeout((()=>{const e=this.quillJS.getSelection().index,t=this.quillJS.getLine(e)[0],n=t.domNode.textContent;t&&n&&n.replace("\n","").length<=0&&this.quillJS.format("code-block",!1)}),0)}}}},g_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="pre",this.pattern=this._getCustomPatternOrDefault(t,this.name,/^(```)/g),this.getAction.bind(this),this._meta=f_(),this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n)=>new Promise((i=>{const r=n.exec(e);if(!r||!this.activeTags.length)return void i(!1);const o=r[0]||"",[a]=this.quillJS.getLine(t.index);setTimeout((()=>{const e=this.quillJS.getIndex(a);this.quillJS.deleteText(e,o.length+1),setTimeout((()=>{let t=this.quillJS.getLine(e)[0];for(;t;){const e=this.quillJS.getIndex(t),n=t.domNode.textContent,r=t.domNode.textContent.length;if(this.pattern.test(n))return this.quillJS.deleteText(e,n.length),void i(!0);this.quillJS.formatLine(e,0,"code-block",!0),t=this.quillJS.getLine(e+r+1)[0]}i(!0)}),0)}),0)})),release:()=>{setTimeout((()=>{const e=this.quillJS.getSelection().index,t=this.quillJS.getLine(e)[0],n=t.domNode.textContent;t&&n&&n.replace("\n","").length<=0&&this.quillJS.format("code-block",!1)}),0)}}}},v_=class extends Jw{constructor(e,t={}){super(),this.quillJS=e,this.name="strikethrough",this.pattern=this._getCustomPatternOrDefault(t,this.name,/(?:~|_){2}(.+?)(?:~|_){2}/g),this.getAction.bind(this),this._meta={applyHtmlTags:["strikethrough"].map((e=>e.toLowerCase()))},this.activeTags=this._getActiveTagsWithoutIgnore(this._meta.applyHtmlTags,t.ignoreTags)}getAction(){return{name:this.name,pattern:this.pattern,action:(e,t,n,i)=>new Promise((t=>{let r=n.exec(e);if(!this.activeTags.length)return void t(!1);const o=r[0],a=r[1],s=i+r.index;e.match(/^([~_ \n]+)$/g)?t(!1):setTimeout((()=>{this.quillJS.deleteText(s,o.length),this.quillJS.insertText(s,a,{strike:!0}),this.quillJS.format("strike",!1),t(!0)}),0)}))}}},y_=class{constructor(e,t={}){this.quillJS=e,this.options=t,this.onTextChangeBound=this.onTextChange.bind(this),this.quillJS.on("text-change",this.onTextChangeBound),this.actionCharacters={whiteSpace:" ",newLine:"\n",asterisk:"*",rightParenthesis:")",grave:"`",tilde:"~",underscore:"_"},this.ignoreTags=["PRE",...t.ignoreTags||[]],this.tags=new class{constructor(e,t={tags:{}}){this.quillJS=e,this.getOperatorsAll.bind(this),this.supportInlineTags=[new Xw(this.quillJS,t).getAction(),new t_(this.quillJS,t).getAction(),new i_(this.quillJS,t).getAction(),new m_(this.quillJS,t).getAction(),new s_(this.quillJS,t).getAction(),new v_(this.quillJS,t).getAction(),new l_(this.quillJS,t).getAction(),new c_(this.quillJS,t).getAction()],this.supportfullTextTags=[new Xw(this.quillJS,t).getAction(),new o_(this.quillJS,t).getAction(),new a_(this.quillJS,t).getAction(),new p_(this.quillJS,t).getAction(),new h_(this.quillJS,t).getAction(),new n_(this.quillJS,t).getAction(),new g_(this.quillJS,t).getAction(),new i_(this.quillJS,t).getAction(),new d_(this.quillJS,t).getAction(),new s_(this.quillJS,t).getAction(),new v_(this.quillJS,t).getAction(),new l_(this.quillJS,t).getAction()],this.tags=[...this.supportInlineTags],this.fullTextTags=[...this.supportfullTextTags]}getOperatorsAll(){return this.tags}getFullTextOperatorsAll(){return this.fullTextTags}}(this.quillJS,t),this.matches=this.tags.getOperatorsAll(),this.fullMatches=this.tags.getFullTextOperatorsAll()}destroy(){this.quillJS.off("text-change",this.onTextChangeBound)}onTextChange(e,t,n){if("user"!==n)return;const i=e.ops[0]&&e.ops[0].retain||0,r=e.ops[0].insert||e.ops[1]&&e.ops[1].insert,[o]=this.quillJS.getLine(i),a=e.ops.find((e=>e.hasOwnProperty("insert")))||{},s=e.ops.find((e=>e.hasOwnProperty("delete")))||"\n"===a.insert;s&&o.domNode.textContent.length<=1&&["PRE","BLOCKQUOTE"].includes(o.domNode.tagName)&&this.onRemoveElement({delete:1}),r&&(r.length>1?setTimeout((async()=>{const t=i,n=r.split("\n");let o=t;for(let t of n){const[t]=this.quillJS.getLine(o);if(!t)return 0;const n=this.quillJS.getIndex(t);let i="",r=await this.onFullTextExecute.bind(this)({index:n,delta:e,length:0});if(r)for(;r;){const[t]=this.quillJS.getLine(o),n=this.quillJS.getIndex(t);if(!t||!t.domNode){r=!1;break}i=t.domNode.textContent||"",r=await this.onFullTextExecute.bind(this)({index:n,delta:e,length:0})}else i=t.domNode.textContent||"";o+=i.length+1}}),0):(e.ops.filter((e=>e.hasOwnProperty("insert"))).forEach((e=>{switch(e.insert){case this.actionCharacters.whiteSpace:case this.actionCharacters.rightParenthesis:case this.actionCharacters.asterisk:case this.actionCharacters.grave:case this.actionCharacters.newLine:case this.actionCharacters.tilde:case this.actionCharacters.underscore:this.onInlineExecute.bind(this)()}})),e.ops.filter((e=>e.hasOwnProperty("delete"))).forEach((e=>{this.onRemoveElement(e)}))))}onInlineExecute(){const e=this.quillJS.getSelection();if(!e)return;const[t,n]=this.quillJS.getLine(e.index),i=t.domNode.textContent,r=e.index-n,o=this.quillJS.getFormat(r);if(!o["code-block"]&&!o.code)for(let t of this.matches)if("function"==typeof t.pattern?t.pattern(i):i.match(t.pattern))return void t.action(i,e,t.pattern,r)}async onFullTextExecute(e){let t=e||this.quillJS.getSelection();const n=e.delta;if(!t)return!1;const[i,r]=this.quillJS.getLine(t.index);if(!i||r<0)return!1;const o=n&&n.ops&&n.ops[0].retain||0,a=t.index-r,s=o?o-1:a,l=this.quillJS.getFormat(s);if(l["code-block"]||l.code){if(l.code){const e=n.ops.filter((e=>e.insert)).map((e=>e.insert)).join("");this.quillJS.deleteText(o,e.length),this.quillJS.insertText(o,e.replace(/\n/g,""),{code:!0}),this.quillJS.format("code",!1)}return!1}const u=this.quillJS.getLine(a-1)[0],c=u&&u.domNode.textContent,d=i.domNode.textContent+" ";if(t.length=t.index++,"string"==typeof c&&c.length>0&&" "===d){const e=this.fullMatches.find((e=>e.name===i.domNode.tagName.toLowerCase()));if(e&&e.release)return e.release(t),!1}for(let e of this.fullMatches)if("function"==typeof e.pattern?e.pattern(d):d.match(e.pattern))return await e.action(d,t,e.pattern,a);return!1}onRemoveElement(e){const t=this.quillJS.getSelection();if(e&&1===e.delete){const e=this.quillJS.getLine(t.index)[0],n=this.matches.find((t=>t.name===e.domNode.tagName.toLowerCase()));n&&n.release&&n.release(t)}}};"undefined"!=typeof window&&(window.QuillMarkdown=y_);var b_=y_;function w_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function __(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function x_(e,t,n){return t&&__(e.prototype,t),n&&__(e,n),e}function C_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k_(){return k_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},k_.apply(this,arguments)}function S_(e){return S_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S_(e)}function T_(e,t){return T_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T_(e,t)}function E_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P_(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E_(e)}function O_(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S_(e)););return e}function q_(){return q_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=O_(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},q_.apply(this,arguments)}function $_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function M_(e,t,n){var i=e;return Object.keys(t).forEach((function(e){n.indexOf(e)>-1?i.dataset[e]=t[e]:delete i.dataset[e]})),i}var L_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T_(e,t)}(r,e);var t,n,i=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=S_(t);if(n){var r=S_(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return P_(this,e)});function r(e,t){var n;return w_(this,r),C_(E_(n=i.call(this,e,t)),"hoverHandler",void 0),C_(E_(n),"hoverHandler",void 0),n.clickHandler=null,n.hoverHandler=null,n.mounted=!1,n}return x_(r,[{key:"attach",value:function(){q_(S_(r.prototype),"attach",this).call(this),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1))}},{key:"detach",value:function(){q_(S_(r.prototype),"detach",this).call(this),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null)}},{key:"getClickHandler",value:function(){var e=this;return function(t){var n=e.buildEvent("mention-clicked",t);window.dispatchEvent(n),t.preventDefault()}}},{key:"getHoverHandler",value:function(){var e=this;return function(t){var n=e.buildEvent("mention-hovered",t);window.dispatchEvent(n),t.preventDefault()}}},{key:"buildEvent",value:function(e,t){var n=new Event(e,{bubbles:!0,cancelable:!0});return n.value=k_({},this.domNode.dataset),n.event=t,n}}],[{key:"create",value:function(e){var t=q_(S_(r),"create",this).call(this),n=document.createElement("span");return n.className="ql-mention-denotation-char",n.innerHTML=e.denotationChar,t.appendChild(n),t.innerHTML+=e.value,r.setDataValues(t,e)}},{key:"setDataValues",value:function(e,t){var n=e;return Object.keys(t).forEach((function(e){n.dataset[e]=t[e]})),n}},{key:"value",value:function(e){return e.dataset}}]),r}(Cw().import("blots/embed"));L_.blotName="mention",L_.tagName="span",L_.className="mention",Cw().register(L_);var j_=function(){function e(t,n){var i=this;w_(this,e),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=t,this.options={source:null,renderItem:function(e){return"".concat(e.value)},renderLoading:function(){return null},onSelect:function(e,t){t(e)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[13]},k_(this.options,n,{dataAttributes:Array.isArray(n.dataAttributes)?this.options.dataAttributes.concat(n.dataAttributes):this.options.dataAttributes}),this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",t.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),t.on("text-change",this.onTextChange.bind(this)),t.on("selection-change",this.onSelectionChange.bind(this)),t.container.addEventListener("paste",(function(){setTimeout((function(){var e=t.getSelection();i.onSelectionChange(e)}))})),t.keyboard.addBinding({key:9},this.selectHandler.bind(this)),t.keyboard.bindings[9].unshift(t.keyboard.bindings[9].pop());var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.options.selectKeys);try{for(o.s();!(r=o.n()).done;){var a=r.value;t.keyboard.addBinding({key:a},this.selectHandler.bind(this))}}catch(e){o.e(e)}finally{o.f()}t.keyboard.bindings[13].unshift(t.keyboard.bindings[13].pop()),t.keyboard.addBinding({key:27},this.escapeHandler.bind(this)),t.keyboard.addBinding({key:38},this.upHandler.bind(this)),t.keyboard.addBinding({key:40},this.downHandler.bind(this))}return x_(e,[{key:"selectHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken&&(this.selectItem(),1))}},{key:"escapeHandler",value:function(){return!this.isOpen||(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1)}},{key:"upHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken&&(this.prevItem(),1))}},{key:"downHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken&&(this.nextItem(),1))}},{key:"showMentionList",value:function(){"fixed"===this.options.positioningStrategy?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=0;t<this.mentionList.childNodes.length;t+=1)this.mentionList.childNodes[t].classList.remove("selected");if(-1!==this.itemIndex&&"true"!==this.mentionList.childNodes[this.itemIndex].dataset.disabled&&(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),e)){var n=this.mentionList.childNodes[this.itemIndex].offsetHeight,i=this.mentionList.childNodes[this.itemIndex].offsetTop,r=this.mentionContainer.scrollTop,o=r+this.mentionContainer.offsetHeight;i<r?this.mentionContainer.scrollTop=i:i>o-n&&(this.mentionContainer.scrollTop+=i-o+n)}}},{key:"getItemData",value:function(){var e=this.mentionList.childNodes[this.itemIndex].dataset.link,t=void 0!==e,n=this.mentionList.childNodes[this.itemIndex].dataset.target;return t&&(this.mentionList.childNodes[this.itemIndex].dataset.value='<a href="'.concat(e,'" target=').concat(n||this.options.linkTarget,">").concat(this.mentionList.childNodes[this.itemIndex].dataset.value)),this.mentionList.childNodes[this.itemIndex].dataset}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var e=this;if(-1!==this.itemIndex){var t=this.getItemData();t.disabled||(this.options.onSelect(t,(function(t){e.insertItem(t)})),this.hideMentionList())}}},{key:"insertItem",value:function(e,t){var n,i=e;null!==i&&(this.options.showDenotationChar||(i.denotationChar=""),t?n=this.cursorPos:(n=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,Cw().sources.USER)),this.quill.insertEmbed(n,this.options.blotName,i,Cw().sources.USER),this.options.spaceAfterInsert?(this.quill.insertText(n+1," ",Cw().sources.USER),this.quill.setSelection(n+2,Cw().sources.USER)):this.quill.setSelection(n+1,Cw().sources.USER),this.hideMentionList())}},{key:"onItemMouseEnter",value:function(e){if(!this.suspendMouseEnter){var t=Number(e.target.dataset.index);Number.isNaN(t)||t===this.itemIndex||(this.itemIndex=t,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(e){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(e){0===e.button&&(e.preventDefault(),e.stopImmediatePropagation(),this.itemIndex=e.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(e){e.preventDefault(),e.stopImmediatePropagation()}},{key:"renderLoading",value:function(){if(this.options.renderLoading())if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0)this.showMentionList();else{this.mentionList.innerHTML="";var e=document.createElement("div");e.className="ql-mention-loading",e.innerHTML=this.options.renderLoading(),this.mentionContainer.append(e),this.showMentionList()}}},{key:"removeLoading",value:function(){var e=this.mentionContainer.getElementsByClassName("ql-mention-loading");e.length>0&&e[0].remove()}},{key:"renderList",value:function(e,t,n){if(t&&t.length>0){this.removeLoading(),this.values=t,this.mentionList.innerHTML="";for(var i=-1,r=0;r<t.length;r+=1){var o=document.createElement("li");o.id="quill-mention-item-"+r,o.className=this.options.listItemClass?this.options.listItemClass:"",t[r].disabled?(o.className+=" disabled",o.setAttribute("aria-hidden","true")):-1===i&&(i=r),o.dataset.index=r,o.innerHTML=this.options.renderItem(t[r],n),t[r].disabled?o.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(o.onmouseenter=this.onItemMouseEnter.bind(this),o.onmouseup=this.onItemClick.bind(this),o.onmousedown=this.onItemMouseDown.bind(this)),o.dataset.denotationChar=e,this.mentionList.appendChild(M_(o,t[r],this.options.dataAttributes))}this.itemIndex=i,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var e,t=0;do{t++,e=(this.itemIndex+t)%this.values.length;var n="true"===this.mentionList.childNodes[e].dataset.disabled;if(t===this.values.length+1){e=-1;break}}while(n);this.itemIndex=e,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var e,t=0;do{t++,e=(this.itemIndex+this.values.length-t)%this.values.length;var n="true"===this.mentionList.childNodes[e].dataset.disabled;if(t===this.values.length+1){e=-1;break}}while(n);this.itemIndex=e,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(e,t){return e+this.mentionContainer.offsetHeight+t.top>window.pageYOffset+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(e,t){return!this.options.fixMentionsToQuill&&e+this.mentionContainer.offsetWidth+t.left>window.pageXOffset+document.documentElement.clientWidth}},{key:"setIsOpen",value:function(e){this.isOpen!==e&&(e?this.options.onOpen():this.options.onClose(),this.isOpen=e)}},{key:"setMentionContainerPosition",value:function(){"fixed"===this.options.positioningStrategy?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var e=this,t=this.quill.container.getBoundingClientRect(),n=this.quill.getBounds(this.mentionCharPos),i=this.mentionContainer.offsetHeight,r=this.options.offsetTop,o=this.options.offsetLeft;if(this.options.fixMentionsToQuill?this.mentionContainer.style.right="".concat(0,"px"):o+=n.left,this.containerRightIsNotVisible(o,t)){var a=this.mentionContainer.offsetWidth+this.options.offsetLeft;o=t.width-a}if("top"===this.options.defaultMenuOrientation){if((r=this.options.fixMentionsToQuill?-1*(i+this.options.offsetTop):n.top-(i+this.options.offsetTop))+t.top<=0){var s=this.options.offsetTop;this.options.fixMentionsToQuill?s+=t.height:s+=n.bottom,r=s}}else if(this.options.fixMentionsToQuill?r+=t.height:r+=n.bottom,this.containerBottomIsNotVisible(r,t)){var l=-1*this.options.offsetTop;this.options.fixMentionsToQuill||(l+=n.top),r=l-i}r>=0?this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-bottom")),e.mentionContainer.classList.remove("".concat(t,"-top"))})):this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-top")),e.mentionContainer.classList.remove("".concat(t,"-bottom"))})),this.mentionContainer.style.top="".concat(r,"px"),this.mentionContainer.style.left="".concat(o,"px"),this.mentionContainer.style.visibility="visible"}},{key:"setMentionContainerPosition_Fixed",value:function(){var e=this;this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;var t=this.quill.container.getBoundingClientRect(),n=this.quill.getBounds(this.mentionCharPos),i={left:t.left+n.left,top:t.top+n.top,width:0,height:n.height},r=this.options.fixMentionsToQuill?t:i,o=this.options.offsetTop,a=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var s=r.right;this.mentionContainer.style.right="".concat(s,"px")}else(a+=r.left)+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(a-=a+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var l=r.top,u=document.documentElement.clientHeight-(r.top+r.height),c=this.mentionContainer.offsetHeight<=u,d=this.mentionContainer.offsetHeight<=l;"bottom"==("top"===this.options.defaultMenuOrientation&&d?"top":"bottom"===this.options.defaultMenuOrientation&&c||u>l?"bottom":"top")?(o=r.top+r.height,c||(this.mentionContainer.style.height=u-3+"px"),this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-bottom")),e.mentionContainer.classList.remove("".concat(t,"-top"))}))):(o=r.top-this.mentionContainer.offsetHeight,d||(this.mentionContainer.style.height=l-3+"px",o=3),this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-top")),e.mentionContainer.classList.remove("".concat(t,"-bottom"))}))),this.mentionContainer.style.top="".concat(o,"px"),this.mentionContainer.style.left="".concat(a,"px"),this.mentionContainer.style.visibility="visible"}},{key:"getTextBeforeCursor",value:function(){var e=Math.max(0,this.cursorPos-this.options.maxChars);return this.quill.getText(e,this.cursorPos-e)}},{key:"onSomethingChange",value:function(){var e=this,t=this.quill.getSelection();if(null!=t){this.cursorPos=t.index;var n,i=this.getTextBeforeCursor(),r=(n=i,this.options.mentionDenotationChars.reduce((function(e,t){var i=n.lastIndexOf(t);return i>e.mentionCharIndex?{mentionChar:t,mentionCharIndex:i}:{mentionChar:e.mentionChar,mentionCharIndex:e.mentionCharIndex}}),{mentionChar:null,mentionCharIndex:-1})),o=r.mentionChar,a=r.mentionCharIndex;if(function(e,t,n){return e>-1&&!(n&&0!==e&&!t[e-1].match(/\s/g))}(a,i,this.options.isolateCharacter)){var s=this.cursorPos-(i.length-a);this.mentionCharPos=s;var l=i.substring(a+o.length);if(l.length>=this.options.minChars&&function(e,t){return t.test(e)}(l,this.getAllowedCharsRegex(o))){this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var u={abandoned:!1};this.existingSourceExecutionToken=u,this.options.source(l,(function(t,n){u.abandoned||(e.existingSourceExecutionToken=null,e.renderList(o,t,n))}),o)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(e){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(e)}},{key:"onTextChange",value:function(e,t,n){"user"===n&&this.onSomethingChange()}},{key:"onSelectionChange",value:function(e){e&&0===e.length?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(e){var t=this.quill.getSelection(!0);this.quill.insertText(t.index,e),this.quill.blur(),this.quill.focus()}}]),e}();Cw().register("modules/mention",j_);let A_=Zw.import("blots/block");pi.directive("publicationEditor",["$compile",function(e){return{restrict:"E",replace:!1,template:'<div> <div id="tooltip-controls"> <button ng-click="formatters.bold()" ng-class="{\'ql-active\': formatState.bold}"> <svg icon-name="bold"></svg> </button> <button ng-click="formatters.italic()" ng-class="{\'ql-active\': formatState.italic}"> <svg icon-name="italic"></svg> </button> <button ng-click="formatters.code()" ng-class="{\'ql-active\': formatState.code}" class="border-right"> <svg icon-name="code"></svg> </button> <button ng-click="formatters.header1()" ng-class="{\'ql-active\': formatState.header === 1}"> <svg icon-name="heading"></svg> </button> <button ng-click="formatters.header2()" ng-class="{\'ql-active\': formatState.header === 2}"> <svg icon-name="subheading"></svg> </button> <button ng-click="formatters.blockquote()"> <svg icon-name="quote"></svg> </button> <button ng-click="formatters.inlineFormula()" class="border-right"> <svg icon-name="equation"></svg> </button> <button ng-click="formatters.link()" ng-class="{\'ql-active\': formatState.link}"> <svg icon-name="link2"></svg> </button> </div> <div id="sidebar-controls"> <button id="show-controls"><svg icon-name="attach"></svg></button> <span class="controls"> <button ng-click="formatters.openQuestionPicker()" title="Add Forecast"> <svg icon-name="graph"></svg> </button> <button ng-click="formatters.image()" title="Add Image"> <svg icon-name="photo"></svg> </button> <button ng-click="formatters.divider()" title="Add Divider"> <svg icon-name="divider"></svg> </button> <button ng-click="formatters.openFormulaEditor()" title="Add LaTeX Equation"> <svg icon-name="equation"></svg> </button> </span> </div> <div id="editor-container"></div> <metac-modal name="imageupload" new-template="true"> <h2 class="title is-2 mt-0">Add Image</h2> <p>Choose an image from your gallery.</p> <form name="imageuploadform"> <button class="button is-secondary" ng-disabled="isUploadingImage" ngf-select="formatters.uploadImage($file)" ng-model="imageUploadTmp" name="file" ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" ngf-max-size="20MB"> <svg class="loading-animation" ng-if="isUploadingImage"></svg> <span ng-style="{opacity: isUploadingImage ? 0 : 1}">Select a Photo</span> </button> </form> </metac-modal> <metac-modal name="link" new-template="true"> <h2 class="title is-2 mt-0">Add Link</h2> <form name="linkForm"> <div class="field"> <div class="control"> <input id="link-input" ng-model="formatState.link" type="url" name="link" class="input" placeholder="e.g. https://example.com" required/> </div> <div ng-show="linkForm.link.$touched"> <div ng-show="linkForm.link.$error.required" class="help is-danger"> Required field. </div> <div ng-show="linkForm.link.$error.url" class="help is-danger"> Valid url must start with https://. </div> </div> </div> <div class="text-right"> <button class="button is-secondary" ng-click="formatters.removeLink()"> Remove </button> <button class="button is-primary" ng-click="formatters.setLink()"> Add </button> </div> </form> </metac-modal> </div> ',scope:{publication:"="},link:function(t,n,i){t.publication=window.publication,t.imageUploadTmp=null,t.isUploadingImage=!1,t.formatState={bold:!1,italic:!1,code:!1,quote:!1,header:!1,link:""};var r={modules:{clipboard:{matchVisual:!1}},placeholder:"Compose an epic...",readOnly:!1,scrollingContainer:document.documentElement};if(t.editor=new Zw("#editor-container",r),setTimeout((()=>{t.$emit("quillEditorCreated",{name:"notebookEditor",editor:t.editor})}),1),t.editor.clipboard.addMatcher(Node.ELEMENT_NODE,((e,t)=>(t.ops=t.ops.map((e=>(e.attributes&&(delete e.attributes.background,delete e.attributes.color),e))),t))),t.editor.clipboard.addMatcher(Node.TEXT_NODE,((e,t)=>{const n=/\\\(\s?(.+?)\s?\\\)/gm,i=/(\\\(\s?.+?\s?\\\))/gm;return t.ops=t.ops.flatMap((e=>e.insert.match(n)?e.insert.split(i).map((e=>e.match(n)?{insert:{"math-formula-inline":e.replace(n,"$1")}}:{insert:e})):[e])),t})),t.editor.clipboard.addMatcher(Node.TEXT_NODE,((e,t)=>{window.mynode=e,window.mydelta=t;const n=/^\\\[\s?(.+)\s?\\\]$/gm;return t.ops=t.ops.map((e=>{if("string"==typeof e.insert&&e.insert.match(n)){let t=e.insert.replace(n,"$1");e.insert={"math-formula":t}}return e})),t})),t.compileForecastWidget=function(n){let i=document.querySelector(".forecast[data-unique-id='".concat(n,"']"));e(i)(t),i.querySelector("embed-question").onclick=function(){let e={question:{id:i.getAttribute("data-id")},graph:{type:i.getAttribute("data-plot")},options:JSON.parse(i.getAttribute("data-options")),blot:Zw.find(i),apply:!0};t.$root.$broadcast("openQuestionPickerEdit",e)}},t.publication.description_html){t.editor.setContents(t.publication.possibilities.delta);let e=document.querySelectorAll(".forecast");e=[...e],e.forEach((e=>{t.compileForecastWidget(e.getAttribute("data-unique-id"))}))}document.querySelector("#show-controls").addEventListener("click",(()=>{document.querySelector("#sidebar-controls").classList.toggle("active"),document.querySelector(".ql-editor").classList.toggle("hide-cursor"),t.editor.focus()}));let o=()=>{let e=document.querySelector("#sidebar-controls");e.classList.remove("active"),e.style.display="none",document.querySelector(".ql-editor").style.caretColor="auto"};t.editor.addContainer(document.querySelector("#tooltip-controls")),t.editor.addContainer(document.querySelector("#sidebar-controls")),t.editor.on(Zw.events.EDITOR_CHANGE,(function(e,n){if(e===Zw.events.TEXT_CHANGE){let e=n.ops&&n.ops.filter((e=>e.insert&&e.insert.forecast));e&&e.forEach((e=>{t.compileForecastWidget(e.insert.forecast.uniqueId)}))}if(e===Zw.events.SELECTION_CHANGE&&null!=n)if(0===n.length){document.querySelector("#tooltip-controls").style.display="none";let[e]=t.editor.scroll.descendant(A_,n.index);if(null!=e&&e.domNode.firstChild instanceof HTMLBRElement){let e=t.editor.getBounds(n),i=document.querySelector("#sidebar-controls");i.classList.remove("active"),i.style.display="block",i.style.left=e.left-50+"px",i.style.top=e.top-8+"px"}else document.querySelector("#tooltip-controls").style.display="none",o()}else{t.$evalAsync((function(){Object.keys(t.formatState).forEach((e=>{t.formatState[e]=!1,"link"===e&&(t.formatState[e]="")})),Object.assign(t.formatState,t.editor.getFormat(n))})),o();let e=t.editor.getBounds(n),i=document.querySelector("#tooltip-controls");i.style.display="flex",i.style.left=e.left+e.width/2-document.querySelector("#tooltip-controls").offsetWidth/2+"px",i.style.top=e.bottom+10+"px"}})),t.formatToggle=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"boolean"==typeof n?(t.formatState[e]=!t.formatState[e],t.editor.format(e,t.formatState[e])):(t.formatState[e]=t.formatState[e]!==n&&n,t.editor.format(e,t.formatState[e]))},t.formatters={bold:()=>t.formatToggle("bold"),italic:()=>t.formatToggle("italic"),code:()=>t.formatToggle("code"),blockquote:()=>t.formatToggle("blockquote"),header1:()=>t.formatToggle("header",1),header2:()=>t.formatToggle("header",2),link:()=>{Ks.setActive("link"),setTimeout((()=>document.getElementById("link-input").focus()),0)},setLink:()=>{t.formatState.link&&(t.editor.format("link",t.formatState.link),Ks.setActive(null))},removeLink:()=>{t.formatState.link="",t.editor.format("link",!1),Ks.setActive(null)},divider:()=>{let e=t.editor.getSelection(!0);t.editor.insertEmbed(e.index,"divider",!0,Zw.sources.USER),t.editor.setSelection(e.index+1,Zw.sources.SILENT)},image:()=>{Ks.setActive("imageupload")},uploadImage:e=>{let n=new FormData;if(!e)return alert("Please select image smaller than 20MB");n.append("image",e);t.isUploadingImage=!0,Ir.post("/api2/accounts/upload/",n,{headers:{"Content-Type":void 0}}).then((e=>{let n=e.data.url,i=t.editor.getSelection(!0);t.editor.insertText(i.index,"\n",Zw.sources.USER),t.editor.insertEmbed(i.index+1,"custom-image",{url:n},Zw.sources.USER),t.editor.setSelection(i.index+2,Zw.sources.SILENT),t.isUploadingImage=!1,Ks.setActive(null),o()}))},openQuestionPicker:()=>{t.$root.$broadcast("openQuestionPickerNew",null),o()},openFormulaEditor:()=>{var e=prompt("Enter a block LaTeX formula:","e=mc^2");e.startsWith("\\[")&&(e=e.substr(2,e.length-4));var n=t.editor.getSelection(!0);t.editor.insertText(n.index,"\n",Zw.sources.USER),t.editor.insertEmbed(n.index+1,"math-formula",e),t.editor.setSelection(n.index+2,Zw.sources.SILENT)},inlineFormula:()=>{var e=t.editor.getSelection(!0),n=t.editor.getText(e);t.editor.deleteText(e.index,e.length),t.editor.insertEmbed(e.index,"math-formula-inline",n),t.editor.insertText(e.index+e.length+1," "),t.editor.setSelection(e.index+e.length+1)}},t.$on("editorInsertForecast",(function(e,n){let i=t.editor,r=i.getSelection(!0),a={id:n.selectedQuestion.id,plot:n.selectedGraph.type,options:JSON.stringify(n.selectedOptions),uniqueId:(new Date).toJSON()};n.selectedBlot?n.selectedBlot.replaceWith("forecast",a):(t.editor.insertText(r.index,"\n",Zw.sources.API),i.insertEmbed(r.index+1,"forecast",a,Zw.sources.API)),i.setSelection(r.index+2,Zw.sources.SILENT),t.compileForecastWidget(a.uniqueId),o()})),new b_(t.editor,{})}}}]);var D_=n(308),N_=n.n(D_);pi.directive("questionPicker",(()=>{const e={limit:10,status:"active",order_by:"-activity",type:"forecast",has_group:!1},t="Failed to load results.";return{restrict:"E",replace:!1,template:'<metac-modal name="question-picker" id="question-picker" new-template="true"> <h2 class="title is-2 mt-0">{{heading}}</h2> <div class="search-bar"> <form ng-submit="handleSearchChange()" style="width:100%"> <input type="text" class="search search-box" placeholder="enter search term or paste question URL…" ng-model="data.searchStr" ng-model-options="{ debounce: 200 }" on-esc="clearSearch()" ng-change="handleSearchChange()"/> <span class="search-buttons"> <button type="button" ng-click="clearSearch()" ng-show="data.searchStr"> <svg icon-name="remove"></svg> </button> <button type="submit"> <svg icon-name="search"></svg> </button> </span> </form> </div> <div class="scrollable-box"> <p ng-if="data.searchStr && data.questionList.length === 0 && !data.error" class="text-center"> No results found. </p> <div ng-if="data.error" class="question-picker-error mt-8"> {{data.error}} </div> <question-card ng-repeat="question in data.questionList" question="question" ng-click="selectQuestion(question)"></question-card> </div> </metac-modal> ',scope:{heading:"=?",onSelectQuestion:"=",project:"=?",queryParams:"=?",pastedQuestionValidator:"=?"},link:n=>{n.heading=n.heading||"Add Forecast",n.queryParams=n.queryParams||{},n.pastedQuestionValidator=n.pastedQuestionValidator||N_(),n.data={searchStr:"",error:"",questionList:[]},n.cancel=()=>Ks.setActive(null),n.selectQuestion=e=>{n.onSelectQuestion(e),window.metacData.questions.push(e)},n.handlePastedQuestionResponse=e=>{const t=new pv(e.data),i=n.pastedQuestionValidator(t);i?(n.data.questionList=[],n.data.error=i):(n.selectQuestion(t),n.data.searchStr="")},n.handleSearchChange=()=>{const i=n.data.searchStr;(""===i||i.length>2)&&function(i){var r;n.data.error="";const o="/api2/questions/",a={...e,...n.queryParams},s=RegExp(/https?:\/\/[\w.:/]+questions\/(\d+)/),l=i.match(s);if(l&&l[1]){const e=l[1];return Ir.get("".concat(o).concat(e,"/")).then(n.handlePastedQuestionResponse,(()=>{n.data.error=t}))}""!==i&&(a.search="title:".concat(i));const u=null===(r=n.project)||void 0===r?void 0:r.id;u&&(a.project=u),Ir.get(o,{params:a}).then((e=>{var t,i;n.data.questionList=null===(t=e.data)||void 0===t||null===(i=t.results)||void 0===i?void 0:i.map((e=>new pv(e)))}),So).catch((()=>{n.data.error=t}))}(i)},n.clearSearch=()=>{n.data.searchStr="",n.handleSearchChange()},n.$on("openQuestionPickerNew",(()=>{Ks.setActive("question-picker"),n.handleSearchChange()}))}}}));let R_=function(e,t){let n=function(e){let t=window.metacData.questions.findIndex((t=>t.id===Number(e.id))),n=null;return t>=0&&(n=window.metacData.questions[t]),n}(e);return!!n&&n.possibilities.type===t},I_=[{type:"pdf",label:"Probability Density",show:e=>R_(e,"continuous")},{type:"cdf",label:"Cumulative Probability",show:e=>R_(e,"continuous")},{type:"histogram",label:"Community Histogram",show:e=>R_(e,"binary")},{type:"history",label:"Timeline",show:e=>!0}];pi.directive("questionGraphPicker",(function(){return{restrict:"E",replace:!1,template:' <metac-modal name="question-graph-picker" new-template="true" id="question-graph-picker"> <div style="max-width:400px;margin:0 auto"> <h2 class="title is-2 mt-0">Customize Graph</h2> <div class="form mt-20"> <div class="row" style="align-items:center"> <div class="left-col">Chart Type</div> <div class="right-col"> <div class="input-select-wrapper" style="display:flex;justify-content:center"> <select class="select" ng-model="data.selectedGraph" ng-options="g as g.label for g in data.graphViews track by g.type"></select> </div> </div> </div> <div class="row"> <div class="left-col">Show</div> <div class="right-col"> <ul> <li> <metac-checkbox name="showMyPrediction" checked="data.selectedOptions.showMyPrediction"> My Prediction <span ng-if="!data.selectedQuestion.has_my_predictions">(when made)</span> </metac-checkbox> </li> <li> <metac-checkbox name="showCommunityPrediction" checked="data.selectedOptions.showCommunityPrediction"> Community Prediction </metac-checkbox> </li> </ul> </div> </div> <div class="row"> <div class="left-col">Time Range</div> <div class="right-col"> <ul> <li> <metac-checkbox name="freezePrediction" checked="data.selectedOptions.freezePrediction"> Freeze prediction </metac-checkbox> </li> <li class="field" ng-if="data.selectedOptions.freezePrediction"> <input class="input" ng-model="data.selectedOptions.freezePredictionDate" type="date" max="{{data.maxFreezeDate}}"/> </li> </ul> </div> </div> </div> <div style="display:flex;justify-content:flex-end"> <button ng-click="methods.cancel()" class="button is-secondary mr-8"> Cancel </button> <button ng-click="methods.addQuestion()" class="button is-primary" ng-disabled="!data.canAddQuestion"> <span ng-if="!data.selectedBlot">Add</span> <span ng-if="data.selectedBlot">Save</span> </button> </div> </div> </metac-modal> ',scope:{},link:function(e,t,n){e.data={selectedQuestion:null,selectedGraph:null,selectedBlot:null,selectedOptions:{},maxFreezeDate:(new Date).toISOString().slice(0,10),get graphViews(){return I_.filter((t=>t.show(e.data.selectedQuestion)))},get canAddQuestion(){let e=this.selectedOptions;return e.showMyPrediction||e.showCommunityPrediction}},e.methods={getDefaultOptions:()=>({showMyPrediction:!1,showCommunityPrediction:!0,showMetacPrediction:!1,freezePrediction:!1,freezePredictionDate:null}),cancel:()=>{Ks.setActive(null)},addQuestion:()=>{if(e.data.selectedOptions.freezePrediction){if(!e.data.selectedOptions.freezePredictionDate)return void alert("You need to select freeze prediction date");e.data.selectedOptions.freezePredictionDate=e.data.selectedOptions.freezePredictionDate.getTime()}e.$root.$broadcast("editorInsertForecast",e.data),Ks.setActive(null)}},e.data.selectedOptions=e.methods.getDefaultOptions(),e.$watchCollection("data.selectedOptions",(function(e,t){})),e.openQuestion=t=>{Ks.setActive("question-graph-picker"),e.data.selectedBlot=t.blot?t.blot:null,e.data.selectedQuestion=t.question,e.data.selectedGraph=t.graph?I_.find((e=>e.type===t.graph.type)):e.data.graphViews[0],e.data.selectedOptions=Object.assign(e.methods.getDefaultOptions(),t.options),e.data.selectedOptions.freezePredictionDate&&(e.data.selectedOptions.freezePredictionDate=new Date(e.data.selectedOptions.freezePredictionDate))},e.$on("openQuestionPickerEdit",(function(t,n){"apply"in n&&!0===n.apply?e.$apply((function(){e.openQuestion(n)})):e.openQuestion(n)}))}}})),pi.directive("imageUpload",(function(){return{restrict:"E",replace:!1,template:"",scope:{},link:function(e,t,n){}}}));var F_=JSON.parse('{"newsletterFormHeading":"Odebírejte newsletter Metaculus","newsletterFormDescription":"Přihlašte se k odběru novinek z platformy Metaculus, zajímavých forecastingových reportů a pozvánek na akce.","predictButton":"Predikovat","updatePredictionButton":"Aktualizovat predikci","signUpButton":"Predikujte s námi","signInButton":"Přihlásit se","yourPrediction":"Vaše predikce je","tweetPrediction":"Tweetnout predikci!","postPredictionAsComment":"Zveřejnit predikci jako komentář","resolveButton":"Vyřešit","previewButton":"Náhled","updatePreviewButton":"Aktualizovat náhled","postButton":"Zveřejnit","loadMoreButton":"Zobrazit více","addComponentButton":"Přidat komponent","adminEditButton":"úprava adminem","replyButton":"Reagovat","cancelButton":"Zrušit","editButton":"Upravit","reportButton":"Nahlásit","deleteButton":"Smazat","copyLinkButton":"Kopírovat odkaz","continueButton":"Pokračovat","submitButton":"Potvrdit zadání","discardChangesButton":"Zahodit změny","updateForecastButton_zero":"Aktualizovat predikce","updateForecastButton_one":"Aktualizovat predikci","updateForecastButton_few":"Aktualizovat predikce","updateForecastButton_other":"Aktualizovat predikce","opens":"Otevírá se","opened":"Otevřeno","closes":"Uzavírá se","closed":"Uzavřeno","pending":"nevyřízená","resolves":"Očekávané vyřešení","resolved":"Vyřešená","forDiscussion":"k diskusi","Submitted":"Odesláno","Pending":"Nevyřízená","Deferred":"Odloženo","Deleted":"Odstraněno","Draft":"Koncept","Upcoming":"Nadcházející","Open":"Otevřeno","Closed":"Uzavřeno","Resolved":"Vyřešeno","resolutionAmbiguous":"Nejednoznačné","resolutionPending":"Čeká na vyřešení","resolution":"vyřešení","Yes":"Ano","No":"Ne","pendingResolution":"čeká na řešení","forecastTimelineHeading":"Časová osa predikce","aggregateToggleCommunity":"Komunita","aggregateToggleMetaculus":"Metaculus","totalPredictionsLabel":"Celkový počet predikcí","totalForecastersLabel":"Celkem forecasterů","communityPredictionLabel":"Predikce komunity","metaculusPredictionLabel":"Metaculus predikce","userPredictionLabel":"Predikce uživatele","myPredictionLabel":"Moje predikce","myCoverageLabel":"Moje pokrytí","predictionLabel":"Predikce","pdfLabel":"Hustota pravděpodobnosti","cdfLabel":"Kumulativní pravděpodobnost","Metaculus":"Metaculus","community":"komunita","firstQuartileLabel":"první kvartil","secondQuartileLabel":"medián","thirdQuartileLabel":"třetí kvartil","you":"vy","resolutionDescriptionBinary":"stalo se toto opravdu?","resolutionDescriptionContinuous":"co bylo nakonec výsledkem?","resolutionPointsWon":"<span>vyhráli jste</span><span><strong>{{points}}</strong> bodů</span>","resolutionPointsLost":"<span>ztratili jste</span><span><strong>{{points}}</strong> bodů</span>","resolutionRelativeLogScore":"<span>relativní log skóre</span><span><strong>{{log_score}}</strong></span>","resolutionCoverage":"<span>pokrytí</span><span><strong>{{coverage}}</strong></span>","questionWillOpenAt":"Otázka bude spuštěna {{date}}.","questionNotOpenYet":"Predikce na tuto otázku ještě nezačly.","currentPointsLabel":"současné body","availablePointsLabel":"celkem dostupné body","pointsRange":"<strong>{{min}}</strong> až <strong>{{max}}</strong>","currentPointsLink":"současné","availablePointsLink":"celkem dostupné","pointHistoryHeading":"Historie bodů","pointHistoryHeadingTotalPoints":"Body celkem","pointHistoryForResolutionHeading":"Za vyřešení","pointHistoryDisclaimerResolved":"Berte na vědomí, že tento graf používá vždy nejmodernější skórovací algoritmus, a může se tedy změnit, když Metaculus změní hodnotící parametry. Počet bodů získaných za každou otázku ale vždy zůstane stejný.","pointHistoryDisclaimerPrivate":"Toto ukazuje bodovou hodnotu Vašich predikcí v čase.","pointHistoryDisclaimerPublic":"Toto zobrazuje bodovou hodnotu Vašich predikcí v čase na základě Vaší vyjádřené důvěry ve vlastní predikci i jistoty v porovnání s komunitou.","pointHistoryDisclaimerContinuous":"Zabarvená plocha zobrazuje bodové rozpětí napříč všemi možnými řešeními. Čára reprezentuje body za konkrétní řešení, které lze vybrat posouvátkem výše.","pointHistoryPointsIfYes":"<strong>{{points}}</strong> bodů pokud <strong>ano</strong>,","pointHistoryPointsIfNo":"<strong>{{points}}</strong> bodů pokud <strong>ne</strong>.","pointHistoryPointsAtCloseTime":"Bodů při uzávěrce predikcí","pointHistoryCurrentPoints":"Aktuálně bodů","pointHistoryPointsOnDate":"Bodů k {{date}}","pointHistoryForContinuousByDate":"{{label}}: <strong>{{points}}</strong>","pointHistoryForContinuousTotal":"Celkem bodů: <strong>{{points}}</strong>","commentsHeading":"Komentáře","commentsClosedHeading":"Komentáře uzavřeny","commentsCount_one":"{{count}} komentář","commentsCount_few":"{{count}} komentáře","commentsCount_other":"{{count}} komentářů","commentsUnreadCount_one":"{{count}} nepřečten","commentsUnreadCount_few":"{{count}} nepřečteny","commentsUnreadCount_other":"{{count}} nepřečtených","commentsTextAreaPlaceholder":"vložte komentář","commentsTextAreaNotSignedInPlaceholder":"pro komentování se musíte přihlásit","commentsTextAreaNewAccountPlaceholder":"Přidávání komentářů není umožněno prvních 12 hodin po založení účtu. Zadejte pár predikcí, a brzy se vraťte pro napsání komentáře!","commentsLearnMarkdown":"Přečtěte si více o našem Markdownu","commentsTypeGeneral":"Obecný komentář","commentsTypeGeneralVerb":"poskytli obecný komentář","commentsTypeQuestionFeedback":"Zpětná vazba na otázku","commentsTypeQuestionFeedbackPrompt":"Máte obavy z formulace otázky? Navrhli byste nějaké úpravy?","commentsTypeQuestionFeedbackVerb":"poskytli zpětnou vazbu na otázku","commentsTypeNewPrediction":"Nová predikce","commentsTypeNewPredictionPrompt":"Na základě čeho jste vytvořili tuto predikci?","commentsTypeNewPredictionVerb":"vytvořili predikci","commentsTypeUpdatedPrediction":"Aktualizovaná predikce","commentsTypeUpdatedPredictionPrompt":"Co Vás přesvědčilo aktualizovat svou predikci?","commentsTypeUpdatedPredictionVerb":"aktualizovali predikci","commentsTypeDependency":"Závislost na jiném vývoji","commentsTypeDependencyPrompt":"Která událost (nebo události) by mohly změnit Vaši predikci, kdyby k nim došlo?","commentsTypeDependencyVerb":"identifikovali závislost na jiném vývoji","commentsTypeInformationSource":"Zdroj informací","commentsTypeInformationSourcePrompt":"Jaké dodatečné informace mohou být přínosné pro predikce na tuto otázku? (prosím poskytněne odkaz)","commentsTypeInformationSourceVerb":"poskytli zdroj informací","commentsTypeInformationRequest":"Žádost o informace","commentsTypeInformationRequestPrompt":"Jaká informace nebo analýza by Vám mohla pomoci vylepšit vlastní predikci?","commentsTypeInformationRequestVerb":"požádali o informace","commentsTypeExternalAnalysis":"Externí analýza","commentsTypeExternalAnalysisPrompt":"Jaká analýza této nebo podobné otázky se Vám zdá užitečná? (prosím poskytněte odkaz)","commentsTypeExternalAnalysisVerb":"poukázali na externí analýzu","commentsTypeExternalPrediction":"Externí predikce","commentsTypeExternalPredictionPrompt":"Existuje již kvantitativní predikce na tuto otázku někde jinde? (prosím poskytněte odkaz)","commentsTypeExternalPredictionVerb":"identifikovali porovnatelnou externí predikci","commentsTypeBaseRate":"Odhad základního poměru - base rate","commentsTypeBaseRatePrompt":"Jaká je obecná pravděpodonost toho, že k takovéto události dojde?","commentsTypeBaseRateVerb":"odhadli základní poměr - base rate","commentsTypeComparison":"Porovnání","commentsTypeComparisonPrompt":"Lze poukázat na událost či skupinu událostí, kterou lze k tomuto přirovnat?","commentsTypeComparisonVerb":"porovnali s jinou událostí","commentsTypeFactorization":"Faktorizace","commentsTypeFactorizationPrompt":"Které pod-otázky, pokud by odpověď na ně byla kladná, by vedly ke kladnému vyřešení této otázky?","commentsTypeFactorizationVerb":"faktorování otázky","commentsTypeQuestionResolution":"Vyřešení otázky","commentsTypeQuestionResolutionPrompt":"Prosím okomentujte vyřešení otázky.","commentsTypeQuestionResolutionVerb":"diskuse k řešení otázky","commentsTypeMetacomment":"Metakomentář","commentsTypeMetacommentPrompt":"Diskutujte o bodovém hodnocení, tachyonech, nebo jiné funkci stránky, která se vztahuje k této otázce. Pokud je Váš komentář obecnějšího charakteru, zvažte založení <a href=\\"/questions/create/?qtype=discussion\\">diskusní otázky</a>.","commentsTypeMetacommentVerb":"diskutuje o platformě","commentsTypePrivateNote":"Soukromá poznámka","commentsTypePrivateNotePrompt":"Vytvořte si soukromou poznámku, kterou nikdo další nemůže vidět. (Poznámku můžete později vyhledat za pomoci filtru.)","commentsTypePrivateNoteVerb":"soukromá poznámka vytvořena","commentsSectionUnreadComments":"Nepřečtené komentáře","commentsSectionAllComments":"Všechny komentáře","commentsDeleteCommentHeading":"Smazat komentář","commentsDeleteConfirmation":"Opravdu chcete smazat komentář vytvořený<strong> {{author}}</strong>?","commentsProfileDeleteConfirmation":"Opravdu chcete smazat tento komentář k otázce \\"<strong>{{question}}</strong>\\"?","commentsCommentDeleted":"Komentář smazán.","commentsReportCommentHeading":"Nahlásit komentář","commentsReportCommentDescription":"Je na komentáři něco v nepořádku? Dejte nám o tom vědět náhlašením komentáře.","commentsReportSpam":"Náhlásit jako spam","commentsReportGuidelinesViolation":"Nahlásit jako porušení pravidel komunity","commentsMyPrediction":"Moje predikce","replied":"reagovali","commented":"komentovali","commentInReplyTo":"V reakci na {{author}}","Hide":"Skrýt","Show":"Zobrazit","reply_one":"reakce","reply_few":"reakce","reply_other":"reakce","replyWithCount_one":"{{count}} reakce","replyWithCount_few":"{{count}} reakcí","replyWithCount_other":"{{count}} reakcí","now":"nyní","weight":"váha","communityWeighting":"komunitní <a href=\\"/help/faq/#community-prediction\\">vážení</a>:","communityWeightingRecent":"nedávné","communityWeightingUniform":"jednotné","medianPredictionLabel":"Mediánová predikce","meanPredictionLabel":"Průměrná predikce","categoricalMetaculusPointsCurrentLabel":"Současné","categoricalMetaculusPointsTotalLabel":"Celkem dostupné","scoreIfNo":"Bodů, pokud Ne","scoreIfYes":"Bodů, pokud Ano","yes":"ano","no":"ne","fanGraphFirstQuartileLabel":"25. percentil","fanGraphSecondQuartileLabel":"Medián","fanGraphThirdQuartileLabel":"75. percentil","questionGroupTableFirstQuartileLabel":"1. kvartil","questionGroupTableSecondQuartileLabel":"medián","questionGroupTableThirdQuartileLabel":"3. kvartil","finePrint":"Dodatečné informace","hideSpoiler":"Skrýt spoiler","showSpoiler":"Ukázat spoiler","commentHidden":"Tento komentář byl skryt","reminders":"Připomínky","showCommunityPrediction":"Zobrazit predikci komunity","hideCommunityPrediction":"Skrýt predikci komunity","viewMetaculusPrediction":"Zobrazit Metaculus predikci","pointsToNextLevel":"{{points}} bodů do další úrovně","tachyonsCount":"{{tachyons}} tachyonů","userLevel":"{{level}}. ÚROVEŇ","questionSearchPlaceholder":"vyhledávat v otázkách...","searchFilterType":"Typ","searchFilterForecastStatus":"Status otázky","searchFilterParticipation":"Moje zapojení","searchFilterOrderBy":"Seřadit dle","searchOptionAll":"Vše","searchOptionForecast":"Otázky","searchOptionDiscussion":"Diskuse","searchOptionNotebook":"Zápisník","searchOptionPublicFigure":"Veřejně známé osobnosti","searchOptionAllAccepted":"Všechny přijaté","searchOptionPending":"V procesu","searchOptionDeferred":"Odložené","searchOptionUnmoderated":"Bez moderace","searchOptionUpcoming":"Nadcházející","searchOptionOpen":"Otevřené","searchOptionClosed":"Ukončené","searchOptionResolved":"Vyřešené","searchOptionDraft":"Koncept","searchOptionAny":"Jakákoliv","searchOptionPredicted":"Predikováno","searchOptionNotPredicted":"Nepredikováno","searchOptionAuthored":"Vlastní","searchOptionUpvoted":"Obodované","searchOptionPrivate":"Privátní","searchOptionModerating":"Moderace","searchOptionActivity":"Aktivita","searchOptionUpvotes":"Body","searchOptionNewest":"Nejnovější","searchOptionRecentlyOpened":"Nedávno otevřené","searchOptionSoonestOpening":"Nejbližší otevření","searchOptionSoonestClosing":"Nejbližší zavření","searchOptionRecentlyClosed":"Nedávno uzavřené","searchOptionSoonestResolving":"Nejbližší vyřešení","searchOptionRecentlyResolved":"Nedávno vyřešené","searchOptionOldestPrediction":"Nejstarší predikce","searchOptionRelevance":"Relevance","searchOptionFewestComments":"Nejméně komentářů","searchOptionDateSubmitted":"Datum zveřejnění","createdBy":"Vytvořeno {{author}}","onDate":"dne {{date}}","published":"Zveřejněno","byAuthor":"autorem {{author}}","estimatedReadingTime":"čtení na {{minutes}} minut","hiddenQuestionCountWithCount_one":"...a {{count}} další otázka v tomto zápisníku","hiddenQuestionCountWithCount_few":"...a {{count}} další otázky v tomto zápisníku","hiddenQuestionCountWithCount_other":"...a {{count}} dalších otázek v tomto zápisníku","predictions":"Predikce","relativeLog":"Relativní logaritmus","unreadWithCount_zero":"bez nepřečtených","unreadWithCount_one":"{{formattedCount}} nepřečten","unreadWithCount_few":"{{formattedCount}} nepřečteny","unreadWithCount_other":"{{formattedCount}} nepřečtených","commentsWithCount_zero":"bez komentářů","commentsWithCount_one":"{{formattedCount}} komentář","commentsWithCount_few":"{{formattedCount}} komentáře","commentsWithCount_other":"{{formattedCount}} komentářů","or":"nebo","registrationHeadingPrediction":"Dejte svým predikcím váhu","registrationHeadingSite":"Zaregistrovat se na &nbsp;<span replace-with=\\"SHORT_SITE_NAME\\">Metaculus</span>","registrationInfoParagraph1":"Zaregistrujte se jako uživatel <span replace-with=\\"SHORT_SITE_NAME\\">Metaculus</span> a budete moci:","registrationInfoParagraph2":"Zaregistrovat se můžete jednoduše pomocí e-mailu či účtu na sociálních sítích.","registrationInfoAbility1":"Mít přehled o svých predikcích a sbírat za ně body.","registrationInfoAbility2":"Zapojit se do diskuse v komentářích pod otázkami.","registrationInfoAbility3":"Hlasovat o svých oblíbených otázkách.","registrationInfoAbility4":"Vytvářet soukromé otázky pro sledování osobních predikcí.","registrationInfoAbility5":"Navrhovat nové veřejné otázky, které byste rádi viděli zodpovězené.","registrationFB":"Zaregistrovat pomocí Facebooku","registrationGoogle":"Zaregistrovat pomocí Google","registrationByEmail":"Zaregistrovat pomocí e-mailu","errorRequired":"povinné pole","errorMinLength":"{{field}} musí mít alespoň {{minLength}} znaků","errorMaxLength":"{{field}} může mít nejvýše {{maxLength}} znaků","errorPasswordMatch":"hesla se musí shodovat","errorEmailInvalid":"neplatná e-mailová adresa","registrationUsernamePlaceholder":"zvolte si uživatelské jméno","passwordPlaceholder":"heslo","registrationVerifyPasswordPlaceholder":"potvrdit heslo","registrationEmailPlaceholder":"e-mail","registrationSignInHeading":"Máte již Metaculus účet?","registrationSuccess1":"Děkujeme za registraci, {{username}}!","registrationSuccess2":"Na adresu {{email}} byl zaslán aktivační odkaz. Využijte, prosím, tento pro dokončení registrace.","registrationTerms":"Registrací vyjadřujete znalost a souhlas s <a href=\\"/terms-of-use/\\">podmínkami používání</a> a <a href=\\"/privacy-policy/\\">zásadami ochrany osobních údajů</a> Metaculus.","registrationTermsAgreement":"Souhlasím — pokračovat v registraci","loginFB":"Přihlásit se pomocí Facebooku","loginGoogle":"Přihlásit se pomocí Google","loginUsernamePlaceholder":"uživatelské jméno nebo e-mail","forgotPasswordLink":"zapomenuté heslo?","passwordResetDescription":"Zadejte své uživatelské jméno, a pošleme Vám e-mail pro resetování hesla.","resetPasswordButton":"Resetovat heslo","resetPasswordEmailSent1":"Vaše žádost o resetování hesla byla úspěšně zpracována.","resetPasswordEmailSent2":"Na e-mailovou adresu daného účtu byl zaslán resetovací odkaz. Využijte, prosím, tento pro vytvoření nového hesla.","newPasswordLabel":"nové heslo","verifyPasswordLabel":"potvrdit heslo","metaculusSupporterHeading":"Podporovatel Metaculus","supporterSinceHeading":"Podporovatel od","changeUsernameHeading":"Změnit uživatelské jméno","tachyonsCost":"Cena: {{tachyons}} tachyonů","changeUsernameDescription":"Své uživatelské jméno můžete změnit jednou za 6 měsíců. Předchozí uživatelské jméno bude po dobu 30 dní po změně také zobrazeno na profilu.","changeUsernameDescriptionNewUser":"Noví uživatelé mohou své uživatelské jméno změnit bez omezení. Po pár dnech je tato funkce zpoplatněna pár tachyony.","newUsernamePlaceholder":"nové uživatelské jméno","confirmUsernamePlaceholder":"potvrdit uživatelské jméno","usernamesNotMatching":"zadaná uživatelská jména se neshodují","project":"projekt","projectContents":"Obsah projektu","question":"Otázka","created":"Vytvořeno","remindWhen":"Připomenout, když","remindOnDate":"připomenout {{date}}","remindAfterCountComments_one":"připomenout po {{count}} novém komentáři","remindAfterCountComments_few":"připomenout po {{count}} nových komentářích","remindAfterCountComments_other":"připomenout po {{count}} nových komentářích","remindWhenOpens":"připomenout, až bude možné predikovat","remindWhenCPChanges":"připomenout, když se změní komunitní predikce","remindWhenNeedsResolution":"připomenout, když bude potřeba otázku vyřešit","noReminder":"(bez upozornění)","currentPasswordPlaceholder":"Zadejte současné heslo...","newPasswordPlaceholder":"Zadejte nové heslo...","verifyPasswordPlaceholder":"Potvrďte nové heslo...","updatePasswordButton":"Obnovit heslo","passwordChangeSuccess":"heslo úspěšně změněno","setReminderHeading":"Nastavte si připomínku","setReminderDescription":"Za jeden tachyon můžete nastavit připomínku, která Vás upozorní na vybrané důležité události k této otázce. Jakmile ke zvolené události dojde, obdržíte od nás e-mailovou zprávu s připomínkou znovu zkontrolovat a aktualizovat svou predikci.","selectTriggerLabel":"Vybrat spouštěč","reminderOptionDate":"Konkrétní datum","reminderOptionNewComments":"Nové komentáře","reminderOptionNeedsResolution":"Otázka vyžaduje vyřešení","reminderOptionCPChanges":"Změna v komunitní predikci","reminderOptionQuestionOpens":"Otázka se otevře","loadingRemindersError":"Nebylo možné načíst připomínky","removingReminderError":"Nebylo možné odebrat připomínku","removeReminderConfirmation":"Opravdu chcete tuto připomínku odebrat?","newReminderSuccess":"Připomínka byla nastavena.","newReminderError":"Chyba: připomínka nebyla nastavena.","reminderErrorTypeRequired":"Zvolte, prosím, typ připomínky","reminderErrorDateRequired":"Zvolte, prosím, datum připomínky","reminderErrorDateInFuture":"Datum připomínky musí být v budoucnosti","reminderErrorNumberOfCommentsRequired":"Zadejte počet nových komentářů, po jejichž přidání se odešle připomínka.","reminderNotePlaceholder":"Doplňte vlastní poznámku...","reminderCPChangesDescription":"Připomínka Vám bude zaslána, když se komunitní predikce změni o více než 10% oproti současnému stavu. U otázek na spojité veličiny toto počítáme pomocí <a href=\\"https://cs.wikipedia.org/wiki/Kolmogorov%C5%AFv%E2%80%93Smirnov%C5%AFv_test\\">Kolmogorova-Smirnovova testu</a>.","reminderNewCommentsDescription":"Poslat připomínku po x nových komentářích","submitReminderButton":"Koupit připomínku","reminderCost":"Cena: <strong>1 tachyon</strong>.","availableTachyons":"Dostupné tachyony: <strong>{{tachyons}}</strong>","yourRemindersHeading":"Vaše připomínky k této otázce","trackRecordNoUserPredictions":"Žádné z vašich predikcí ještě nebyly ohodnoceny! Zadávejte postupně predikce, abyste si vytvořili historii predikcí."}'),U_=JSON.parse('{"newsletterFormHeading":"Join Our Newsletter","newsletterFormDescription":"Sign up for Metaculus news, special forecasting reports, and event invitations.","predictButton":"Predict","updatePredictionButton":"Update Prediction","reaffirmPredictionButton_one":"Reaffirm Prediction","reaffirmPredictionButton_other":"Reaffirm Predictions","signUpButton":"Sign Up to Predict","signInButton":"Sign In","yourPrediction":"Your prediction is","tweetPrediction":"Tweet Prediction!","postPredictionAsComment":"Post Prediction as Comment","resolveButton":"Resolve","previewButton":"Preview","updatePreviewButton":"Update Preview","postButton":"Post","loadMoreButton":"Load More","addComponentButton":"Add Component","adminEditButton":"admin edit","replyButton":"Reply","cancelButton":"Cancel","editButton":"Edit","reportButton":"Report","deleteButton":"Delete","copyLinkButton":"Copy Link","continueButton":"Continue","submitButton":"Submit","discardChangesButton":"Discard Changes","saveChangesButton_zero":"Save Change","saveChangesButton_one":"Save Change","saveChangesButton_few":"Save Changes","saveChangesButton_other":"Save Changes","reaffirmPredictionsButton_zero":"Reaffirm Prediction","reaffirmPredictionsButton_one":"Reaffirm Prediction","reaffirmPredictionsButton_few":"Reaffirm Predictions","reaffirmPredictionsButton_other":"Reaffirm Predictions","opens":"Opens","opened":"Opened","closes":"Closes","closed":"Closed","pending":"pending","resolves":"Resolves","resolved":"Resolved","forDiscussion":"for discussion","Submitted":"Submitted","Pending":"Pending","Deferred":"Deferred","Deleted":"Deleted","Draft":"Draft","Upcoming":"Upcoming","Open":"Open","Closed":"Closed","Resolved":"Resolved","resolutionAmbiguous":"Ambiguous","resolutionPending":"Resolution pending","resolution":"resolution","Yes":"Yes","No":"No","pendingResolution":"pending resolution","forecastTimelineHeading":"Forecast Timeline","aggregateToggleCommunity":"Community","aggregateToggleMetaculus":"Metaculus","totalPredictionsLabel":"Total Predictions","totalForecastersLabel":"Total Forecasters","communityPredictionLabel":"Community Prediction","metaculusPredictionLabel":"Metaculus Prediction","userPredictionLabel":"User Prediction","myPredictionLabel":"My Prediction","myCoverageLabel":"My Coverage","predictionLabel":"Prediction","pdfLabel":"Probability Density","cdfLabel":"Cumulative Probability","Metaculus":"Metaculus","community":"community","firstQuartileLabel":"lower 25%","secondQuartileLabel":"median","thirdQuartileLabel":"upper 75%","you":"you","resolutionDescriptionBinary":"did this actually happen?","resolutionDescriptionContinuous":"what was the final result?","resolutionPointsWon":"<span>you won</span><span><strong>{{points}}</strong> points</span>","resolutionPointsLost":"<span>you lost</span><span><strong>{{points}}</strong> points</span>","resolutionRelativeLogScore":"<span>relative log score</span><span><strong>{{log_score}}</strong></span>","resolutionCoverage":"<span>coverage</span><span><strong>{{coverage}}</strong></span>","questionWillOpenAt":"This question will open {{date}}.","questionNotOpenYet":"This question is not yet open for predictions.","currentPointsLabel":"current points","availablePointsLabel":"total available points","pointsRange":"<strong>{{min}}</strong> to <strong>{{max}}</strong>","currentPointsLink":"current","availablePointsLink":"total available","pointHistoryHeading":"Point History","pointHistoryHeadingTotalPoints":"Total points","pointHistoryForResolutionHeading":"For a resolution of","pointHistoryDisclaimerResolved":"Note that this graph uses the latest scoring functions, and it may change as Metaculus changes its scoring parameters. However, the total points you won for the question will always stay the same.","pointHistoryDisclaimerPrivate":"This shows the point value of your predictions over time.","pointHistoryDisclaimerPublic":"This shows the point value of your predictions over time based on both your professed confidence and your certainty relative to the community.","pointHistoryDisclaimerContinuous":"The shaded area shows the point range across all possible resolutions. The line shows the points for a particular resolution, which you can select with the above slider.","pointHistoryPointsIfYes":"<strong>{{points}}</strong> points if <strong>yes</strong>,","pointHistoryPointsIfNo":"<strong>{{points}}</strong> points if <strong>no</strong>.","pointHistoryPointsAtCloseTime":"Points at question close","pointHistoryCurrentPoints":"Current points","pointHistoryPointsOnDate":"Points on {{date}}","pointHistoryForContinuousByDate":"{{label}}: <strong>{{points}}</strong>","pointHistoryForContinuousTotal":"Total points: <strong>{{points}}</strong>","commentsHeading":"Comments","commentsClosedHeading":"Comments Closed","commentsCount_one":"{{count}} comment","commentsCount_few":"{{count}} comments","commentsCount_other":"{{count}} comments","commentsUnreadCount_one":"{{count}} unread","commentsUnreadCount_few":"{{count}} unread","commentsUnreadCount_other":"{{count}} unread","commentsTextAreaPlaceholder":"enter comment","commentsTextAreaNotSignedInPlaceholder":"you must sign in to comment","commentsTextAreaNewAccountPlaceholder":"Posting comments is disabled for the first 12 hours after you\'ve made your account. Make a few predictions, then come back soon to leave a comment!","commentsLearnMarkdown":"Learn about our Markdown","commentsTypeGeneral":"General Comment","commentsTypeGeneralVerb":"commented","commentsTypeQuestionFeedback":"Question Feedback","commentsTypeQuestionFeedbackPrompt":"What concerns you about the formulation of the question? What changes would you suggest?","commentsTypeQuestionFeedbackVerb":"provided question feedback","commentsTypeDependency":"Dependency","commentsTypeDependencyPrompt":"What event(s) could happen that would change your prediction?","commentsTypeDependencyVerb":"identified a dependency","commentsTypeInformationSource":"Information Source","commentsTypeInformationSourcePrompt":"What extra information is germane to this question? (please provide a link/reference)","commentsTypeInformationSourceVerb":"provided an information source","commentsTypeInformationRequest":"Information Request","commentsTypeInformationRequestPrompt":"What information or analysis would be useful to you in improving your prediction?","commentsTypeInformationRequestVerb":"requested information","commentsTypeExternalAnalysis":"External Analysis","commentsTypeExternalAnalysisPrompt":"What analysis of this or a similar question appears useful? (please provide a link/reference)","commentsTypeExternalAnalysisVerb":"pointed to an analysis","commentsTypeExternalPrediction":"External Prediction","commentsTypeExternalPredictionPrompt":"Is there a quantitative prediction made elsewhere on this question? (please provide a link)","commentsTypeExternalPredictionVerb":"identified a prediction elsewhere","commentsTypeBaseRate":"Estimated Base Rate","commentsTypeBaseRatePrompt":"What is the base rate for this to happen?","commentsTypeBaseRateVerb":"estimated a base rate","commentsTypeComparison":"Comparison","commentsTypeComparisonPrompt":"Is there an event or group of events to which this might be compared?","commentsTypeComparisonVerb":"made a comparison","commentsTypeFactorization":"Factorization","commentsTypeFactorizationPrompt":"What sub-questions, if all true, could together make this question resolve positively?","commentsTypeFactorizationVerb":"factored the question","commentsTypeQuestionResolution":"Question Resolution","commentsTypeQuestionResolutionPrompt":"Please comment on the resolution of the question.","commentsTypeQuestionResolutionVerb":"discussed the question resolution","commentsTypeMetacomment":"Metacomment","commentsTypeMetacommentPrompt":"Discuss Metaculus scoring, tachyons, or any other feature as it relates to this question. If your comment is more broad, you might want to suggest a <a href=\\"/questions/create/?qtype=discussion\\">discussion question</a> instead.","commentsTypeMetacommentVerb":"discussed Metaculus","commentsTypePrivateNote":"Private note","commentsTypePrivateNotePrompt":"Make a private note nobody else can see. (Find them later by filtering.)","commentsTypePrivateNoteVerb":"private note written","commentsSectionUnreadComments":"Unread Comments","commentsSectionAllComments":"All Comments","commentsDeleteCommentHeading":"Delete Comment","commentsDeleteConfirmation":"Are you sure you want to delete this comment written by <strong>{{author}}</strong>?","commentsProfileDeleteConfirmation":"Are you sure you want to delete this comment on question “<strong>{{question}}</strong>”?","commentsCommentDeleted":"Comment deleted.","commentsReportCommentHeading":"Report this comment","commentsReportCommentDescription":"Is there something wrong with this comment? Please help us keep our community great by reporting it.","commentsReportSpam":"Report as spam","commentsReportGuidelinesViolation":"Report as violating community guidelines","commentsMyPrediction":"My prediction","replied":"replied","commented":"commented","commentInReplyTo":"In reply to {{author}}","Hide":"Hide","Show":"Show","reply_one":"reply","reply_few":"replies","reply_other":"replies","replyWithCount_one":"{{count}} reply","replyWithCount_few":"{{count}} replies","replyWithCount_other":"{{count}} replies","now":"now","weight":"weight","communityWeighting":"community <a href=\\"/help/faq/#community-prediction\\">weighting</a>:","communityWeightingRecent":"recent","communityWeightingUniform":"uniform","medianPredictionLabel":"Median prediction","meanPredictionLabel":"Mean prediction","categoricalMetaculusPointsCurrentLabel":"Current Points","categoricalMetaculusPointsTotalLabel":"Total Available Points","scoreIfNo":"Score if No","scoreIfYes":"Score if Yes","absoluteLogScore":"Absolute Log Score","brierScore":"Brier Score","yes":"yes","no":"no","fanGraphFirstQuartileLabel":"25th percentile","fanGraphSecondQuartileLabel":"Median","fanGraphThirdQuartileLabel":"75th percentile","questionGroupTableFirstQuartileLabel":"25th","questionGroupTableSecondQuartileLabel":"median","questionGroupTableThirdQuartileLabel":"75th","finePrint":"Fine print","hideSpoiler":"Hide spoiler","showSpoiler":"Show spoiler","commentHidden":"This comment has been hidden","reminders":"Reminders","showCommunityPrediction":"Show Community Prediction","hideCommunityPrediction":"Hide Community Prediction","viewMetaculusPrediction":"View Metaculus Prediction","pointsToNextLevel":"{{points}} points to next level","tachyonsCount":"{{tachyons}} tachyons","userLevel":"LEVEL {{level}}","questionSearchPlaceholder":"search questions...","searchFilterType":"Type","searchFilterForecastStatus":"Forecast Status","searchFilterParticipation":"My Participation","searchFilterOrderBy":"Order By","searchOptionAll":"All","searchOptionForecast":"Forecast","searchOptionDiscussion":"Discussion","searchOptionNotebook":"Notebook","searchOptionPublicFigure":"Public Figure","searchOptionAllAccepted":"All Accepted","searchOptionPending":"Pending","searchOptionDeferred":"Deferred","searchOptionUnmoderated":"Unmoderated","searchOptionUpcoming":"Upcoming","searchOptionOpen":"Open","searchOptionClosed":"Closed","searchOptionResolved":"Resolved","searchOptionDraft":"Draft","searchOptionAny":"Any","searchOptionPredicted":"Predicted","searchOptionNotPredicted":"Not Predicted","searchOptionAuthored":"Authored","searchOptionUpvoted":"Upvoted","searchOptionPrivate":"Private","searchOptionModerating":"Moderating","searchOptionActivity":"Activity","searchOptionUpvotes":"Upvotes","searchOptionNewest":"Newest","searchOptionRecentlyOpened":"Recently Opened","searchOptionSoonestOpening":"Soonest Opening","searchOptionSoonestClosing":"Soonest Closing","searchOptionRecentlyClosed":"Recently Closed","searchOptionSoonestResolving":"Soonest Resolving","searchOptionRecentlyResolved":"Recently Resolved","searchOptionOldestPrediction":"Oldest Prediction","searchOptionRelevance":"Relevance","searchOptionFewestComments":"Fewest Comments","searchOptionDateSubmitted":"Date Submitted","createdBy":"Created by {{author}}","onDate":"on {{date}}","published":"Published","byAuthor":"by {{author}}","estimatedReadingTime":"{{minutes}} min read","hiddenQuestionCountWithCount_one":"...and {{count}} more question in this Notebook","hiddenQuestionCountWithCount_few":"...and {{count}} more questions in this Notebook","hiddenQuestionCountWithCount_other":"...and {{count}} more questions in this Notebook","predictions":"Predictions","relativeLog":"Relative Log","unreadWithCount_zero":"no unread","unreadWithCount_one":"{{formattedCount}} unread","unreadWithCount_few":"{{formattedCount}} unread","unreadWithCount_other":"{{formattedCount}} unread","commentsWithCount_zero":"no comments","commentsWithCount_one":"{{formattedCount}} comment","commentsWithCount_few":"{{formattedCount}} comments","commentsWithCount_other":"{{formattedCount}} comments","or":"or","registrationHeadingPrediction":"Make your prediction count","registrationHeadingSite":"Register with&nbsp;<span replace-with=\\"SHORT_SITE_NAME\\">Metaculus</span>","registrationInfoParagraph1":"Register as a <span replace-with=\\"SHORT_SITE_NAME\\">Metaculus</span> user and you\'ll be able to:","registrationInfoParagraph2":"You can easily register by email or social media.","registrationInfoAbility1":"Keep track of your predictions and earn points.","registrationInfoAbility2":"Join the discussion in the question comments.","registrationInfoAbility3":"Vote on your favorite questions.","registrationInfoAbility4":"Create private questions to track personal predictions.","registrationInfoAbility5":"Suggest new public questions that you want to see answered.","registrationFB":"Register Using Facebook","registrationGoogle":"Register Using Google","registrationByEmail":"Register by email","errorRequired":"required field","errorMinLength":"{{field}} must be at least {{minLength}} characters","errorMaxLength":"{{field}} must be at most {{maxLength}} characters","errorPasswordMatch":"passwords must match","errorEmailInvalid":"not a valid email","registrationUsernamePlaceholder":"choose a username","passwordPlaceholder":"password","registrationVerifyPasswordPlaceholder":"verify password","registrationEmailPlaceholder":"email","registrationSignInHeading":"Already a user?","registrationSuccess1":"Thanks for registering {{username}}!","registrationSuccess2":"An activation email has been sent to {{email}}. Please follow the link inside to finish creating your account.","registrationTerms":"By registering, you acknowledge and agree to Metaculus\'s <a href=\\"/terms-of-use/\\">terms of use</a> and <a href=\\"/privacy-policy/\\">privacy policy</a>.","registrationTermsAgreement":"I agree — continue registration","loginFB":"Sign in with Facebook","loginGoogle":"Sign in with Google","loginUsernamePlaceholder":"username or email","forgotPasswordLink":"forgot password?","passwordResetDescription":"Enter your username and we\'ll send you an email to reset your password.","resetPasswordButton":"Reset Password","resetPasswordEmailSent1":"Your password reset request has been successfully processed.","resetPasswordEmailSent2":"An email has been sent to the address on record for that account. Please follow the link inside to reset your password.","newPasswordLabel":"new password","verifyPasswordLabel":"verify password","metaculusSupporterHeading":"Metaculus Supporter","supporterSinceHeading":"Supporter Since","changeUsernameHeading":"Change your username","tachyonsCost":"Cost: {{tachyons}} tachyons","changeUsernameDescription":"You can change your username once every six months. Your old username will be listed as an alias in your profile for 30 days.","changeUsernameDescriptionNewUser":"Brand new users can change their names for free. After a few days it will cost tachyons.","newUsernamePlaceholder":"new username","confirmUsernamePlaceholder":"confirm username","usernamesNotMatching":"usernames don\'t match","project":"project","projectContents":"Project Contents","question":"Question","created":"Created","remindWhen":"Remind When","remindOnDate":"remind on {{date}}","remindAfterCountComments_one":"remind after {{count}} new comment","remindAfterCountComments_few":"remind after {{count}} new comments","remindAfterCountComments_other":"remind after {{count}} new comments","remindWhenOpens":"remind when question opens","remindWhenCPChanges":"remind when community prediction changes","remindWhenNeedsResolution":"remind when question needs resolution","noReminder":"(no reminder)","currentPasswordPlaceholder":"Enter current password...","newPasswordPlaceholder":"Enter new password...","verifyPasswordPlaceholder":"Verify new password...","updatePasswordButton":"Update Password","passwordChangeSuccess":"password successfully changed","setReminderHeading":"Set yourself a reminder","setReminderDescription":"For a single tachyon you can set yourself a reminder to be notified of important events related to this question. Once the event triggers, you\'ll receive an email notification to remind you to come back and update your prediction.","selectTriggerLabel":"Select trigger","reminderOptionDate":"Specific date","reminderOptionNewComments":"New Comments","reminderOptionNeedsResolution":"Question needs resolution","reminderOptionCPChanges":"Community prediction changes","reminderOptionQuestionOpens":"Question opens","loadingRemindersError":"Could not load the reminders","removingReminderError":"Could not remove the reminder","removeReminderConfirmation":"Do you really want to remove this reminder?","newReminderSuccess":"Reminder has been set.","newReminderError":"Error: reminder has not been set.","reminderErrorTypeRequired":"Please select reminder type","reminderErrorDateRequired":"Please select reminder date","reminderErrorDateInFuture":"Reminder date has to be in future","reminderErrorNumberOfCommentsRequired":"Please set number of new comments that should trigger the reminder.","reminderNotePlaceholder":"Write yourself a note...","reminderCPChangesDescription":"A reminder will be sent when the community prediction changes from its current value by more than 10%. For continuous questions, this is measured by a <a href=\\"https://en.wikipedia.org/wiki/Kolmogorov–Smirnov_test\\">Kolmogorov–Smirnov test</a>.","reminderNewCommentsDescription":"Remind me after x new comments","submitReminderButton":"Buy the Reminder","reminderCost":"Cost: <strong>1 tachyon</strong>.","availableTachyons":"Available tachyons: <strong>{{tachyons}}</strong>","yourRemindersHeading":"Your reminders for this question","trackRecordNoUserPredictions":"None of your predictions have resolved yet! Make more predictions to build up your track record."}'),B_=n(745);const H_="undefined"==typeof window||"Deno"in window;function z_(){}function V_(e){return"number"==typeof e&&e>=0&&e!==1/0}function G_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Q_(e,t,n){return ax(e)?"function"==typeof t?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function W_(e,t,n){return ax(e)?[{...t,queryKey:e},n]:[e||{},t]}function Y_(e,t){const{type:n="all",exact:i,fetchStatus:r,predicate:o,queryKey:a,stale:s}=e;if(ax(a))if(i){if(t.queryHash!==Z_(a,t.options))return!1}else if(!X_(t.queryKey,a))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return!("boolean"==typeof s&&t.isStale()!==s||void 0!==r&&r!==t.state.fetchStatus||o&&!o(t))}function K_(e,t){const{exact:n,fetching:i,predicate:r,mutationKey:o}=e;if(ax(o)){if(!t.options.mutationKey)return!1;if(n){if(J_(t.options.mutationKey)!==J_(o))return!1}else if(!X_(t.options.mutationKey,o))return!1}return!("boolean"==typeof i&&"loading"===t.state.status!==i||r&&!r(t))}function Z_(e,t){return((null==t?void 0:t.queryKeyHashFn)||J_)(e)}function J_(e){return JSON.stringify(e,((e,t)=>rx(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function X_(e,t){return ex(e,t)}function ex(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((n=>!ex(e[n],t[n])))}function tx(e,t){if(e===t)return e;const n=ix(e)&&ix(t);if(n||rx(e)&&rx(t)){const i=n?e.length:Object.keys(e).length,r=n?t:Object.keys(t),o=r.length,a=n?[]:{};let s=0;for(let i=0;i<o;i++){const o=n?i:r[i];a[o]=tx(e[o],t[o]),a[o]===e[o]&&s++}return i===o&&s===i?e:a}return t}function nx(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ix(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function rx(e){if(!ox(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!ox(n)&&!!n.hasOwnProperty("isPrototypeOf")}function ox(e){return"[object Object]"===Object.prototype.toString.call(e)}function ax(e){return Array.isArray(e)}function sx(e){return new Promise((t=>{setTimeout(t,e)}))}function lx(e){sx(0).then(e)}function ux(e,t,n){return null!=n.isDataEqual&&n.isDataEqual(e,t)?e:"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?tx(e,t):t}const cx=console,dx=function(){let e=[],t=0,n=e=>{e()},i=e=>{e()};const r=i=>{t?e.push(i):lx((()=>{n(i)}))};return{batch:r=>{let o;t++;try{o=r()}finally{t--,t||(()=>{const t=e;e=[],t.length&&lx((()=>{i((()=>{t.forEach((e=>{n(e)}))}))}))})()}return o},batchCalls:e=>(...t)=>{r((()=>{e(...t)}))},schedule:r,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{i=e}}}();class px{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.push(e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter((t=>t!==e)),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const hx=new class extends px{constructor(){super(),this.setup=e=>{if(!H_&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach((e=>{e()}))}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}},fx=new class extends px{constructor(){super(),this.setup=e=>{if(!H_&&window.addEventListener){const t=()=>e();return window.addEventListener("online",t,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((e=>{"boolean"==typeof e?this.setOnline(e):this.onOnline()}))}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach((e=>{e()}))}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}};function mx(e){return Math.min(1e3*2**e,3e4)}function gx(e){return"online"!==(null!=e?e:"online")||fx.isOnline()}class vx{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}}function yx(e){return e instanceof vx}function bx(e){let t,n,i,r=!1,o=0,a=!1;const s=new Promise(((e,t)=>{n=e,i=t})),l=()=>!hx.isFocused()||"always"!==e.networkMode&&!fx.isOnline(),u=i=>{a||(a=!0,null==e.onSuccess||e.onSuccess(i),null==t||t(),n(i))},c=n=>{a||(a=!0,null==e.onError||e.onError(n),null==t||t(),i(n))},d=()=>new Promise((n=>{t=e=>{if(a||!l())return n(e)},null==e.onPause||e.onPause()})).then((()=>{t=void 0,a||null==e.onContinue||e.onContinue()})),p=()=>{if(a)return;let t;try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(u).catch((t=>{var n,i;if(a)return;const s=null!=(n=e.retry)?n:3,u=null!=(i=e.retryDelay)?i:mx,h="function"==typeof u?u(o,t):u,f=!0===s||"number"==typeof s&&o<s||"function"==typeof s&&s(o,t);!r&&f?(o++,null==e.onFail||e.onFail(o,t),sx(h).then((()=>{if(l())return d()})).then((()=>{r?c(t):p()}))):c(t)}))};return gx(e.networkMode)?p():d().then(p),{promise:s,cancel:t=>{a||(c(new vx(t)),null==e.abort||e.abort())},continue:()=>{null==t||t()},cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1}}}class wx{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),V_(this.cacheTime)&&(this.gcTimeout=setTimeout((()=>{this.optionalRemove()}),this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:H_?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class _x extends wx{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||cx,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,i=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!=i?i:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){const n=ux(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(z_).catch(z_):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some((e=>!1!==e.options.enabled))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((e=>e.getCurrentResult().isStale))}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!G_(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var n,i;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var r;return null==(r=this.retryer)||r.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}Array.isArray(this.options.queryKey);const o=function(){if("function"==typeof AbortController)return new AbortController}(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},s=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};s(a);const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn")};var u;s(l),null==(n=this.options.behavior)||n.onFetch(l),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(i=l.fetchOptions)?void 0:i.meta))&&this.dispatch({type:"fetch",meta:null==(u=l.fetchOptions)?void 0:u.meta});const c=e=>{var t,n;yx(e)&&e.silent||this.dispatch({type:"error",error:e}),yx(e)||null==(t=(n=this.cache.config).onError)||t.call(n,e,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=bx({fn:l.fetchFn,abort:null==o?void 0:o.abort.bind(o),onSuccess:e=>{var t,n;void 0!==e?(this.setData(e),null==(t=(n=this.cache.config).onSuccess)||t.call(n,e,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):c(new Error("undefined"))},onError:c,onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var n,i;switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(n=e.meta)?n:null,fetchStatus:gx(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(i=e.dataUpdatedAt)?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return yx(r)&&r.revert&&this.revertState?{...this.revertState}:{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),dx.batch((()=>{this.observers.forEach((t=>{t.onQueryUpdate(e)})),this.cache.notify({query:this,type:"updated",action:e})}))}}class xx extends px{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,n){var i;const r=t.queryKey,o=null!=(i=t.queryHash)?i:Z_(r,t);let a=this.get(o);return a||(a=new _x({cache:this,logger:e.getLogger(),queryKey:r,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((t=>t!==e)),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){dx.batch((()=>{this.queries.forEach((e=>{this.remove(e)}))}))}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[n]=W_(e,t);return void 0===n.exact&&(n.exact=!0),this.queries.find((e=>Y_(n,e)))}findAll(e,t){const[n]=W_(e,t);return Object.keys(n).length>0?this.queries.filter((e=>Y_(n,e))):this.queries}notify(e){dx.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){dx.batch((()=>{this.queries.forEach((e=>{e.onFocus()}))}))}onOnline(){dx.batch((()=>{this.queries.forEach((e=>{e.onOnline()}))}))}}class Cx extends wx{constructor(e){super(),this.options={...e.defaultOptions,...e.options},this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||cx,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},this.updateCacheTime(this.options.cacheTime),this.scheduleGc()}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter((t=>t!==e)),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()}async execute(){const e=()=>{var e;return this.retryer=bx({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t="loading"===this.state.status;try{var n,i,r,o,a,s;if(!t){var l,u,c,d;this.dispatch({type:"loading",variables:this.options.variables}),await(null==(l=(u=this.mutationCache.config).onMutate)?void 0:l.call(u,this.state.variables,this));const e=await(null==(c=(d=this.options).onMutate)?void 0:c.call(d,this.state.variables));e!==this.state.context&&this.dispatch({type:"loading",context:e,variables:this.state.variables})}const p=await e();return await(null==(n=(i=this.mutationCache.config).onSuccess)?void 0:n.call(i,p,this.state.variables,this.state.context,this)),await(null==(r=(o=this.options).onSuccess)?void 0:r.call(o,p,this.state.variables,this.state.context)),await(null==(a=(s=this.options).onSettled)?void 0:a.call(s,p,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:p}),p}catch(e){try{var p,h,f,m,g,v;throw await(null==(p=(h=this.mutationCache.config).onError)?void 0:p.call(h,e,this.state.variables,this.state.context,this)),await(null==(f=(m=this.options).onError)?void 0:f.call(m,e,this.state.variables,this.state.context)),await(null==(g=(v=this.options).onSettled)?void 0:g.call(v,void 0,e,this.state.variables,this.state.context)),e}finally{this.dispatch({type:"error",error:e})}}}dispatch(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"loading":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!gx(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...t,...e.state}}})(this.state),dx.batch((()=>{this.observers.forEach((t=>{t.onMutationUpdate(e)})),this.mutationCache.notify({mutation:this,type:"updated",action:e})}))}}class kx extends px{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,n){const i=new Cx({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter((t=>t!==e)),this.notify({type:"removed",mutation:e})}clear(){dx.batch((()=>{this.mutations.forEach((e=>{this.remove(e)}))}))}getAll(){return this.mutations}find(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find((t=>K_(e,t)))}findAll(e){return this.mutations.filter((t=>K_(e,t)))}notify(e){dx.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.mutations.filter((e=>e.state.isPaused));return dx.batch((()=>e.reduce(((e,t)=>e.then((()=>t.continue().catch(z_)))),Promise.resolve())))}}function Sx(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function Tx(e,t){return d(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||h(e,t)||f()}function Ex(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var Px={};function Ox(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&Px[t[0]]||("string"==typeof t[0]&&(Px[t[0]]=new Date),Ex.apply(void 0,t))}function qx(e,t,n){e.loadNamespaces(t,(function(){e.isInitialized?n():e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}))}function $x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.languages[0],r=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===i.toLowerCase())return!0;var a=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(i,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!a(i,e)||r&&!a(o,e)))}function Mx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return Ox("i18n.languages were undefined or empty",t.languages),!0;var i=void 0!==t.options.ignoreJSONStructure;return i?t.hasLoadedNamespace(e,{precheck:function(t,i){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))return!1}}):$x(e,t,n)}function Lx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function jx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lx(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ax=function(e,t){var n=(0,ge.useRef)();return(0,ge.useEffect)((function(){n.current=t?n.current:e}),[e,t]),n.current};function Dx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,i=(0,ge.useContext)(ke)||{},r=i.i18n,o=i.defaultNS,a=n||r||Ee();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Te),!a){Ox("You will need to pass in an i18next instance by using initReactI18next");var s=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[s,{},!1];return l.t=s,l.i18n={},l.ready=!1,l}a.options.react&&void 0!==a.options.react.wait&&Ox("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=jx(jx(jx({},Se()),a.options.react),t),c=u.useSuspense,d=u.keyPrefix,p=e||o||a.options&&a.options.defaultNS;p="string"==typeof p?[p]:p||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(p);var h=(a.isInitialized||a.initializedStoreOnce)&&p.every((function(e){return Mx(e,a,u)}));function f(){return a.getFixedT(null,"fallback"===u.nsMode?p:p[0],d)}var m=(0,ge.useState)(f),g=Tx(m,2),v=g[0],y=g[1],b=p.join(),w=Ax(b),_=(0,ge.useRef)(!0);(0,ge.useEffect)((function(){var e=u.bindI18n,t=u.bindI18nStore;function n(){_.current&&y(f)}return _.current=!0,h||c||qx(a,p,(function(){_.current&&y(f)})),h&&w&&w!==b&&_.current&&y(f),e&&a&&a.on(e,n),t&&a&&a.store.on(t,n),function(){_.current=!1,e&&a&&e.split(" ").forEach((function(e){return a.off(e,n)})),t&&a&&t.split(" ").forEach((function(e){return a.store.off(e,n)}))}}),[a,b]);var x=(0,ge.useRef)(!0);(0,ge.useEffect)((function(){_.current&&!x.current&&y(f),x.current=!1}),[a]);var C=[v,a,h];if(C.t=v,C.i18n=a,C.ready=h,h)return C;if(!h&&!c)return C;throw new Promise((function(e){qx(a,p,(function(){e()}))}))}function Nx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}var Rx={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},Ix=function e(t,n){function i(e,i,r){if("undefined"!=typeof document){"number"==typeof(r=Nx({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in r)r[a]&&(o+="; "+a,!0!==r[a]&&(o+="="+r[a].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+o}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},r=0;r<n.length;r++){var o=n[r].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(i[s]=t.read(a,s),e===s)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){i(e,"",Nx({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Nx({},this.attributes,t))},withConverter:function(t){return e(Nx({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}(Rx,{path:"/"}),Fx=Ix;const Ux=function(e){return fetch(e,{method:"GET"})},Bx=function(e,t){const n={"Content-Type":"application/json"},i=Fx.get("csrftoken");return i&&(n["X-CSRFToken"]=i),fetch(e,{method:"POST",headers:n,mode:"same-origin",body:JSON.stringify(t)})};function Hx(){const{t:e}=Dx(),[t,n]=(0,ge.useState)(""),[i,r]=(0,ge.useState)(!1),[o,a]=(0,ge.useState)(null),s="Failed to subscribe.";return(0,cv.jsxs)("div",{className:"footer-newsletter",children:[(0,cv.jsxs)("div",{children:[(0,cv.jsx)("h2",{children:e("newsletterFormHeading")}),(0,cv.jsxs)("form",{className:"footer-newsletter__form",onSubmit:function(e){e.preventDefault(),r(!1),a(null),Bx("/api2/accounts/subscribe-to-newsletter/",{email:t}).then((e=>{e.ok?r(!0):400===e.status?a("Invalid email address."):a(s)}),(()=>a(s)))},children:[(0,cv.jsx)("input",{type:"email",name:"email",value:t,onChange:function(e){n(e.target.value)},placeholder:"enter email address…",required:!0}),(0,cv.jsx)("button",{type:"submit",children:"Subscribe"})]}),(0,cv.jsx)("p",{children:e("newsletterFormDescription")}),i&&(0,cv.jsx)("p",{children:"Thank you for subscribing!"}),o&&(0,cv.jsx)("p",{className:"footer-newsletter__error",children:o})]}),(0,cv.jsx)("div",{className:"footer-newsletter__spacer"})]})}function zx(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=zx(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}n(2801),n(1295);var Vx=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=zx(e))&&(i&&(i+=" "),i+=t);return i};const Gx={graph:Cf,chevronsRight:'<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M6.80103 11.0433C6.89315 11.0433 6.97951 11.026 7.06012 10.9915C7.14072 10.9569 7.21365 10.909 7.2789 10.8476L11.7582 6.4719C11.9194 6.31453 12 6.13605 12 5.93646C12 5.83282 11.9789 5.73687 11.9367 5.64858C11.8983 5.55647 11.8388 5.47394 11.7582 5.40102L7.2789 1.02536C7.14456 0.891023 6.98527 0.823853 6.80103 0.823853C6.67437 0.823853 6.55922 0.854559 6.45559 0.915972C6.35195 0.977384 6.26751 1.05991 6.20226 1.16354C6.14085 1.26718 6.11014 1.38424 6.11014 1.51474C6.11014 1.70282 6.18115 1.86787 6.32317 2.00988L10.6355 6.20706V5.65434L6.32317 9.86303C6.18115 10.0089 6.11014 10.1758 6.11014 10.3639C6.11014 10.4906 6.14085 10.6038 6.20226 10.7036C6.26751 10.8072 6.35195 10.8898 6.45559 10.9512C6.55922 11.0126 6.67437 11.0433 6.80103 11.0433ZM1.65389 11.0433C1.74984 11.0433 1.83812 11.026 1.91873 10.9915C1.99933 10.9569 2.07226 10.909 2.13751 10.8476L6.6168 6.4719C6.77417 6.31453 6.85285 6.13605 6.85285 5.93646C6.85285 5.83282 6.83366 5.73687 6.79528 5.64858C6.75689 5.55647 6.6974 5.47394 6.6168 5.40102L2.13751 1.02536C2.00317 0.891023 1.84196 0.823853 1.65389 0.823853C1.52722 0.823853 1.41207 0.854559 1.30844 0.915972C1.2048 0.977384 1.12228 1.05991 1.06087 1.16354C0.999456 1.26718 0.96875 1.38424 0.96875 1.51474C0.96875 1.70282 1.03784 1.86787 1.17602 2.00988L5.4941 6.20706V5.65434L1.17602 9.86303C1.03784 10.0089 0.96875 10.1758 0.96875 10.3639C0.96875 10.4906 0.999456 10.6038 1.06087 10.7036C1.12228 10.8072 1.2048 10.8898 1.30844 10.9512C1.41207 11.0126 1.52722 11.0433 1.65389 11.0433Z" fill="currentColor"/> </svg> ',community:bf,metaculus:wf,player:_f,remove:xf,search:yf,prize:'<svg class="icon" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <g> <path d="M9.43251 2.17108C9.77623 1.94297 10.2262 1.94297 10.5699 2.17108L11.1261 2.53668C11.3136 2.65855 11.5324 2.71792 11.7542 2.70542L12.4198 2.6648C12.8323 2.6398 13.2198 2.86479 13.4041 3.23351L13.7041 3.83035C13.8041 4.03033 13.9666 4.1897 14.1634 4.28969L14.7665 4.5928C15.1353 4.77716 15.3602 5.16463 15.3352 5.57711L15.2946 6.24269C15.2821 6.46455 15.3415 6.68641 15.4634 6.87077L15.8321 7.42698C16.0602 7.77071 16.0602 8.22068 15.8321 8.56441L15.4634 9.12374C15.3415 9.31123 15.2821 9.52997 15.2946 9.75183L15.3352 10.4174C15.3602 10.8299 15.1353 11.2174 14.7665 11.4017L14.1697 11.7017C13.9697 11.8017 13.8103 11.9642 13.7103 12.161L13.4072 12.7641C13.2229 13.1329 12.8354 13.3578 12.4229 13.3328L11.7574 13.2922C11.5355 13.2797 11.3136 13.3391 11.1293 13.461L10.5731 13.8297C10.2293 14.0578 9.77936 14.0578 9.43563 13.8297L8.87629 13.461C8.68881 13.3391 8.47007 13.2797 8.24821 13.2922L7.58263 13.3328C7.17016 13.3578 6.78268 13.1329 6.59832 12.7641L6.29834 12.1673C6.19835 11.9673 6.03586 11.8079 5.83899 11.7079L5.23591 11.4048C4.86718 11.2205 4.6422 10.833 4.6672 10.4205L4.70782 9.75495C4.72032 9.53309 4.66095 9.31123 4.53908 9.12687L4.17348 8.56753C3.94537 8.2238 3.94537 7.77383 4.17348 7.43011L4.53908 6.87389C4.66095 6.68641 4.72032 6.46767 4.70782 6.24581L4.6672 5.58023C4.6422 5.16776 4.86718 4.78028 5.23591 4.59592L5.83274 4.29594C6.03273 4.19282 6.19522 4.03033 6.29521 3.83035L6.59519 3.23351C6.77956 2.86479 7.16703 2.6398 7.5795 2.6648L8.24508 2.70542C8.46695 2.71792 8.68881 2.65855 8.87317 2.53668L9.43251 2.17108ZM12.5011 7.99882C12.5011 6.61766 11.3824 5.49899 10.0012 5.49899C8.62006 5.49899 7.50138 6.61766 7.50138 7.99882C7.50138 9.37998 8.62006 10.4987 10.0012 10.4987C11.3824 10.4987 12.5011 9.37998 12.5011 7.99882ZM4.04224 15.8046L5.38902 12.6016C5.39527 12.6048 5.3984 12.6079 5.40152 12.6141L5.7015 13.211C6.0671 13.9359 6.82643 14.3765 7.63888 14.3296L8.30446 14.289C8.31071 14.289 8.32008 14.289 8.32633 14.2953L8.88254 14.664C9.04191 14.7671 9.21065 14.8484 9.38563 14.9046L8.21071 17.695C8.13884 17.8669 7.97948 17.9825 7.79511 17.9982C7.61075 18.0138 7.43264 17.9294 7.33265 17.7732L6.32646 16.2326L4.57345 16.492C4.39534 16.517 4.21723 16.4451 4.10473 16.3045C3.99224 16.1639 3.97037 15.9702 4.03911 15.8046H4.04224ZM11.7917 17.6919L10.6168 14.9046C10.7918 14.8484 10.9605 14.7702 11.1199 14.664L11.6761 14.2953C11.6824 14.2922 11.6886 14.289 11.698 14.289L12.3636 14.3296C13.176 14.3765 13.9353 13.9359 14.3009 13.211L14.6009 12.6141C14.604 12.6079 14.6072 12.6048 14.6134 12.6016L15.9633 15.8046C16.0321 15.9702 16.0071 16.1608 15.8977 16.3045C15.7883 16.4483 15.6071 16.5201 15.429 16.492L13.676 16.2326L12.6698 17.77C12.5698 17.9263 12.3917 18.0107 12.2073 17.995C12.023 17.9794 11.8636 17.8607 11.7917 17.6919Z" style="fill:currentColor"/> </g> </svg> ',calendar:'<svg class="icon" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <g> <path d="M13.3333 3.99999H16C16.1768 3.99999 16.3464 4.07023 16.4714 4.19525C16.5964 4.32028 16.6666 4.48985 16.6666 4.66666V15.3333C16.6666 15.5101 16.5964 15.6797 16.4714 15.8047C16.3464 15.9298 16.1768 16 16 16H3.99998C3.82317 16 3.6536 15.9298 3.52858 15.8047C3.40355 15.6797 3.33331 15.5101 3.33331 15.3333V4.66666C3.33331 4.48985 3.40355 4.32028 3.52858 4.19525C3.6536 4.07023 3.82317 3.99999 3.99998 3.99999H6.66665V2.66666H7.99998V3.99999H12V2.66666H13.3333V3.99999ZM4.66665 7.99999V14.6667H15.3333V7.99999H4.66665ZM5.99998 10.6667H9.33331V13.3333H5.99998V10.6667Z" style="fill:currentColor"/> </g> </svg> ',chevronDown:'<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="28" height="32" viewBox="0 0 28 32"> <path d="M15.1863 18.1539L19.0313 13.8096C19.1562 13.6685 19.1562 13.4565 19.0313 13.3154C18.883 13.1478 18.6214 13.1478 18.473 13.3154L15.1863 17.0289C14.7884 17.4786 14.0866 17.4786 13.6887 17.0289L10.402 13.3154C10.2536 13.1478 9.99204 13.1478 9.84368 13.3154C9.71883 13.4565 9.71883 13.6685 9.84368 13.8096L13.6887 18.1539C14.0866 18.6036 14.7884 18.6036 15.1863 18.1539Z" stroke-width="0.5" style="fill:currentColor;stroke:currentColor"/> </svg> ',minus:'<svg class="icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <circle cx="8" cy="8" r="6" style="stroke:currentColor"/> <line x1="3.9375" y1="7.90625" x2="12.0625" y2="7.90625" style="stroke:currentColor"/> </svg> '};function Qx(e){let{name:t,crop:n,className:i,onClick:r}=e,o=Gx[t];if(!o)throw new TypeError("Unknown icon name: ".concat(t));return n&&(o=function(e,t){const n=(l=e,(new DOMParser).parseFromString(l,"text/html").body.firstChild),i=Number(n.getAttribute("width")),r=Number(n.getAttribute("height")),o=String(n.getAttribute("viewBox")).split(" "),a=+o[2]||i,s=+o[3]||r;var l;let u=+o[0]||0,c=+o[1]||0;if(t&&i&&r){const e=a*t/i;u+=(a-e)/2,c+=(s-e)/2,n.setAttribute("width",String(t)),n.setAttribute("height",String(t)),n.setAttribute("viewBox","".concat(u," ").concat(c," ").concat(e," ").concat(e))}return n.outerHTML}(o,n)),(0,cv.jsx)("span",{className:Vx("Icon",i),onClick:r,dangerouslySetInnerHTML:{__html:o}})}let Wx;function Yx(e){let{url:t,headerImageSrc:n,name:i,closeDate:r,questionsCount:o,essaysCount:a,open:s,prizePool:l,isPublic:u,type:c}=e;return(0,cv.jsxs)("a",{href:t,className:"TournamentCard",children:[(0,cv.jsxs)("div",{className:"TournamentCard-img-container",children:[n?(0,cv.jsx)("img",{className:"TournamentCard-img",src:"".concat(n),alt:""}):null,u?null:(0,cv.jsx)("span",{className:"TournamentCard-label-private",children:"Private"})]}),(0,cv.jsxs)("div",{className:"TournamentCard-section TournamentCard-section-description",children:[(0,cv.jsx)("h3",{children:i}),(0,cv.jsxs)("div",{className:"TournamentCard-prize",children:[(0,cv.jsx)(Qx,{name:"prize"}),(0,cv.jsxs)("span",{children:[(0,cv.jsxs)("strong",{children:["$",Math.round(l).toLocaleString()]}),(0,cv.jsx)("span",{className:"TournamentCard-prize-pool-text",children:" prize pool"})]})]}),(0,cv.jsxs)("div",{className:"TournamentCard-close",children:[(0,cv.jsx)(Qx,{name:"calendar"}),(0,cv.jsxs)("span",{children:[s?"Closes ":"Closed on ",(0,cv.jsx)("strong",{className:"TournamentCard-close-date",children:so(r)})]})]})]}),(0,cv.jsx)("div",{className:"TournamentCard-section TournamentCard-section-footer",children:(0,cv.jsxs)("strong",{children:[c===Wx.FortifiedEssay?a:o,c===Wx.FortifiedEssay?1===a?" Entry":" Entries":1===o?" Question":" Questions"]})})]})}function Kx(e,t,...n){if(e in t){let i=t[e];return"function"==typeof i?i(...n):i}let i=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Kx),i}!function(e){e.FortifiedEssay="FE",e.Tournament="TO"}(Wx||(Wx={}));var Zx=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Zx||{}),Jx=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Jx||{});function Xx({ourProps:e,theirProps:t,slot:n,defaultTag:i,features:r,visible:o=!0,name:a}){let s=tC(t,e);if(o)return eC(s,n,i,a);let l=null!=r?r:0;if(2&l){let{static:e=!1,...t}=s;if(e)return eC(t,n,i,a)}if(1&l){let{unmount:e=!0,...t}=s;return Kx(e?0:1,{0:()=>null,1:()=>eC({...t,hidden:!0,style:{display:"none"}},n,i,a)})}return eC(s,n,i,a)}function eC(e,t={},n,i){let{as:r=n,children:o,refName:a="ref",...s}=rC(e,["unmount","static"]),l=void 0!==e.ref?{[a]:e.ref}:{},u="function"==typeof o?o(t):o;s.className&&"function"==typeof s.className&&(s.className=s.className(t));let c={};if(t){let e=!1,n=[];for(let[i,r]of Object.entries(t))"boolean"==typeof r&&(e=!0),!0===r&&n.push(i);e&&(c["data-headlessui-state"]=n.join(" "))}if(r===ge.Fragment&&Object.keys(iC(s)).length>0){if(!(0,ge.isValidElement)(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(s).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));return(0,ge.cloneElement)(u,Object.assign({},tC(u.props,iC(rC(s,["ref"]))),c,l,function(...e){return{ref:e.every((e=>null==e))?void 0:t=>{for(let n of e)null!=n&&("function"==typeof n?n(t):n.current=t)}}}(u.ref,l.ref)))}return(0,ge.createElement)(r,Object.assign({},rC(s,["ref"]),r!==ge.Fragment&&l,r!==ge.Fragment&&c),u)}function tC(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let i of e)for(let e in i)e.startsWith("on")&&"function"==typeof i[e]?(null!=n[e]||(n[e]=[]),n[e].push(i[e])):t[e]=i[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let e in n)Object.assign(t,{[e](t,...i){let r=n[e];for(let e of r){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;e(t,...i)}}});return t}function nC(e){var t;return Object.assign((0,ge.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function iC(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function rC(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}const oC="undefined"==typeof window||"undefined"==typeof document;let aC=oC?ge.useEffect:ge.useLayoutEffect;function sC(e){let t=(0,ge.useRef)(e);return aC((()=>{t.current=e}),[e]),t}let lC=function(e){let t=sC(e);return ge.useCallback(((...e)=>t.current(...e)),[t])},uC=Symbol();function cC(e,t=!0){return Object.assign(e,{[uC]:t})}function dC(...e){let t=(0,ge.useRef)(e);(0,ge.useEffect)((()=>{t.current=e}),[e]);let n=lC((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}));return e.every((e=>null==e||(null==e?void 0:e[uC])))?void 0:n}let pC={serverHandoffComplete:!1};function hC(){let[e,t]=(0,ge.useState)(pC.serverHandoffComplete);return(0,ge.useEffect)((()=>{!0!==e&&t(!0)}),[e]),(0,ge.useEffect)((()=>{!1===pC.serverHandoffComplete&&(pC.serverHandoffComplete=!0)}),[]),e}var fC;let mC=0;function gC(){return++mC}let vC=null!=(fC=ge.useId)?fC:function(){let e=hC(),[t,n]=ge.useState(e?gC:null);return aC((()=>{null===t&&n(gC())}),[t]),null!=t?""+t:void 0};var yC=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(yC||{});function bC(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let i=""===(null==t?void 0:t.getAttribute("disabled"));return(!i||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&i}function wC(e){return oC?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let _C=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var xC=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(xC||{}),CC=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(CC||{}),kC=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(kC||{});function SC(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(_C)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var TC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(TC||{});function EC(e,t=0){var n;return e!==(null==(n=wC(e))?void 0:n.body)&&Kx(t,{0:()=>e.matches(_C),1(){let t=e;for(;null!==t;){if(t.matches(_C))return!0;t=t.parentElement}return!1}})}function PC(e){null==e||e.focus({preventScroll:!0})}let OC=["textarea","input"].join(",");function qC(e,t=(e=>e)){return e.slice().sort(((e,n)=>{let i=t(e),r=t(n);if(null===i||null===r)return 0;let o=i.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function $C(e,t,{sorted:n=!0,relativeTo:i=null,skipElements:r=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?qC(e):e:SC(e);r.length>0&&(a=a.filter((e=>!r.includes(e)))),i=null!=i?i:o.activeElement;let s,l=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,a.indexOf(i))-1;if(4&t)return Math.max(0,a.indexOf(i))+1;if(8&t)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=32&t?{preventScroll:!0}:{},d=0,p=a.length;do{if(d>=p||d+p<=0)return 0;let e=u+d;if(16&t)e=(e+p)%p;else{if(e<0)return 3;if(e>=p)return 1}s=a[e],null==s||s.focus(c),d+=l}while(s!==o.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,OC))&&n}(s)&&s.select(),s.hasAttribute("tabindex")||s.setAttribute("tabindex","0"),2}let MC=(0,ge.createContext)(null);MC.displayName="OpenClosedContext";var LC=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(LC||{});function jC(){return(0,ge.useContext)(MC)}function AC({value:e,children:t}){return ge.createElement(MC.Provider,{value:e},t)}function DC(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function NC(e,t){let[n,i]=(0,ge.useState)((()=>DC(e)));return aC((()=>{i(DC(e))}),[e.type,e.as]),aC((()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&i("button")}),[n,t]),n}function RC(e,t,n){let i=sC(t);(0,ge.useEffect)((()=>{function t(e){i.current(e)}return document.addEventListener(e,t,n),()=>document.removeEventListener(e,t,n)}),[e,n])}function IC(e,t,n=!0){let i=(0,ge.useRef)(!1);function r(n,r){if(!i.current||n.defaultPrevented)return;let o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),a=r(n);if(null!==a&&a.getRootNode().contains(a)){for(let e of o){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(a)||n.composed&&n.composedPath().includes(t))return}return!EC(a,TC.Loose)&&-1!==a.tabIndex&&n.preventDefault(),t(n,a)}}(0,ge.useEffect)((()=>{requestAnimationFrame((()=>{i.current=n}))}),[n]);let o=(0,ge.useRef)(null);RC("mousedown",(e=>{var t,n;i.current&&(o.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),RC("click",(e=>{!o.current||(r(e,(()=>o.current)),o.current=null)}),!0),RC("blur",(e=>r(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}function FC(...e){return(0,ge.useMemo)((()=>wC(...e)),[...e])}function UC(e,t,n,i){let r=sC(n);(0,ge.useEffect)((()=>{function n(e){r.current(e)}return(e=null!=e?e:window).addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}),[e,t,i])}var BC=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(BC||{});let HC=nC((function(e,t){let{features:n=1,...i}=e;return Xx({ourProps:{ref:t,"aria-hidden":2==(2&n)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4==(4&n)&&2!=(2&n)&&{display:"none"}}},theirProps:i,slot:{},defaultTag:"div",name:"Hidden"})}));var zC=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(zC||{});function VC(){let e=(0,ge.useRef)(0);return function(e,t,n){let i=sC(t);(0,ge.useEffect)((()=>{function t(e){i.current(e)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)}),[e,n])}("keydown",(t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)}),!0),e}var GC=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(GC||{}),QC=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(QC||{});let WC={0:e=>({...e,popoverState:Kx(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},YC=(0,ge.createContext)(null);function KC(e){let t=(0,ge.useContext)(YC);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,KC),t}return t}YC.displayName="PopoverContext";let ZC=(0,ge.createContext)(null);function JC(e){let t=(0,ge.useContext)(ZC);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,JC),t}return t}ZC.displayName="PopoverAPIContext";let XC=(0,ge.createContext)(null);function ek(){return(0,ge.useContext)(XC)}XC.displayName="PopoverGroupContext";let tk=(0,ge.createContext)(null);function nk(e,t){return Kx(t.type,WC,e,t)}tk.displayName="PopoverPanelContext";let ik=nC((function(e,t){var n;let i=(0,ge.useRef)(null),r=dC(t,cC((e=>{i.current=e}))),o=(0,ge.useReducer)(nk,{popoverState:1,buttons:[],button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,ge.createRef)(),afterPanelSentinel:(0,ge.createRef)()}),[{popoverState:a,button:s,buttonId:l,panel:u,panelId:c,beforePanelSentinel:d,afterPanelSentinel:p},h]=o,f=FC(null!=(n=i.current)?n:s),m=(0,ge.useMemo)((()=>{if(!s||!u)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(s))^Number(null==e?void 0:e.contains(u)))return!0;let e=SC(),t=e.indexOf(s),n=(t+e.length-1)%e.length,i=(t+1)%e.length,r=e[n],o=e[i];return!u.contains(r)&&!u.contains(o)}),[s,u]),g=sC(l),v=sC(c),y=(0,ge.useMemo)((()=>({buttonId:g,panelId:v,close:()=>h({type:1})})),[g,v,h]),b=ek(),w=null==b?void 0:b.registerPopover,_=lC((()=>{var e;return null!=(e=null==b?void 0:b.isFocusWithinPopoverGroup())?e:(null==f?void 0:f.activeElement)&&((null==s?void 0:s.contains(f.activeElement))||(null==u?void 0:u.contains(f.activeElement)))}));(0,ge.useEffect)((()=>null==w?void 0:w(y)),[w,y]),UC(null==f?void 0:f.defaultView,"focus",(e=>{var t,n,i,r;0===a&&(_()||!s||!u||e.target!==window&&(null!=(n=null==(t=d.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(r=null==(i=p.current)?void 0:i.contains)&&r.call(i,e.target)||h({type:1})))}),!0),IC([s,u],((e,t)=>{h({type:1}),EC(t,TC.Loose)||(e.preventDefault(),null==s||s.focus())}),0===a);let x=lC((e=>{h({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:s:s;null==t||t.focus()})),C=(0,ge.useMemo)((()=>({close:x,isPortalled:m})),[x,m]),k=(0,ge.useMemo)((()=>({open:0===a,close:x})),[a,x]),S=e,T={ref:r};return ge.createElement(YC.Provider,{value:o},ge.createElement(ZC.Provider,{value:C},ge.createElement(AC,{value:Kx(a,{0:LC.Open,1:LC.Closed})},Xx({ourProps:T,theirProps:S,slot:k,defaultTag:"div",name:"Popover"}))))})),rk=nC((function(e,t){let n=vC(),{id:i=`headlessui-popover-button-${n}`,...r}=e,[o,a]=KC("Popover.Button"),{isPortalled:s}=JC("Popover.Button"),l=(0,ge.useRef)(null),u=`headlessui-focus-sentinel-${vC()}`,c=ek(),d=null==c?void 0:c.closeOthers,p=(0,ge.useContext)(tk),h=null!==p&&p===o.panelId;(0,ge.useEffect)((()=>{if(!h)return a({type:3,buttonId:i}),()=>{a({type:3,buttonId:null})}}),[i,a]);let f=dC(l,t,h?null:e=>{if(e)o.buttons.push(i);else{let e=o.buttons.indexOf(i);-1!==e&&o.buttons.splice(e,1)}o.buttons.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&a({type:2,button:e})}),m=dC(l,t),g=FC(l),v=lC((e=>{var t,n,i;if(h){if(1===o.popoverState)return;switch(e.key){case yC.Space:case yC.Enter:e.preventDefault(),null==(n=(t=e.target).click)||n.call(t),a({type:1}),null==(i=o.button)||i.focus()}}else switch(e.key){case yC.Space:case yC.Enter:e.preventDefault(),e.stopPropagation(),1===o.popoverState&&(null==d||d(o.buttonId)),a({type:0});break;case yC.Escape:if(0!==o.popoverState)return null==d?void 0:d(o.buttonId);if(!l.current||(null==g?void 0:g.activeElement)&&!l.current.contains(g.activeElement))return;e.preventDefault(),e.stopPropagation(),a({type:1})}})),y=lC((e=>{h||e.key===yC.Space&&e.preventDefault()})),b=lC((t=>{var n,i;bC(t.currentTarget)||e.disabled||(h?(a({type:1}),null==(n=o.button)||n.focus()):(t.preventDefault(),t.stopPropagation(),1===o.popoverState&&(null==d||d(o.buttonId)),a({type:0}),null==(i=o.button)||i.focus()))})),w=lC((e=>{e.preventDefault(),e.stopPropagation()})),_=0===o.popoverState,x=(0,ge.useMemo)((()=>({open:_})),[_]),C=NC(e,l),k=h?{ref:m,type:C,onKeyDown:v,onClick:b}:{ref:f,id:o.buttonId,type:C,"aria-expanded":e.disabled?void 0:0===o.popoverState,"aria-controls":o.panel?o.panelId:void 0,onKeyDown:v,onKeyUp:y,onClick:b,onMouseDown:w},S=VC(),T=lC((()=>{let e=o.panel;e&&Kx(S.current,{[zC.Forwards]:()=>$C(e,xC.First),[zC.Backwards]:()=>$C(e,xC.Last)})}));return ge.createElement(ge.Fragment,null,Xx({ourProps:k,theirProps:r,slot:x,defaultTag:"button",name:"Popover.Button"}),_&&!h&&s&&ge.createElement(HC,{id:u,features:BC.Focusable,as:"button",type:"button",onFocus:T}))})),ok=Zx.RenderStrategy|Zx.Static,ak=nC((function(e,t){let n=vC(),{id:i=`headlessui-popover-overlay-${n}`,...r}=e,[{popoverState:o},a]=KC("Popover.Overlay"),s=dC(t),l=jC(),u=null!==l?l===LC.Open:0===o,c=lC((e=>{if(bC(e.currentTarget))return e.preventDefault();a({type:1})}));return Xx({ourProps:{ref:s,id:i,"aria-hidden":!0,onClick:c},theirProps:r,slot:(0,ge.useMemo)((()=>({open:0===o})),[o]),defaultTag:"div",features:ok,visible:u,name:"Popover.Overlay"})})),sk=Zx.RenderStrategy|Zx.Static,lk=nC((function(e,t){let n=vC(),{id:i=`headlessui-popover-panel-${n}`,focus:r=!1,...o}=e,[a,s]=KC("Popover.Panel"),{close:l,isPortalled:u}=JC("Popover.Panel"),c=`headlessui-focus-sentinel-before-${vC()}`,d=`headlessui-focus-sentinel-after-${vC()}`,p=(0,ge.useRef)(null),h=dC(p,t,(e=>{s({type:4,panel:e})})),f=FC(p);(0,ge.useEffect)((()=>(s({type:5,panelId:i}),()=>{s({type:5,panelId:null})})),[i,s]);let m=jC(),g=null!==m?m===LC.Open:0===a.popoverState,v=lC((e=>{var t;if(e.key===yC.Escape){if(0!==a.popoverState||!p.current||(null==f?void 0:f.activeElement)&&!p.current.contains(f.activeElement))return;e.preventDefault(),e.stopPropagation(),s({type:1}),null==(t=a.button)||t.focus()}}));(0,ge.useEffect)((()=>{var t;e.static||1===a.popoverState&&(null==(t=e.unmount)||t)&&s({type:4,panel:null})}),[a.popoverState,e.unmount,e.static,s]),(0,ge.useEffect)((()=>{if(!r||0!==a.popoverState||!p.current)return;let e=null==f?void 0:f.activeElement;p.current.contains(e)||$C(p.current,xC.First)}),[r,p,a.popoverState]);let y=(0,ge.useMemo)((()=>({open:0===a.popoverState,close:l})),[a,l]),b={ref:h,id:a.panelId,onKeyDown:v,onBlur:r&&0===a.popoverState?e=>{var t,n,i,r,o;let l=e.relatedTarget;!l||!p.current||null!=(t=p.current)&&t.contains(l)||(s({type:1}),((null==(i=null==(n=a.beforePanelSentinel.current)?void 0:n.contains)?void 0:i.call(n,l))||(null==(o=null==(r=a.afterPanelSentinel.current)?void 0:r.contains)?void 0:o.call(r,l)))&&l.focus({preventScroll:!0}))}:void 0,tabIndex:-1},w=VC(),_=lC((()=>{let e=p.current;e&&Kx(w.current,{[zC.Forwards]:()=>{$C(e,xC.First)},[zC.Backwards]:()=>{var e;null==(e=a.button)||e.focus({preventScroll:!0})}})})),x=lC((()=>{let e=p.current;e&&Kx(w.current,{[zC.Forwards]:()=>{var e,t,n;if(!a.button)return;let i=SC(),r=i.indexOf(a.button),o=i.slice(0,r+1),s=[...i.slice(r+1),...o];for(let i of s.slice())if((null==(t=null==(e=null==i?void 0:i.id)?void 0:e.startsWith)?void 0:t.call(e,"headlessui-focus-sentinel-"))||(null==(n=a.panel)?void 0:n.contains(i))){let e=s.indexOf(i);-1!==e&&s.splice(e,1)}$C(s,xC.First,{sorted:!1})},[zC.Backwards]:()=>$C(e,xC.Last)})}));return ge.createElement(tk.Provider,{value:a.panelId},g&&u&&ge.createElement(HC,{id:c,ref:a.beforePanelSentinel,features:BC.Focusable,as:"button",type:"button",onFocus:_}),Xx({ourProps:b,theirProps:o,slot:y,defaultTag:"div",features:sk,visible:g,name:"Popover.Panel"}),g&&u&&ge.createElement(HC,{id:d,ref:a.afterPanelSentinel,features:BC.Focusable,as:"button",type:"button",onFocus:x}))})),uk=nC((function(e,t){let n=(0,ge.useRef)(null),i=dC(n,t),[r,o]=(0,ge.useState)([]),a=lC((e=>{o((t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t}))})),s=lC((e=>(o((t=>[...t,e])),()=>a(e)))),l=lC((()=>{var e;let t=wC(n);if(!t)return!1;let i=t.activeElement;return!(null==(e=n.current)||!e.contains(i))||r.some((e=>{var n,r;return(null==(n=t.getElementById(e.buttonId.current))?void 0:n.contains(i))||(null==(r=t.getElementById(e.panelId.current))?void 0:r.contains(i))}))})),u=lC((e=>{for(let t of r)t.buttonId.current!==e&&t.close()})),c=(0,ge.useMemo)((()=>({registerPopover:s,unregisterPopover:a,isFocusWithinPopoverGroup:l,closeOthers:u})),[s,a,l,u]),d=(0,ge.useMemo)((()=>({})),[]),p=e,h={ref:i};return ge.createElement(XC.Provider,{value:c},Xx({ourProps:h,theirProps:p,slot:d,defaultTag:"div",name:"Popover.Group"}))})),ck=Object.assign(ik,{Button:rk,Overlay:ak,Panel:lk,Group:uk});function dk(e){let t,{onClick:n,className:i,children:r,onDelete:o,active:a}=e;return o&&(t=(0,cv.jsx)(Qx,{crop:16,name:"minus",className:"Chip-delete-icon",onClick:e=>{e.stopPropagation(),o&&o(e)}})),n?(0,cv.jsxs)("button",{className:Vx("Chip clickable",i,{"Chip-active":a}),onClick:n,children:[r,t]}):(0,cv.jsxs)("span",{className:Vx("Chip",i,{"Chip-active":a}),children:[r,t]})}function pk(e,t){let[n,i]=(0,ge.useState)(e),r=sC(e);return aC((()=>i(r.current)),[r,i,...t]),n}function hk(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}function fk(){let e=[],t=[],n={enqueue(e){t.push(e)},addEventListener:(e,t,i,r)=>(e.addEventListener(t,i,r),n.add((()=>e.removeEventListener(t,i,r)))),requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return n.add((()=>cancelAnimationFrame(t)))},nextFrame:(...e)=>n.requestAnimationFrame((()=>n.requestAnimationFrame(...e))),setTimeout(...e){let t=setTimeout(...e);return n.add((()=>clearTimeout(t)))},microTask(...e){let t={current:!0};return hk((()=>{t.current&&e[0]()})),n.add((()=>{t.current=!1}))},add:t=>(e.push(t),()=>{let n=e.indexOf(t);if(n>=0){let[t]=e.splice(n,1);t()}}),dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()}};return n}function mk(){let[e]=(0,ge.useState)(fk);return(0,ge.useEffect)((()=>()=>e.dispose()),[e]),e}var gk=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(gk||{});function vk(e,t){let n=t.resolveItems();if(n.length<=0)return null;let i=t.resolveActiveIndex(),r=null!=i?i:-1,o=(()=>{switch(e.focus){case 0:return n.findIndex((e=>!t.resolveDisabled(e)));case 1:{let e=n.slice().reverse().findIndex(((e,n,i)=>!(-1!==r&&i.length-n-1>=r||t.resolveDisabled(e))));return-1===e?e:n.length-1-e}case 2:return n.findIndex(((e,n)=>!(n<=r||t.resolveDisabled(e))));case 3:{let e=n.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 4:return n.findIndex((n=>t.resolveId(n)===e.id));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}})();return-1===o?i:o}function yk(e={},t=null,n=[]){for(let[i,r]of Object.entries(e))wk(n,bk(t,i),r);return n}function bk(e,t){return e?e+"["+t+"]":t}function wk(e,t,n){if(Array.isArray(n))for(let[i,r]of n.entries())wk(e,bk(t,i.toString()),r);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):yk(n,t,e)}function _k(e,t,n){let[i,r]=(0,ge.useState)(n),o=void 0!==e,a=(0,ge.useRef)(o),s=(0,ge.useRef)(!1),l=(0,ge.useRef)(!1);return!o||a.current||s.current?!o&&a.current&&!l.current&&(l.current=!0,a.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(s.current=!0,a.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[o?e:i,lC((e=>(o||r(e),null==t?void 0:t(e))))]}function xk(e,t){let n=(0,ge.useRef)([]),i=lC(e);(0,ge.useEffect)((()=>{let e=[...n.current];for(let[r,o]of t.entries())if(n.current[r]!==o){let r=i(t,e);return n.current=t,r}}),[i,...t])}function Ck(e){return[e.screenX,e.screenY]}function kk(){let e=(0,ge.useRef)([-1,-1]);return{wasMoved(t){let n=Ck(t);return(e.current[0]!==n[0]||e.current[1]!==n[1])&&(e.current=n,!0)},update(t){e.current=Ck(t)}}}var Sk,Tk=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Tk||{}),Ek=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ek||{}),Pk=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Pk||{}),Ok=((Sk=Ok||{})[Sk.OpenCombobox=0]="OpenCombobox",Sk[Sk.CloseCombobox=1]="CloseCombobox",Sk[Sk.GoToOption=2]="GoToOption",Sk[Sk.RegisterOption=3]="RegisterOption",Sk[Sk.UnregisterOption=4]="UnregisterOption",Sk[Sk.RegisterLabel=5]="RegisterLabel",Sk);function qk(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,i=qC(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),r=n?i.indexOf(n):null;return-1===r&&(r=null),{options:i,activeOptionIndex:r}}let $k={1:e=>e.dataRef.current.disabled||1===e.comboboxState?e:{...e,activeOptionIndex:null,comboboxState:1},0(e){if(e.dataRef.current.disabled||0===e.comboboxState)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,i=e.options.findIndex((e=>n(e.dataRef.current.value)));return-1!==i&&(t=i),{...e,comboboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||e.dataRef.current.optionsRef.current&&!e.dataRef.current.optionsPropsRef.current.static&&1===e.comboboxState)return e;let i=qk(e);if(null===i.activeOptionIndex){let e=i.options.findIndex((e=>!e.dataRef.current.disabled));-1!==e&&(i.activeOptionIndex=e)}let r=vk(t,{resolveItems:()=>i.options,resolveActiveIndex:()=>i.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...i,activeOptionIndex:r,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},i=qk(e,(e=>[...e,n]));null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(n));let r={...e,...i,activationTrigger:1};return e.dataRef.current.__demoMode&&void 0===e.dataRef.current.value&&(r.activeOptionIndex=0),r},4:(e,t)=>{let n=qk(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}},5:(e,t)=>({...e,labelId:t.id})},Mk=(0,ge.createContext)(null);function Lk(e){let t=(0,ge.useContext)(Mk);if(null===t){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Lk),t}return t}Mk.displayName="ComboboxActionsContext";let jk=(0,ge.createContext)(null);function Ak(e){let t=(0,ge.useContext)(jk);if(null===t){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ak),t}return t}function Dk(e,t){return Kx(t.type,$k,e,t)}jk.displayName="ComboboxDataContext";let Nk=ge.Fragment,Rk=nC((function(e,t){let{value:n,defaultValue:i,onChange:r,name:o,by:a=((e,t)=>e===t),disabled:s=!1,__demoMode:l=!1,nullable:u=!1,multiple:c=!1,...d}=e,[p=(c?[]:void 0),h]=_k(n,r,i),[f,m]=(0,ge.useReducer)(Dk,{dataRef:(0,ge.createRef)(),comboboxState:l?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),g=(0,ge.useRef)(!1),v=(0,ge.useRef)({static:!1,hold:!1}),y=(0,ge.useRef)(null),b=(0,ge.useRef)(null),w=(0,ge.useRef)(null),_=(0,ge.useRef)(null),x=lC("string"==typeof a?(e,t)=>{let n=a;return(null==e?void 0:e[n])===(null==t?void 0:t[n])}:a),C=(0,ge.useCallback)((e=>Kx(k.mode,{1:()=>p.some((t=>x(t,e))),0:()=>x(p,e)})),[p]),k=(0,ge.useMemo)((()=>({...f,optionsPropsRef:v,labelRef:y,inputRef:b,buttonRef:w,optionsRef:_,value:p,defaultValue:i,disabled:s,mode:c?1:0,get activeOptionIndex(){if(g.current&&null===f.activeOptionIndex&&f.options.length>0){let e=f.options.findIndex((e=>!e.dataRef.current.disabled));if(-1!==e)return e}return f.activeOptionIndex},compare:x,isSelected:C,nullable:u,__demoMode:l})),[p,i,s,c,u,l,f]);aC((()=>{f.dataRef.current=k}),[k]),IC([k.buttonRef,k.inputRef,k.optionsRef],(()=>j.closeCombobox()),0===k.comboboxState);let S=(0,ge.useMemo)((()=>({open:0===k.comboboxState,disabled:s,activeIndex:k.activeOptionIndex,activeOption:null===k.activeOptionIndex?null:k.options[k.activeOptionIndex].dataRef.current.value,value:p})),[k,s,p]),T=lC((e=>{let t=k.options.find((t=>t.id===e));!t||L(t.dataRef.current.value)})),E=lC((()=>{if(null!==k.activeOptionIndex){let{dataRef:e,id:t}=k.options[k.activeOptionIndex];L(e.current.value),j.goToOption(gk.Specific,t)}})),P=lC((()=>{m({type:0}),g.current=!0})),O=lC((()=>{m({type:1}),g.current=!1})),q=lC(((e,t,n)=>(g.current=!1,e===gk.Specific?m({type:2,focus:gk.Specific,id:t,trigger:n}):m({type:2,focus:e,trigger:n})))),$=lC(((e,t)=>(m({type:3,id:e,dataRef:t}),()=>m({type:4,id:e})))),M=lC((e=>(m({type:5,id:e}),()=>m({type:5,id:null})))),L=lC((e=>Kx(k.mode,{0:()=>null==h?void 0:h(e),1(){let t=k.value.slice(),n=t.findIndex((t=>x(t,e)));return-1===n?t.push(e):t.splice(n,1),null==h?void 0:h(t)}}))),j=(0,ge.useMemo)((()=>({onChange:L,registerOption:$,registerLabel:M,goToOption:q,closeCombobox:O,openCombobox:P,selectActiveOption:E,selectOption:T})),[]),A=null===t?{}:{ref:t},D=(0,ge.useRef)(null),N=mk();return(0,ge.useEffect)((()=>{!D.current||void 0!==i&&N.addEventListener(D.current,"reset",(()=>{L(i)}))}),[D,L]),ge.createElement(Mk.Provider,{value:j},ge.createElement(jk.Provider,{value:k},ge.createElement(AC,{value:Kx(k.comboboxState,{0:LC.Open,1:LC.Closed})},null!=o&&null!=p&&yk({[o]:p}).map((([e,t],n)=>ge.createElement(HC,{features:BC.Hidden,ref:0===n?e=>{var t;D.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...iC({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),Xx({ourProps:A,theirProps:d,slot:S,defaultTag:Nk,name:"Combobox"}))))})),Ik=nC((function(e,t){var n,i,r,o;let a=vC(),{id:s=`headlessui-combobox-input-${a}`,onChange:l,displayValue:u,type:c="text",...d}=e,p=Ak("Combobox.Input"),h=Lk("Combobox.Input"),f=dC(p.inputRef,t),m=(0,ge.useRef)(!1),g=mk();var v;xk((([e,t],[n,i])=>{m.current||!p.inputRef.current||(0===i&&1===t||e!==n)&&(p.inputRef.current.value=e)}),["function"==typeof u&&void 0!==p.value?null!=(v=u(p.value))?v:"":"string"==typeof p.value?p.value:"",p.comboboxState]);let y=(0,ge.useRef)(!1),b=lC((()=>{y.current=!0})),w=lC((()=>{setTimeout((()=>{y.current=!1}))})),_=lC((e=>{switch(m.current=!0,e.key){case yC.Backspace:case yC.Delete:if(0!==p.mode||!p.nullable)return;let t=e.currentTarget;g.requestAnimationFrame((()=>{""===t.value&&(h.onChange(null),p.optionsRef.current&&(p.optionsRef.current.scrollTop=0),h.goToOption(gk.Nothing))}));break;case yC.Enter:if(m.current=!1,0!==p.comboboxState||y.current)return;if(e.preventDefault(),e.stopPropagation(),null===p.activeOptionIndex)return void h.closeCombobox();h.selectActiveOption(),0===p.mode&&h.closeCombobox();break;case yC.ArrowDown:return m.current=!1,e.preventDefault(),e.stopPropagation(),Kx(p.comboboxState,{0:()=>{h.goToOption(gk.Next)},1:()=>{h.openCombobox()}});case yC.ArrowUp:return m.current=!1,e.preventDefault(),e.stopPropagation(),Kx(p.comboboxState,{0:()=>{h.goToOption(gk.Previous)},1:()=>{h.openCombobox(),g.nextFrame((()=>{p.value||h.goToOption(gk.Last)}))}});case yC.Home:if(e.shiftKey)break;return m.current=!1,e.preventDefault(),e.stopPropagation(),h.goToOption(gk.First);case yC.PageUp:return m.current=!1,e.preventDefault(),e.stopPropagation(),h.goToOption(gk.First);case yC.End:if(e.shiftKey)break;return m.current=!1,e.preventDefault(),e.stopPropagation(),h.goToOption(gk.Last);case yC.PageDown:return m.current=!1,e.preventDefault(),e.stopPropagation(),h.goToOption(gk.Last);case yC.Escape:return m.current=!1,0!==p.comboboxState?void 0:(e.preventDefault(),p.optionsRef.current&&!p.optionsPropsRef.current.static&&e.stopPropagation(),h.closeCombobox());case yC.Tab:if(m.current=!1,0!==p.comboboxState)return;0===p.mode&&h.selectActiveOption(),h.closeCombobox()}})),x=lC((e=>{h.openCombobox(),null==l||l(e)})),C=lC((()=>{m.current=!1})),k=pk((()=>{if(p.labelId)return[p.labelId].join(" ")}),[p.labelId]),S=(0,ge.useMemo)((()=>({open:0===p.comboboxState,disabled:p.disabled})),[p]);return Xx({ourProps:{ref:f,id:s,role:"combobox",type:c,"aria-controls":null==(n=p.optionsRef.current)?void 0:n.id,"aria-expanded":p.disabled?void 0:0===p.comboboxState,"aria-activedescendant":null===p.activeOptionIndex||null==(i=p.options[p.activeOptionIndex])?void 0:i.id,"aria-multiselectable":1===p.mode||void 0,"aria-labelledby":k,defaultValue:null!=(o=null!=(r=e.defaultValue)?r:void 0!==p.defaultValue?null==u?void 0:u(p.defaultValue):null)?o:p.defaultValue,disabled:p.disabled,onCompositionStart:b,onCompositionEnd:w,onKeyDown:_,onChange:x,onBlur:C},theirProps:d,slot:S,defaultTag:"input",name:"Combobox.Input"})})),Fk=nC((function(e,t){var n;let i=Ak("Combobox.Button"),r=Lk("Combobox.Button"),o=dC(i.buttonRef,t),a=vC(),{id:s=`headlessui-combobox-button-${a}`,...l}=e,u=mk(),c=lC((e=>{switch(e.key){case yC.ArrowDown:return e.preventDefault(),e.stopPropagation(),1===i.comboboxState&&r.openCombobox(),u.nextFrame((()=>{var e;return null==(e=i.inputRef.current)?void 0:e.focus({preventScroll:!0})}));case yC.ArrowUp:return e.preventDefault(),e.stopPropagation(),1===i.comboboxState&&(r.openCombobox(),u.nextFrame((()=>{i.value||r.goToOption(gk.Last)}))),u.nextFrame((()=>{var e;return null==(e=i.inputRef.current)?void 0:e.focus({preventScroll:!0})}));case yC.Escape:return 0!==i.comboboxState?void 0:(e.preventDefault(),i.optionsRef.current&&!i.optionsPropsRef.current.static&&e.stopPropagation(),r.closeCombobox(),u.nextFrame((()=>{var e;return null==(e=i.inputRef.current)?void 0:e.focus({preventScroll:!0})})));default:return}})),d=lC((e=>{if(bC(e.currentTarget))return e.preventDefault();0===i.comboboxState?r.closeCombobox():(e.preventDefault(),r.openCombobox()),u.nextFrame((()=>{var e;return null==(e=i.inputRef.current)?void 0:e.focus({preventScroll:!0})}))})),p=pk((()=>{if(i.labelId)return[i.labelId,s].join(" ")}),[i.labelId,s]),h=(0,ge.useMemo)((()=>({open:0===i.comboboxState,disabled:i.disabled,value:i.value})),[i]);return Xx({ourProps:{ref:o,id:s,type:NC(e,i.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":null==(n=i.optionsRef.current)?void 0:n.id,"aria-expanded":i.disabled?void 0:0===i.comboboxState,"aria-labelledby":p,disabled:i.disabled,onClick:d,onKeyDown:c},theirProps:l,slot:h,defaultTag:"button",name:"Combobox.Button"})})),Uk=nC((function(e,t){let n=vC(),{id:i=`headlessui-combobox-label-${n}`,...r}=e,o=Ak("Combobox.Label"),a=Lk("Combobox.Label"),s=dC(o.labelRef,t);aC((()=>a.registerLabel(i)),[i]);let l=lC((()=>{var e;return null==(e=o.inputRef.current)?void 0:e.focus({preventScroll:!0})})),u=(0,ge.useMemo)((()=>({open:0===o.comboboxState,disabled:o.disabled})),[o]);return Xx({ourProps:{ref:s,id:i,onClick:l},theirProps:r,slot:u,defaultTag:"label",name:"Combobox.Label"})})),Bk=Zx.RenderStrategy|Zx.Static,Hk=nC((function(e,t){var n;let i=vC(),{id:r=`headlessui-combobox-options-${i}`,hold:o=!1,...a}=e,s=Ak("Combobox.Options"),l=dC(s.optionsRef,t),u=jC(),c=null!==u?u===LC.Open:0===s.comboboxState;aC((()=>{var t;s.optionsPropsRef.current.static=null!=(t=e.static)&&t}),[s.optionsPropsRef,e.static]),aC((()=>{s.optionsPropsRef.current.hold=o}),[s.optionsPropsRef,o]),function({container:e,accept:t,walk:n,enabled:i=!0}){let r=(0,ge.useRef)(t),o=(0,ge.useRef)(n);(0,ge.useEffect)((()=>{r.current=t,o.current=n}),[t,n]),aC((()=>{if(!e||!i)return;let t=wC(e);if(!t)return;let n=r.current,a=o.current,s=Object.assign((e=>n(e)),{acceptNode:n}),l=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,s,!1);for(;l.nextNode();)a(l.currentNode)}),[e,i,r,o])}({container:s.optionsRef.current,enabled:0===s.comboboxState,accept:e=>"option"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let d=pk((()=>{var e,t;return null!=(t=s.labelId)?t:null==(e=s.buttonRef.current)?void 0:e.id}),[s.labelId,s.buttonRef.current]),p=(0,ge.useMemo)((()=>({open:0===s.comboboxState})),[s]);return Xx({ourProps:{"aria-activedescendant":null===s.activeOptionIndex||null==(n=s.options[s.activeOptionIndex])?void 0:n.id,"aria-labelledby":d,role:"listbox",id:r,ref:l},theirProps:a,slot:p,defaultTag:"ul",features:Bk,visible:c,name:"Combobox.Options"})})),zk=nC((function(e,t){var n,i;let r=vC(),{id:o=`headlessui-combobox-option-${r}`,disabled:a=!1,value:s,...l}=e,u=Ak("Combobox.Option"),c=Lk("Combobox.Option"),d=null!==u.activeOptionIndex&&u.options[u.activeOptionIndex].id===o,p=u.isSelected(s),h=(0,ge.useRef)(null),f=sC({disabled:a,value:s,domRef:h,textValue:null==(i=null==(n=h.current)?void 0:n.textContent)?void 0:i.toLowerCase()}),m=dC(t,h),g=lC((()=>c.selectOption(o)));aC((()=>c.registerOption(o,f)),[f,o]);let v=(0,ge.useRef)(!u.__demoMode);aC((()=>{if(!u.__demoMode)return;let e=fk();return e.requestAnimationFrame((()=>{v.current=!0})),e.dispose}),[]),aC((()=>{if(0!==u.comboboxState||!d||!v.current||0===u.activationTrigger)return;let e=fk();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=h.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[h,d,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let y=lC((e=>{if(a)return e.preventDefault();g(),0===u.mode&&c.closeCombobox()})),b=lC((()=>{if(a)return c.goToOption(gk.Nothing);c.goToOption(gk.Specific,o)})),w=kk(),_=lC((e=>w.update(e))),x=lC((e=>{!w.wasMoved(e)||a||d||c.goToOption(gk.Specific,o,0)})),C=lC((e=>{!w.wasMoved(e)||a||!d||u.optionsPropsRef.current.hold||c.goToOption(gk.Nothing)})),k=(0,ge.useMemo)((()=>({active:d,selected:p,disabled:a})),[d,p,a]);return Xx({ourProps:{id:o,ref:m,role:"option",tabIndex:!0===a?void 0:-1,"aria-disabled":!0===a||void 0,"aria-selected":p,disabled:void 0,onClick:y,onFocus:b,onPointerEnter:_,onMouseEnter:_,onPointerMove:x,onMouseMove:x,onPointerLeave:C,onMouseLeave:C},theirProps:l,slot:k,defaultTag:"li",name:"Combobox.Option"})})),Vk=Object.assign(Rk,{Input:Ik,Button:Fk,Label:Uk,Options:Hk,Option:zk});function Gk(e,t){return""===t?e:e.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())))}function Qk(e){let{options:t,filterIndex:n,handleToggle:i,radioMode:r}=e;const[o,a]=(0,ge.useState)(""),[s,l]=(0,ge.useState)(""),u=Gk(t,s);return(0,cv.jsx)(Vk,{value:o,onChange:e=>{if(!e)return;a(e),l("");const o=t.findIndex((t=>t.name===e));i({filterIndex:n,optionIndex:o,radioMode:r})},nullable:!0,children:(0,cv.jsxs)("div",{className:"Dropdown",children:[(0,cv.jsxs)("div",{className:"Dropdown-selected",children:[(0,cv.jsx)(Vk.Input,{className:"Dropdown-input",onChange:e=>l(e.target.value),placeholder:"Search..."}),(0,cv.jsx)(Vk.Button,{className:"Dropdown-icon",children:(0,cv.jsx)(Qx,{name:"chevronDown"})})]}),(0,cv.jsx)("div",{style:{position:"relative"},children:u.length>0&&(0,cv.jsx)(Vk.Options,{className:"Dropdown-menu",children:u.map((e=>{var t;return(0,cv.jsx)(Vk.Option,{value:e.name,children:null!==(t=e.long_name)&&void 0!==t?t:e.name},e.id)}))})})]})})}function Wk(e){let{options:t,filterIndex:n,handleText:i,radioMode:r}=e;const[o,a]=(0,ge.useState)(""),[s,l]=(0,ge.useState)(""),u=Gk(t,s);return(0,cv.jsx)(Vk,{value:o,onChange:e=>{a(e),l(""),i({filterIndex:n,text:e,radioMode:r})},children:(0,cv.jsxs)("div",{className:"Dropdown",children:[(0,cv.jsx)(Vk.Input,{className:"Dropdown-input",onChange:e=>l(e.target.value),placeholder:"Search..."}),(0,cv.jsx)("div",{style:{position:"relative"},children:(u.length>0||s.length>0)&&(0,cv.jsxs)(Vk.Options,{className:"Dropdown-menu",children:[(0,cv.jsx)(Vk.Option,{value:s,children:s}),u.map((e=>(0,cv.jsx)(Vk.Option,{value:e.name,children:e.name},e.id)))]})})]})})}n(285);const Yk={"main-feed":"true",status:"active",has_group:"false"};function Kk(e){var t;const n=e.find((e=>"type"===e.id)),i=null==n||null===(t=n.options.find((e=>"forecast"===e.id)))||void 0===t?void 0:t.value,r=e.find((e=>"forecast_type"===e.id));r&&(r.hidden=!i),r&&!i&&(r.options=Zk(r.options));const o=e.find((e=>"status"===e.id));return o&&(o.hidden=!i),o&&!i&&(o.options=Zk(o.options)),e}function Zk(e){return e.map((e=>({...e,value:!1})))}function Jk(e){let{title:t,filterIndex:n,options:i,handleToggle:r,radioMode:o}=e;return(0,cv.jsxs)(cv.Fragment,{children:[(0,cv.jsx)("h3",{className:"Filter-row-title",children:t}),(0,cv.jsx)("div",{className:"Filter-row-options",children:i.map(((e,t)=>{let{name:i,value:a,id:s,hidden:l}=e;return!l&&(0,cv.jsx)(dk,{className:Vx({"is-active":a}),onClick:()=>r({filterIndex:n,optionIndex:t,radioMode:o}),children:i},s)}))})]})}function Xk(e){let{id:t,title:n,options:i,filterIndex:r,handleToggle:o,radioMode:a}=e;const s=i.map(((e,t)=>({...e,optionIndex:t}))).filter((e=>e.value));return(0,cv.jsxs)(cv.Fragment,{children:[(0,cv.jsx)("h3",{className:"Filter-row-title",children:n}),(0,cv.jsxs)("div",{className:"Filter-row-options",children:[(0,cv.jsx)(Qk,{id:t,options:i,filterIndex:r,handleToggle:o,title:n,radioMode:a},t),s.length>0&&(0,cv.jsx)("div",{className:"Tournaments-active-filters",children:s.map((e=>{let{name:t,optionIndex:n}=e;return(0,cv.jsx)(dk,{onDelete:()=>o({filterIndex:r,optionIndex:n,radioMode:a}),onClick:()=>o({filterIndex:r,optionIndex:n,radioMode:a}),children:t},t)}))})]})]})}function eS(e){let{id:t,title:n,options:i,filterIndex:r,handleText:o,radioMode:a}=e;const s=i.map(((e,t)=>({...e,optionIndex:t}))).filter((e=>e.value));return(0,cv.jsxs)(cv.Fragment,{children:[(0,cv.jsx)("h3",{className:"Filter-row-title",children:n}),(0,cv.jsxs)("div",{className:"Filter-row-options",children:[(0,cv.jsx)(Wk,{id:t,options:i,filterIndex:r,handleText:o,title:n,radioMode:a}),s.length>0&&(0,cv.jsx)("div",{className:"Tournaments-active-filters",children:s.map((e=>{let{name:t,id:n}=e;return(0,cv.jsx)(dk,{onDelete:()=>o({filterIndex:r,text:n.toString(),radioMode:a}),onClick:()=>o({filterIndex:r,text:n.toString(),radioMode:a}),children:t},n)}))})]})]})}function tS(e){let{value:t,realTime:n,onSubmit:i,close:r}=e;const[o,a]=(0,ge.useState)(t),s=e=>{let{filterIndex:t,optionIndex:r,radioMode:s}=e;const l=structuredClone(o);return s&&(l[t].options=Zk(l[t].options)),l[t].options[r].value=!o[t].options[r].value,n?i(l):a(l)},l=e=>{let{filterIndex:t,text:r,radioMode:s}=e;if(!r)return;const l=structuredClone(o),u=l[t].options.find((e=>e.id===r));return s&&(l[t].options=Zk(l[t].options)),u?u.value=!u.value:l[t].options.push({name:r.startsWith("@")?r:"@"+r,value:!0,id:r.startsWith("@")?r.slice(1):r}),n?i(l):a(l)};return(0,ge.useEffect)((()=>(a(t),()=>a(t))),[t]),(0,cv.jsxs)(cv.Fragment,{children:[(0,cv.jsx)("div",{className:"Filter-overlay-header hidden-desktop",children:(0,cv.jsx)("h3",{children:"Filter by"})}),o.map(((e,t)=>{let{title:n,options:i,selectorType:r,id:o,hidden:a,radioMode:u}=e;if(!a&&(i.length>0||"text"===r)){if("dropdown"===r)return(0,cv.jsx)(Xk,{title:n,id:o,filterIndex:t,handleToggle:s,options:i,radioMode:u});if("chip"===r)return(0,cv.jsx)(Jk,{title:n,filterIndex:t,options:i,handleToggle:s,id:o,radioMode:u});if("text"===r)return(0,cv.jsx)(eS,{filterIndex:t,handleText:l,options:i,id:o,title:n,radioMode:u})}})),(0,cv.jsxs)("div",{className:"Filter-overlay-footer",children:[(0,cv.jsx)("button",{className:"button is-secondary",onClick:()=>{const e=o.map((e=>({...e,options:e.options.map((e=>({...e,value:!1})))})));if(n)return i(e);a(e)},children:"Clear"}),(0,cv.jsx)("button",{className:"button is-primary",onClick:()=>{n||i(o),r()},children:"Done"})]})]})}function nS(e){let{title:t,value:n,onSubmit:i,realTime:r,panelClassName:o,className:a}=e;return(0,cv.jsxs)(ck,{className:Vx("Filter",a),children:[(0,cv.jsx)(ck.Button,{className:"button is-secondary",children:t}),(0,cv.jsx)(ck.Panel,{className:Vx(o,"menu-overlay"),children:e=>{let{close:t}=e;return(0,cv.jsx)(tS,{close:t,value:n,onSubmit:i,realTime:r})}})]})}var iS=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(iS||{}),rS=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(rS||{}),oS=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(oS||{}),aS=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(aS||{});function sS(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,i=qC(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),r=n?i.indexOf(n):null;return-1===r&&(r=null),{options:i,activeOptionIndex:r}}let lS={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,i=e.options.findIndex((e=>n(e.dataRef.current.value)));return-1!==i&&(t=i),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||1===e.listboxState)return e;let i=sS(e),r=vk(t,{resolveItems:()=>i.options,resolveActiveIndex:()=>i.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...i,searchQuery:"",activeOptionIndex:r,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,i=e.searchQuery+t.value.toLowerCase(),r=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(i))})),o=r?e.options.indexOf(r):-1;return-1===o||o===e.activeOptionIndex?{...e,searchQuery:i}:{...e,searchQuery:i,activeOptionIndex:o,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},i=sS(e,(e=>[...e,n]));return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(n)),{...e,...i}},6:(e,t)=>{let n=sS(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},uS=(0,ge.createContext)(null);function cS(e){let t=(0,ge.useContext)(uS);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,cS),t}return t}uS.displayName="ListboxActionsContext";let dS=(0,ge.createContext)(null);function pS(e){let t=(0,ge.useContext)(dS);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,pS),t}return t}function hS(e,t){return Kx(t.type,lS,e,t)}dS.displayName="ListboxDataContext";let fS=ge.Fragment,mS=nC((function(e,t){let{value:n,defaultValue:i,name:r,onChange:o,by:a=((e,t)=>e===t),disabled:s=!1,horizontal:l=!1,multiple:u=!1,...c}=e;const d=l?"horizontal":"vertical";let p=dC(t),[h=(u?[]:void 0),f]=_k(n,o,i),[m,g]=(0,ge.useReducer)(hS,{dataRef:(0,ge.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),v=(0,ge.useRef)({static:!1,hold:!1}),y=(0,ge.useRef)(null),b=(0,ge.useRef)(null),w=(0,ge.useRef)(null),_=lC("string"==typeof a?(e,t)=>{let n=a;return(null==e?void 0:e[n])===(null==t?void 0:t[n])}:a),x=(0,ge.useCallback)((e=>Kx(C.mode,{1:()=>h.some((t=>_(t,e))),0:()=>_(h,e)})),[h]),C=(0,ge.useMemo)((()=>({...m,value:h,disabled:s,mode:u?1:0,orientation:d,compare:_,isSelected:x,optionsPropsRef:v,labelRef:y,buttonRef:b,optionsRef:w})),[h,s,u,m]);aC((()=>{m.dataRef.current=C}),[C]),IC([C.buttonRef,C.optionsRef],((e,t)=>{var n;g({type:1}),EC(t,TC.Loose)||(e.preventDefault(),null==(n=C.buttonRef.current)||n.focus())}),0===C.listboxState);let k=(0,ge.useMemo)((()=>({open:0===C.listboxState,disabled:s,value:h})),[C,s,h]),S=lC((e=>{let t=C.options.find((t=>t.id===e));!t||M(t.dataRef.current.value)})),T=lC((()=>{if(null!==C.activeOptionIndex){let{dataRef:e,id:t}=C.options[C.activeOptionIndex];M(e.current.value),g({type:2,focus:gk.Specific,id:t})}})),E=lC((()=>g({type:0}))),P=lC((()=>g({type:1}))),O=lC(((e,t,n)=>e===gk.Specific?g({type:2,focus:gk.Specific,id:t,trigger:n}):g({type:2,focus:e,trigger:n}))),q=lC(((e,t)=>(g({type:5,id:e,dataRef:t}),()=>g({type:6,id:e})))),$=lC((e=>(g({type:7,id:e}),()=>g({type:7,id:null})))),M=lC((e=>Kx(C.mode,{0:()=>null==f?void 0:f(e),1(){let t=C.value.slice(),n=t.findIndex((t=>_(t,e)));return-1===n?t.push(e):t.splice(n,1),null==f?void 0:f(t)}}))),L=lC((e=>g({type:3,value:e}))),j=lC((()=>g({type:4}))),A=(0,ge.useMemo)((()=>({onChange:M,registerOption:q,registerLabel:$,goToOption:O,closeListbox:P,openListbox:E,selectActiveOption:T,selectOption:S,search:L,clearSearch:j})),[]),D={ref:p},N=(0,ge.useRef)(null),R=mk();return(0,ge.useEffect)((()=>{!N.current||void 0!==i&&R.addEventListener(N.current,"reset",(()=>{M(i)}))}),[N,M]),ge.createElement(uS.Provider,{value:A},ge.createElement(dS.Provider,{value:C},ge.createElement(AC,{value:Kx(C.listboxState,{0:LC.Open,1:LC.Closed})},null!=r&&null!=h&&yk({[r]:h}).map((([e,t],n)=>ge.createElement(HC,{features:BC.Hidden,ref:0===n?e=>{var t;N.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...iC({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),Xx({ourProps:D,theirProps:c,slot:k,defaultTag:fS,name:"Listbox"}))))})),gS=nC((function(e,t){var n;let i=vC(),{id:r=`headlessui-listbox-button-${i}`,...o}=e,a=pS("Listbox.Button"),s=cS("Listbox.Button"),l=dC(a.buttonRef,t),u=mk(),c=lC((e=>{switch(e.key){case yC.Space:case yC.Enter:case yC.ArrowDown:e.preventDefault(),s.openListbox(),u.nextFrame((()=>{a.value||s.goToOption(gk.First)}));break;case yC.ArrowUp:e.preventDefault(),s.openListbox(),u.nextFrame((()=>{a.value||s.goToOption(gk.Last)}))}})),d=lC((e=>{e.key===yC.Space&&e.preventDefault()})),p=lC((e=>{if(bC(e.currentTarget))return e.preventDefault();0===a.listboxState?(s.closeListbox(),u.nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),s.openListbox())})),h=pk((()=>{if(a.labelId)return[a.labelId,r].join(" ")}),[a.labelId,r]),f=(0,ge.useMemo)((()=>({open:0===a.listboxState,disabled:a.disabled,value:a.value})),[a]);return Xx({ourProps:{ref:l,id:r,type:NC(e,a.buttonRef),"aria-haspopup":"listbox","aria-controls":null==(n=a.optionsRef.current)?void 0:n.id,"aria-expanded":a.disabled?void 0:0===a.listboxState,"aria-labelledby":h,disabled:a.disabled,onKeyDown:c,onKeyUp:d,onClick:p},theirProps:o,slot:f,defaultTag:"button",name:"Listbox.Button"})})),vS=nC((function(e,t){let n=vC(),{id:i=`headlessui-listbox-label-${n}`,...r}=e,o=pS("Listbox.Label"),a=cS("Listbox.Label"),s=dC(o.labelRef,t);aC((()=>a.registerLabel(i)),[i]);let l=lC((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),u=(0,ge.useMemo)((()=>({open:0===o.listboxState,disabled:o.disabled})),[o]);return Xx({ourProps:{ref:s,id:i,onClick:l},theirProps:r,slot:u,defaultTag:"label",name:"Listbox.Label"})})),yS=Zx.RenderStrategy|Zx.Static,bS=nC((function(e,t){var n;let i=vC(),{id:r=`headlessui-listbox-options-${i}`,...o}=e,a=pS("Listbox.Options"),s=cS("Listbox.Options"),l=dC(a.optionsRef,t),u=mk(),c=mk(),d=jC(),p=null!==d?d===LC.Open:0===a.listboxState;(0,ge.useEffect)((()=>{var e;let t=a.optionsRef.current;!t||0===a.listboxState&&t!==(null==(e=wC(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[a.listboxState,a.optionsRef]);let h=lC((e=>{switch(c.dispose(),e.key){case yC.Space:if(""!==a.searchQuery)return e.preventDefault(),e.stopPropagation(),s.search(e.key);case yC.Enter:if(e.preventDefault(),e.stopPropagation(),null!==a.activeOptionIndex){let{dataRef:e}=a.options[a.activeOptionIndex];s.onChange(e.current.value)}0===a.mode&&(s.closeListbox(),fk().nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case Kx(a.orientation,{vertical:yC.ArrowDown,horizontal:yC.ArrowRight}):return e.preventDefault(),e.stopPropagation(),s.goToOption(gk.Next);case Kx(a.orientation,{vertical:yC.ArrowUp,horizontal:yC.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),s.goToOption(gk.Previous);case yC.Home:case yC.PageUp:return e.preventDefault(),e.stopPropagation(),s.goToOption(gk.First);case yC.End:case yC.PageDown:return e.preventDefault(),e.stopPropagation(),s.goToOption(gk.Last);case yC.Escape:return e.preventDefault(),e.stopPropagation(),s.closeListbox(),u.nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case yC.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(s.search(e.key),c.setTimeout((()=>s.clearSearch()),350))}})),f=pk((()=>{var e,t,n;return null!=(n=null==(e=a.labelRef.current)?void 0:e.id)?n:null==(t=a.buttonRef.current)?void 0:t.id}),[a.labelRef.current,a.buttonRef.current]),m=(0,ge.useMemo)((()=>({open:0===a.listboxState})),[a]);return Xx({ourProps:{"aria-activedescendant":null===a.activeOptionIndex||null==(n=a.options[a.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===a.mode||void 0,"aria-labelledby":f,"aria-orientation":a.orientation,id:r,onKeyDown:h,role:"listbox",tabIndex:0,ref:l},theirProps:o,slot:m,defaultTag:"ul",features:yS,visible:p,name:"Listbox.Options"})})),wS=nC((function(e,t){let n=vC(),{id:i=`headlessui-listbox-option-${n}`,disabled:r=!1,value:o,...a}=e,s=pS("Listbox.Option"),l=cS("Listbox.Option"),u=null!==s.activeOptionIndex&&s.options[s.activeOptionIndex].id===i,c=s.isSelected(o),d=(0,ge.useRef)(null),p=sC({disabled:r,value:o,domRef:d,get textValue(){var e,t;return null==(t=null==(e=d.current)?void 0:e.textContent)?void 0:t.toLowerCase()}}),h=dC(t,d);aC((()=>{if(0!==s.listboxState||!u||0===s.activationTrigger)return;let e=fk();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=d.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[d,u,s.listboxState,s.activationTrigger,s.activeOptionIndex]),aC((()=>l.registerOption(i,p)),[p,i]);let f=lC((e=>{if(r)return e.preventDefault();l.onChange(o),0===s.mode&&(l.closeListbox(),fk().nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),m=lC((()=>{if(r)return l.goToOption(gk.Nothing);l.goToOption(gk.Specific,i)})),g=kk(),v=lC((e=>g.update(e))),y=lC((e=>{!g.wasMoved(e)||r||u||l.goToOption(gk.Specific,i,0)})),b=lC((e=>{!g.wasMoved(e)||r||!u||l.goToOption(gk.Nothing)})),w=(0,ge.useMemo)((()=>({active:u,selected:c,disabled:r})),[u,c,r]);return Xx({ourProps:{id:i,ref:h,role:"option",tabIndex:!0===r?void 0:-1,"aria-disabled":!0===r||void 0,"aria-selected":c,disabled:void 0,onClick:f,onFocus:m,onPointerEnter:v,onMouseEnter:v,onPointerMove:y,onMouseMove:y,onPointerLeave:b,onMouseLeave:b},theirProps:a,slot:w,defaultTag:"li",name:"Listbox.Option"})})),_S=Object.assign(mS,{Button:gS,Label:vS,Options:bS,Option:wS});function xS(e){let{value:t,onChange:n,options:i,active:r}=e;return(0,cv.jsxs)(_S,{as:"div",className:"Sort",value:t,onChange:n,children:[(0,cv.jsxs)(_S.Button,{className:Vx("Sort-active","button",{"is-active":r},"is-secondary","is-borderless","with-icon"),children:[(0,cv.jsx)(Qx,{name:"chevronDown"}),t]}),(0,cv.jsx)(_S.Options,{className:"menu-overlay",children:i.map((e=>(0,cv.jsx)(_S.Option,{as:ge.Fragment,value:e.id,children:t=>{let{active:n,selected:i}=t;return(0,cv.jsx)("button",{className:Vx("Sort-option",{active:n,selected:i},e.className),children:e.name})}},e.id)))})]})}function CS(e){let{value:t,onChange:n,onClear:i,onSubmit:r,className:o,...a}=e;return(0,cv.jsx)("div",{className:Vx("search-bar filled",o),children:(0,cv.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(e)},children:[(0,cv.jsx)("input",{name:"search",type:"search",value:t,onChange:n,autoComplete:"off",className:"search search-box",...a}),(0,cv.jsxs)("span",{className:"search-buttons",children:[t?(0,cv.jsx)("button",{onClick:i,type:"button","aria-label":"Clear",children:(0,cv.jsx)(Qx,{name:"remove"})}):null,(0,cv.jsx)("button",{type:"submit","aria-label":"Search",children:(0,cv.jsx)(Qx,{name:"search"})})]})]})})}function kS(){const[e,t]=(0,ge.useState)("Newest"),[n,i]=(0,ge.useState)(""),[r,o]=(0,ge.useState)(12),[a,s]=(0,ge.useState)(4),l={"Highest Prize Pool":(e,t)=>t.prize_pool-e.prize_pool,"Ending Soon":(e,t)=>e.tournament_close_date.valueOf()-t.tournament_close_date.valueOf(),Newest:(e,t)=>t.id-e.id},u=(0,ge.useMemo)((()=>window.metacData.projects.map((e=>({...e,tournament_close_date:new Date(e.tournament_close_date)})))),[]),c=(0,ge.useMemo)((()=>u.flatMap((e=>{let{organizations:t}=e;return t.filter((e=>{let{type:t}=e;return"CAUSE"===t}))})).filter(((e,t,n)=>n.findIndex((t=>{let{id:n}=t;return e.id===n}))===t)).map((e=>{let{id:t,name:n}=e;return{id:t,name:n,value:!1}}))),[u]),[d,p]=(0,ge.useState)([{title:"Cause",id:"cause",selectorType:"chip",options:c,radioMode:!1},{title:"Visibility",id:"visibility",selectorType:"chip",radioMode:!1,options:[{id:"public",name:"Public",value:!1},{id:"private",name:"Private",value:!1}]}]),h=(0,ge.useMemo)((()=>d.flatMap(((e,t)=>e.options.map(((e,n)=>({...e,filterIndex:t,optionIndex:n}))))).filter((e=>{let{value:t}=e;return t}))),[d]),f=(0,ge.useMemo)((()=>{if(!n)return u;const e=n.trim().toLowerCase().split(" ");return u.filter((t=>e.every((e=>t.name.toLowerCase().includes(e)))))}),[n,u]),m=(0,ge.useMemo)((()=>{if(!h.length)return f;const e=h.filter((e=>{let{value:t,filterIndex:n}=e;return!0===t&&0===n})),t=h.filter((e=>{let{value:t,filterIndex:n}=e;return!0===t&&1===n}));return f.filter((n=>(0===e.length||e.find((e=>{let{id:t}=e;return n.organizations.find((e=>e.id===t))})))&&(0===t.length||t.find((e=>{let{id:t}=e;return"public"===t&&n.public||"private"===t&&!n.public})))))}),[h,f]),g=new Date,v=m.filter((e=>g<e.tournament_close_date)).sort(l[e]),y=m.filter((e=>g>=e.tournament_close_date)).sort(l[e]),b=(0,ge.useCallback)((()=>{o(12),s(4)}),[]),w=(0,ge.useCallback)((e=>{b(),"search"===e.target.name&&i(e.target.value),"sort"===e.target.name&&t(e.target.value)}),[b]),_=(0,ge.useCallback)((e=>{b(),t(e)}),[b]),x=(0,ge.useCallback)((()=>{b(),i("")}),[b]),C=(0,ge.useCallback)((e=>{let{filterIndex:t,optionIndex:n}=e;const i=structuredClone(d);i[t].options[n].value=!1,p(i)}),[d]);return(0,cv.jsxs)(cv.Fragment,{children:[(0,cv.jsxs)("div",{children:[(0,cv.jsx)("h1",{children:"Tournaments"}),(0,cv.jsxs)("div",{className:"Tournaments-description",children:[(0,cv.jsx)("p",{children:"Help the global community model, understand, and navigate the world’s most important and complex challenges."}),(0,cv.jsx)("p",{children:"Prove your forecasting abilities, support effective policy and decision-making, and win cash prizes."}),(0,cv.jsxs)("p",{children:[(0,cv.jsx)("a",{href:"/help/faq/#tournament-scoring",children:"Learn"})," how tournaments are scored."]}),(0,cv.jsxs)("p",{children:[(0,cv.jsx)("a",{href:"mailto:hello@metaculus.com",children:"Reach out"})," to discuss launching a tournament on what’s important to you."]})]})]}),(0,cv.jsxs)("div",{className:"Tournaments-inner-search",children:[(0,cv.jsx)(CS,{value:n,onChange:w,onClear:x,onSubmit:()=>null,placeholder:"search tournaments..."}),(0,cv.jsxs)("div",{className:"Tournaments-filter-group",children:[(0,cv.jsx)(xS,{onChange:_,options:Object.keys(l).map((e=>({id:e,name:e}))),value:e}),(0,cv.jsx)(nS,{realTime:!0,title:"Filter",value:d,onSubmit:p,panelClassName:"Tournaments-overlay",className:"Tournaments-filter"})]})]}),h.length>0&&(0,cv.jsx)("div",{className:"Tournaments-active-filters",children:h.map((e=>{let{name:t,filterIndex:n,optionIndex:i}=e;return(0,cv.jsx)(dk,{onDelete:()=>C({filterIndex:n,optionIndex:i}),onClick:()=>C({filterIndex:n,optionIndex:i}),children:t},t)}))}),(0,cv.jsx)("h2",{children:"Open Now"}),0===v.length&&(0,cv.jsx)("div",{className:"button-row",children:"No results found"}),(0,cv.jsxs)("div",{className:"Tournaments-list-container",children:[(0,cv.jsx)("div",{className:"Tournaments-list",children:v.slice(0,r).map((e=>(0,cv.jsx)(Yx,{url:e.url,headerImageSrc:e.header_image,name:e.name,closeDate:e.tournament_close_date,questionsCount:e.questions_count,essaysCount:e.questions_count,open:g<e.tournament_close_date,prizePool:e.prize_pool,isPublic:e.public,type:e.type},e.id)))}),v.length>r&&(0,cv.jsx)("div",{className:"button-row",children:(0,cv.jsx)("button",{className:"button is-secondary",onClick:()=>o(r+12),children:"Load More"})})]}),y.length>0&&(0,cv.jsxs)(cv.Fragment,{children:[(0,cv.jsx)("h2",{children:"Archive"}),(0,cv.jsxs)("div",{className:"Tournaments-list-container",children:[(0,cv.jsx)("div",{className:"Tournaments-list",children:y.slice(0,a).map((e=>(0,cv.jsx)(Yx,{url:e.url,headerImageSrc:e.header_image,name:e.name,closeDate:e.tournament_close_date,questionsCount:e.questions_count,essaysCount:e.essays_count,open:g<e.tournament_close_date,prizePool:e.prize_pool,isPublic:e.public,type:e.type},e.id)))}),y.length>a&&(0,cv.jsx)("div",{className:"button-row",children:(0,cv.jsx)("button",{className:"button is-secondary",onClick:()=>s(a<12?12:a+12),children:"Load More"})})]})]})]})}function SS(e){let{className:t,hasYLabel:n=!0,interactive:i=!0,onDateSelected:r,parentHeight:o=0,parentWidth:a=0,question:s,showCp:l,showMp:u,ticksMajor:c,ticksMinor:d,xAxisSpacing:p,yAxisSpacing:h,yLabel:f,...m}=e;const g=(0,ge.useRef)(null);return(0,ge.useEffect)((()=>{g.current&&(g.current.innerHTML="");const e=new Ym(g.current,s,{interactive:i,hasYLabel:n,yLabel:f,...void 0!==c&&void 0!==d?{ticks:{minor:d,major:c}}:{},...void 0!==p&&void 0!==h?{ticksSpacing:{yAxis:h,xAxis:p}}:{}});r&&e.mouseLine&&(e.mouseLine.cb=r,e.mouseLine.cbLeave=()=>r(new Date)),e.updateLineData(!l,!u),e.display()}),[n,i,r,s,l,u,c,d,p,h,f]),(0,cv.jsx)("svg",{...m,className:Vx("TimeSeriesGraph w-full",t),height:o,ref:g,width:a})}var TS=n(5578),ES=n.n(TS),PS=n(4184),OS=n.n(PS),qS=n(5697),$S=n.n(qS),MS=["top","left","transform","className","children","innerRef"];function LS(){return LS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},LS.apply(this,arguments)}function jS(e){var t=e.top,n=void 0===t?0:t,i=e.left,r=void 0===i?0:i,o=e.transform,a=e.className,s=e.children,l=e.innerRef,u=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,MS);return ge.createElement("g",LS({ref:l,className:OS()("visx-group",a),transform:o||"translate("+r+", "+n+")"},u),s)}jS.propTypes={top:$S().number,left:$S().number,transform:$S().string,className:$S().string,children:$S().node,innerRef:$S().oneOfType([$S().string,$S().func,$S().object])};var AS=["from","to","fill","className","innerRef"];function DS(){return DS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},DS.apply(this,arguments)}function NS(e){var t=e.from,n=void 0===t?{x:0,y:0}:t,i=e.to,r=void 0===i?{x:1,y:1}:i,o=e.fill,a=void 0===o?"transparent":o,s=e.className,l=e.innerRef,u=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,AS),c=n.x===r.x||n.y===r.y;return ge.createElement("line",DS({ref:l,className:OS()("visx-line",s),x1:n.x,y1:n.y,x2:r.x,y2:r.y,fill:a,shapeRendering:c?"crispEdges":"auto"},u))}var RS=n(6488),IS=n.n(RS),FS=n(8306),US="__react_svg_text_measurement_id",BS=n.n(FS)()((function(e,t){try{var n=document.getElementById(US);if(!n){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("aria-hidden","true"),i.style.width="0",i.style.height="0",i.style.position="absolute",i.style.top="-100%",i.style.left="-100%",(n=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",US),i.appendChild(n),document.body.appendChild(i)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch(e){return null}}),(function(e,t){return e+"_"+JSON.stringify(t)})),HS=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function zS(e){return"number"==typeof e}function VS(e){return"number"==typeof e&&Number.isFinite(e)||"string"==typeof e}var GS=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function QS(){return QS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},QS.apply(this,arguments)}var WS={overflow:"visible"};function YS(e){var t=e.dx,n=void 0===t?0:t,i=e.dy,r=void 0===i?0:i,o=e.textAnchor,a=void 0===o?"start":o,s=e.innerRef,l=e.innerTextRef,u=(e.verticalAnchor,e.angle,e.lineHeight),c=void 0===u?"1em":u,d=(e.scaleToFit,e.capHeight,e.width,function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,GS)),p=d.x,h=void 0===p?0:p,f=d.fontSize,m=function(e){var t=e.verticalAnchor,n=void 0===t?"end":t,i=e.scaleToFit,r=void 0!==i&&i,o=e.angle,a=e.width,s=e.lineHeight,l=void 0===s?"1em":s,u=e.capHeight,c=void 0===u?"0.71em":u,d=e.children,p=e.style,h=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,HS),f=h.x,m=void 0===f?0:f,g=h.y,v=void 0===g?0:g,y=!VS(m)||!VS(v),b=(0,ge.useMemo)((function(){return{wordsWithWidth:(null==d?[]:d.toString().split(/(?:(?!\u00A0+)\s+)/)).map((function(e){return{word:e,wordWidth:BS(e,p)||0}})),spaceWidth:BS(" ",p)||0}}),[d,p]),w=b.wordsWithWidth,_=b.spaceWidth,x=(0,ge.useMemo)((function(){return y?[]:a||r?w.reduce((function(e,t){var n=t.word,i=t.wordWidth,o=e[e.length-1];if(o&&(null==a||r||(o.width||0)+i+_<a))o.words.push(n),o.width=o.width||0,o.width+=i+_;else{var s={words:[n],width:i};e.push(s)}return e}),[]):[{words:null==d?[]:d.toString().split(/(?:(?!\u00A0+)\s+)/)}]}),[y,a,r,d,w,_]),C=(0,ge.useMemo)((function(){return y?"":"start"===n?IS()("calc("+c+")"):"middle"===n?IS()("calc("+(x.length-1)/2+" * -"+l+" + ("+c+" / 2))"):IS()("calc("+(x.length-1)+" * -"+l+")")}),[y,n,c,x.length,l]),k=(0,ge.useMemo)((function(){var e=[];if(y)return"";if(zS(m)&&zS(v)&&zS(a)&&r&&x.length>0){var t=x[0].width||1,n="shrink-only"===r?Math.min(a/t,1):a/t,i=n,s=m-n*m,l=v-i*v;e.push("matrix("+n+", 0, 0, "+i+", "+s+", "+l+")")}return o&&e.push("rotate("+o+", "+m+", "+v+")"),e.length>0?e.join(" "):""}),[y,m,v,a,r,x,o]);return{wordsByLines:x,startDy:C,transform:k}}(e),g=m.wordsByLines,v=m.startDy,y=m.transform;return ge.createElement("svg",{ref:s,x:n,y:r,fontSize:f,style:WS},g.length>0?ge.createElement("text",QS({ref:l,transform:y},d,{textAnchor:a}),g.map((function(e,t){return ge.createElement("tspan",{key:t,x:h,dy:0===t?v:c},e.words.join(" "))}))):null)}var KS="top",ZS="left",JS="bottom";function XS(){return XS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},XS.apply(this,arguments)}function eT(e){var t=e.hideTicks,n=e.horizontal,i=e.orientation,r=e.tickClassName,o=e.tickComponent,a=e.tickLabelProps,s=e.tickStroke,l=void 0===s?"#222":s,u=e.tickTransform,c=e.ticks,d=e.strokeWidth,p=e.tickLineProps;return c.map((function(e){var s,c=e.value,h=e.index,f=e.from,m=e.to,g=e.formattedValue,v=null!=(s=a[h])?s:{},y=Math.max(10,"number"==typeof v.fontSize&&v.fontSize||0),b=m.y+(n&&i!==KS?y:0);return ge.createElement(jS,{key:"visx-tick-"+c+"-"+h,className:OS()("visx-axis-tick",r),transform:u},!t&&ge.createElement(NS,XS({from:f,to:m,stroke:l,strokeWidth:d,strokeLinecap:"square"},p)),o?o(XS({},v,{x:m.x,y:b,formattedValue:g})):ge.createElement(YS,XS({x:m.x,y:b},v),g))}))}function tT(){return tT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tT.apply(this,arguments)}var nT={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function iT(e){var t=e.axisFromPoint,n=e.axisLineClassName,i=e.axisToPoint,r=e.hideAxisLine,o=e.hideTicks,a=e.horizontal,s=e.label,l=void 0===s?"":s,u=e.labelClassName,c=e.labelOffset,d=void 0===c?14:c,p=e.labelProps,h=void 0===p?nT:p,f=e.orientation,m=void 0===f?JS:f,g=e.scale,v=e.stroke,y=void 0===v?"#222":v,b=e.strokeDasharray,w=e.strokeWidth,_=void 0===w?1:w,x=e.tickClassName,C=e.tickComponent,k=e.tickLineProps,S=e.tickLabelProps,T=void 0===S?function(){return nT}:S,E=e.tickLength,P=void 0===E?8:E,O=e.tickStroke,q=void 0===O?"#222":O,$=e.tickTransform,M=e.ticks,L=e.ticksComponent,j=void 0===L?eT:L,A=M.map((function(e){var t=e.value,n=e.index;return T(t,n,M)})),D=Math.max.apply(Math,[10].concat(A.map((function(e){return"number"==typeof e.fontSize?e.fontSize:0}))));return ge.createElement(ge.Fragment,null,j({hideTicks:o,horizontal:a,orientation:m,scale:g,tickClassName:x,tickComponent:C,tickLabelProps:A,tickStroke:q,tickTransform:$,ticks:M,strokeWidth:_,tickLineProps:k}),!r&&ge.createElement(NS,{className:OS()("visx-axis-line",n),from:t,to:i,stroke:y,strokeWidth:_,strokeDasharray:b}),l&&ge.createElement(YS,tT({className:OS()("visx-axis-label",u)},function(e){var t,n,i,r=e.labelOffset,o=e.labelProps,a=e.orientation,s=e.range,l=e.tickLabelFontSize,u=e.tickLength,c=a===ZS||a===KS?-1:1;if(a===KS||a===JS){var d=a===JS&&"number"==typeof o.fontSize?o.fontSize:0;t=(Number(s[0])+Number(s[s.length-1]))/2,n=c*(u+r+l+d)}else t=c*((Number(s[0])+Number(s[s.length-1]))/2),n=-(u+r),i="rotate("+90*c+")";return{x:t,y:n,transform:i}}({labelOffset:d,labelProps:h,orientation:m,range:g.range(),tickLabelFontSize:D,tickLength:P}),h),l))}function rT(e){return null==e?void 0:e.toString()}function oT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aT=function(){function e(e){var t=e.x,n=void 0===t?0:t,i=e.y,r=void 0===i?0:i;oT(this,"x",0),oT(this,"y",0),this.x=n,this.y=r}var t=e.prototype;return t.value=function(){return{x:this.x,y:this.y}},t.toArray=function(){return[this.x,this.y]},e}();function sT(e,t){var n=e.x,i=e.y;return new aT(t?{x:n,y:i}:{x:i,y:n})}var lT=["children","axisClassName","hideAxisLine","hideTicks","hideZero","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function uT(){return uT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uT.apply(this,arguments)}function cT(e){var t=e.children,n=void 0===t?iT:t,i=e.axisClassName,r=e.hideAxisLine,o=void 0!==r&&r,a=e.hideTicks,s=void 0!==a&&a,l=e.hideZero,u=void 0!==l&&l,c=e.left,d=void 0===c?0:c,p=e.numTicks,h=void 0===p?10:p,f=e.orientation,m=void 0===f?JS:f,g=e.rangePadding,v=void 0===g?0:g,y=e.scale,b=e.tickFormat,w=e.tickLength,_=void 0===w?8:w,x=e.tickValues,C=e.top,k=void 0===C?0:C,S=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,lT),T=null!=b?b:function(e){return"tickFormat"in e?e.tickFormat():rT}(y),E=m===ZS,P=m===KS,O=P||m===JS,q=function(e,t){void 0===t&&(t="center");var n=e;if("start"!==t&&"bandwidth"in n){var i=n.bandwidth();return"center"===t&&(i/=2),n.round()&&(i=Math.round(i)),function(e){var t=n(e);return"number"==typeof t?t+i:t}}return e}(y),$=E||P?-1:1,M=y.range(),L=sT({x:Number(M[0])+.5-v,y:0},O),j=sT({x:Number(M[M.length-1])+.5+v,y:0},O),A=(null!=x?x:function(e,t){var n=e;return"ticks"in n?n.ticks(t):n.domain().filter((function(e,n,i){return null==t||i.length<=t||n%Math.round((i.length-1)/t)==0}))}(y,h)).filter((function(e){return!u||0!==e&&"0"!==e})).map((function(e,t){return{value:e,index:t}})),D=A.map((function(e){var t=e.value,n=e.index,i=function(e){if(("function"==typeof e||"object"==typeof e&&e)&&"valueOf"in e){var t=e.valueOf();if("number"==typeof t)return t}return e}(q(t));return{value:t,index:n,from:sT({x:i,y:0},O),to:sT({x:i,y:_*$},O),formattedValue:T(t,n,A)}}));return ge.createElement(jS,{className:OS()("visx-axis",i),top:k,left:d},n(uT({},S,{axisFromPoint:L,axisToPoint:j,hideAxisLine:o,hideTicks:s,hideZero:u,horizontal:O,numTicks:h,orientation:m,rangePadding:v,scale:y,tickFormat:T,tickLength:_,tickPosition:q,tickSign:$,ticks:D})))}var dT=["axisClassName","labelOffset","tickLabelProps","tickLength"];function pT(){return pT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pT.apply(this,arguments)}var hT=function(){return{dx:"-0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"end"}};function fT(e){var t=e.axisClassName,n=e.labelOffset,i=void 0===n?36:n,r=e.tickLabelProps,o=void 0===r?hT:r,a=e.tickLength,s=void 0===a?8:a,l=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,dT);return ge.createElement(cT,pT({axisClassName:OS()("visx-axis-left",t),labelOffset:i,orientation:ZS,tickLabelProps:o,tickLength:s},l))}var mT=["axisClassName","labelOffset","tickLabelProps","tickLength"];function gT(){return gT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gT.apply(this,arguments)}var vT=function(){return{dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"}};function yT(e){var t=e.axisClassName,n=e.labelOffset,i=void 0===n?8:n,r=e.tickLabelProps,o=void 0===r?vT:r,a=e.tickLength,s=void 0===a?8:a,l=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,mT);return ge.createElement(cT,gT({axisClassName:OS()("visx-axis-bottom",t),labelOffset:i,orientation:JS,tickLabelProps:o,tickLength:s},l))}var bT,wT=n(3279),_T=n.n(wT),xT=[],CT="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(bT||(bT={}));var kT,ST=function(e){return Object.freeze(e)},TT=function(e,t){this.inlineSize=e,this.blockSize=t,ST(this)},ET=function(){function e(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ST(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),PT=function(e){return e instanceof SVGElement&&"getBBox"in e},OT=function(e){if(PT(e)){var t=e.getBBox(),n=t.width,i=t.height;return!n&&!i}var r=e,o=r.offsetWidth,a=r.offsetHeight;return!(o||a||e.getClientRects().length)},qT=function(e){var t,n;if(e instanceof Element)return!0;var i=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(i&&e instanceof i.Element)},$T="undefined"!=typeof window?window:{},MT=new WeakMap,LT=/auto|scroll/,jT=/^tb|vertical/,AT=/msie|trident/i.test($T.navigator&&$T.navigator.userAgent),DT=function(e){return parseFloat(e||"0")},NT=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new TT((n?t:e)||0,(n?e:t)||0)},RT=ST({devicePixelContentBoxSize:NT(),borderBoxSize:NT(),contentBoxSize:NT(),contentRect:new ET(0,0,0,0)}),IT=function(e,t){if(void 0===t&&(t=!1),MT.has(e)&&!t)return MT.get(e);if(OT(e))return MT.set(e,RT),RT;var n=getComputedStyle(e),i=PT(e)&&e.ownerSVGElement&&e.getBBox(),r=!AT&&"border-box"===n.boxSizing,o=jT.test(n.writingMode||""),a=!i&&LT.test(n.overflowY||""),s=!i&&LT.test(n.overflowX||""),l=i?0:DT(n.paddingTop),u=i?0:DT(n.paddingRight),c=i?0:DT(n.paddingBottom),d=i?0:DT(n.paddingLeft),p=i?0:DT(n.borderTopWidth),h=i?0:DT(n.borderRightWidth),f=i?0:DT(n.borderBottomWidth),m=d+u,g=l+c,v=(i?0:DT(n.borderLeftWidth))+h,y=p+f,b=s?e.offsetHeight-y-e.clientHeight:0,w=a?e.offsetWidth-v-e.clientWidth:0,_=r?m+v:0,x=r?g+y:0,C=i?i.width:DT(n.width)-_-w,k=i?i.height:DT(n.height)-x-b,S=C+m+w+v,T=k+g+b+y,E=ST({devicePixelContentBoxSize:NT(Math.round(C*devicePixelRatio),Math.round(k*devicePixelRatio),o),borderBoxSize:NT(S,T,o),contentBoxSize:NT(C,k,o),contentRect:new ET(d,l,C,k)});return MT.set(e,E),E},FT=function(e,t,n){var i=IT(e,n),r=i.borderBoxSize,o=i.contentBoxSize,a=i.devicePixelContentBoxSize;switch(t){case bT.DEVICE_PIXEL_CONTENT_BOX:return a;case bT.BORDER_BOX:return r;default:return o}},UT=function(e){var t=IT(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=ST([t.borderBoxSize]),this.contentBoxSize=ST([t.contentBoxSize]),this.devicePixelContentBoxSize=ST([t.devicePixelContentBoxSize])},BT=function(e){if(OT(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},HT=function(){var e=1/0,t=[];xT.forEach((function(n){if(0!==n.activeTargets.length){var i=[];n.activeTargets.forEach((function(t){var n=new UT(t.target),r=BT(t.target);i.push(n),t.lastReportedSize=FT(t.target,t.observedBox),r<e&&(e=r)})),t.push((function(){n.callback.call(n.observer,i,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,i=t;n<i.length;n++)(0,i[n])();return e},zT=function(e){xT.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(BT(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},VT=[],GT=0,QT={attributes:!0,characterData:!0,childList:!0,subtree:!0},WT=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],YT=function(e){return void 0===e&&(e=0),Date.now()+e},KT=!1,ZT=function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!KT){KT=!0;var n,i=YT(e);n=function(){var n=!1;try{n=function(){var e=0;for(zT(e);xT.some((function(e){return e.activeTargets.length>0}));)e=HT(),zT(e);return xT.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:CT}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=CT),window.dispatchEvent(e)}(),e>0}()}finally{if(KT=!1,e=i-YT(),!GT)return;n?t.run(1e3):e>0?t.run(e):t.start()}},function(e){if(!kT){var t=0,n=document.createTextNode("");new MutationObserver((function(){return VT.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),kT=function(){n.textContent=""+(t?t--:t++)}}VT.push(e),kT()}((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,QT)};document.body?t():$T.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),WT.forEach((function(t){return $T.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),WT.forEach((function(t){return $T.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}(),JT=new ZT,XT=function(e){!GT&&e>0&&JT.start(),!(GT+=e)&&JT.stop()},eE=function(){function e(e,t){this.target=e,this.observedBox=t||bT.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=FT(this.target,this.observedBox,!0);return e=this.target,PT(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),tE=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},nE=new WeakMap,iE=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},rE=function(){function e(){}return e.connect=function(e,t){var n=new tE(e,t);nE.set(e,n)},e.observe=function(e,t,n){var i=nE.get(e),r=0===i.observationTargets.length;iE(i.observationTargets,t)<0&&(r&&xT.push(i),i.observationTargets.push(new eE(t,n&&n.box)),XT(1),JT.schedule())},e.unobserve=function(e,t){var n=nE.get(e),i=iE(n.observationTargets,t),r=1===n.observationTargets.length;i>=0&&(r&&xT.splice(xT.indexOf(n),1),n.observationTargets.splice(i,1),XT(-1))},e.disconnect=function(e){var t=this,n=nE.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),oE=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");rE.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!qT(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");rE.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!qT(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");rE.unobserve(this,e)},e.prototype.disconnect=function(){rE.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function aE(){return aE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},aE.apply(this,arguments)}function sE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lE(e,t){return lE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lE(e,t)}function uE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cE={width:"100%",height:"100%"};const dE=Symbol("implicit");function pE(){var e=new Map,t=[],n=[],i=dE;function r(r){var o=r+"",a=e.get(o);if(!a){if(i!==dE)return i;e.set(o,a=t.push(r))}return n[(a-1)%n.length]}return r.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const i of n){const n=i+"";e.has(n)||e.set(n,t.push(i))}return r},r.range=function(e){return arguments.length?(n=Array.from(e),r):n.slice()},r.unknown=function(e){return arguments.length?(i=e,r):i},r.copy=function(){return pE(t,n).unknown(i)},op.apply(r,arguments),r}function hE(){var e,t,n=pE().unknown(void 0),i=n.domain,r=n.range,o=0,a=1,s=!1,l=0,u=0,c=.5;function d(){var n=i().length,d=a<o,p=d?a:o,h=d?o:a;e=(h-p)/Math.max(1,n-l+2*u),s&&(e=Math.floor(e)),p+=(h-p-e*(n-l))*c,t=e*(1-l),s&&(p=Math.round(p),t=Math.round(t));var f=pl(n).map((function(t){return p+e*t}));return r(d?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),d()):i()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(u=+e,d()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),d()):c},n.copy=function(){return hE(i(),[o,a]).round(s).paddingInner(l).paddingOuter(u).align(c)},op.apply(d(),arguments)}function fE(e){return function(t,n){var i=e((t=wd(t)).h,(n=wd(n)).h),r=Nd(t.c,n.c),o=Nd(t.l,n.l),a=Nd(t.opacity,n.opacity);return function(e){return t.h=i(e),t.c=r(e),t.l=o(e),t.opacity=a(e),t+""}}}function mE(e){return function(t,n){var i=e((t=nd(t)).h,(n=nd(n)).h),r=Nd(t.s,n.s),o=Nd(t.l,n.l),a=Nd(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=r(e),t.l=o(e),t.opacity=a(e),t+""}}}function gE(e){return function t(n){function i(t,i){var r=e((t=$d(t)).h,(i=$d(i)).h),o=Nd(t.s,i.s),a=Nd(t.l,i.l),s=Nd(t.opacity,i.opacity);return function(e){return t.h=r(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,i.gamma=t,i}(1)}var vE={lab:function(e,t){var n=Nd((e=hd(e)).l,(t=hd(t)).l),i=Nd(e.a,t.a),r=Nd(e.b,t.b),o=Nd(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=r(t),e.opacity=o(t),e+""}},hcl:fE(Dd),"hcl-long":fE(Nd),hsl:mE(Dd),"hsl-long":mE(Nd),cubehelix:gE(Dd),"cubehelix-long":gE(Nd),rgb:Rd},yE=new Date(Date.UTC(2020,1,2,3,4,5)),bE={day:$l,hour:Ol,minute:El,month:Ul,second:Sl,week:Ll,year:Hl},wE={day:Yl,hour:Ql,minute:Vl,month:ou,second:Sl,week:Zl,year:su},_E=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],xE={domain:function(e,t){t.domain&&e.domain(t.domain)},nice:function(e,t){if("nice"in t&&void 0!==t.nice&&"nice"in e){var n=t.nice;if("boolean"==typeof n)n&&e.nice();else if("number"==typeof n)e.nice(n);else{var i=e,r=function(e){return"2020-02-02 03:04"===e.tickFormat(1,"%Y-%m-%d %H:%M")(yE)}(i);if("string"==typeof n)i.nice(r?wE[n]:bE[n]);else{var o=n.interval,a=n.step,s=(r?wE[o]:bE[o]).every(a);null!=s&&i.nice(s)}}}},zero:function(e,t){if("zero"in t&&!0===t.zero){var n=e.domain(),i=n[0],r=n[1],o=r<i,a=o?[r,i]:[i,r],s=a[0],l=a[1],u=[Math.min(0,s),Math.max(0,l)];e.domain(o?u.reverse():u)}},interpolate:function(e,t){if("interpolate"in t&&"interpolate"in e&&void 0!==t.interpolate){var n=function(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return vE[e]}var t=e.type,n=e.gamma,i=vE[t];return void 0===n?i:i.gamma(n)}(t.interpolate);e.interpolate(n)}},round:function(e,t){"round"in t&&void 0!==t.round&&(t.round&&"interpolate"in t&&void 0!==t.interpolate?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(Yd))},align:function(e,t){"align"in e&&"align"in t&&void 0!==t.align&&e.align(t.align)},base:function(e,t){"base"in e&&"base"in t&&void 0!==t.base&&e.base(t.base)},clamp:function(e,t){"clamp"in e&&"clamp"in t&&void 0!==t.clamp&&e.clamp(t.clamp)},constant:function(e,t){"constant"in e&&"constant"in t&&void 0!==t.constant&&e.constant(t.constant)},exponent:function(e,t){"exponent"in e&&"exponent"in t&&void 0!==t.exponent&&e.exponent(t.exponent)},padding:function(e,t){"padding"in e&&"padding"in t&&void 0!==t.padding&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&void 0!==t.paddingInner&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&void 0!==t.paddingOuter&&e.paddingOuter(t.paddingOuter)},range:function(e,t){t.range&&e.range(t.range)},reverse:function(e,t){if(t.reverse){var n=e.range().slice().reverse();e.range(n)}},unknown:function(e,t){"unknown"in e&&"unknown"in t&&void 0!==t.unknown&&e.unknown(t.unknown)}};function CE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=new Set(t),r=_E.filter((function(e){return i.has(e)}));return function(e,t){return void 0!==t&&r.forEach((function(n){xE[n](e,t)})),e}}var kE=CE("domain","range","reverse","align","padding","round");function SE(e){return Math.log(e)}function TE(e){return Math.exp(e)}function EE(e){return-Math.log(-e)}function PE(e){return-Math.exp(-e)}function OE(e){return isFinite(e)?+("1e"+e):e<0?0:e}function qE(e){return function(t){return-e(-t)}}function $E(e){var t,n,i=e(SE,TE),r=i.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?OE:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),r()[0]<0?(t=qE(t),n=qE(n),e(EE,PE)):e(SE,TE),i}return i.base=function(e){return arguments.length?(o=+e,a()):o},i.domain=function(e){return arguments.length?(r(e),a()):r()},i.ticks=function(e){var i,a=r(),s=a[0],l=a[a.length-1];(i=l<s)&&(p=s,s=l,l=p);var u,c,d,p=t(s),h=t(l),f=null==e?10:+e,m=[];if(!(o%1)&&h-p<f){if(p=Math.floor(p),h=Math.ceil(h),s>0){for(;p<=h;++p)for(c=1,u=n(p);c<o;++c)if(!((d=u*c)<s)){if(d>l)break;m.push(d)}}else for(;p<=h;++p)for(c=o-1,u=n(p);c>=1;--c)if(!((d=u*c)<s)){if(d>l)break;m.push(d)}2*m.length<f&&(m=sl(s,l,f))}else m=sl(p,h,Math.min(h-p,f)).map(n);return i?m.reverse():m},i.tickFormat=function(e,r){if(null==r&&(r=10===o?".0e":","),"function"!=typeof r&&(r=Rp(r)),e===1/0)return r;null==e&&(e=10);var a=Math.max(1,o*e/i.ticks().length);return function(e){var i=e/n(Math.round(t(e)));return i*o<o-.5&&(i*=o),i<=a?r(e):""}},i.nice=function(){return r(ap(r(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},i}function ME(){var e=$E(ip()).domain([1,10]);return e.copy=function(){return np(e,ME()).base(e.base())},op.apply(e,arguments),e}var LE=CE("domain","range","reverse","base","clamp","interpolate","nice","round");function jE(e){return LE(ME(),e)}var AE=CE("domain","range","reverse","clamp","interpolate","nice","round","zero"),DE=n(296),NE=n.n(DE);function RE(e){let{debounce:t,scroll:n,polyfill:i,offsetSize:r}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e;const o=i||("undefined"==typeof window?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=(0,ge.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=(0,ge.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),u=t?"number"==typeof t?t:t.scroll:null,c=t?"number"==typeof t?t:t.resize:null,d=(0,ge.useRef)(!1);(0,ge.useEffect)((()=>(d.current=!0,()=>{d.current=!1})));const[p,h,f]=(0,ge.useMemo)((()=>{const e=()=>{if(!l.current.element)return;const{left:e,top:t,width:n,height:i,bottom:o,right:a,x:u,y:c}=l.current.element.getBoundingClientRect(),p={left:e,top:t,width:n,height:i,bottom:o,right:a,x:u,y:c};l.current.element instanceof HTMLElement&&r&&(p.height=l.current.element.offsetHeight,p.width=l.current.element.offsetWidth),Object.freeze(p),d.current&&!UE(l.current.lastBounds,p)&&s(l.current.lastBounds=p)};return[e,c?NE()(e,c):e,u?NE()(e,u):e]}),[s,r,u,c]);function m(){l.current.scrollContainers&&(l.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",f,!0))),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function g(){l.current.element&&(l.current.resizeObserver=new o(f),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach((e=>e.addEventListener("scroll",f,{capture:!0,passive:!0}))))}var v,y,b;return v=f,y=Boolean(n),(0,ge.useEffect)((()=>{if(y){const e=v;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}}),[v,y]),b=h,(0,ge.useEffect)((()=>{const e=b;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[b]),(0,ge.useEffect)((()=>{m(),g()}),[n,f,h]),(0,ge.useEffect)((()=>m),[]),[e=>{e&&e!==l.current.element&&(m(),l.current.element=e,l.current.scrollContainers=IE(e),g())},a,p]}function IE(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(e);return[n,i,r].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...IE(e.parentElement)]}const FE=["x","y","top","bottom","left","right","width","height"],UE=(e,t)=>FE.every((n=>e[n]===t[n]));var BE=n(3935);function HE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zE(e,t){return zE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zE(e,t)}function VE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GE=function(e){var t,n;function i(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return VE(HE(t=e.call.apply(e,[this].concat(i))||this),"node",void 0),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,zE(t,n);var r=i.prototype;return r.componentWillUnmount=function(){this.node&&document.body&&(document.body.removeChild(this.node),delete this.node)},r.render=function(){return this.node||"undefined"==typeof document||(this.node=document.createElement("div"),null!=this.props.zIndex&&(this.node.style.zIndex=""+this.props.zIndex),document.body.append(this.node)),this.node?BE.createPortal(this.props.children,this.node):null},i}(ge.PureComponent);VE(GE,"propTypes",{zIndex:$S().oneOfType([$S().number,$S().string])});var QE=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function WE(){return WE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},WE.apply(this,arguments)}var YE={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"};function KE(e){var t=e.className,n=e.top,i=e.left,r=e.offsetLeft,o=void 0===r?10:r,a=e.offsetTop,s=void 0===a?10:a,l=e.style,u=void 0===l?YE:l,c=e.children,d=e.unstyled,p=void 0!==d&&d,h=e.applyPositionStyle,f=void 0!==h&&h,m=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,QE);return ge.createElement("div",WE({className:OS()("visx-tooltip",t),style:WE({top:null==n||null==s?n:n+s,left:null==i||null==o?i:i+o},f&&{position:"absolute"},!p&&u)},m),c)}function ZE(){return ZE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ZE.apply(this,arguments)}function JE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XE(e,t){return XE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},XE(e,t)}function eP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}KE.propTypes={children:$S().node,className:$S().string,left:$S().number,offsetLeft:$S().number,offsetTop:$S().number,top:$S().number,applyPositionStyle:$S().bool,unstyled:$S().bool};var tP={top:0,right:0,bottom:0,left:0,width:0,height:0},nP=["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled"];function iP(){return iP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},iP.apply(this,arguments)}var rP,oP,aP,sP=(rP=function(e){var t,n=e.children,i=(e.getRects,e.left),r=void 0===i?0:i,o=e.offsetLeft,a=void 0===o?10:o,s=e.offsetTop,l=void 0===s?10:s,u=e.parentRect,c=e.rect,d=e.style,p=void 0===d?YE:d,h=e.top,f=void 0===h?0:h,m=e.unstyled,g=void 0!==m&&m,v=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,nP);if(c&&u){var y=r,b=f,w=!1,_=!1;if(u.width){var x=y+a+c.width-u.width,C=c.width-y-a;w=x>0&&x>C}else{var k=y+a+c.width-window.innerWidth,S=c.width-y-a;w=k>0&&k>S}if(u.height){var T=b+l+c.height-u.height,E=c.height-b-l;_=T>0&&T>E}else _=b+l+c.height>window.innerHeight;y=w?y-c.width-a:y+a,b=_?b-c.height-l:b+l,t="translate("+(y=Math.round(y))+"px, "+(b=Math.round(b))+"px)"}return ge.createElement(KE,iP({style:iP({left:0,top:0,transform:t},!g&&p)},v),n)},aP=oP=function(e){var t,n;function i(t){var n;return eP(JE(n=e.call(this,t)||this),"node",void 0),n.state={rect:void 0,parentRect:void 0},n.getRects=n.getRects.bind(JE(n)),n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,XE(t,n);var r=i.prototype;return r.componentDidMount=function(){var e=this;this.node=BE.findDOMNode(this),this.setState((function(){return e.getRects()}))},r.getRects=function(){if(!this.node)return this.state;var e=this.node,t=e.parentNode;return{rect:e.getBoundingClientRect?e.getBoundingClientRect():tP,parentRect:null!=t&&t.getBoundingClientRect?t.getBoundingClientRect():tP}},r.render=function(){return ge.createElement(rP,ZE({getRects:this.getRects},this.state,this.props))},i}(ge.PureComponent),eP(oP,"displayName","withBoundingRects("+(rP.displayName||"")+")"),aP),lP=["detectBounds","zIndex"],uP=["left","top","detectBounds","zIndex"];function cP(){return cP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cP.apply(this,arguments)}function dP(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var pP=["tooltipOpen"];function hP(){return hP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hP.apply(this,arguments)}function fP(e){const t=[],n=[];for(const i of e)t.push(i.possibilities.scale.min),n.push(i.possibilities.scale.max);return[Math.min(...t),Math.max(...n)]}function mP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e._computeValue(t,n,"short").y}function gP(e,t){return{q1:mP(e,t.q1),q2:mP(e,t.q2),q3:mP(e,t.q3)}}function vP(e,t){const n=t.sort(((e,t)=>t.time.getTime()-e.time.getTime()))[0],i=ia(n),r={q1:i.ppf(.25),q2:i.ppf(.5),q3:i.ppf(.75)};return{q1:mP(e,r.q1),q2:mP(e,r.q2),q3:mP(e,r.q3)}}function yP(e){return["q1","q2","q3"].every((t=>t in e))}function bP(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wP(e,t){e(t)}var _P=["children","x","x0","x1","y","y0","y1","data","defined","className","curve","innerRef"];function xP(){return xP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xP.apply(this,arguments)}function CP(e){var t=e.children,n=e.x,i=e.x0,r=e.x1,o=e.y,a=e.y0,s=e.y1,l=e.data,u=void 0===l?[]:l,c=e.defined,d=void 0===c?function(){return!0}:c,p=e.className,h=e.curve,f=e.innerRef,m=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,_P),g=function(e){var t=void 0===e?{}:e,n=t.x,i=t.x0,r=t.x1,o=t.y,a=t.y0,s=t.y1,l=t.defined,u=t.curve,c=Pp();return n&&wP(c.x,n),i&&wP(c.x0,i),r&&wP(c.x1,r),o&&wP(c.y,o),a&&wP(c.y0,a),s&&wP(c.y1,s),l&&c.defined(l),u&&c.curve(u),c}({x:n,x0:i,x1:r,y:o,y0:a,y1:s,defined:d,curve:h});return t?ge.createElement(ge.Fragment,null,t({path:g})):ge.createElement("path",xP({ref:f,className:OS()("visx-area",p),d:g(u)||""},m))}var kP=["children","data","x","y","fill","className","curve","innerRef","defined"];function SP(){return SP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},SP.apply(this,arguments)}function TP(e){var t=e.children,n=e.data,i=void 0===n?[]:n,r=e.x,o=e.y,a=e.fill,s=void 0===a?"transparent":a,l=e.className,u=e.curve,c=e.innerRef,d=e.defined,p=void 0===d?function(){return!0}:d,h=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,kP),f=function(e){var t=void 0===e?{}:e,n=t.x,i=t.y,r=t.defined,o=t.curve,a=kp();return n&&wP(a.x,n),i&&wP(a.y,i),r&&a.defined(r),o&&a.curve(o),a}({x:r,y:o,defined:p,curve:u});return t?ge.createElement(ge.Fragment,null,t({path:f})):ge.createElement("path",SP({ref:c,className:OS()("visx-linepath",l),d:f(i)||"",fill:s,strokeLinecap:"round"},h))}function EP(e){let{prediction:t,className:n,type:i,onlySingleGraphIsActive:r,xTicksGetter:o,yTicksGetterQ1:a,yTicksGetterQ2:s,yTicksGetterQ3:l,hasTooltips:u,hideTooltip:c,showTooltip:d,parentWidth:p,squareSize:h=(p>668?8:5)}=e;return(0,cv.jsxs)(jS,{className:n,children:[(0,cv.jsx)(CP,{data:t,y0:a,x0:o,y1:l,x1:o,className:r?"FanGraph-border-highlight":void 0}),(0,cv.jsx)(TP,{data:t,y:s,x:o}),t.map(((e,t)=>{const n=o(e)-h/2,r=s(e)-h/2;return!e.isResolutionPoint&&(0,cv.jsxs)(ge.Fragment,{children:[(0,cv.jsx)("rect",{x:n,y:r,width:h,height:h}),u&&(0,cv.jsx)("rect",{className:"FanGraph-point-hover",x:n-h/2,y:r-h/2,width:2*h,height:2*h,onMouseOver:()=>{d({tooltipTop:r+11,tooltipLeft:n-100,tooltipData:{q1:e.q1,q2:e.q2,q3:e.q3,type:i}})},onMouseLeave:c})]},t)}))]})}function PP(e){let{timeseries:t,xTicksGetter:n,yScale:i,hasTooltips:r,showTooltip:o,hideTooltip:a,parentWidth:s,squareSize:l=(s>668?8:5)}=e;const u=l-2;return(0,cv.jsxs)(jS,{className:"FanChartResolved",children:[(0,cv.jsx)(TP,{data:t,y:e=>i(e.resolution),x:n}),t.map(((e,t)=>{const s=n(e),c=i(e.resolution)-u;return(0,cv.jsxs)(ge.Fragment,{children:[r&&(0,cv.jsx)("rect",{className:"FanGraph-point-hover",x:s-l/2+1.5,y:c-l,transform:"rotate(45, ".concat(s-l/2,", ").concat(c-l/2,")"),width:2*l,height:2*l,onMouseOver:()=>{o({tooltipTop:c+16,tooltipLeft:s-35,tooltipData:{resolution:e.resolution,type:"resolution"}})},onMouseLeave:a}),(0,cv.jsx)("rect",{x:s,y:c,transform:"rotate(45, ".concat(s,", ").concat(c,")"),width:l,height:l})]},t)}))]})}var OP=function(e){var t,n;return n=t=function(t){var n,i;function r(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return uE(sE(e=t.call.apply(t,[this].concat(i))||this),"state",{parentWidth:void 0,parentHeight:void 0}),uE(sE(e),"animationFrameID",0),uE(sE(e),"resizeObserver",void 0),uE(sE(e),"container",null),uE(sE(e),"setRef",(function(t){e.container=t})),uE(sE(e),"resize",_T()((function(t){var n=t.width,i=t.height;e.setState({parentWidth:n,parentHeight:i})}),e.props.debounceTime,{leading:e.props.enableDebounceLeadingCall})),e}i=t,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,lE(n,i);var o=r.prototype;return o.componentDidMount=function(){var e=this;this.resizeObserver=new oE((function(t){t.forEach((function(t){var n=t.contentRect,i=n.width,r=n.height;e.animationFrameID=window.requestAnimationFrame((function(){e.resize({width:i,height:r})}))}))})),this.container&&this.resizeObserver.observe(this.container)},o.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameID),this.resizeObserver&&this.resizeObserver.disconnect(),this.resize.cancel()},o.render=function(){var t=this.props,n=t.initialWidth,i=t.initialHeight,r=this.state,o=r.parentWidth,a=void 0===o?n:o,s=r.parentHeight,l=void 0===s?i:s;return ge.createElement("div",{style:cE,ref:this.setRef},null!=a&&null!=l&&ge.createElement(e,aE({parentWidth:a,parentHeight:l},this.props)))},r}(ge.Component),uE(t,"propTypes",{parentWidth:$S().number,parentHeight:$S().number,initialWidth:$S().number,initialHeight:$S().number}),uE(t,"defaultProps",{debounceTime:300,enableDebounceLeadingCall:!0}),n}((function(e){let{className:t,subQuestions:n,parentWidth:i=0,parentHeight:r=0,showCp:o,showMp:a,showUp:s,numYTicks:l,hasYLabel:u=!0,hasTooltips:c=!0,squareSize:d}=e;const{t:p}=Dx(),h={top:4,right:0,bottom:20,left:u?40:25},f=r<=100?3:5,m=function(e){const t=function(e){const t={community_prediction:[],metaculus_prediction:[],user_prediction:[],resolved:[]};for(const n of e){const e=n.possibilities,i=new xa(e.format,e.scale),r=n.sub_question_label;if(null!==n.resolution)t.resolved.push({id:n.id,x:r,resolution:mP(i,n.resolution),resolveTime:n.resolve_time});else{const e=n.community_prediction;null!=e&&e.full&&yP(e.full)&&t.community_prediction.push({id:n.id,x:r,...gP(i,e.full),isResolutionPoint:!1,resolveTime:n.resolve_time});const o=n.metaculus_prediction;if(o&&o.full&&yP(o.full)&&t.metaculus_prediction.push({id:n.id,x:r,...gP(i,o.full),isResolutionPoint:!1,resolveTime:n.resolve_time}),null!==n.my_predictions){const e=n.my_predictions.filter((e=>!e.void));e.length>0&&t.user_prediction.push({id:n.id,x:r,...vP(i,e),isResolutionPoint:!1,resolveTime:n.resolve_time})}}}return t}(e);return function(e){if(0==e.resolved.length)return e;const t=e.resolved[e.resolved.length-1],n={id:t.id,x:t.x,q1:t.resolution,q2:t.resolution,q3:t.resolution,isResolutionPoint:!0,resolveTime:t.resolveTime};e.community_prediction.unshift(n),e.metaculus_prediction.unshift(n),e.user_prediction.unshift(n)}(t),t}(n),g=ES()([...m.resolved,...m.community_prediction,...m.metaculus_prediction,...m.user_prediction],"id").sort(((e,t)=>e.resolveTime.getTime()-t.resolveTime.getTime())).map((e=>{let{x:t}=e;return t}));let v;v=g.length<8?g:g.length<19?g.filter(((e,t)=>t%2==0)):g.filter(((e,t)=>t%2==0||t%3==0));const y=(b={range:[h.left,i-h.right],domain:g,padding:0},kE(hE(),b));var b;const w=n.some((e=>e.possibilities.scale.deriv_ratio>1))&&n.some((e=>1===e.possibilities.scale.deriv_ratio)),_=w?function(e,t){const[n,i]=fP(e),r=[...new Set([...t.resolved.map((e=>e.resolution)),...t.community_prediction.map((e=>e.q1)),...t.metaculus_prediction.map((e=>e.q1)),...t.user_prediction.map((e=>e.q1))])],o=[...new Set([...t.resolved.map((e=>e.resolution)),...t.community_prediction.map((e=>e.q3)),...t.metaculus_prediction.map((e=>e.q3)),...t.user_prediction.map((e=>e.q3))])];let a=Math.min(...r),s=Math.max(...o);const l=.2*(s-a);return a-=l,s+=l,[Math.max(a,n),Math.min(s,i)]}(n,m):fP(n),x=[r-h.bottom,h.top],C=n.every((e=>e.possibilities.scale.deriv_ratio>1));let k,S;C?(k=jE({range:x,domain:_,nice:!0}),S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const n=10,i=Math.max(1,n*t/e.ticks().length);return e=>{const t="number"==typeof e?e:e.valueOf();let r=t/bP(Math.round(Math.log10(t)));return r*n<n-.5&&(r*=n),r<=i?t.toString():""}}(k,l)):(k=function(e){return AE(Bp(),e)}({range:x,domain:_}),S=e=>("number"==typeof e?e:e.valueOf()).toString());const{containerRef:T,TooltipInPortal:E}=function(e){var t=void 0===e?{}:e,n=t.detectBounds,i=void 0===n||n,r=t.zIndex,o=RE(dP(t,lP)),a=o[0],s=o[1],l=o[2],u=(0,ge.useMemo)((function(){return function(e){var t=e.left,n=void 0===t?0:t,o=e.top,a=void 0===o?0:o,l=e.detectBounds,u=e.zIndex,c=dP(e,uP),d=null==u?r:u,p=(null==l?i:l)?sP:KE,h=n+(s.left||0)+window.scrollX,f=a+(s.top||0)+window.scrollY;return ge.createElement(GE,{zIndex:d},ge.createElement(p,cP({left:h,top:f},c)))}}),[i,r,s.left,s.top]);return{containerRef:a,containerBounds:s,forceRefreshBounds:l,TooltipInPortal:u}}({detectBounds:!0,scroll:!0}),{tooltipData:P,tooltipLeft:O,tooltipTop:q,tooltipOpen:$,showTooltip:M,hideTooltip:L}=function(e){var t=(0,ge.useState)(hP({tooltipOpen:!1},e)),n=t[0],i=t[1],r=(0,ge.useCallback)((function(e){return i("function"==typeof e?function(t){t.tooltipOpen;var n=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,pP);return hP({},e(n),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:e.tooltipLeft,tooltipTop:e.tooltipTop,tooltipData:e.tooltipData})}),[i]),o=(0,ge.useCallback)((function(){return i({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})}),[i]);return{tooltipOpen:n.tooltipOpen,tooltipLeft:n.tooltipLeft,tooltipTop:n.tooltipTop,tooltipData:n.tooltipData,updateTooltip:i,showTooltip:r,hideTooltip:o}}(),j=Number(o)+Number(a)+Number(s)===1;let A;function D(e){return t=>k(t[e])}function N(e){return y(e.x)+y.bandwidth()/2}function R(e,t,n){return ao(e,t,n).map((e=>({t:e.t,super:e.super})))}function I(e){const t=Math.abs(e);return t>=1e12||t<.01&&0!==t}function F(e){return I(e)?(R(e)||[]).map((function(e,t){return e.super?(0,cv.jsx)("sup",{children:e.t},t):(0,cv.jsx)("span",{children:e.t},t)})):oo(e)}function U(e){return I(e)?(R(e)||[]).map((function(e,t){return e.super?(0,cv.jsx)("tspan",{baselineShift:"super",fontSize:"0.65em",children:e.t},t):(0,cv.jsx)("tspan",{baselineShift:"0",fontSize:"1em",children:e.t},t)})):oo(e)}return u&&(j?o?A=p("communityPredictionLabel"):a?A=p("metaculusPredictionLabel"):s&&(A=p("userPredictionLabel")):A=p("predictionLabel")),(0,cv.jsxs)(cv.Fragment,{children:[(0,cv.jsxs)("svg",{className:Vx("FanGraph",t),ref:T,width:i,height:r,children:[(0,cv.jsx)(fT,{left:h.left+5,scale:k,label:A,labelOffset:32,orientation:"left",numTicks:l,tickLabelProps:()=>({textAnchor:"end",dx:"-0.3em",dy:"0.3em"}),tickLength:f,tickFormat:S,tickComponent:e=>{let{x:t,y:n,formattedValue:i}=e;return function(e,t,n){return isNaN(n)?"":(0,cv.jsx)("g",{children:(0,cv.jsx)("text",{x:e-3,y:t+3,textAnchor:"end",children:U(n)})})}(t,n,parseFloat(null!=i?i:"0"))}}),(0,cv.jsx)(yT,{top:r-h.bottom,scale:y,hideTicks:!0,tickLabelProps:()=>({dy:"0",textAnchor:"middle"}),tickLength:f,tickValues:v}),o&&(0,cv.jsx)(EP,{prediction:m.community_prediction,className:"FanGraph-community-prediction",type:"community",onlySingleGraphIsActive:j,yTicksGetterQ1:D("q1"),yTicksGetterQ2:D("q2"),yTicksGetterQ3:D("q3"),xTicksGetter:N,hasTooltips:c,showTooltip:M,hideTooltip:L,parentWidth:i,squareSize:d}),a&&(0,cv.jsx)(EP,{prediction:m.metaculus_prediction,className:"FanGraph-metaculus-prediction",type:"metaculus",onlySingleGraphIsActive:j,yTicksGetterQ1:D("q1"),yTicksGetterQ2:D("q2"),yTicksGetterQ3:D("q3"),xTicksGetter:N,hasTooltips:c,showTooltip:M,hideTooltip:L,parentWidth:i,squareSize:d}),s&&(0,cv.jsx)(EP,{prediction:m.user_prediction,className:"FanGraph-user-prediction",type:"user",onlySingleGraphIsActive:j,yTicksGetterQ1:D("q1"),yTicksGetterQ2:D("q2"),yTicksGetterQ3:D("q3"),xTicksGetter:N,hasTooltips:c,showTooltip:M,hideTooltip:L,parentWidth:i,squareSize:d}),m.resolved.length>0&&(0,cv.jsx)(PP,{timeseries:m.resolved,xTicksGetter:N,yScale:k,hasTooltips:c,showTooltip:M,hideTooltip:L,parentWidth:i,squareSize:d})]}),$&&P&&(0,cv.jsxs)(E,{top:Number(q),left:Number(O),unstyled:!0,applyPositionStyle:!0,className:Vx("FanGraph-tooltip",{"FanGraph-tooltip-community":"community"===P.type,"FanGraph-tooltip-metaculus":"metaculus"===P.type,"FanGraph-tooltip-user":"user"===P.type,"FanGraph-tooltip-resolution":"resolution"===P.type}),children:[void 0!==P.resolution&&(0,cv.jsx)("div",{className:"FanGraph-tooltip-row",children:(0,cv.jsx)("span",{className:"FanGraph-tooltip-value",children:F(P.resolution)})}),void 0!==P.q3&&(0,cv.jsxs)("div",{className:"FanGraph-tooltip-row",children:[(0,cv.jsx)("span",{children:p("fanGraphThirdQuartileLabel")}),(0,cv.jsx)("span",{className:"FanGraph-tooltip-value",children:F(P.q3)})]}),void 0!==P.q2&&(0,cv.jsxs)("div",{className:"FanGraph-tooltip-row",children:[(0,cv.jsx)("span",{children:p("fanGraphSecondQuartileLabel")}),(0,cv.jsx)("span",{className:"FanGraph-tooltip-value",children:F(P.q2)})]}),void 0!==P.q1&&(0,cv.jsxs)("div",{className:"FanGraph-tooltip-row",children:[(0,cv.jsx)("span",{children:p("fanGraphFirstQuartileLabel")}),(0,cv.jsx)("span",{className:"FanGraph-tooltip-value",children:F(P.q1)})]})]},Math.random())]})}));function qP(e){let{className:t,question:n}=e;const[i,r]=(0,ge.useState)(null),o=n.isForecastType?n.displayCommunityPrediction(i)[0].t:null;return(0,cv.jsxs)("a",{className:Vx("ForecastCard",t),href:n.page_url,children:[(0,cv.jsxs)("div",{className:"ForecastCard-header",children:[(0,cv.jsx)("h2",{children:n.title}),o?(0,cv.jsx)("div",{className:Vx("ForecastCard-prediction",{"ForecastCard-prediction-date":o.length>7}),children:o}):null]}),n.isForecastType?(0,cv.jsx)(SS,{className:"ForecastCard__time-series-graph",hasYLabel:!1,interactive:!0,question:n,showCp:!0,parentHeight:170,showMp:!1,onDateSelected:r,ticksMajor:4,ticksMinor:2,xAxisSpacing:100,yAxisSpacing:50}):n.isGroupType&&n.hasFanGraph?(0,cv.jsx)(OP,{className:"ForecastCard__fan-graph",hasTooltips:!0,hasYLabel:!1,numYTicks:3,parentHeight:170,squareSize:8,showCp:!0,showMp:!1,showUp:!1,subQuestions:n.sub_questions}):null]})}const $P=e=>(0,cv.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,cv.jsx)("path",{d:"M4.16699 9.99935H15.8337M15.8337 9.99935L10.0003 4.16602M15.8337 9.99935L10.0003 15.8327",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})}),MP=e=>(0,cv.jsx)("svg",{width:"10",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,cv.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.79289 0.29289C8.18342 -0.09763 8.81658 -0.09763 9.20711 0.29289C9.59763 0.68342 9.59763 1.31658 9.20711 1.70711L2.9142 8L9.20711 14.2929C9.59763 14.6834 9.59763 15.3166 9.20711 15.7071C8.81658 16.0976 8.18342 16.0976 7.79289 15.7071L0.7929 8.7071C0.4024 8.3166 0.4024 7.68342 0.7929 7.29289L7.79289 0.29289Z",fill:"currentColor"})}),LP=e=>(0,cv.jsx)("svg",{width:"10",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,cv.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.20711 0.29289C1.81658 -0.09763 1.18342 -0.09763 0.79289 0.29289C0.40237 0.68342 0.40237 1.31658 0.79289 1.70711L7.0858 8L0.79289 14.2929C0.40237 14.6834 0.40237 15.3166 0.79289 15.7071C1.18342 16.0976 1.81658 16.0976 2.20711 15.7071L9.2071 8.7071C9.5976 8.3166 9.5976 7.68342 9.2071 7.29289L2.20711 0.29289Z",fill:"currentColor"})}),jP=e=>(0,cv.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,cv.jsx)("path",{d:"M21 14.4375C19.7021 14.4375 18.4333 14.8224 17.3541 15.5435C16.2749 16.2646 15.4337 17.2895 14.937 18.4886C14.4403 19.6878 14.3104 21.0073 14.5636 22.2803C14.8168 23.5533 15.4418 24.7226 16.3596 25.6404C17.2774 26.5582 18.4467 27.1832 19.7197 27.4364C20.9927 27.6896 22.3122 27.5597 23.5114 27.063C24.7105 26.5663 25.7354 25.7251 26.4565 24.6459C27.1776 23.5667 27.5625 22.2979 27.5625 21C27.5606 19.2601 26.8686 17.592 25.6383 16.3617C24.408 15.1314 22.7399 14.4394 21 14.4375ZM22.3125 24.2812H21V22.3125H18.375V24.2812H17.0625V21.6562C17.0625 21.5727 17.0783 21.4898 17.1091 21.4121L18.4216 18.1309C18.4704 18.0091 18.5546 17.9048 18.6632 17.8313C18.7719 17.7579 18.9001 17.7186 19.0313 17.7188H20.3438C20.4749 17.7186 20.6031 17.7579 20.7118 17.8313C20.8205 17.9048 20.9046 18.0091 20.9534 18.1309L22.2659 21.4121C22.2967 21.4898 22.3125 21.5727 22.3125 21.6562V24.2812ZM24.2813 24.2812H22.9688V17.7188H24.2813V24.2812Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M19.476 19.0312L18.6885 21H20.6874L19.8999 19.0312H19.476Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M36.8711 14.4378C37.0259 14.8757 37.3305 15.2447 37.7311 15.4797C38.1317 15.7147 38.6024 15.8005 39.0602 15.722C39.5179 15.6435 39.9331 15.4056 40.2325 15.0506C40.5318 14.6955 40.696 14.246 40.696 13.7816C40.696 13.3172 40.5318 12.8677 40.2325 12.5126C39.9331 12.1576 39.5179 11.9197 39.0602 11.8412C38.6024 11.7627 38.1317 11.8485 37.7311 12.0835C37.3305 12.3184 37.0259 12.6875 36.8711 13.1253H34.7816C34.6076 13.1254 34.4407 13.1945 34.3176 13.3176L31.1788 16.4565C30.9223 15.874 30.6165 15.3146 30.2646 14.7843C30.1886 14.6713 30.1497 14.5374 30.1532 14.4012C30.1568 14.2651 30.2026 14.1334 30.2843 14.0244L31.2687 12.7119L30.7437 12.1869L36.7372 6.19141C37.1376 6.43223 37.5956 6.56055 38.0628 6.56284C38.582 6.56284 39.0895 6.40889 39.5212 6.12045C39.9529 5.83201 40.2893 5.42204 40.488 4.94239C40.6867 4.46273 40.7387 3.93493 40.6374 3.42573C40.5361 2.91653 40.2861 2.4488 39.919 2.08169C39.5519 1.71457 39.0842 1.46457 38.575 1.36328C38.0658 1.262 37.538 1.31398 37.0583 1.51266C36.5786 1.71134 36.1687 2.04779 35.8802 2.47947C35.5918 2.91115 35.4378 3.41867 35.4378 3.93784C35.4401 4.40509 35.5685 4.86306 35.8093 5.26347L29.8171 11.2557L29.2921 10.7307L27.9763 11.7151C27.8673 11.7968 27.7356 11.8426 27.5995 11.8461C27.4633 11.8497 27.3294 11.8107 27.2163 11.7347C26.6867 11.3823 26.1274 11.0764 25.5449 10.8206L28.6837 7.68175C28.8062 7.55892 28.8751 7.39258 28.8753 7.21909V5.12959C29.3132 4.97479 29.6822 4.67017 29.9172 4.26959C30.1522 3.86901 30.238 3.39825 30.1595 2.94052C30.081 2.48279 29.8431 2.06755 29.4881 1.76821C29.133 1.46887 28.6835 1.30469 28.2191 1.30469C27.7547 1.30469 27.3052 1.46887 26.9501 1.76821C26.5951 2.06755 26.3572 2.48279 26.2787 2.94052C26.2002 3.39825 26.286 3.86901 26.521 4.26959C26.7559 4.67017 27.125 4.97479 27.5628 5.12959V6.94741L24.1963 10.314C23.855 10.2129 23.5092 10.1256 23.1561 10.0567C23.0222 10.0308 22.8996 9.96379 22.8055 9.865C22.7114 9.7662 22.6505 9.64053 22.6311 9.50547L22.4001 7.87534H19.6006L19.3676 9.50547C19.3482 9.64053 19.2873 9.7662 19.1932 9.865C19.0991 9.96379 18.9765 10.0308 18.8426 10.0567C18.4895 10.1256 18.1437 10.2129 17.8024 10.314L14.4378 6.94741V5.12959C14.8757 4.97479 15.2447 4.67017 15.4797 4.26959C15.7147 3.86901 15.8005 3.39825 15.722 2.94052C15.6435 2.48279 15.4056 2.06755 15.0506 1.76821C14.6955 1.46887 14.246 1.30469 13.7816 1.30469C13.3172 1.30469 12.8677 1.46887 12.5126 1.76821C12.1576 2.06755 11.9197 2.48279 11.8412 2.94052C11.7627 3.39825 11.8485 3.86901 12.0835 4.26959C12.3184 4.67017 12.6875 4.97479 13.1253 5.12959V7.21909C13.1254 7.39313 13.1945 7.56002 13.3176 7.68306L16.4565 10.8219C15.8739 11.0777 15.3147 11.3836 14.785 11.7361C14.672 11.8121 14.5381 11.851 14.4019 11.8475C14.2657 11.8439 14.134 11.7981 14.0251 11.7164L12.7126 10.732L12.1876 11.257L6.19141 5.26347C6.43223 4.86306 6.56055 4.40509 6.56284 3.93784C6.56284 3.41867 6.40889 2.91115 6.12045 2.47947C5.83201 2.04779 5.42204 1.71134 4.94239 1.51266C4.46273 1.31398 3.93493 1.262 3.42573 1.36328C2.91653 1.46457 2.4488 1.71457 2.08169 2.08169C1.71457 2.4488 1.46457 2.91653 1.36328 3.42573C1.262 3.93493 1.31398 4.46273 1.51266 4.94239C1.71134 5.42204 2.04779 5.83201 2.47947 6.12045C2.91115 6.40889 3.41867 6.56284 3.93784 6.56284C4.40509 6.56055 4.86306 6.43223 5.26347 6.19141L11.2557 12.1836L10.7307 12.7086L11.7151 14.0211C11.7968 14.1301 11.8426 14.2618 11.8461 14.398C11.8497 14.5341 11.8107 14.668 11.7347 14.7811C11.3556 15.3519 11.0302 15.9567 10.7628 16.5877L7.49275 13.3176C7.43144 13.2563 7.35857 13.2077 7.27837 13.1747C7.19817 13.1417 7.11222 13.1249 7.0255 13.1253H5.12959C4.97479 12.6875 4.67017 12.3184 4.26959 12.0835C3.86901 11.8485 3.39825 11.7627 2.94052 11.8412C2.48279 11.9197 2.06755 12.1576 1.76821 12.5126C1.46887 12.8677 1.30469 13.3172 1.30469 13.7816C1.30469 14.246 1.46887 14.6955 1.76821 15.0506C2.06755 15.4056 2.48279 15.6435 2.94052 15.722C3.39825 15.8005 3.86901 15.7147 4.26959 15.4797C4.67017 15.2447 4.97479 14.8757 5.12959 14.4378H6.75381L10.2759 17.9599C10.1939 18.2513 10.1158 18.5447 10.0567 18.8446C10.0308 18.9785 9.96379 19.1011 9.865 19.1952C9.7662 19.2893 9.64053 19.3502 9.50547 19.3696L7.87534 19.6006V22.4001L9.50547 22.6331C9.64053 22.6524 9.7662 22.7134 9.865 22.8075C9.96379 22.9016 10.0308 23.0241 10.0567 23.1581C10.1158 23.458 10.1939 23.7487 10.2759 24.0427L6.75381 27.5628H5.12959C4.97479 27.125 4.67017 26.7559 4.26959 26.521C3.86901 26.286 3.39825 26.2002 2.94052 26.2787C2.48279 26.3572 2.06755 26.5951 1.76821 26.9501C1.46887 27.3052 1.30469 27.7547 1.30469 28.2191C1.30469 28.6835 1.46887 29.133 1.76821 29.4881C2.06755 29.8431 2.48279 30.081 2.94052 30.1595C3.39825 30.238 3.86901 30.1522 4.26959 29.9172C4.67017 29.6822 4.97479 29.3132 5.12959 28.8753H7.0255C7.19953 28.8753 7.36643 28.8061 7.48947 28.6831L10.7628 25.413C11.0318 26.0428 11.3587 26.6463 11.7393 27.2157C11.8153 27.3287 11.8543 27.4626 11.8507 27.5988C11.8472 27.735 11.8014 27.8667 11.7197 27.9756L10.7353 29.2914L11.2603 29.8164L5.26347 35.8093C4.86306 35.5685 4.40509 35.4401 3.93784 35.4378C3.41867 35.4378 2.91115 35.5918 2.47947 35.8802C2.04779 36.1687 1.71134 36.5786 1.51266 37.0583C1.31398 37.538 1.262 38.0658 1.36328 38.575C1.46457 39.0842 1.71457 39.5519 2.08169 39.919C2.4488 40.2861 2.91653 40.5361 3.42573 40.6374C3.93493 40.7387 4.46273 40.6867 4.94239 40.488C5.42204 40.2893 5.83201 39.9529 6.12045 39.5212C6.40889 39.0895 6.56284 38.582 6.56284 38.0628C6.56055 37.5956 6.43223 37.1376 6.19141 36.7372L12.1836 30.745L12.7086 31.27L14.0211 30.2856C14.1301 30.2039 14.2618 30.1581 14.398 30.1545C14.5341 30.151 14.668 30.1899 14.7811 30.2659C15.3113 30.6178 15.8708 30.9236 16.4532 31.1801L13.3143 34.3189C13.1928 34.4422 13.1249 34.6085 13.1253 34.7816V36.8711C12.6875 37.0259 12.3184 37.3305 12.0835 37.7311C11.8485 38.1317 11.7627 38.6024 11.8412 39.0602C11.9197 39.5179 12.1576 39.9331 12.5126 40.2325C12.8677 40.5318 13.3172 40.696 13.7816 40.696C14.246 40.696 14.6955 40.5318 15.0506 40.2325C15.4056 39.9331 15.6435 39.5179 15.722 39.0602C15.8005 38.6024 15.7147 38.1317 15.4797 37.7311C15.2447 37.3305 14.8757 37.0259 14.4378 36.8711V35.0533L17.8044 31.6867C18.1457 31.7878 18.4922 31.8751 18.8446 31.944C18.9785 31.9699 19.1011 32.0369 19.1952 32.1357C19.2893 32.2345 19.3502 32.3602 19.3696 32.4952L19.6006 34.1253H22.4001L22.6331 32.4952C22.6524 32.3602 22.7134 32.2345 22.8075 32.1357C22.9016 32.0369 23.0241 31.9699 23.1581 31.944C23.5105 31.8751 23.857 31.7878 24.1982 31.6867L27.5628 35.0533V36.8711C27.125 37.0259 26.7559 37.3305 26.521 37.7311C26.286 38.1317 26.2002 38.6024 26.2787 39.0602C26.3572 39.5179 26.5951 39.9331 26.9501 40.2325C27.3052 40.5318 27.7547 40.696 28.2191 40.696C28.6835 40.696 29.133 40.5318 29.4881 40.2325C29.8431 39.9331 30.081 39.5179 30.1595 39.0602C30.238 38.6024 30.1522 38.1317 29.9172 37.7311C29.6822 37.3305 29.3132 37.0259 28.8753 36.8711V34.7816C28.8753 34.6076 28.8061 34.4407 28.6831 34.3176L25.5442 31.1788C26.1266 30.9223 26.6861 30.6165 27.2163 30.2646C27.3294 30.1886 27.4633 30.1497 27.5995 30.1532C27.7356 30.1568 27.8673 30.2026 27.9763 30.2843L29.2888 31.2687L29.8138 30.7437L35.806 36.7359C35.5661 37.137 35.4389 37.5955 35.4378 38.0628C35.4378 38.582 35.5918 39.0895 35.8802 39.5212C36.1687 39.9529 36.5786 40.2893 37.0583 40.488C37.538 40.6867 38.0658 40.7387 38.575 40.6374C39.0842 40.5361 39.5519 40.2861 39.919 39.919C40.2861 39.5519 40.5361 39.0842 40.6374 38.575C40.7387 38.0658 40.6867 37.538 40.488 37.0583C40.2893 36.5786 39.9529 36.1687 39.5212 35.8802C39.0895 35.5918 38.582 35.4378 38.0628 35.4378C37.5956 35.4401 37.1376 35.5685 36.7372 35.8093L30.745 29.8171L31.27 29.2921L30.2856 27.9763C30.2039 27.8673 30.1581 27.7356 30.1545 27.5995C30.151 27.4633 30.1899 27.3294 30.2659 27.2163C30.6179 26.6864 30.9238 26.1272 31.1801 25.5449L34.3189 28.6837C34.4418 28.8062 34.6081 28.8751 34.7816 28.8753H36.8711C37.0259 29.3132 37.3305 29.6822 37.7311 29.9172C38.1317 30.1522 38.6024 30.238 39.0602 30.1595C39.5179 30.081 39.9331 29.8431 40.2325 29.4881C40.5318 29.133 40.696 28.6835 40.696 28.2191C40.696 27.7547 40.5318 27.3052 40.2325 26.9501C39.9331 26.5951 39.5179 26.3572 39.0602 26.2787C38.6024 26.2002 38.1317 26.286 37.7311 26.521C37.3305 26.7559 37.0259 27.125 36.8711 27.5628H35.0533L31.6867 24.1963C31.7878 23.855 31.8751 23.5085 31.944 23.1561C31.9699 23.0222 32.0369 22.8996 32.1357 22.8055C32.2345 22.7114 32.3602 22.6505 32.4952 22.6311L34.1253 22.4001V19.6006L32.4952 19.3676C32.3602 19.3482 32.2345 19.2873 32.1357 19.1932C32.0369 19.0991 31.9699 18.9765 31.944 18.8426C31.8751 18.4902 31.7878 18.1437 31.6867 17.8024L35.0533 14.4378H36.8711ZM21.0003 28.8753C19.4428 28.8753 17.9203 28.4135 16.6252 27.5482C15.3302 26.6828 14.3208 25.4529 13.7248 24.014C13.1288 22.575 12.9728 20.9916 13.2767 19.464C13.5805 17.9364 14.3305 16.5332 15.4319 15.4319C16.5332 14.3305 17.9364 13.5805 19.464 13.2767C20.9916 12.9728 22.575 13.1288 24.014 13.7248C25.4529 14.3208 26.6828 15.3302 27.5482 16.6252C28.4135 17.9203 28.8753 19.4428 28.8753 21.0003C28.8731 23.0882 28.0427 25.09 26.5663 26.5663C25.09 28.0427 23.0882 28.8731 21.0003 28.8753Z",fill:"currentColor"})]}),AP=e=>(0,cv.jsx)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,cv.jsx)("path",{d:"M36.1989 19.4388C35.8228 18.9289 35.3151 18.5308 34.7303 18.2871C34.1455 18.0434 33.5054 17.9632 32.8785 18.0551C32.2516 18.147 31.6615 18.4076 31.1712 18.8089C30.681 19.2102 30.309 19.7373 30.095 20.3336L25.9745 19.6701C25.8428 18.4931 25.3758 17.3787 24.6292 16.4594L27.5954 13.4866C28.0991 13.8124 28.681 13.9972 29.2804 14.0218C29.8797 14.0464 30.4748 13.9099 31.0035 13.6265C31.5322 13.343 31.9752 12.923 32.2865 12.4102C32.5977 11.8973 32.7658 11.3104 32.7732 10.7106C32.6329 6.31121 26.242 6.29905 26.0992 10.7107C26.099 11.372 26.2955 12.0185 26.6636 12.5678L23.7039 15.5275C22.4499 14.5058 20.8478 14.0116 19.2361 14.1494L16.5837 8.96484C17.1969 8.36666 17.5831 7.57405 17.6764 6.72256C17.7698 5.87108 17.5643 5.01362 17.0953 4.29684C16.6263 3.58007 15.9228 3.04852 15.1052 2.79309C14.2876 2.53767 13.4066 2.57425 12.613 2.89658C11.8194 3.21891 11.1624 3.80696 10.7544 4.56015C10.3465 5.31334 10.2128 6.18488 10.3764 7.0257C10.54 7.86652 10.9907 8.62438 11.6513 9.16966C12.3119 9.71494 13.1414 10.0138 13.998 10.015C14.5102 10.014 15.0166 9.90606 15.4847 9.69805L17.8962 14.4118C16.6252 14.8162 15.515 15.613 14.725 16.6877C13.935 17.7625 13.5059 19.0599 13.4993 20.3937L10.9866 21.7431C10.3894 21.2019 9.62372 20.8835 8.81892 20.8415C8.01413 20.7995 7.21949 21.0365 6.56919 21.5125C3.84692 23.4512 5.34165 27.883 8.64303 27.8191C9.23177 27.8109 9.80907 27.6554 10.3223 27.3668C10.8354 27.0781 11.2681 26.6655 11.5808 26.1666C11.8936 25.6678 12.0763 25.0985 12.1125 24.5108C12.1486 23.9232 12.037 23.3358 11.7877 22.8023L13.6577 21.7982C13.9597 23.0623 14.6439 24.2026 15.6172 25.0639C16.5905 25.9252 17.8056 26.4656 19.097 26.6115L19.097 31.2972C18.4899 31.4645 17.9293 31.769 17.4585 32.1872C16.9876 32.6054 16.6191 33.1262 16.3814 33.7093C16.1436 34.2925 16.0429 34.9224 16.0871 35.5506C16.1312 36.1788 16.3191 36.7885 16.6361 37.3326C16.9531 37.8767 17.3908 38.3408 17.9156 38.689C18.4403 39.0372 19.0379 39.2603 19.6625 39.341C20.287 39.4218 20.9218 39.358 21.5178 39.1546C22.1138 38.9513 22.6552 38.6138 23.1001 38.1681C25.6191 35.7543 23.8772 31.2404 20.4094 31.1594L20.4095 26.6116C21.8385 26.4498 23.1696 25.8059 24.1836 24.7861C25.1976 23.7663 25.8338 22.4314 25.9874 21.0016L29.9057 21.6325C29.9304 22.1736 30.0811 22.7013 30.3459 23.1738C30.6106 23.6463 30.9821 24.0504 31.4307 24.3539C31.8792 24.6574 32.3925 24.8519 32.9295 24.922C33.4666 24.992 34.0125 24.9357 34.5239 24.7574C35.0354 24.5791 35.4981 24.2839 35.8752 23.8951C36.2523 23.5064 36.5334 23.035 36.6961 22.5184C36.8587 22.0018 36.8985 21.4544 36.8122 20.9197C36.7259 20.385 36.5159 19.8779 36.1989 19.4388ZM29.4329 11.0322C29.5223 10.9412 29.5798 10.8238 29.597 10.6975C29.5823 10.5258 29.6358 10.3552 29.7459 10.2225C29.856 10.0899 30.0138 10.0059 30.1853 9.98863C30.3569 9.97139 30.5283 10.0223 30.6625 10.1304C30.7968 10.2385 30.8832 10.395 30.903 10.5663C30.9166 11.3463 30.5175 12.104 29.8924 12.1479C29.7641 12.1456 29.6394 12.1058 29.5335 12.0335C29.4276 11.9612 29.3451 11.8595 29.2963 11.7409C29.2474 11.6223 29.2344 11.492 29.2586 11.3661C29.2829 11.2402 29.3435 11.1241 29.4329 11.0322ZM14.8576 5.55251C14.8407 5.63711 14.8071 5.71751 14.759 5.78909C14.7108 5.86067 14.6489 5.92201 14.577 5.96959C14.505 6.01717 14.4243 6.05004 14.3396 6.06631C14.2548 6.08258 14.1677 6.08192 14.0833 6.06439C14.0317 6.06564 13.9816 6.08158 13.9389 6.11033C13.8563 6.1583 13.7917 6.23208 13.7551 6.32033C13.7213 6.40012 13.6719 6.47236 13.6098 6.53285C13.5477 6.59333 13.4742 6.64085 13.3936 6.67261C13.3129 6.70438 13.2268 6.71977 13.1401 6.71787C13.0535 6.71598 12.9681 6.69684 12.8889 6.66158C12.0279 6.26359 12.7956 5.20845 13.263 4.98814C13.8409 4.58556 14.9877 4.65306 14.8576 5.55251ZM20.7967 33.5613C20.9595 33.6164 21.0942 33.7333 21.1716 33.8868C21.249 34.0403 21.2629 34.2181 21.2104 34.3818C21.1578 34.5455 21.043 34.6819 20.8907 34.7617C20.7384 34.8415 20.5609 34.8581 20.3964 34.8081C19.9916 34.6494 19.813 35.1373 19.4383 35.1035C19.3099 35.0999 19.1853 35.0591 19.0797 34.986C18.974 34.9129 18.8919 34.8108 18.8432 34.6919C18.7946 34.573 18.7815 34.4426 18.8056 34.3165C18.8297 34.1903 18.8899 34.0738 18.9789 33.9813C19.2137 33.7505 19.5078 33.5891 19.8286 33.5149C20.1494 33.4408 20.4844 33.4569 20.7967 33.5613ZM21.1576 17.5947C21.1103 17.7633 20.9981 17.9063 20.8456 17.9924C20.6931 18.0785 20.5127 18.1006 20.3439 18.0541C19.9689 17.9484 19.5725 17.9444 19.1954 18.0424C18.8183 18.1404 18.474 18.337 18.1979 18.6119C18.0745 18.731 17.9092 18.797 17.7377 18.7955C17.5661 18.7939 17.402 18.7251 17.2807 18.6038C17.1594 18.4825 17.0906 18.3184 17.0891 18.1468C17.0876 17.9753 17.1535 17.81 17.2727 17.6866C17.713 17.2469 18.2621 16.932 18.8639 16.774C19.4658 16.616 20.0988 16.6207 20.6983 16.7875C20.8652 16.8352 21.0068 16.9464 21.0927 17.0974C21.1786 17.2483 21.2019 17.4268 21.1576 17.5947Z",fill:"currentColor"})}),DP=e=>(0,cv.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,cv.jsx)("path",{d:"M38.4419 9.31459L37.8136 9.51379L34.4673 9.81191L33.5221 11.3213L32.8363 11.1034L30.1732 8.70229L29.7868 7.45363L29.2694 6.12208L27.5956 4.62074L25.621 4.23438L25.5756 5.13812L27.5101 7.02582L28.4566 8.14079L27.3924 8.69694L26.5261 8.44159L25.228 7.90015L25.2721 6.85336L23.5689 6.15282L23.0034 8.61405L21.2868 9.00309L21.4566 10.3761L23.6932 10.8066L24.0796 8.61272L25.9258 8.88544L26.7841 9.38812H28.1611L29.1037 11.2758L31.6023 13.8106L31.4192 14.7959L29.4045 14.5392L25.9232 16.2972L23.4165 19.3039L23.0903 20.6354H22.1906L20.5141 19.8627L18.8857 20.6354L19.2908 22.3534L19.9994 21.5365L21.2454 21.4977L21.1585 23.0405L22.1906 23.3427L23.2213 24.5004L24.9045 24.0272L26.8269 24.3306L29.0595 24.9309L30.1745 25.0619L32.0649 27.2076L35.7133 29.3534L33.3537 33.8614L30.863 35.0191L29.9178 37.5953L26.3136 40.0018L25.9299 41.3895C35.1438 39.1702 41.998 30.8935 41.998 20.9977C41.9954 16.6756 40.6852 12.6528 38.4419 9.31459Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M23.4153 31.9754L21.8859 29.1398L23.2896 26.2147L21.8859 25.7949L20.3097 24.212L16.8177 23.4286L15.6586 21.0035V22.4433H15.1479L12.1386 18.3631V15.0115L9.93269 11.4246L6.43002 12.0489H4.07039L2.88322 11.2708L4.39793 10.0703L2.88724 10.4192C1.06638 13.5289 0.00488281 17.1372 0.00488281 21.0021C0.00488281 32.5971 9.40462 42.0008 21.0009 42.0008C21.8939 42.0008 22.7696 41.9219 23.6359 41.8176L23.4166 39.2735C23.4166 39.2735 24.3806 35.4954 24.3806 35.3671C24.3792 35.2374 23.4153 31.9754 23.4153 31.9754Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M7.80664 6.77139L11.5366 6.25134L13.2558 5.30882L15.1903 5.86631L18.2812 5.69519L19.3401 4.03075L20.8842 4.28476L24.6342 3.93315L25.6676 2.79412L27.1248 1.82086L29.1863 2.13102L29.9377 2.01738C27.2224 0.739305 24.201 0 20.9992 0C14.4818 0 8.65423 2.97059 4.80664 7.63503H4.81734L7.80664 6.77139ZM21.8869 2.08824L24.0312 0.907754L25.4082 1.70321L23.4149 3.22059L21.5112 3.41176L20.6542 2.85561L21.8869 2.08824ZM15.5353 2.26069L16.4818 2.65508L17.7211 2.26069L18.3962 3.43048L15.5353 4.18182L14.1596 3.37701C14.1596 3.37701 15.5045 2.51069 15.5353 2.26069Z",fill:"currentColor"})]}),NP=e=>(0,cv.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,cv.jsx)("path",{d:"M20.9495 17.6445C18.3812 17.6445 16.3164 19.7093 16.3164 22.2776C16.3164 24.846 18.3812 26.9107 20.9495 26.9107C23.5178 26.9107 25.5826 24.846 25.5826 22.2776C25.5826 19.7093 23.5178 17.6445 20.9495 17.6445Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M31.3737 4.14782C24.8773 0.47156 16.9205 0.47156 10.4744 4.14782C10.1219 4.34926 9.87012 4.75214 9.87012 5.20537C9.87012 5.40681 9.92048 5.60825 10.0212 5.75933L15.8629 15.8313C16.0644 16.1838 16.4672 16.3852 16.8701 16.3852C17.0716 16.3852 17.273 16.3349 17.4241 16.2341C19.5895 15.0255 22.2586 15.0255 24.3737 16.2341C24.5248 16.3349 24.7262 16.3852 24.9277 16.3852C25.3305 16.3852 25.7334 16.1838 25.9349 15.8313L31.7766 5.75933C32.0788 5.20537 31.9277 4.50034 31.3737 4.14782Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M40.7409 21.1191H29.1078C28.4532 21.1191 27.9496 21.6227 27.9496 22.2774C27.9496 24.745 26.5898 27.0616 24.4747 28.3206C23.9208 28.6227 23.7193 29.3781 24.0719 29.9321L29.9136 40.004C30.2661 40.558 30.9711 40.7594 31.5251 40.4069C37.9711 36.6803 41.9999 29.7307 41.9999 22.2774C41.8992 21.6227 41.3956 21.1191 40.7409 21.1191Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M17.4748 28.3206C15.3094 27.0616 13.9496 24.745 13.9496 22.2774C13.9496 21.6227 13.446 21.1191 12.7914 21.1191H1.15827C0.503597 21.1191 0 21.6227 0 22.2774C0 29.7307 3.97842 36.6299 10.4245 40.4069C10.6259 40.5076 10.8273 40.6084 11.0288 40.6084C11.4317 40.6084 11.8345 40.4069 12.036 40.0544L17.8777 29.9825C18.2302 29.3781 18.0288 28.6731 17.4748 28.3206Z",fill:"currentColor"})]}),RP=e=>(0,cv.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,cv.jsx)("path",{d:"M22.9999 15C22.9999 21.6393 17.6393 26.9999 11 26.9999V28.9999C18.7201 28.9999 24.9999 22.7201 24.9999 15H22.9999Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M5.99997 22C2.69816 22 0 24.6982 0 28C0 31.3018 2.69816 33.9999 5.99997 33.9999C9.30177 33.9999 11.9999 31.3018 11.9999 28C11.9999 24.6982 9.30177 22 5.99997 22ZM5.99997 24C8.22098 24 9.99994 25.7789 9.99994 28C9.99994 30.221 8.22098 31.9999 5.99997 31.9999C3.77895 31.9999 1.99999 30.221 1.99999 28C1.99999 25.7789 3.77895 24 5.99997 24Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M22.999 15C22.999 22.7201 29.2789 28.9999 36.9989 28.9999V26.9999C30.3597 26.9999 24.999 21.6393 24.999 15H22.999Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M42 22C45.3018 22 47.9999 24.6982 47.9999 28C47.9999 31.3018 45.3018 33.9999 42 33.9999C38.6982 33.9999 36 31.3018 36 28C36 24.6982 38.6982 22 42 22ZM42 24C39.7789 24 38 25.7789 38 28C38 30.221 39.7789 31.9999 42 31.9999C44.221 31.9999 45.9999 30.221 45.9999 28C45.9999 25.7789 44.221 24 42 24Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M17.999 36V47.9999H29.999V36H17.999ZM19.999 38H27.999V45.9999H19.999V38Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M22.999 1V36.9998H24.999V1H22.999Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M23.9852 0.000110664C23.725 0.00368207 23.4763 0.108592 23.2919 0.292966L17.3018 6.2831C17.108 6.46926 16.9969 6.72551 16.9942 6.99426C16.9915 7.26302 17.0969 7.52194 17.287 7.71211C17.4772 7.90185 17.7357 8.00764 18.0044 8.00497C18.2732 8.00184 18.5299 7.89113 18.7161 7.69738L23.9991 2.41433L29.2822 7.69738C29.4683 7.89068 29.7246 8.00094 29.9933 8.00363C30.2616 8.00631 30.5201 7.90051 30.7098 7.71077C30.9 7.52104 31.0054 7.26256 31.0027 6.99426C31.0005 6.72551 30.8897 6.46926 30.6964 6.2831L24.7063 0.292966C24.5152 0.101893 24.2554 -0.00391217 23.9853 0.000110664H23.9852Z",fill:"currentColor"})]}),IP=e=>(0,cv.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,cv.jsx)("path",{d:"M3 9.75C3 9.94891 3.07902 10.1397 3.21967 10.2803C3.36032 10.421 3.55109 10.5 3.75 10.5H7.5V44.25C7.5 45.0457 7.81607 45.8087 8.37868 46.3713C8.94129 46.9339 9.70435 47.25 10.5 47.25H42C42.7957 47.25 43.5587 46.9339 44.1213 46.3713C44.6839 45.8087 45 45.0457 45 44.25V41.25C45 41.0511 44.921 40.8603 44.7803 40.7197C44.6397 40.579 44.4489 40.5 44.25 40.5H42V3.75C42 2.95435 41.6839 2.19129 41.1213 1.62868C40.5587 1.06607 39.7957 0.75 39 0.75H6C5.20435 0.75 4.44129 1.06607 3.87868 1.62868C3.31607 2.19129 3 2.95435 3 3.75V9.75ZM43.5 44.25C43.5 44.6478 43.342 45.0294 43.0607 45.3107C42.7794 45.592 42.3978 45.75 42 45.75H13.0972C13.3618 45.2944 13.5008 44.7768 13.5 44.25V42H43.5V44.25ZM40.5 3.75V40.5H12.75C12.5511 40.5 12.3603 40.579 12.2197 40.7197C12.079 40.8603 12 41.0511 12 41.25V44.25C12 44.6478 11.842 45.0294 11.5607 45.3107C11.2794 45.592 10.8978 45.75 10.5 45.75C10.1022 45.75 9.72064 45.592 9.43934 45.3107C9.15804 45.0294 9 44.6478 9 44.25V3.75C8.99689 3.22181 8.85294 2.70401 8.583 2.25H39C39.3978 2.25 39.7794 2.40804 40.0607 2.68934C40.342 2.97064 40.5 3.35218 40.5 3.75ZM4.5 3.75C4.5 3.35218 4.65804 2.97064 4.93934 2.68934C5.22064 2.40804 5.60218 2.25 6 2.25C6.39782 2.25 6.77936 2.40804 7.06066 2.68934C7.34196 2.97064 7.5 3.35218 7.5 3.75V9H4.5V3.75Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M11.25 18.75H17.25C17.4489 18.75 17.6397 18.671 17.7803 18.5303C17.921 18.3897 18 18.1989 18 18C17.9992 16.5615 18.4583 15.1603 19.3103 14.0012C20.1622 12.8421 21.3625 11.9857 22.7357 11.5571C24.1089 11.1285 25.5832 11.1501 26.9432 11.6188C28.3033 12.0874 29.4779 12.9787 30.2955 14.1622L26.2538 16.3373C25.8435 15.9517 25.3095 15.7247 24.7472 15.697C24.185 15.6692 23.6312 15.8423 23.1849 16.1855C22.7387 16.5287 22.4291 17.0195 22.3116 17.5701C22.1941 18.1206 22.2764 18.695 22.5437 19.1905C22.811 19.6859 23.2459 20.0701 23.7705 20.2742C24.2952 20.4783 24.8753 20.4891 25.4072 20.3046C25.9391 20.1201 26.3879 19.7523 26.6734 19.2672C26.9589 18.782 27.0625 18.211 26.9655 17.6565L31.008 15.4815C31.3323 16.2816 31.4994 17.1367 31.5 18C31.5 18.1989 31.579 18.3897 31.7197 18.5303C31.8603 18.671 32.0511 18.75 32.25 18.75H38.25C38.4489 18.75 38.6397 18.671 38.7803 18.5303C38.921 18.3897 39 18.1989 39 18C39 14.2207 37.4987 10.5961 34.8263 7.92373C32.1539 5.25133 28.5293 3.75 24.75 3.75C20.9707 3.75 17.3461 5.25133 14.6737 7.92373C12.0013 10.5961 10.5 14.2207 10.5 18C10.5 18.1989 10.579 18.3897 10.7197 18.5303C10.8603 18.671 11.0511 18.75 11.25 18.75ZM24.75 18.75C24.6017 18.75 24.4567 18.706 24.3333 18.6236C24.21 18.5412 24.1139 18.4241 24.0571 18.287C24.0003 18.15 23.9855 17.9992 24.0144 17.8537C24.0434 17.7082 24.1148 17.5746 24.2197 17.4697C24.3246 17.3648 24.4582 17.2934 24.6037 17.2644C24.7492 17.2355 24.9 17.2503 25.037 17.3071C25.1741 17.3639 25.2912 17.46 25.3736 17.5833C25.456 17.7067 25.5 17.8517 25.5 18C25.5 18.1989 25.421 18.3897 25.2803 18.5303C25.1397 18.671 24.9489 18.75 24.75 18.75ZM19.4797 11.6685L16.293 8.4825C18.428 6.57843 21.1441 5.45219 24 5.28675V9.78675C22.3368 9.93928 20.7598 10.5958 19.4797 11.6685ZM25.5 9.786V5.286C28.356 5.45165 31.0721 6.57816 33.207 8.4825L30.0203 11.6685C28.7402 10.5955 27.1632 9.93875 25.5 9.786ZM32.9663 17.25C32.8866 16.3949 32.6727 15.5576 32.3325 14.769L34.8555 13.41L34.1445 12.09L31.62 13.449C31.4535 13.1996 31.2737 12.9592 31.0815 12.729L34.275 9.537C36.1819 11.6733 37.3107 14.3914 37.4783 17.25H32.9663ZM15.225 9.537L18.417 12.729C17.344 14.0094 16.687 15.5865 16.5338 17.25H12.0217C12.1889 14.3913 13.3178 11.6731 15.225 9.537Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M11.25 33.75H21.75C21.9489 33.75 22.1397 33.671 22.2803 33.5303C22.421 33.3897 22.5 33.1989 22.5 33V22.5C22.5 22.3011 22.421 22.1103 22.2803 21.9697C22.1397 21.829 21.9489 21.75 21.75 21.75H11.25C11.0511 21.75 10.8603 21.829 10.7197 21.9697C10.579 22.1103 10.5 22.3011 10.5 22.5V33C10.5 33.1989 10.579 33.3897 10.7197 33.5303C10.8603 33.671 11.0511 33.75 11.25 33.75ZM15.375 27.375C15.375 27.1525 15.441 26.935 15.5646 26.75C15.6882 26.565 15.8639 26.4208 16.0695 26.3356C16.275 26.2505 16.5012 26.2282 16.7195 26.2716C16.9377 26.315 17.1382 26.4222 17.2955 26.5795C17.4528 26.7368 17.56 26.9373 17.6034 27.1555C17.6468 27.3738 17.6245 27.6 17.5394 27.8055C17.4542 28.0111 17.31 28.1868 17.125 28.3104C16.94 28.434 16.7225 28.5 16.5 28.5C16.2016 28.5 15.9155 28.3815 15.7045 28.1705C15.4935 27.9595 15.375 27.6734 15.375 27.375ZM16.5 30C17.0967 30 17.669 30.2371 18.091 30.659C18.5129 31.081 18.75 31.6533 18.75 32.25H14.25C14.25 31.6533 14.4871 31.081 14.909 30.659C15.331 30.2371 15.9033 30 16.5 30ZM12 23.25H21V32.25H20.25C20.2485 31.6146 20.0853 30.9901 19.7756 30.4353C19.4659 29.8805 19.02 29.4138 18.48 29.079C18.8935 28.6074 19.1226 28.0022 19.125 27.375C19.125 26.6788 18.8484 26.0111 18.3562 25.5188C17.8639 25.0266 17.1962 24.75 16.5 24.75C15.8038 24.75 15.1361 25.0266 14.6438 25.5188C14.1516 26.0111 13.875 26.6788 13.875 27.375C13.8774 28.0022 14.1065 28.6074 14.52 29.079C13.98 29.4138 13.5341 29.8805 13.2244 30.4353C12.9147 30.9901 12.7515 31.6146 12.75 32.25H12V23.25Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M38.25 21.75H24.75C24.5511 21.75 24.3603 21.829 24.2197 21.9697C24.079 22.1103 24 22.3011 24 22.5V25.5C24 25.6989 24.079 25.8897 24.2197 26.0303C24.3603 26.171 24.5511 26.25 24.75 26.25H38.25C38.4489 26.25 38.6397 26.171 38.7803 26.0303C38.921 25.8897 39 25.6989 39 25.5V22.5C39 22.3011 38.921 22.1103 38.7803 21.9697C38.6397 21.829 38.4489 21.75 38.25 21.75ZM37.5 24.75H25.5V23.25H37.5V24.75Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M27 27.75H39V29.25H27V27.75Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M24 30.75H39V32.25H24V30.75Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M24 33.75H39V35.25H24V33.75Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M11.25 36.75H39V38.25H11.25V36.75Z",fill:"currentColor"})]}),FP=e=>(0,cv.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,cv.jsx)("path",{d:"M40.2647 32.7877C44.3246 32.7877 47.7689 30.1623 48.9993 26.5176H31.5303C32.7605 30.1624 36.2049 32.7877 40.2647 32.7877Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M9.73454 40.9674C13.7944 40.9674 17.2387 38.3419 18.4691 34.6973H1C2.23024 38.3419 5.67463 40.9674 9.73454 40.9674Z",fill:"currentColor"}),(0,cv.jsx)("path",{d:"M34.3478 49.0005H15.6523C15.6523 45.9832 18.0984 43.5371 21.1158 43.5371H28.8843C31.9017 43.5371 34.3478 45.9832 34.3478 49.0005Z",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,cv.jsx)("path",{d:"M27.1465 11.2324V43.4392",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,cv.jsx)("path",{d:"M22.8535 5.73844V3.14634C22.8535 1.96098 23.8145 1 24.9999 1C26.1852 1 27.1462 1.96098 27.1462 3.14634V5.90878",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,cv.jsx)("path",{d:"M22.8535 43.4388V11.3008",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,cv.jsx)("path",{d:"M40.2658 4.38867L31.5312 26.5188C32.7615 30.1635 36.2059 32.789 40.2658 32.789C44.3257 32.789 47.77 30.1635 49.0003 26.5188L40.2658 4.38867Z",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,cv.jsx)("path",{d:"M7.63379 29.7892L8.95594 31.1112L8.95613 31.111L8.95642 31.1112L11.8489 28.2188",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,cv.jsx)("path",{d:"M28.2998 7.59047L46.4519 2.72656",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,cv.jsx)("path",{d:"M3.54883 14.2229L21.6708 9.36719",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,cv.jsx)("path",{d:"M25.0003 11.903C26.8677 11.903 28.3815 10.3892 28.3815 8.5218C28.3815 6.65443 26.8677 5.14062 25.0003 5.14062C23.1329 5.14062 21.6191 6.65443 21.6191 8.5218C21.6191 10.3892 23.1329 11.903 25.0003 11.903Z",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,cv.jsx)("path",{d:"M9.73454 12.5703L1 34.7005C2.23024 38.3452 5.67463 40.9706 9.73454 40.9706C13.7944 40.9706 17.2387 38.3451 18.4691 34.7005L9.73454 12.5703Z",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,cv.jsx)("path",{d:"M1.10059 34.7012H18.3689",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,cv.jsx)("path",{d:"M31.6309 26.5195H48.8992",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,cv.jsx)("path",{d:"M38 23L42 19",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,cv.jsx)("path",{d:"M38 19L42 23",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]});function UP(e){let{component:t="span",children:n,...i}=e;return(0,cv.jsxs)(t,{...i,className:"Home-see-more",children:[n," ",(0,cv.jsx)($P,{})]})}function BP(e){let{questions:t=[]}=e;const[n,i]=(0,ge.useState)(!0),[r,o]=(0,ge.useState)(!1),a=(0,ge.useRef)(null),s=e=>e.children[1]instanceof HTMLElement&&e.scrollLeft<=e.children[1].offsetLeft,l=e=>e.lastChild instanceof HTMLElement&&e.parentElement&&e.scrollLeft>=e.lastChild.offsetLeft-e.clientWidth+parseFloat(window.getComputedStyle(e.parentElement,":after").width),u=(0,ge.useCallback)((e=>{s(e.currentTarget)&&!n&&i(!0),!s(e.currentTarget)&&n&&i(!1),l(e.currentTarget)&&!r&&o(!0),!l(e.currentTarget)&&r&&o(!1)}),[n,r]);return(0,cv.jsxs)(cv.Fragment,{children:[(0,cv.jsx)("div",{className:"Home-forecasts-container",children:(0,cv.jsxs)("div",{className:"Home-forecasts",onScroll:u,ref:a,children:[(0,cv.jsx)("div",{className:"Home-forecasts-scroll-spacer"}),t.map((e=>(0,cv.jsx)("div",{className:"Home-forecast",children:(0,cv.jsx)(qP,{className:"Home-forecast-card",question:e},e.id)},e.id))),(0,cv.jsx)("div",{className:"Home-forecasts-scroll-spacer"})]})}),(0,cv.jsxs)("div",{className:"Home-forecasts-buttons",children:[(0,cv.jsx)("button",{className:"Home-forecasts-scroll-button","aria-label":"Scroll forecasts left",onClick:()=>{const e=a.current;e&&(e.scrollLeft=e.scrollLeft-e.children[1].clientWidth)},disabled:n,children:(0,cv.jsx)(MP,{})}),(0,cv.jsx)("button",{className:"Home-forecasts-scroll-button","aria-label":"Scroll forecasts right",onClick:()=>{const e=a.current;e&&(e.scrollLeft=e.scrollLeft+e.children[1].clientWidth)},disabled:r,children:(0,cv.jsx)(LP,{})}),(0,cv.jsx)("div",{children:(0,cv.jsx)(UP,{component:"a",href:"/questions",children:"See All Forecasts"})})]})]})}function HP(){const e=new Date;return(0,cv.jsxs)(cv.Fragment,{children:[(0,cv.jsxs)("div",{className:"Home-hero",children:[(0,cv.jsxs)("h1",{children:["Forecasting for a ",(0,cv.jsx)("span",{className:"lighter",children:"complex world"})]}),(0,cv.jsx)("p",{children:"Metaculus offers trustworthy forecasting and modeling infrastructure for forecasters, decision makers, and the public."}),To.isAuthenticated?(0,cv.jsx)("a",{className:"Home-button",href:"/questions/",children:"Explore Forecasts"}):(0,cv.jsx)("button",{className:"Home-button",onClick:()=>{Ks.setActive("sign-up"),window.angular.element(document.querySelector("common-modals")||"").scope().$apply()},children:"Sign Up"}),(0,cv.jsx)(BP,{questions:window.metacData.questions.map((e=>Ob(e)))})]}),(0,cv.jsxs)("div",{className:"Home-section center",children:[(0,cv.jsxs)("h2",{className:"text-center",children:["Focus ",(0,cv.jsx)("span",{className:"lighter",children:"Areas"})]}),(0,cv.jsx)("p",{className:"text-center",children:"We create forecasts and advance research, decision making, and policy in four main topic areas."}),(0,cv.jsxs)("div",{className:"Home-focus-areas",children:[(0,cv.jsxs)("a",{href:"/questions/?order_by=-activity&status=active&main-feed&search=include:bio--biosecurity include:bio--infectious-disease",className:"Home-focus-area Home-focus-area-bio",children:[(0,cv.jsx)("div",{className:"Home-focus-area-icon Home-focus-area-bio-icon",children:(0,cv.jsx)(AP,{})}),(0,cv.jsx)("h3",{children:"Biosecurity"}),(0,cv.jsx)("p",{children:"Improving global health by understanding infectious diseases and preparing for future pandemics"}),(0,cv.jsx)(UP,{children:"See Forecasts"})]}),(0,cv.jsxs)("a",{href:"/questions/?order_by=-activity&status=active&main-feed&search=include:comp-sci--ai-and-machinelearning include:computing--ai",className:"Home-focus-area Home-focus-area-ai",children:[(0,cv.jsx)("div",{className:"Home-focus-area-icon Home-focus-area-ai-icon",children:(0,cv.jsx)(jP,{})}),(0,cv.jsx)("h3",{children:"AI Progress"}),(0,cv.jsx)("p",{children:"Exploring the future of artificial intelligence technologies and the impacts to society"}),(0,cv.jsx)(UP,{children:"See Forecasts"})]}),(0,cv.jsxs)("a",{href:"/questions/?order_by=-activity&status=active&main-feed&search=include:series--nuclearthreats include:phys-sci--nuclear",className:"Home-focus-area Home-focus-area-nuclear",children:[(0,cv.jsx)("div",{className:"Home-focus-area-icon Home-focus-area-nuclear-icon",children:(0,cv.jsx)(NP,{})}),(0,cv.jsx)("h3",{children:"Nuclear Security"}),(0,cv.jsx)("p",{children:"Quantifying global risks to keep us safe and secure for a flourishing future"}),(0,cv.jsx)(UP,{children:"See Forecasts"})]}),(0,cv.jsxs)("a",{href:"/questions/?order_by=-activity&status=active&main-feed&search=include:environment--climate include:series--energy-and-climate",className:"Home-focus-area Home-focus-area-climate",children:[(0,cv.jsx)("div",{className:"Home-focus-area-icon Home-focus-area-climate-icon",children:(0,cv.jsx)(DP,{})}),(0,cv.jsx)("h3",{children:"Climate Change"}),(0,cv.jsx)("p",{children:"Predicting long-term shifts in temperature and weather patterns caused by human activity"}),(0,cv.jsx)(UP,{children:"See Forecasts"})]})]})]}),(0,cv.jsxs)("div",{className:"Home-section center",children:[(0,cv.jsxs)("h2",{className:"text-center",children:["How Metaculus ",(0,cv.jsx)("span",{className:"lighter",children:"Works"})]}),(0,cv.jsx)("p",{className:"text-center",style:{maxWidth:700},children:"The platform brings together a global reasoning community and keeps score for thousands of forecasters via explicit, standardized track records."}),(0,cv.jsxs)("div",{className:"Home-work-areas",children:[(0,cv.jsxs)("a",{href:"/help/faq/#whatisforecasting",className:"Home-work-area Home-work-area-bio",children:[(0,cv.jsx)("div",{className:"Home-work-area-icon",children:(0,cv.jsx)(RP,{})}),(0,cv.jsx)("h3",{className:"text-center",children:"Aggregation"}),(0,cv.jsx)("p",{children:"Independent forecasts are statistically aggregated to harness the wisdom of crowds."})]}),(0,cv.jsxs)("a",{href:"/help/faq/#metaculus-prediction",className:"Home-work-area Home-work-area-ai",children:[(0,cv.jsx)("div",{className:"Home-work-area-icon",children:(0,cv.jsx)(FP,{})}),(0,cv.jsx)("h3",{className:"text-center",children:"Recalibration & Weighting"}),(0,cv.jsx)("p",{children:"Forecasts are differentially recalibrated and weighted based on forecaster track records."})]}),(0,cv.jsxs)("a",{href:"/help/faq/#brier",className:"Home-work-area Home-work-area-nuclear",children:[(0,cv.jsx)("div",{className:"Home-work-area-icon",children:(0,cv.jsx)(IP,{})}),(0,cv.jsx)("h3",{className:"text-center",children:"Scoring & Feedback"}),(0,cv.jsx)("p",{children:"We rigorously evaluate all our predictions and score their accuracy."})]})]}),(0,cv.jsx)(UP,{component:"a",href:"https://metaculus.medium.com/forecasting-science-and-epistemology-d962de541a1f",target:"_blank",children:"Read More"})]}),(0,cv.jsxs)("div",{className:"Home-section",children:[(0,cv.jsxs)("h2",{children:["Forecasting ",(0,cv.jsx)("span",{className:"lighter",children:"Tournaments"})]}),(0,cv.jsx)("p",{children:"Join our tournaments and predict real world events, timelines, and impacts and win prizes for accuracy."}),(0,cv.jsx)("div",{className:"Home-tournaments",children:(window.metacData.projects||[]).map((t=>(0,cv.jsx)(Yx,{url:t.url,headerImageSrc:t.header_image,name:t.name,closeDate:t.tournament_close_date,questionsCount:t.questions_count,essaysCount:t.essays_count,open:e<new Date(t.tournament_close_date),prizePool:t.prize_pool,isPublic:t.public,type:t.type},t.id)))}),(0,cv.jsx)(UP,{component:"a",href:"/tournaments/",children:"See All Tournaments"})]}),(0,cv.jsxs)("div",{className:"Home-section center",children:[(0,cv.jsxs)("h2",{className:"text-center",children:["By the ",(0,cv.jsx)("span",{className:"lighter",children:"Numbers"})]}),(0,cv.jsx)("p",{className:"text-center",children:"We rigorously evaluate all of our predictions and score their accuracy."}),(0,cv.jsxs)("div",{className:"Home-numbers",children:[(0,cv.jsxs)("div",{className:"Home-number",children:[(0,cv.jsx)("p",{className:"Home-number-number",children:"1,188,045"}),(0,cv.jsx)("p",{className:"Home-number-title text-center",children:"Predictions"}),(0,cv.jsx)("p",{className:"text-center",children:"Building our collective understanding of the future"})]}),(0,cv.jsxs)("div",{className:"Home-number",children:[(0,cv.jsx)("p",{className:"Home-number-number",children:"3006"}),(0,cv.jsx)("p",{className:"Home-number-title text-center",children:"Resolved Questions"}),(0,cv.jsx)("p",{className:"text-center",children:"Providing proper scoring feedback to users"})]}),(0,cv.jsxs)("div",{className:"Home-number",children:[(0,cv.jsx)("p",{className:"Home-number-number",children:"7"}),(0,cv.jsx)("p",{className:"Home-number-title text-center",children:"Years of Predictions"}),(0,cv.jsx)("p",{className:"text-center",children:"Keeping a transparent and accountable track record"})]})]}),(0,cv.jsx)("p",{className:"Home-numbers-as-of",children:"As of February 13, 2023"}),(0,cv.jsx)("a",{className:"Home-button",href:"/questions/track-record/",children:"See Track Record"})]}),(0,cv.jsxs)("div",{className:"Home-section",children:[(0,cv.jsxs)("h2",{children:["Research & ",(0,cv.jsx)("span",{className:"lighter",children:"Updates"})]}),(0,cv.jsx)("p",{children:"Our partners use Metaculus forecasts to gain insight into complex challenges and decisions."}),(0,cv.jsxs)("div",{className:"Home-updates",children:[(0,cv.jsxs)("a",{className:"Home-update",href:"/notebooks/14965/forecasting-our-world-in-data-the-next-100-years/",children:[(0,cv.jsx)("div",{className:"Home-update-image Home-update-image-owid"}),(0,cv.jsxs)("div",{className:"Home-update-content",children:[(0,cv.jsx)("span",{children:"February 2023"}),(0,cv.jsx)("h3",{children:"Forecasting Our World in Data: A Deep Dive"}),(0,cv.jsx)("p",{children:"Explore Pro Forecasts on 30 key trends for the next 100 years."})]})]}),(0,cv.jsxs)("a",{className:"Home-update",href:"https://metaculus.medium.com/metaculus-year-in-review-2022-c92ff9cd87a0",children:[(0,cv.jsx)("div",{className:"Home-update-image Home-update-image-year"}),(0,cv.jsxs)("div",{className:"Home-update-content",children:[(0,cv.jsx)("span",{children:"January 2023"}),(0,cv.jsx)("h3",{children:"Metaculus Year in Review: 2022"}),(0,cv.jsx)("p",{children:"2022 was a year of progress, growth, and change on our platform."})]})]}),(0,cv.jsxs)("a",{className:"Home-update",href:"/questions/15007/mpox-rapid-information-aggregation/",children:[(0,cv.jsx)("div",{className:"Home-update-image Home-update-image-lancet"}),(0,cv.jsxs)("div",{className:"Home-update-content",children:[(0,cv.jsx)("span",{children:"July 2022"}),(0,cv.jsx)("h3",{children:"Mpox Rapid Information Aggregation"}),(0,cv.jsxs)("p",{children:["Our work with Lehigh University is published in",(0,cv.jsx)("i",{children:" The Lancet: Digital Health."})]})]})]})]}),(0,cv.jsx)(UP,{component:"a",href:"https://metaculus.medium.com/",target:"_blank",children:"Read More"})]}),(0,cv.jsxs)("div",{className:"Home-section Home-contact",children:[(0,cv.jsxs)("div",{className:"Home-contact-text-container",children:[(0,cv.jsxs)("h2",{children:["Engage with ",(0,cv.jsx)("span",{className:"lighter",children:"Metaculus"})]}),(0,cv.jsxs)("div",{className:"Home-contact-text",children:[(0,cv.jsx)("p",{children:"Learn how you can partner with Metaculus to host a forecasting tournament, collaborate on forecasting research, hire our Pro Forecasters for custom projects, or set up a private forecasting space for your organization."}),(0,cv.jsx)("p",{children:"We love working with non-profits in our core focus areas. If you’re a non-profit seeking forecasting and modeling capacity or are interested in collaborating on a grant, please reach out!"})]})]}),(0,cv.jsx)("div",{className:"Home-contact-button-container",children:(0,cv.jsx)("button",{className:"Home-button",onClick:()=>{Ks.setActive("contact-form"),window.angular.element(document.querySelector("common-modals")||"").scope().$apply()},children:"Learn More"})})]})]})}const zP=new class{constructor(e={}){this.queryCache=e.queryCache||new xx,this.mutationCache=e.mutationCache||new kx,this.logger=e.logger||cx,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=hx.subscribe((()=>{hx.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())})),this.unsubscribeOnline=fx.subscribe((()=>{fx.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())})))}unmount(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[n]=W_(e,t);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data}ensureQueryData(e,t,n){const i=Q_(e,t,n),r=this.getQueryData(i.queryKey);return r?Promise.resolve(r):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const i=this.queryCache.find(e),r=function(e,t){return"function"==typeof e?e(t):e}(t,null==i?void 0:i.state.data);if(void 0===r)return;const o=Q_(e),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(r,{...n,manual:!0})}setQueriesData(e,t,n){return dx.batch((()=>this.getQueryCache().findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state}removeQueries(e,t){const[n]=W_(e,t),i=this.queryCache;dx.batch((()=>{i.findAll(n).forEach((e=>{i.remove(e)}))}))}resetQueries(e,t,n){const[i,r]=W_(e,t,n),o=this.queryCache,a={type:"active",...i};return dx.batch((()=>(o.findAll(i).forEach((e=>{e.reset()})),this.refetchQueries(a,r))))}cancelQueries(e,t,n){const[i,r={}]=W_(e,t,n);void 0===r.revert&&(r.revert=!0);const o=dx.batch((()=>this.queryCache.findAll(i).map((e=>e.cancel(r)))));return Promise.all(o).then(z_).catch(z_)}invalidateQueries(e,t,n){const[i,r]=W_(e,t,n);return dx.batch((()=>{var e,t;if(this.queryCache.findAll(i).forEach((e=>{e.invalidate()})),"none"===i.refetchType)return Promise.resolve();const n={...i,type:null!=(e=null!=(t=i.refetchType)?t:i.type)?e:"active"};return this.refetchQueries(n,r)}))}refetchQueries(e,t,n){const[i,r]=W_(e,t,n),o=dx.batch((()=>this.queryCache.findAll(i).filter((e=>!e.isDisabled())).map((e=>{var t;return e.fetch(void 0,{...r,cancelRefetch:null==(t=null==r?void 0:r.cancelRefetch)||t,meta:{refetchPage:i.refetchPage}})}))));let a=Promise.all(o).then(z_);return null!=r&&r.throwOnError||(a=a.catch(z_)),a}fetchQuery(e,t,n){const i=Q_(e,t,n),r=this.defaultQueryOptions(i);void 0===r.retry&&(r.retry=!1);const o=this.queryCache.build(this,r);return o.isStaleByTime(r.staleTime)?o.fetch(r):Promise.resolve(o.state.data)}prefetchQuery(e,t,n){return this.fetchQuery(e,t,n).then(z_).catch(z_)}fetchInfiniteQuery(e,t,n){const i=Q_(e,t,n);return i.behavior={onFetch:e=>{e.fetchFn=()=>{var t,n,i,r,o,a;const s=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,l=null==(i=e.fetchOptions)||null==(r=i.meta)?void 0:r.fetchMore,u=null==l?void 0:l.pageParam,c="forward"===(null==l?void 0:l.direction),d="backward"===(null==l?void 0:l.direction),p=(null==(o=e.state.data)?void 0:o.pages)||[],h=(null==(a=e.state.data)?void 0:a.pageParams)||[];let f=h,m=!1;const g=e.options.queryFn||(()=>Promise.reject("Missing queryFn")),v=(e,t,n,i)=>(f=i?[t,...f]:[...f,t],i?[n,...e]:[...e,n]),y=(t,n,i,r)=>{if(m)return Promise.reject("Cancelled");if(void 0===i&&!n&&t.length)return Promise.resolve(t);const o={queryKey:e.queryKey,pageParam:i,meta:e.options.meta};(t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{var t,n;return null!=(t=e.signal)&&t.aborted?m=!0:null==(n=e.signal)||n.addEventListener("abort",(()=>{m=!0})),e.signal}})})(o);const a=g(o);return Promise.resolve(a).then((e=>v(t,i,e,r)))};let b;if(p.length)if(c){const t=void 0!==u,n=t?u:Sx(e.options,p);b=y(p,t,n)}else if(d){const t=void 0!==u,n=t?u:function(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}(e.options,p);b=y(p,t,n,!0)}else{f=[];const t=void 0===e.options.getNextPageParam;b=s&&p[0]&&!s(p[0],0,p)?Promise.resolve(v([],h[0],p[0])):y([],t,h[0]);for(let n=1;n<p.length;n++)b=b.then((i=>{if(!s||!p[n]||s(p[n],n,p)){const r=t?h[n]:Sx(e.options,i);return y(i,t,r)}return Promise.resolve(v(i,h[n],p[n]))}))}else b=y([]);return b.then((e=>({pages:e,pageParams:f})))}}},this.fetchQuery(i)}prefetchInfiniteQuery(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(z_).catch(z_)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const n=this.queryDefaults.find((t=>J_(e)===J_(t.queryKey)));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find((t=>X_(e,t.queryKey)));return null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){const n=this.mutationDefaults.find((t=>J_(e)===J_(t.mutationKey)));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find((t=>X_(e,t.mutationKey)));return null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(null==e?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=Z_(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==e?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}};function VP(e,t){const n=document.getElementById(e);n&&B_.createRoot(n).render((0,cv.jsx)(ge.StrictMode,{children:(0,cv.jsx)(t,{})}))}function GP(e){let{active:t,children:n,className:i,onClick:r}=e;return(0,cv.jsxs)("div",{className:Vx("PredictionToggle",{"PredictionToggle-interactive":r,"PredictionToggle-community":"community"===t,"PredictionToggle-metaculus":"metaculus"===t},i),onClick:r,children:[(0,cv.jsx)(Qx,{name:t}),n]})}function QP(e){let{active:t,className:n,onClick:i}=e;const{t:r}=Dx();return(0,cv.jsx)(GP,{className:n,active:t,onClick:i,children:r("community"===t?"aggregateToggleCommunity":"aggregateToggleMetaculus")})}function WP(e){var t;let{question:n}=e;const i=null!==(t=_g(n))&&void 0!==t?t:null;return i&&(0,cv.jsxs)("h5",{children:[(0,cv.jsx)("span",{className:"text-left",children:i[0]})," ",(0,cv.jsx)("span",{dangerouslySetInnerHTML:{__html:i[1]}})]})}function YP(e){let{resolution:t,resolveTime:n}=e;return(0,cv.jsxs)("h5",{children:["Resolved ",(0,cv.jsx)("strong",{className:"uppercase",children:t})," ",mo(n)]})}function KP(e){let{tlist:t}=e;return(0,cv.jsx)("span",{dangerouslySetInnerHTML:{__html:io(go(t,!0))}})}function ZP(e){let{question:t,onClick:n,onRemove:i}=e;return(0,cv.jsxs)("div",{className:"QuestionCard question_card is-forecast",onClick:n,children:[(0,cv.jsxs)("div",{children:[(0,cv.jsx)("h4",{className:"mb-8 mr-12",children:t.title}),null===t.resolution?(0,cv.jsx)(WP,{question:t}):(0,cv.jsx)(YP,{resolution:vo(t.resolutionString()),resolveTime:t.resolve_time})]}),(0,cv.jsx)("div",{className:"QuestionCard-right",children:t.isForecastType&&(0,cv.jsxs)("div",{className:"QuestionCard-predictions",children:[t.hasMetaculusPrediction()&&(0,cv.jsxs)("div",{className:"QuestionCard-prediction QuestionCard-metaculus-prediction",children:[(0,cv.jsx)(KP,{tlist:t.displayMetaculusPrediction(null,"short")})," ",(0,cv.jsx)(Qx,{className:"QuestionCard-prediction-icon",name:"metaculus"})]}),(0,cv.jsxs)("div",{className:"QuestionCard-prediction QuestionCard-community-prediction",children:[(0,cv.jsx)(KP,{tlist:t.displayCommunityPrediction(null,"short")})," ",(0,cv.jsx)(Qx,{className:"QuestionCard-prediction-icon",name:"community"})]}),t.hasPlayerPrediction()&&(0,cv.jsxs)("div",{className:"QuestionCard-prediction QuestionCard-player-prediction",children:[(0,cv.jsx)(KP,{tlist:t.displayPlayerPrediction(null)})," ",(0,cv.jsx)(Qx,{className:"QuestionCard-prediction-icon",name:"player"})]})]})}),i&&(0,cv.jsx)("div",{children:(0,cv.jsx)(Qx,{className:"QuestionCard-remove-icon",name:"remove",crop:18,onClick:function(e){e.preventDefault(),i&&i(t)}})})]})}function JP(e){let{name:t,value:n,children:i,onChange:r,checked:o,disabled:a,isSmall:s}=e;return(0,cv.jsxs)("label",{className:Vx("radio-control",{"radio-control--disabled":a,"radio-control--small":s}),children:[(0,cv.jsx)("input",{type:"radio",name:t,value:n,checked:o,disabled:a,onChange:e=>r(e.target.value)}),i]})}function XP(e){let{className:t,questionId:n,isSelected:i,onSelectedQuestionChange:r,prediction:o,condition:a,resolution:s,hasChanged:l}=e;return(0,cv.jsxs)("tr",{className:Vx("ConditionalPredictionRow",{"ConditionalPredictionRow-is-selected":i,"ConditionalPredictionRow-has-changed":l,"ConditionalPredictionRow-ambiguous":-1===s},t),onClick:()=>r(n),children:[(0,cv.jsx)("td",{className:"pr-16",children:(0,cv.jsx)(JP,{name:"questionId",value:n,checked:i,onChange:e=>r(Number(e)),isSmall:!0,children:(0,cv.jsxs)("span",{children:["If ",(0,cv.jsx)("strong",{children:a})]})})}),(0,cv.jsxs)("td",{className:"ConditionalPredictionRow-my-prediction pl-16",children:[(0,cv.jsx)(Qx,{className:"ConditionalPredictionRow-chevrons",name:"chevronsRight"}),"My prediction"," ",(0,cv.jsx)("strong",{children:(0,cv.jsx)("span",{className:"ConditionalPredictionRow-user-prediction",dangerouslySetInnerHTML:{__html:o}})})]})]})}function eO(e){let{type:t,aggregatePercentage:n,aggregateFormatted:i,userPercentage:r}=e;const o=null==n?(0,cv.jsx)("div",{className:"BinaryPredictionBar-value BinaryPredictionBar-value-unavailable",children:"No data yet"}):(0,cv.jsxs)("div",{className:"BinaryPredictionBar-value",children:[(0,cv.jsx)(Qx,{name:t})," ",i]});return(0,cv.jsxs)("div",{className:Vx("BinaryPredictionBar",{"BinaryPredictionBar-community":"community"===t,"BinaryPredictionBar-metaculus":"metaculus"===t}),children:[(0,cv.jsx)("div",{className:"BinaryPredictionBar-inner",children:o}),n&&(0,cv.jsx)("div",{className:"BinaryPredictionBar-outer",style:{width:"".concat(n,"%")},children:o}),r&&(0,cv.jsx)("div",{className:"BinaryPredictionBar-user",style:{left:"".concat(r,"%")}})]})}function tO(e){return io(go(e))}function nO(e,t){return e===t}function iO(e){return"function"==typeof e?function(){return e}:e}class rO extends px{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.length&&(this.currentQuery.addObserver(this),oO(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return aO(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return aO(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),nx(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const r=this.hasListeners();r&&sO(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(t),!r||this.currentQuery===i&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();const o=this.computeRefetchInterval();!r||this.currentQuery===i&&this.options.enabled===n.enabled&&o===this.currentRefetchInterval||this.updateRefetchInterval(o)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e);return this.createResult(t,e)}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach((n=>{Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})})),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,t);return n.isFetchingOptimistic=!0,n.fetch().then((()=>this.createResult(n,t)))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then((()=>(this.updateResult(),this.currentResult)))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(z_)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),H_||this.currentResult.isStale||!V_(this.options.staleTime))return;const e=G_(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((()=>{this.currentResult.isStale||this.updateResult()}),e)}computeRefetchInterval(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!H_&&!1!==this.options.enabled&&V_(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((()=>{(this.options.refetchIntervalInBackground||hx.isFocused())&&this.executeFetch()}),this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const n=this.currentQuery,i=this.options,r=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,s=e!==n,l=s?e.state:this.currentQueryInitialState,u=s?this.currentResult:this.previousQueryResult,{state:c}=e;let d,{dataUpdatedAt:p,error:h,errorUpdatedAt:f,fetchStatus:m,status:g}=c,v=!1,y=!1;if(t._optimisticResults){const r=this.hasListeners(),o=!r&&oO(e,t),a=r&&sO(e,n,t,i);(o||a)&&(m=gx(e.options.networkMode)?"fetching":"paused",p||(g="loading")),"isRestoring"===t._optimisticResults&&(m="idle")}if(t.keepPreviousData&&!c.dataUpdatedAt&&null!=u&&u.isSuccess&&"error"!==g)d=u.data,p=u.dataUpdatedAt,g=u.status,v=!0;else if(t.select&&void 0!==c.data)if(r&&c.data===(null==o?void 0:o.data)&&t.select===this.selectFn)d=this.selectResult;else try{this.selectFn=t.select,d=t.select(c.data),d=ux(null==r?void 0:r.data,d,t),this.selectResult=d,this.selectError=null}catch(e){this.selectError=e}else d=c.data;if(void 0!==t.placeholderData&&void 0===d&&"loading"===g){let e;if(null!=r&&r.isPlaceholderData&&t.placeholderData===(null==a?void 0:a.placeholderData))e=r.data;else if(e="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.selectError=null}catch(e){this.selectError=e}void 0!==e&&(g="success",d=ux(null==r?void 0:r.data,e,t),y=!0)}this.selectError&&(h=this.selectError,d=this.selectResult,f=Date.now(),g="error");const b="fetching"===m,w="loading"===g,_="error"===g;return{status:g,fetchStatus:m,isLoading:w,isSuccess:"success"===g,isError:_,isInitialLoading:w&&b,data:d,dataUpdatedAt:p,error:h,errorUpdatedAt:f,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:_&&0===c.dataUpdatedAt,isPaused:"paused"===m,isPlaceholderData:y,isPreviousData:v,isRefetchError:_&&0!==c.dataUpdatedAt,isStale:lO(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,nx(n,t))return;this.currentResult=n;const i={cache:!0};!1!==(null==e?void 0:e.listeners)&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options;if("all"===e||!e&&!this.trackedProps.size)return!0;const n=new Set(null!=e?e:this.trackedProps);return this.options.useErrorBoundary&&n.add("error"),Object.keys(this.currentResult).some((e=>{const i=e;return this.currentResult[i]!==t[i]&&n.has(i)}))})()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||yx(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){dx.batch((()=>{var t,n,i,r;if(e.onSuccess)null==(t=(n=this.options).onSuccess)||t.call(n,this.currentResult.data),null==(i=(r=this.options).onSettled)||i.call(r,this.currentResult.data,null);else if(e.onError){var o,a,s,l;null==(o=(a=this.options).onError)||o.call(a,this.currentResult.error),null==(s=(l=this.options).onSettled)||s.call(l,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach((e=>{e(this.currentResult)})),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})}))}}function oO(e,t){return function(e,t){return!(!1===t.enabled||e.state.dataUpdatedAt||"error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&aO(e,t,t.refetchOnMount)}function aO(e,t,n){if(!1!==t.enabled){const i="function"==typeof n?n(e):n;return"always"===i||!1!==i&&lO(e,t)}return!1}function sO(e,t,n,i){return!1!==n.enabled&&(e!==t||!1===i.enabled)&&(!n.suspense||"error"!==e.state.status)&&lO(e,n)}function lO(e,t){return e.isStaleByTime(t.staleTime)}const uO=n(1688).useSyncExternalStore;const cO=ge.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),dO=ge.createContext(void 0),pO=ge.createContext(!1);function hO(e,t){return e||(t&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=dO),window.ReactQueryClientContext):dO)}const fO=({client:e,children:t,context:n,contextSharing:i=!1})=>{ge.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]);const r=hO(n,i);return ge.createElement(pO.Provider,{value:!n&&i},ge.createElement(r.Provider,{value:e},t))},mO=ge.createContext(!1);function gO(){let e=(0,ge.useRef)(!1);return aC((()=>(e.current=!0,()=>{e.current=!1})),[]),e}mO.Provider;var vO=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(vO||{});let yO=Object.assign(nC((function(e,t){let n=(0,ge.useRef)(null),i=dC(n,t),{initialFocus:r,containers:o,features:a=30,...s}=e;hC()||(a=1);let l=FC(n);!function({ownerDocument:e},t){let n=(0,ge.useRef)(null);UC(null==e?void 0:e.defaultView,"focusout",(e=>{!t||n.current||(n.current=e.target)}),!0),xk((()=>{t||((null==e?void 0:e.activeElement)===(null==e?void 0:e.body)&&PC(n.current),n.current=null)}),[t]);let i=(0,ge.useRef)(!1);(0,ge.useEffect)((()=>(i.current=!1,()=>{i.current=!0,hk((()=>{!i.current||(PC(n.current),n.current=null)}))})),[])}({ownerDocument:l},Boolean(16&a));let u=function({ownerDocument:e,container:t,initialFocus:n},i){let r=(0,ge.useRef)(null),o=gO();return xk((()=>{if(!i)return;let a=t.current;!a||hk((()=>{if(!o.current)return;let t=null==e?void 0:e.activeElement;if(null!=n&&n.current){if((null==n?void 0:n.current)===t)return void(r.current=t)}else if(a.contains(t))return void(r.current=t);null!=n&&n.current?PC(n.current):$C(a,xC.First)===CC.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),r.current=null==e?void 0:e.activeElement}))}),[i]),r}({ownerDocument:l,container:n,initialFocus:r},Boolean(2&a));!function({ownerDocument:e,container:t,containers:n,previousActiveElement:i},r){let o=gO();UC(null==e?void 0:e.defaultView,"focus",(e=>{if(!r||!o.current)return;let a=new Set(null==n?void 0:n.current);a.add(t);let s=i.current;if(!s)return;let l=e.target;l&&l instanceof HTMLElement?bO(a,l)?(i.current=l,PC(l)):(e.preventDefault(),e.stopPropagation(),PC(s)):PC(i.current)}),!0)}({ownerDocument:l,container:n,containers:o,previousActiveElement:u},Boolean(8&a));let c=VC(),d=lC((e=>{let t=n.current;t&&Kx(c.current,{[zC.Forwards]:()=>$C(t,xC.First,{skipElements:[e.relatedTarget]}),[zC.Backwards]:()=>$C(t,xC.Last,{skipElements:[e.relatedTarget]})})})),p=mk(),h=(0,ge.useRef)(!1),f={ref:i,onKeyDown(e){"Tab"==e.key&&(h.current=!0,p.requestAnimationFrame((()=>{h.current=!1})))},onBlur(e){let t=new Set(null==o?void 0:o.current);t.add(n);let i=e.relatedTarget;!i||"true"!==i.dataset.headlessuiFocusGuard&&(bO(t,i)||(h.current?$C(n.current,Kx(c.current,{[zC.Forwards]:()=>xC.Next,[zC.Backwards]:()=>xC.Previous})|xC.WrapAround,{relativeTo:e.target}):e.target instanceof HTMLElement&&PC(e.target)))}};return ge.createElement(ge.Fragment,null,Boolean(4&a)&&ge.createElement(HC,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:BC.Focusable}),Xx({ourProps:f,theirProps:s,defaultTag:"div",name:"FocusTrap"}),Boolean(4&a)&&ge.createElement(HC,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:BC.Focusable}))})),{features:vO});function bO(e,t){var n;for(let i of e)if(null!=(n=i.current)&&n.contains(t))return!0;return!1}let wO=new Set,_O=new Map;function xO(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function CO(e){let t=_O.get(e);!t||(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}let kO=(0,ge.createContext)(!1);function SO(e){return ge.createElement(kO.Provider,{value:e.force},e.children)}let TO=ge.Fragment,EO=nC((function(e,t){let n=e,i=(0,ge.useRef)(null),r=dC(cC((e=>{i.current=e})),t),o=FC(i),a=function(e){let t=(0,ge.useContext)(kO),n=(0,ge.useContext)(OO),i=FC(e),[r,o]=(0,ge.useState)((()=>{if(!t&&null!==n||oC)return null;let e=null==i?void 0:i.getElementById("headlessui-portal-root");if(e)return e;if(null===i)return null;let r=i.createElement("div");return r.setAttribute("id","headlessui-portal-root"),i.body.appendChild(r)}));return(0,ge.useEffect)((()=>{null!==r&&(null!=i&&i.body.contains(r)||null==i||i.body.appendChild(r))}),[r,i]),(0,ge.useEffect)((()=>{t||null!==n&&o(n.current)}),[n,o,t]),r}(i),[s]=(0,ge.useState)((()=>{var e;return oC?null:null!=(e=null==o?void 0:o.createElement("div"))?e:null})),l=hC(),u=(0,ge.useRef)(!1);return aC((()=>{if(u.current=!1,a&&s)return a.contains(s)||(s.setAttribute("data-headlessui-portal",""),a.appendChild(s)),()=>{u.current=!0,hk((()=>{var e;!u.current||!a||!s||(a.removeChild(s),a.childNodes.length<=0&&(null==(e=a.parentElement)||e.removeChild(a)))}))}}),[a,s]),l&&a&&s?(0,BE.createPortal)(Xx({ourProps:{ref:r},theirProps:n,defaultTag:TO,name:"Portal"}),s):null})),PO=ge.Fragment,OO=(0,ge.createContext)(null),qO=nC((function(e,t){let{target:n,...i}=e,r={ref:dC(t)};return ge.createElement(OO.Provider,{value:n},Xx({ourProps:r,theirProps:i,defaultTag:PO,name:"Popover.Group"}))})),$O=Object.assign(EO,{Group:qO}),MO=(0,ge.createContext)(null);function LO(){let e=(0,ge.useContext)(MO);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,LO),e}return e}let jO=nC((function(e,t){let n=vC(),{id:i=`headlessui-description-${n}`,...r}=e,o=LO(),a=dC(t);return aC((()=>o.register(i)),[i,o.register]),Xx({ourProps:{ref:a,...o.props,id:i},theirProps:r,slot:o.slot||{},defaultTag:"p",name:o.name||"Description"})})),AO=(0,ge.createContext)((()=>{}));AO.displayName="StackContext";var DO=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(DO||{});function NO({children:e,onUpdate:t,type:n,element:i,enabled:r}){let o=(0,ge.useContext)(AO),a=lC(((...e)=>{null==t||t(...e),o(...e)}));return aC((()=>{let e=void 0===r||!0===r;return e&&a(0,n,i),()=>{e&&a(1,n,i)}}),[a,n,i,r]),ge.createElement(AO.Provider,{value:a},e)}var RO=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(RO||{}),IO=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(IO||{});let FO={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},UO=(0,ge.createContext)(null);function BO(e){let t=(0,ge.useContext)(UO);if(null===t){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,BO),t}return t}function HO(e,t){return Kx(t.type,FO,e,t)}UO.displayName="DialogContext";let zO=Zx.RenderStrategy|Zx.Static,VO=nC((function(e,t){let n=vC(),{id:i=`headlessui-dialog-${n}`,open:r,onClose:o,initialFocus:a,__demoMode:s=!1,...l}=e,[u,c]=(0,ge.useState)(0),d=jC();void 0===r&&null!==d&&(r=Kx(d,{[LC.Open]:!0,[LC.Closed]:!1}));let p=(0,ge.useRef)(new Set),h=(0,ge.useRef)(null),f=dC(h,t),m=(0,ge.useRef)(null),g=FC(h),v=e.hasOwnProperty("open")||null!==d,y=e.hasOwnProperty("onClose");if(!v&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!v)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof r)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${r}`);if("function"!=typeof o)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let b=r?0:1,[w,_]=(0,ge.useReducer)(HO,{titleId:null,descriptionId:null,panelRef:(0,ge.createRef)()}),x=lC((()=>o(!1))),C=lC((e=>_({type:0,id:e}))),k=!!hC()&&!s&&0===b,S=u>1,T=null!==(0,ge.useContext)(UO),E=S?"parent":"leaf";!function(e,t=!0){aC((()=>{if(!t||!e.current)return;let n=e.current,i=wC(n);if(i){wO.add(n);for(let e of _O.keys())e.contains(n)&&(CO(e),_O.delete(e));return i.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement){for(let t of wO)if(e.contains(t))return;1===wO.size&&(_O.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),xO(e))}})),()=>{if(wO.delete(n),wO.size>0)i.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement&&!_O.has(e)){for(let t of wO)if(e.contains(t))return;_O.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),xO(e)}}));else for(let e of _O.keys())CO(e),_O.delete(e)}}}),[t])}(h,!!S&&k);let P=lC((()=>{var e,t;return[...Array.from(null!=(e=null==g?void 0:g.querySelectorAll("body > *, [data-headlessui-portal]"))?e:[]).filter((e=>!(!(e instanceof HTMLElement)||e.contains(m.current)||w.panelRef.current&&e.contains(w.panelRef.current)))),null!=(t=w.panelRef.current)?t:h.current]}));IC((()=>P()),x,k&&!S),UC(null==g?void 0:g.defaultView,"keydown",(e=>{e.defaultPrevented||e.key===yC.Escape&&0===b&&(S||(e.preventDefault(),e.stopPropagation(),x()))})),function(e,t,n=(()=>[document.body])){(0,ge.useEffect)((()=>{var i;if(!t||!e)return;let r=fk(),o=window.pageYOffset;function a(e,t,n){let i=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),r.add((()=>{Object.assign(e.style,{[t]:i})}))}let s=e.documentElement,l=(null!=(i=e.defaultView)?i:window).innerWidth-s.clientWidth;if(a(s,"overflow","hidden"),l>0&&a(s,"paddingRight",l-(s.clientWidth-s.offsetWidth)+"px"),/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0){a(e.body,"marginTop",`-${o}px`),window.scrollTo(0,0);let t=null;r.addEventListener(e,"click",(i=>{if(i.target instanceof HTMLElement)try{let r=i.target.closest("a");if(!r)return;let{hash:o}=new URL(r.href),a=e.querySelector(o);a&&!n().some((e=>e.contains(a)))&&(t=a)}catch{}}),!0),r.addEventListener(e,"touchmove",(e=>{e.target instanceof HTMLElement&&!n().some((t=>t.contains(e.target)))&&e.preventDefault()}),{passive:!1}),r.add((()=>{window.scrollTo(0,window.pageYOffset+o),t&&t.isConnected&&(t.scrollIntoView({block:"nearest"}),t=null)}))}return r.dispose}),[e,t])}(g,0===b&&!T,P),(0,ge.useEffect)((()=>{if(0!==b||!h.current)return;let e=new IntersectionObserver((e=>{for(let t of e)0===t.boundingClientRect.x&&0===t.boundingClientRect.y&&0===t.boundingClientRect.width&&0===t.boundingClientRect.height&&x()}));return e.observe(h.current),()=>e.disconnect()}),[b,h,x]);let[O,q]=function(){let[e,t]=(0,ge.useState)([]);return[e.length>0?e.join(" "):void 0,(0,ge.useMemo)((()=>function(e){let n=lC((e=>(t((t=>[...t,e])),()=>t((t=>{let n=t.slice(),i=n.indexOf(e);return-1!==i&&n.splice(i,1),n}))))),i=(0,ge.useMemo)((()=>({register:n,slot:e.slot,name:e.name,props:e.props})),[n,e.slot,e.name,e.props]);return ge.createElement(MO.Provider,{value:i},e.children)}),[t])]}(),$=(0,ge.useMemo)((()=>[{dialogState:b,close:x,setTitleId:C},w]),[b,w,x,C]),M=(0,ge.useMemo)((()=>({open:0===b})),[b]),L={ref:f,id:i,role:"dialog","aria-modal":0===b||void 0,"aria-labelledby":w.titleId,"aria-describedby":O};return ge.createElement(NO,{type:"Dialog",enabled:0===b,element:h,onUpdate:lC(((e,t,n)=>{"Dialog"===t&&Kx(e,{[DO.Add](){p.current.add(n),c((e=>e+1))},[DO.Remove](){p.current.add(n),c((e=>e-1))}})}))},ge.createElement(SO,{force:!0},ge.createElement($O,null,ge.createElement(UO.Provider,{value:$},ge.createElement($O.Group,{target:h},ge.createElement(SO,{force:!1},ge.createElement(q,{slot:M,name:"Dialog.Description"},ge.createElement(yO,{initialFocus:a,containers:p,features:k?Kx(E,{parent:yO.features.RestoreFocus,leaf:yO.features.All&~yO.features.FocusLock}):yO.features.None},Xx({ourProps:L,theirProps:l,slot:M,defaultTag:"div",features:zO,visible:0===b,name:"Dialog"})))))))),ge.createElement(HC,{features:BC.Hidden,ref:m}))})),GO=nC((function(e,t){let n=vC(),{id:i=`headlessui-dialog-overlay-${n}`,...r}=e,[{dialogState:o,close:a}]=BO("Dialog.Overlay"),s=dC(t),l=lC((e=>{if(e.target===e.currentTarget){if(bC(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),a()}}));return Xx({ourProps:{ref:s,id:i,"aria-hidden":!0,onClick:l},theirProps:r,slot:(0,ge.useMemo)((()=>({open:0===o})),[o]),defaultTag:"div",name:"Dialog.Overlay"})})),QO=nC((function(e,t){let n=vC(),{id:i=`headlessui-dialog-backdrop-${n}`,...r}=e,[{dialogState:o},a]=BO("Dialog.Backdrop"),s=dC(t);(0,ge.useEffect)((()=>{if(null===a.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")}),[a.panelRef]);let l=(0,ge.useMemo)((()=>({open:0===o})),[o]);return ge.createElement(SO,{force:!0},ge.createElement($O,null,Xx({ourProps:{ref:s,id:i,"aria-hidden":!0},theirProps:r,slot:l,defaultTag:"div",name:"Dialog.Backdrop"})))})),WO=nC((function(e,t){let n=vC(),{id:i=`headlessui-dialog-panel-${n}`,...r}=e,[{dialogState:o},a]=BO("Dialog.Panel"),s=dC(t,a.panelRef),l=(0,ge.useMemo)((()=>({open:0===o})),[o]),u=lC((e=>{e.stopPropagation()}));return Xx({ourProps:{ref:s,id:i,onClick:u},theirProps:r,slot:l,defaultTag:"div",name:"Dialog.Panel"})})),YO=nC((function(e,t){let n=vC(),{id:i=`headlessui-dialog-title-${n}`,...r}=e,[{dialogState:o,setTitleId:a}]=BO("Dialog.Title"),s=dC(t);(0,ge.useEffect)((()=>(a(i),()=>a(null))),[i,a]);let l=(0,ge.useMemo)((()=>({open:0===o})),[o]);return Xx({ourProps:{ref:s,id:i},theirProps:r,slot:l,defaultTag:"h2",name:"Dialog.Title"})})),KO=Object.assign(VO,{Backdrop:QO,Panel:WO,Overlay:GO,Title:YO,Description:jO});const ZO="/api2/questions/",JO="Unable to fetch question.",XO=/https?:\/\/[\w.:/]+questions\/(\d+)/,eq={limit:"10",status:"active",order_by:"-activity",type:"forecast",has_group:"false"};function tq(e){let{isOpen:t,title:n,queryParams:i,onClose:r,validatePastedQuestion:o,onSelectQuestion:a}=e;const[s,l]=(0,ge.useState)(""),[u]=function(e,t,n){var i,r,o=nO,a=(i=(0,ge.useState)(iO(e)),r=i[1],[i[0],(0,ge.useCallback)((function(e){return r(iO(e))}),[])]),s=a[0],l=a[1],u=function(e,t,n){var i=this,r=(0,ge.useRef)(null),o=(0,ge.useRef)(0),a=(0,ge.useRef)(null),s=(0,ge.useRef)([]),l=(0,ge.useRef)(),u=(0,ge.useRef)(),c=(0,ge.useRef)(e),d=(0,ge.useRef)(!0);(0,ge.useEffect)((function(){c.current=e}),[e]);var p=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var h=!!(n=n||{}).leading,f=!("trailing"in n)||!!n.trailing,m="maxWait"in n,g=m?Math.max(+n.maxWait||0,t):null;(0,ge.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]);var v=(0,ge.useMemo)((function(){var e=function(e){var t=s.current,n=l.current;return s.current=l.current=null,o.current=e,u.current=c.current.apply(n,t)},n=function(e,t){p&&cancelAnimationFrame(a.current),a.current=p?requestAnimationFrame(e):setTimeout(e,t)},v=function(e){if(!d.current)return!1;var n=e-r.current;return!r.current||n>=t||n<0||m&&e-o.current>=g},y=function(t){return a.current=null,f&&s.current?e(t):(s.current=l.current=null,u.current)},b=function e(){var i=Date.now();if(v(i))return y(i);if(d.current){var a=t-(i-r.current),s=m?Math.min(a,g-(i-o.current)):a;n(e,s)}},w=function(){var c=Date.now(),p=v(c);if(s.current=[].slice.call(arguments),l.current=i,r.current=c,p){if(!a.current&&d.current)return o.current=r.current,n(b,t),h?e(r.current):u.current;if(m)return n(b,t),e(r.current)}return a.current||n(b,t),u.current};return w.cancel=function(){a.current&&(p?cancelAnimationFrame(a.current):clearTimeout(a.current)),o.current=0,s.current=r.current=l.current=a.current=null},w.isPending=function(){return!!a.current},w.flush=function(){return a.current?y(Date.now()):u.current},w}),[h,m,t,g,f,p]);return v}((0,ge.useCallback)((function(e){return l(e)}),[l]),275,n),c=(0,ge.useRef)(e);return o(c.current,e)||(u(e),c.current=e),[s,u]}(s),[c,d]=(0,ge.useState)(null),p=XO.test(u),h=new URLSearchParams({...eq,...i}),{data:f,isLoading:m,isError:g}=(v=()=>async function(e){""!==e&&h.append("search","title:".concat(e));const t=await Ux("".concat(ZO,"?").concat(h));if(!t.ok)throw new Error("Failed to load results.");return t.json()}(u),function(e,t){const n=(({context:e}={})=>{const t=ge.useContext(hO(e,ge.useContext(pO)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t})({context:e.context}),i=ge.useContext(mO),r=ge.useContext(cO),o=n.defaultQueryOptions(e);o._optimisticResults=i?"isRestoring":"optimistic",o.onError&&(o.onError=dx.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=dx.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=dx.batchCalls(o.onSettled)),(e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)})(o),((e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))})(o,r),(e=>{ge.useEffect((()=>{e.clearReset()}),[e])})(r);const[a]=ge.useState((()=>new t(n,o))),s=a.getOptimisticResult(o);if(uO(ge.useCallback((e=>i?()=>{}:a.subscribe(dx.batchCalls(e))),[a,i]),(()=>a.getCurrentResult()),(()=>a.getCurrentResult())),ge.useEffect((()=>{a.setOptions(o,{listeners:!1})}),[o,a]),((e,t,n)=>(null==e?void 0:e.suspense)&&((e,t)=>e.isLoading&&e.isFetching&&!t)(t,n))(o,s,i))throw((e,t,n)=>t.fetchOptimistic(e).then((({data:t})=>{null==e.onSuccess||e.onSuccess(t),null==e.onSettled||e.onSettled(t,null)})).catch((t=>{n.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)})))(o,a,r);if((({result:e,errorResetBoundary:t,useErrorBoundary:n,query:i})=>{return e.isError&&!t.isReset()&&!e.isFetching&&(r=n,o=[e.error,i],"function"==typeof r?r(...o):!!r);var r,o})({result:s,errorResetBoundary:r,useErrorBoundary:o.useErrorBoundary,query:a.getCurrentQuery()}))throw s.error;return o.notifyOnChangeProps?s:a.trackResult(s)}(Q_(["questions",h,u],v,{enabled:!p&&(""===u||u.length>2),keepPreviousData:!0}),rO));var v;const y=(null==f?void 0:f.results.map((e=>new pv(e))))||[];function b(){d(null),l("")}return(0,cv.jsx)(KO,{className:"QuestionPicker modal__wrapper",open:t,onClose:r,children:(0,cv.jsxs)(KO.Panel,{className:"modal-box",children:[(0,cv.jsx)("div",{className:"modal-close-wrapper",children:(0,cv.jsx)(Qx,{name:"remove",onClick:r})}),(0,cv.jsx)(KO.Title,{className:"title is-2 mt-0",children:n}),(0,cv.jsxs)("div",{className:"search-bar w-full",children:[(0,cv.jsx)("input",{type:"text",className:"search search-box",placeholder:"enter search term or paste question URL…",value:s,onChange:async function(e){const t=e.target.value;d(null),l(t);const n=t.match(XO);if(n&&n[1]){const e=n[1];try{const t=await Ux("".concat(ZO).concat(e,"/"));t.ok?function(e){const t=new pv(e),n=o(t);n?d(n):(a(t),r(),b())}(await t.json()):d(JO)}catch{d(JO)}}}}),(0,cv.jsxs)("div",{className:"search-buttons",children:[s.length>0&&(0,cv.jsx)("button",{type:"button",onClick:b,children:(0,cv.jsx)(Qx,{name:"remove"})}),(0,cv.jsx)("button",{children:(0,cv.jsx)(Qx,{name:"search"})})]})]}),(0,cv.jsxs)("div",{className:"scrollable-box",children:[!m&&!g&&s.length>0&&0===y.length&&(0,cv.jsx)("p",{className:"text-center",children:"No results found."}),g&&(0,cv.jsx)("div",{className:"question-picker-error mt-8",children:"Failed to load results."}),c&&(0,cv.jsx)("div",{className:"question-picker-error mt-8",children:c}),!c&&!g&&y.map((e=>(0,cv.jsx)(ZP,{question:e,onClick:()=>a(e)},e.id)))]})]})})}function nq(e,t){_i(2,arguments);var n=Si(e),i=Ei(t);return isNaN(i)?new Date(NaN):i?(n.setDate(n.getDate()+i),n):n}function iq(e,t){_i(2,arguments);var n=Si(e),i=Ei(t);if(isNaN(i))return new Date(NaN);if(!i)return n;var r=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+i+1,0);var a=o.getDate();return r>=a?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}function rq(e){let{onClose:t,children:n,newTemplate:i}=e;const r=(0,ge.useCallback)((e=>{"Escape"===e.key&&t()}),[t]);return(0,ge.useEffect)((()=>(document.addEventListener("keydown",r,!1),()=>{document.removeEventListener("keydown",r,!1)})),[r]),(0,cv.jsx)("div",{className:"active",children:i?(0,cv.jsx)("div",{className:"modal__wrapper",onClick:t,children:(0,cv.jsxs)("div",{className:"modal-box",onClick:e=>e.stopPropagation(),children:[(0,cv.jsx)("div",{className:"modal-close-wrapper",children:(0,cv.jsx)("svg",{"icon-name":"remove",onClick:t})}),(0,cv.jsx)("div",{className:"modal-content",children:n})]})}):(0,cv.jsx)("div",{className:"modal__wrapper old-design theme-modal",onClick:t,children:(0,cv.jsxs)("div",{className:"modal__box",onClick:e=>e.stopPropagation(),children:[(0,cv.jsx)("div",{className:"modal__close-wrapper",children:(0,cv.jsx)("div",{className:"modal__close",onClick:t})}),(0,cv.jsx)("div",{className:"modal__content",children:n})]})})})}function oq(e){let{username:t,prediction:n,formatter:i}=e;return(0,cv.jsxs)("div",{className:"LatestPredictionBox",children:[(0,cv.jsxs)("div",{className:"LatestPredictionBox-title",children:[(0,cv.jsx)("b",{children:t}),"'","s Prediction"]}),(0,cv.jsx)("div",{className:"LatestPredictionBox-prediction",children:(r=i.formatFullPrediction(n),r.map(((e,t)=>(0,cv.jsx)("span",{className:"nobr",children:e.t},t))))}),n.time?(0,cv.jsx)("div",{className:"LatestPredictionBox-date",children:lo(n.time)}):null]});var r}const aq=()=>(0,cv.jsx)("svg",{width:"16",height:"16",children:(0,cv.jsx)("path",{d:"M0.888889 0H15.1111C15.3469 0 15.573 0.0936505 15.7397 0.260349C15.9064 0.427048 16 0.653141 16 0.888889V15.1111C16 15.3469 15.9064 15.573 15.7397 15.7397C15.573 15.9064 15.3469 16 15.1111 16H0.888889C0.653141 16 0.427048 15.9064 0.260349 15.7397C0.0936505 15.573 0 15.3469 0 15.1111V0.888889C0 0.653141 0.0936505 0.427048 0.260349 0.260349C0.427048 0.0936505 0.653141 0 0.888889 0ZM1.77778 1.77778V14.2222H14.2222V1.77778H1.77778Z",fill:"currentColor"})}),sq=()=>(0,cv.jsx)("svg",{width:"16",height:"16",children:(0,cv.jsx)("path",{d:"M0.888889 0H15.1111C15.3469 0 15.573 0.0936505 15.7397 0.260349C15.9064 0.427048 16 0.653141 16 0.888889V15.1111C16 15.3469 15.9064 15.573 15.7397 15.7397C15.573 15.9064 15.3469 16 15.1111 16H0.888889C0.653141 16 0.427048 15.9064 0.260349 15.7397C0.0936505 15.573 0 15.3469 0 15.1111V0.888889C0 0.653141 0.0936505 0.427048 0.260349 0.260349C0.427048 0.0936505 0.653141 0 0.888889 0ZM1.77778 1.77778V14.2222H14.2222V1.77778H1.77778ZM7.11378 11.5556L3.34222 7.784L4.59911 6.52711L7.11378 9.04178L12.1413 4.01333L13.3991 5.27022L7.11378 11.5556Z",fill:"currentColor"})});function lq(e){let{name:t,value:n,children:i,onChange:r,checked:o,disabled:a}=e;return(0,cv.jsxs)("label",{className:"checkbox",htmlFor:t,children:[(0,cv.jsx)("input",{type:"checkbox",className:"checkbox",name:t,value:n,onChange:r,checked:o,disabled:a}),o?(0,cv.jsx)(sq,{}):(0,cv.jsx)(aq,{}),i]})}const uq="-activity";function cq(e){let{id:t,short_name:n}=e;const i=t.split("--").length-1;return"   ".repeat(i)+n}function dq(e){if(!e)return!1;const{innerWidth:t}=window;return t>=540&&"hidden-desktop"!==e.className}const pq=[{id:"-votes",name:"Most Upvotes"},{id:"-comment_count",name:"Most Comments"},{id:"-prediction_count",name:"Most Predictions"},{id:"closes_soon",name:"Closing Soon"},{id:"-unread_comment_count",name:"Unread Comments"},{id:"-last_prediction_time",name:"My Oldest Predictions",className:"hidden-desktop"},{id:"last_prediction_time",name:"My Newest Predictions",className:"hidden-desktop"}];me.use(Pe).init({lng:window.metacData.LANGUAGE_CODE,fallbackLng:"en",resources:{cs:{translation:F_},en:{translation:U_}}}),document.addEventListener("DOMContentLoaded",(()=>{VP("tournaments",kS),VP("home",HP),VP("newsletter-form",Hx)})),pi.config(["$httpProvider","$interpolateProvider",function(e,t,n){e.defaults.xsrfCookieName="csrftoken",e.defaults.xsrfHeaderName="X-CSRFToken",e.defaults.headers.common["x-requested-with"]="XMLHttpRequest",e.defaults.headers.common.Accept="application/json; version=LATEST"}]),pi.config(["$locationProvider",function(e){e.html5Mode({enabled:!0,rewriteLinks:!1,requireBase:!1}),e.hashPrefix("!")}]),pi.run(["$rootScope","$location","$http",function(e,t,n){e.user=To,e.modals=Ks,e.metacData=window.metacData,e.ga=window.ga,e.isPrivateSite=window.metacData.isPrivateSite,e.campaign={},t.replace(),t.search("opg",null),t.search("invite",null),"true"!=t.search()["show-welcome"]||To&&To.isAuthenticated||Ks.setActive("login");var i,r,o=t.search();for(r of[["utm_campaign","campaignName","name"],["utm_source","campaignSource","source"],["utm_medium","campaignMedium","medium"],["utm_content","campaignContent","content"],["utm_term","campaignKeyword","keyword"]])(i=o[r[0]])&&(t.search(r[0],null),e.ga("set",r[1],i),e.campaign[r[2]]=i);e.ga("send","pageview")}]),pi.component("fanGraph",(0,Oe.react2angular)(OP,["subQuestions","showCp","showMp","showUp","numYTicks","hasYLabel","hasTooltips"])).component("fanGraphSection",(0,Oe.react2angular)((function(e){let{subQuestions:t}=e;const{t:n}=Dx(),i=t.some((e=>{var t;return(null===(t=e.metaculus_prediction)||void 0===t?void 0:t.full)&&null===e.resolution})),[r,o]=(0,ge.useState)(!0),[a,s]=(0,ge.useState)(!1),l=t.some((e=>e.has_my_predictions&&null===e.resolution));return(0,cv.jsxs)(cv.Fragment,{children:[(0,cv.jsx)("div",{className:"FanGraphSection-container",children:(0,cv.jsx)(OP,{subQuestions:t,showCp:r,showMp:a,showUp:l})}),(0,cv.jsxs)("div",{className:"group-prediction-toggle-wrapper",children:[l&&(0,cv.jsxs)("div",{className:"group-prediction-legend group-prediction-legend--player mr-20",children:[(0,cv.jsx)(Qx,{name:"graph",crop:13})," ",n("myPredictionLabel")]}),a&&l&&(0,cv.jsxs)("div",{className:"group-prediction-legend group-prediction-legend--metaculus",children:[(0,cv.jsx)(Qx,{name:"graph",crop:13})," ",n("metaculusPredictionLabel")]}),r&&l&&(0,cv.jsxs)("div",{className:"group-prediction-legend group-prediction-legend--community",children:[(0,cv.jsx)(Qx,{name:"graph",crop:13})," ",n("communityPredictionLabel")]}),(0,cv.jsx)(QP,{className:"modeless-theme ml-auto",active:a?"metaculus":"community",onClick:i?function(){s(!a),o(!r)}:void 0})]})]})}),["subQuestions"])).component("predictionLabelToggle",(0,Oe.react2angular)(QP,["active","onClick"])).component("predictionValueToggle",(0,Oe.react2angular)((function(e){let{active:t,className:n,onClick:i,value:r}=e;return(0,cv.jsx)(GP,{className:n,active:t,onClick:i,children:(0,cv.jsx)("span",{dangerouslySetInnerHTML:{__html:r}})})}),["active","onClick","value"])).component("questionCard",(0,Oe.react2angular)(ZP,["key","question","onRemove"])).component("conditionalPredictionTable",(0,Oe.react2angular)((function(e){let{parentQuestion:t,unconditionalQuestion:n,forecasts:{yes:i,no:r},selectedQuestionId:o,onSelectedQuestionChange:a}=e;return(0,cv.jsxs)("table",{className:"ConditionalPredictionTable",children:[(0,cv.jsx)("thead",{children:(0,cv.jsxs)("tr",{children:[(0,cv.jsx)("th",{className:"pr-8",children:(0,cv.jsx)("h4",{className:"ConditionalPredictionTable-heading",children:(0,cv.jsx)("a",{href:t.page_url,children:t.title_short})})}),(0,cv.jsx)("th",{className:"ConditionalPredictionTable-border-left pr-8 pl-16",children:(0,cv.jsx)("h4",{className:"ConditionalPredictionTable-heading",children:(0,cv.jsx)("a",{href:n.page_url,children:n.title_short})})})]})}),(0,cv.jsxs)("tbody",{children:[(0,cv.jsx)(XP,{questionId:i.questionId,isSelected:o===i.questionId,onSelectedQuestionChange:a,prediction:i.prediction,condition:"yes",resolution:i.resolution,hasChanged:i.hasChanged}),(0,cv.jsx)(XP,{questionId:r.questionId,isSelected:o===r.questionId,onSelectedQuestionChange:a,prediction:r.prediction,condition:"no",resolution:r.resolution,hasChanged:r.hasChanged})]})]})}),["parentQuestion","unconditionalQuestion","forecasts","selectedQuestionId","onSelectedQuestionChange"])).component("conditionalSummary",(0,Oe.react2angular)((function(e){let{parentTitle:t,parentUrl:n,yesQuestion:i,noQuestion:r,verticalOnSmallScreen:o}=e;const a=i.hasMetaculusPrediction()||r.hasMetaculusPrediction(),[s,l]=(0,ge.useState)(a?"metaculus":"community");if(i.isContinuousType)return null;function u(e){var t;const n="community"===s?null===(t=e.communityPrediction())||void 0===t?void 0:t.q2:e.metaculusPrediction();return null==n?null:100*n}function c(e){return vo("community"===s?e.displayCommunityPrediction(null):e.displayMetaculusPrediction(null))}function d(e){var t;const n=null===(t=e.playerPrediction())||void 0===t?void 0:t.x;return null==n?void 0:100*n}return(0,cv.jsxs)("div",{className:Vx("ConditionalSummary",{"ConditionalSummary-vertical-on-small-screen":o}),children:[n?(0,cv.jsx)("a",{className:"ConditionalSummary-condition-card",href:n,children:(0,cv.jsx)("h4",{className:"ConditionalSummary-condition-heading",children:t})}):(0,cv.jsx)("div",{className:"ConditionalSummary-condition-card",children:(0,cv.jsx)("h4",{className:"ConditionalSummary-condition-heading",children:t})}),(0,cv.jsxs)("div",{className:Vx("ConditionalSummary-conditionals",{"ConditionalSummary-conditionals-clickable":a}),onClick:a?function(e){e.preventDefault(),l("community"===s?"metaculus":"community")}:void 0,children:[(0,cv.jsxs)("div",{className:"ConditionalSummary-conditional",children:[(0,cv.jsx)("div",{className:"ConditionalSummary-conditional-arrow",children:(0,cv.jsx)("span",{className:"ConditionalSummary-conditional-label",children:"if yes"})}),(0,cv.jsx)(eO,{aggregatePercentage:u(i),aggregateFormatted:c(i),userPercentage:d(i),type:s})]}),(0,cv.jsxs)("div",{className:"ConditionalSummary-conditional",children:[(0,cv.jsx)("div",{className:"ConditionalSummary-conditional-arrow",children:(0,cv.jsx)("span",{className:"ConditionalSummary-conditional-label",children:"if no"})}),(0,cv.jsx)(eO,{aggregatePercentage:u(r),aggregateFormatted:c(r),userPercentage:d(r),type:s})]})]})]})}),["parentTitle","parentUrl","yesQuestion","noQuestion","verticalOnSmallScreen"])).component("conditionalTimeline",(0,Oe.react2angular)((function(e){let{parent:t,yesQuestion:n,noQuestion:i}=e;const{t:r}=Dx(),[o,a]=(0,ge.useState)(new Date),s=(0,ge.useRef)(null),l=n.hasMetaculusPrediction()||i.hasMetaculusPrediction(),[u,c]=(0,ge.useState)(l?"metaculus":"community"),d=!1,p=Boolean(n.playerPrediction()),h=Boolean(i.playerPrediction());(0,ge.useEffect)((()=>{const e=new Km(s.current,t,n,i,{hasYes:true,hasNo:true,hasCombined:d,aggregateType:u});return e.mouseLine.cb=a,e.mouseLine.cbLeave=()=>{a(new Date)},e.updateLineData(),e.display(),()=>e.cleanup()}),[t,n,i,true,true,d,u]);let f=0;function m(e){return null!=("community"===u?e.communityPrediction():e.metaculusPrediction())}function g(e){return e.resolve_time<o?[{t:"—"}]:"community"===u?e.displayCommunityPrediction(o):e.displayMetaculusPrediction(o)}return f+=n.predictionCount(o),f+=i.predictionCount(o),(0,cv.jsxs)(cv.Fragment,{children:[(0,cv.jsxs)("div",{className:"ConditionalTimeline-header",children:[(0,cv.jsx)("h3",{className:"ConditionalTimeline-heading",children:r("forecastTimelineHeading")}),(0,cv.jsxs)("div",{children:[r("totalPredictionsLabel")," ",(0,cv.jsx)("span",{className:"font-bold",children:oo(f)})]})]}),(0,cv.jsx)("div",{className:"ConditionalTimeline-toggle",children:(0,cv.jsx)(QP,{className:"ml-auto",active:u,onClick:function(e){e.preventDefault(),c("community"===u?"metaculus":"community")}})}),(0,cv.jsx)("svg",{className:"time-series-graph w-full",ref:s},u),(0,cv.jsx)("table",{className:"ConditionalTimeline-stats",children:(0,cv.jsxs)("tbody",{children:[(0,cv.jsxs)("tr",{children:[(0,cv.jsx)("th",{children:r("community"===u?"communityPredictionLabel":"metaculusPredictionLabel")}),m(n)&&(0,cv.jsxs)("td",{children:[(0,cv.jsxs)("span",{className:"ConditionalTimeline-stats-label ConditionalTimeline-stats-label-yes",children:["if Yes:"," "]}),(0,cv.jsx)("span",{className:"ConditionalTimeline-stats-value ConditionalTimeline-stats-value-aggregate",dangerouslySetInnerHTML:{__html:tO(g(n))}})]}),m(i)&&(0,cv.jsxs)("td",{children:[(0,cv.jsxs)("span",{className:"ConditionalTimeline-stats-label ConditionalTimeline-stats-label-no",children:["if No:"," "]}),(0,cv.jsx)("span",{className:"ConditionalTimeline-stats-value ConditionalTimeline-stats-value-aggregate",dangerouslySetInnerHTML:{__html:tO(g(i))}})]})]}),(p||h)&&(0,cv.jsxs)("tr",{className:"ConditionalTimeline-stats-user-prediction",children:[(0,cv.jsx)("th",{children:"My Prediction"}),p&&(0,cv.jsxs)("td",{children:[(0,cv.jsxs)("span",{className:"ConditionalTimeline-stats-label ConditionalTimeline-stats-label-yes",children:["if Yes:"," "]}),(0,cv.jsx)("span",{className:"ConditionalTimeline-stats-value ConditionalTimeline-stats-value-user",dangerouslySetInnerHTML:{__html:tO(n.displayPlayerPrediction(o))}})]}),h&&(0,cv.jsxs)("td",{children:[(0,cv.jsxs)("span",{className:"ConditionalTimeline-stats-label ConditionalTimeline-stats-label-no",children:["if No:"," "]}),(0,cv.jsx)("span",{className:"ConditionalTimeline-stats-value ConditionalTimeline-stats-value-user",dangerouslySetInnerHTML:{__html:tO(i.displayPlayerPrediction(o))}})]})]})]})}),(0,cv.jsxs)("div",{className:"ConditionalTimeline-legend",children:[d,(0,cv.jsxs)("div",{className:"ConditionalTimeline-legend-label",children:[(0,cv.jsx)("div",{className:"ConditionalTimeline-legend-line-icon ConditionalTimeline-legend-line-icon-yes"}),"Condition Resolves Yes"]}),(0,cv.jsxs)("div",{className:"ConditionalTimeline-legend-label",children:[(0,cv.jsx)("div",{className:"ConditionalTimeline-legend-line-icon ConditionalTimeline-legend-line-icon-no"}),"Condition Resolves No"]}),(0,cv.jsxs)("div",{className:"ConditionalTimeline-legend-label",children:[(0,cv.jsxs)("div",{className:"ConditionalTimeline-legend-user-icon",children:[(0,cv.jsx)("div",{className:"ConditionalTimeline-legend-user-icon-right"}),(0,cv.jsx)("div",{className:"ConditionalTimeline-legend-user-icon-inner"})]}),"My Predictions"]})]})]})}),["parent","yesQuestion","noQuestion"])).component("reactProjectMembersManagement",(0,Oe.react2angular)((function(e){let{projectId:t}=e;const[n,i]=(0,ge.useState)("email"),[r,o]=(0,ge.useState)(""),[a,s]=(0,ge.useState)({failed_invitations_already_member:[],failed_invitations_not_exists:[],invited_existing_users:[],invited_new_users:[]}),[l,u]=(0,ge.useState)([]);return(0,cv.jsxs)("section",{className:"main-container manage-project-permissions",children:[(0,cv.jsx)("h2",{children:"Invite Users to Project"}),(0,cv.jsxs)("div",{className:"content",children:["You can invite new members via their email addresses or by their usernames if they are already registered.",(0,cv.jsx)("form",{action:"",onSubmit:async function(e){e.preventDefault();const i="email"===n?"email":"username",o=r.split("\n").map((e=>({[i]:e,role:"predictor"})));try{const e="/api2/projects/".concat(t,"/invite-members/"),n=await Bx(e,o);if(n.ok)s(await n.json());else{const e=await n.json(),t=[];e.forEach((e=>Object.keys(e).map((n=>e[n].map((e=>t.push((0,cv.jsxs)("span",{children:[(0,cv.jsx)("strong",{children:n}),": ",e]})))))))),u(t)}}catch(e){alert("Something went wrong. Please try again later.")}},children:(0,cv.jsxs)("div",{className:"columns mt-16",children:[(0,cv.jsxs)("div",{className:"flex-grow mr-16",children:[(0,cv.jsxs)("div",{className:"radio-row",children:[(0,cv.jsx)(JP,{name:"input-type",value:"username",checked:"username"===n,onChange:e=>i(e),isSmall:!0,children:"Usernames"}),(0,cv.jsx)(JP,{name:"input-type",value:"email",checked:"email"===n,onChange:e=>i(e),isSmall:!0,children:"Email Addresses"})]}),(0,cv.jsxs)("div",{className:"field mb-16",children:[(0,cv.jsx)("textarea",{name:"users-to-invite",id:"users-to-invite",className:"textarea",value:r,onChange:e=>o(e.target.value)}),(0,cv.jsx)("div",{className:"help",children:"Multiple usernames can be added, separated by new lines."})]}),(0,cv.jsx)("button",{className:"button is-primary mt-16 mb-16",type:"submit",children:"Add Users to Project"}),(0,cv.jsxs)("div",{className:"microdetail-font",children:[a.failed_invitations_already_member.length>0&&(0,cv.jsxs)("div",{children:[(0,cv.jsxs)("strong",{children:[a.failed_invitations_already_member.length," ","user(s)"]})," ","was already member, so no action taken."]}),a.invited_existing_users.length>0&&(0,cv.jsxs)("div",{children:[(0,cv.jsxs)("strong",{children:[a.invited_existing_users.length," user(s)"]})," ","have been successfully added."]}),a.invited_new_users.length>0&&(0,cv.jsxs)("div",{children:[(0,cv.jsxs)("strong",{children:[a.invited_new_users.length," new user(s)"]})," ","have been invited."]}),a.failed_invitations_not_exists.map(((e,t)=>(0,cv.jsxs)("div",{className:"danger-color",children:[(0,cv.jsx)("strong",{children:e})," could not be added (user not found)"]},t))),l.map(((e,t)=>(0,cv.jsx)("div",{className:"danger-color",children:e},t)))]})]}),(0,cv.jsx)("div",{className:"flex-grow"})]})})]})]})}),["projectId"])).component("questionPickerModal",(0,Oe.react2angular)((function(e){let{...t}=e;return(0,cv.jsx)(fO,{client:zP,children:(0,cv.jsx)(tq,{...t})})}),["isOpen","title","queryParams","onClose","validatePastedQuestion","onSelectQuestion"])).component("questionStatusModal",(0,Oe.react2angular)((function(e){let{data:t,onClose:n}=e;const[i,r]=(0,ge.useState)(!1),[o,a]=(0,ge.useState)(""),[s,l]=(0,ge.useState)("");if((0,ge.useEffect)((()=>{a(uo(function(e,t){if(_i(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var n=t.years?Ei(t.years):0,i=t.months?Ei(t.months):0,r=t.weeks?Ei(t.weeks):0,o=t.days?Ei(t.days):0,a=t.hours?Ei(t.hours):0,s=t.minutes?Ei(t.minutes):0,l=t.seconds?Ei(t.seconds):0,u=Si(e),c=i||n?iq(u,i+12*n):u,d=o||r?nq(c,o+7*r):c,p=1e3*(l+60*(s+60*a));return new Date(d.getTime()+p)}(function(e){_i(1,arguments);var t=Si(e);return t.setSeconds(0,0),t}(new Date),{days:3})))}),[]),!t)return null;const u=uo(new Date(t.close_time)),c=()=>{r(!1),l(""),n()};return(0,cv.jsxs)(rq,{onClose:c,newTemplate:!1,children:[(0,cv.jsx)("h4",{children:(0,cv.jsx)("em",{children:"Accept or reject this question:"})}),(0,cv.jsx)("h3",{children:t.title}),(0,cv.jsxs)("div",{className:"field",children:[(0,cv.jsx)("label",{htmlFor:"publishTime",className:"label",children:"Opening Date"}),(0,cv.jsx)("div",{className:"control",children:(0,cv.jsx)("input",{type:"datetime-local",name:"publishTime",id:"publishTime",className:"input",onChange:e=>{a(e.target.value);const t=uo(new Date);e.target.value&&e.target.value<t?l("Opening date is in the past"):l("")},max:u,value:o,required:!0})}),s&&(0,cv.jsx)("div",{className:"help is-danger",children:s})]}),(0,cv.jsx)("button",{className:"btn _large _centered _bright",onClick:async function(){if(!o)return l("required field");if(o>=u)return l("Opening date must be before the closing date (".concat(lo(new Date(t.close_time)),")"));try{r(!0),await t.accept(new Date(o)),c()}catch(e){if(r(!1),(e=>{const t=e;return"object"==typeof(null==t?void 0:t.data)&&Object.values(t.data)[0]instanceof Array&&"string"==typeof Object.values(t.data)[0][0]})(e))return l("Server error".concat(1===Object.keys(e.data).length?"":"s",": ").concat(Object.values(e.data).join(", ")));l("Server or connection error")}},disabled:i,children:"Accept"}),(0,cv.jsx)("button",{className:"btn _large _centered _bright",onClick:async function(){try{r(!0),await t.reject(),c()}catch(e){l("Server or connection error")}},disabled:i,children:"Reject"}),(0,cv.jsx)("button",{className:"btn _large _centered _bright",onClick:async function(){try{r(!0),await t.delete(),c()}catch(e){l("Server or connection error")}},disabled:i,children:"Delete"}),(0,cv.jsxs)("ul",{children:[(0,cv.jsxs)("li",{children:[(0,cv.jsx)("strong",{children:"Accepted"})," questions will be marked as upcoming, and they'll be open to predictions at the Opening Date."]}),(0,cv.jsxs)("li",{children:[(0,cv.jsx)("strong",{children:"Rejected"})," questions will be marked as deferred, although that will only be apparent to moderators. They'll be moved to the bottom of the list when looking at soonest opening questions."]}),(0,cv.jsxs)("li",{children:[(0,cv.jsx)("strong",{children:"Deleted"})," questions will be removed from the questions list entirely, including for the authors. They will only be accessible to moderators via a direct URL."]})]})]})}),["data","onClose"])).component("latestPrediction",(0,Oe.react2angular)((function(e){let{question:t,shouldShowLatestPrediction:n,username:i,setShouldShowLatestPrediction:r}=e;const o=t.predictionFormatter||dv(t);return(0,cv.jsxs)("div",{className:"LatestPrediction",children:[(0,cv.jsx)(lq,{onChange:e=>r(e.target.checked),checked:n,children:"Include your latest prediction in this comment"}),n&&(0,cv.jsx)(oq,{username:i,prediction:t.playerPrediction(),formatter:o})]})}),["question","shouldShowLatestPrediction","username","setShouldShowLatestPrediction"])).component("latestPredictionBox",(0,Oe.react2angular)(oq,["username","prediction","formatter"])).component("editCommentText",(0,Oe.react2angular)((function(e){let{edits:t}=e;if(t&&t.length>0){const e=t[t.length-1];return(0,cv.jsx)("div",{className:"EditedCommentText",children:"edited by ".concat(e.username," on ").concat(lo(Vm(e.t)))})}return null}),["edits"])).component("searchOptions",(0,Oe.react2angular)((function(e){let{setQuestionList:t,setLoading:n,setNextPage:i,setIsError:r}=e;const o=window.metacData.canViewPending,a=To.isAuthenticated,[s,l]=(0,ge.useState)(uq),[u,c]=(0,ge.useState)(""),d=(0,ge.useRef)();(0,ge.useEffect)((()=>{let e=!1;return Ux("/api2/categories/").then((e=>e.json())).then((t=>{if(e)return;const n=t.results.map((e=>({id:e.id,name:e.short_name,long_name:cq(e),value:!1})));n.sort();const i=structuredClone(p),r=i.find((e=>"category"===e.id));r&&(r.options=n);const[o,a,s]=function(e){var t;const n=new URLSearchParams(window.location.search),i=n.get("search"),r=null!==(t=n.get("order_by"))&&void 0!==t?t:void 0;let o="";if(null!==i)for(const t of i.split(" "))if(t.startsWith("include:")){const n=e.find((e=>"category"===e.id)),i=t.split(":")[1];if(n){const e=n.options.find((e=>e.id===i));e&&(e.value=!0)}for(const t of e)if("category"===t.id)for(const e of t.options)e.id===i&&(e.value=!0)}else if(t.startsWith("author:")){const n=t.split(":")[1],i=e.find((e=>"author"===e.id));i&&i.options.push({id:n,name:n,value:!0})}else o+=t+" ";for(const t of e)if("participation"===t.id)for(const e of t.options)n.has(e.id.toString())&&(e.value=!0);else if("username"===t.id){const t=n.get("username"),i=e.find((e=>"username"===e.id));t&&i&&t.split(" ").forEach((e=>{i.options.push({id:e,name:"@"+e,value:!0})}))}else if("chip"===t.selectorType)for(const e of t.options)n.has(t.id.toString())&&n.get(t.id.toString())===e.id&&(e.value=!0);return[o.trim(),Kk(e),r]}(i);s&&l(s),c(o),h(a)})),()=>{e=!0}}),[]);const[p,h]=(0,ge.useState)([{id:"type",title:"Content Type",selectorType:"chip",radioMode:!0,options:[{id:"forecast",name:"Question",value:!1},{id:"discussion",name:"Discussion",value:!1},{id:"notebook",name:"Notebook",value:!1},{id:"claim",name:"Public Figure",value:!1}]},{id:"forecast_type",title:"Question Type",selectorType:"chip",hidden:!0,radioMode:!1,options:[{id:"binary",name:"Binary",value:!1},{id:"numerical",name:"Numerical",value:!1},{id:"date_range",name:"Date",value:!1},{id:"group",name:"Group",value:!1},{id:"conditional_group",name:"Conditional",value:!1}]},{id:"status",title:"Question Status",selectorType:"chip",hidden:!0,radioMode:!1,options:[{id:"open",name:"Open",value:!1},{id:"closed",name:"Closed",value:!1},{id:"resolved",name:"Resolved",value:!1},{id:"pending",name:"Pending",value:!1},{id:"draft",name:"Draft",value:!1},{id:"upcoming",name:"Upcoming",value:!1},{id:"rejected",name:"Deferred",value:!1},{id:"pending_resolution",name:"Pending Resolution",value:!1}]},{id:"category",title:"Category",selectorType:"dropdown",radioMode:!1,options:[]},{id:"username",title:"Question Author",selectorType:"text",radioMode:!1,options:[]},{id:"participation",title:"My Participation",selectorType:"chip",radioMode:!0,hidden:!a,options:[{id:"guessed_by",name:"Predicted",value:!1},{id:"not_guessed_by",name:"Not Predicted",value:!1},{id:"upvoted_by",name:"Upvoted",value:!1},{id:"commented_by",name:"Moderating",value:!1,hidden:!o}]},{id:"visibility",title:"Visibility",radioMode:!0,selectorType:"chip",options:[{id:"public",name:"Public",value:!1},{id:"private",name:"Private",value:!1}]}]),f=e=>{e=Kk(e),h(e),m(u,e,s)},m=(e,o,a)=>{var s;let u=a;n(!0),t([]),e?u="-rank":"-rank"===u&&(u=uq);const c=((e,t,n)=>{var i;const r=new URLSearchParams(Yk),o=null===(i=window.metacData.user)||void 0===i?void 0:i.id;let a=e;for(const e of t)if("category"===e.id)e.options.forEach((e=>{e.value&&(a+=" include:"+e.id)}));else if("participation"===e.id){if(o)for(const t of e.options)t.value&&r.set(t.id.toString(),o.toString())}else{const t=e.options.filter((e=>e.value)).map((e=>e.id.toString())).join(" ");t&&r.set(e.id.toString(),t)}return r.set("order_by",n),"last_prediction_time"!==n&&"-last_prediction_time"!==n||!o||r.set("guessed_by",o.toString()),a&&r.set("search",a.trim()),r})(e,o,u);null===(s=d.current)||void 0===s||s.abort();const p=new AbortController;d.current=p,(e=>{const t=new URL(window.location.href);t.search=e.toString(),window.history.replaceState({},"",t.toString())})(c),l(u),r(!1),fetch("/api2/questions/?".concat(c.toString()),{method:"GET",signal:p.signal}).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((e=>{t(e.results.map((e=>Ob(e)))),i(e.next),n(!1),d.current=void 0})).catch((e=>{"AbortError"!==(null==e?void 0:e.name)&&(n(!1),r(!0),d.current=void 0)}))},g=(0,ge.useMemo)((()=>p.flatMap(((e,t)=>e.options.map(((e,n)=>({...e,filterIndex:t,optionIndex:n}))))).filter((e=>{let{value:t}=e;return t}))),[p]),v=e=>{let{filterIndex:t,optionIndex:n}=e;const i=structuredClone(p);i[t].options[n].value=!1,f(i)},y=e=>{l(e),m(u,p,e)};return(0,cv.jsxs)("div",{children:[(0,cv.jsxs)("div",{className:"SearchOptions-box",children:[(0,cv.jsx)("div",{className:"SearchOptions-search",children:(0,cv.jsx)(CS,{value:u,onChange:e=>c(e.target.value),onClear:()=>c(""),onSubmit:()=>m(u,p,s),placeholder:"search questions...",className:"bordered"})}),(0,cv.jsxs)("div",{className:"SearchOptions-filter",children:[(0,cv.jsx)("div",{className:"SearchOptions-main-sort-options",children:[{name:"Hot",id:"-activity",className:"Chip-left"},{name:"Movers",id:"movers",className:"Chip-center"},{name:"New",id:"-publish_time",className:"Chip-right"}].map((e=>(0,cv.jsx)(dk,{className:e.className,active:s===e.id,onClick:()=>y(e.id),children:e.name},e.id)))}),a&&(0,cv.jsxs)("div",{className:"hidden-order SearchOptions-my-sort-options",children:[(0,cv.jsx)("span",{className:"SearchOptions-label",children:"My predictions: "}),[{name:"Oldest",id:"last_prediction_time",className:"Chip-left"},{name:"Newest",id:"-last_prediction_time",className:"Chip-center"},{name:"Divergence",id:"divergence",className:"Chip-right"}].map((e=>(0,cv.jsx)(dk,{className:e.className,active:s===e.id,onClick:()=>y(e.id),children:e.name},e.id)))]}),(0,cv.jsxs)("div",{className:"SearchOptions-more",children:[(0,cv.jsx)(xS,{onChange:e=>y(e),options:pq,value:"More",active:dq(pq.find((e=>e.id===s)))}),(0,cv.jsx)(nS,{realTime:!0,radioMode:!0,title:"Filter",value:p,onSubmit:f,panelClassName:"SearchOptions-overlay"})]})]})]}),g.length>0&&(0,cv.jsx)("div",{className:"Tournaments-active-filters",children:g.map((e=>{let{name:t,filterIndex:n,optionIndex:i}=e;return(0,cv.jsx)(dk,{onDelete:()=>v({filterIndex:n,optionIndex:i}),onClick:()=>v({filterIndex:n,optionIndex:i}),children:t},t)}))})]})}),["setQuestionList","setLoading","setNextPage","setIsError"])).component("reaffirmQuestionModal",(0,Oe.react2angular)((e=>{const[t,n]=(0,ge.useState)(!0);return(0,cv.jsx)(KO,{className:"reaffirm-modal-wrapper",open:e.isOpen,onClose:e.onClose,children:(0,cv.jsxs)(KO.Panel,{className:"modal-box",children:[(0,cv.jsx)(KO.Title,{className:"title",children:"Reaffirm Prediction"}),(0,cv.jsx)("div",{className:"close-wrapper",children:(0,cv.jsx)(Qx,{name:"remove",onClick:e.onClose,className:"modal-close-icon"})}),(0,cv.jsx)("p",{className:"dialog-text-content",children:"Are you sure you would like to reaffirm your prediction?"}),(0,cv.jsxs)("div",{className:"checkbox-row",onClick:()=>n(!t),children:[t&&(0,cv.jsx)("svg",{"ng-if":"!checked",width:"16",height:"16",children:(0,cv.jsx)("path",{d:"M0.888889 0H15.1111C15.3469 0 15.573 0.0936505 15.7397 0.260349C15.9064 0.427048 16 0.653141 16 0.888889V15.1111C16 15.3469 15.9064 15.573 15.7397 15.7397C15.573 15.9064 15.3469 16 15.1111 16H0.888889C0.653141 16 0.427048 15.9064 0.260349 15.7397C0.0936505 15.573 0 15.3469 0 15.1111V0.888889C0 0.653141 0.0936505 0.427048 0.260349 0.260349C0.427048 0.0936505 0.653141 0 0.888889 0ZM1.77778 1.77778V14.2222H14.2222V1.77778H1.77778Z",fill:"currentColor"})}),!t&&(0,cv.jsx)("svg",{"ng-if":"checked",width:"16",height:"16",children:(0,cv.jsx)("path",{d:"M0.888889 0H15.1111C15.3469 0 15.573 0.0936505 15.7397 0.260349C15.9064 0.427048 16 0.653141 16 0.888889V15.1111C16 15.3469 15.9064 15.573 15.7397 15.7397C15.573 15.9064 15.3469 16 15.1111 16H0.888889C0.653141 16 0.427048 15.9064 0.260349 15.7397C0.0936505 15.573 0 15.3469 0 15.1111V0.888889C0 0.653141 0.0936505 0.427048 0.260349 0.260349C0.427048 0.0936505 0.653141 0 0.888889 0ZM1.77778 1.77778V14.2222H14.2222V1.77778H1.77778ZM7.11378 11.5556L3.34222 7.784L4.59911 6.52711L7.11378 9.04178L12.1413 4.01333L13.3991 5.27022L7.11378 11.5556Z",fill:"currentColor"})}),(0,cv.jsx)("span",{children:"Do not ask again"})]}),(0,cv.jsxs)("div",{className:"buttons-row",children:[(0,cv.jsx)("button",{onClick:e.onCancel,className:"button is-secondary",children:"Cancel"}),(0,cv.jsx)("button",{onClick:()=>{e.onReaffirm(t),n(!0)},className:"button is-primary",children:"Reaffirm Prediction"})]})]})})}),["isOpen","onClose","onCancel","onReaffirm"]))}()}();
